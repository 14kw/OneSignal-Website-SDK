{"version":3,"sources":["webpack:///OneSignalSDK.js","webpack:///webpack/bootstrap 1f2e01854308a37def4d","webpack:///./src/entry.js","webpack:///./src/vars.js","webpack:///./src/utils.js","webpack:///./~/loglevel/lib/loglevel.js","webpack:///./src/environment.js","webpack:///./src/sdk.js?dfb0","webpack:///./src/sdk.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/string.js","webpack:///./src/api.js","webpack:///./src/limitStore.js","webpack:///./src/events.js","webpack:///./src/bell/bell.js","webpack:///./~/bowser/bowser.js","webpack:///./src/bell/AnimatedElement.js","webpack:///./src/bell/ActiveAnimatedElement.js","webpack:///./~/object-assign/index.js","webpack:///./src/bell/Launcher.js","webpack:///./src/bell/Badge.js","webpack:///./src/bell/Button.js","webpack:///./src/bell/Message.js","webpack:///./src/bell/Dialog.js","webpack:///./src/bell/bell.scss?18cf","webpack:///./src/bell/bell.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/bell/bell.svg","webpack:///./src/database.js","webpack:///./~/swivel/swivel.js","webpack:///./~/swivel/page.js","webpack:///./~/atoa/atoa.js","webpack:///./~/swivel/serialization.js","webpack:///./~/contra/emitter.js","webpack:///./~/contra/debounce.js","webpack:///./~/ticky/ticky-browser.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/process/browser.js","webpack:///./~/swivel/worker.js","webpack:///./src/ServiceWorker.js?20f8","webpack:///./src/ServiceWorker.js","webpack:///./src/cache-polyfill.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_vars","_environment","_environment2","isBrowser","OneSignal","predefinedOneSignalPushes","_process_pushes","isServiceWorker","Object","defineProperty","value","API_URL","HOST_URL","PROD_HOST","DEV_FRAME_HOST","DEV_HOST","undefined","_utils","isDev","_typeof","Symbol","constructor","isArray","variable","prototype","toString","getHumanizedTimeDuration","timeDurationInMilliseconds","addPluralSuffix","number","duration","Math","floor","years","days","hours","minutes","seconds","isPushNotificationsSupported","chromeVersion","navigator","appVersion","match","isSupportedFireFox","isSupportedSafari","test","platform","parseInt","substring","isBrowserSafari","safariVersion","fireFoxVersion","userAgent","isBrowserFirefox","getFirefoxVersion","removeDomElement","selector","els","document","querySelectorAll","length","i","parentNode","removeChild","addDomElement","targetSelectorOrElement","addOrder","elementHtml","querySelector","insertAdjacentHTML","Error","clearDomElementChildren","element","firstChild","addCssClass","cssClass","classList","add","removeCssClass","remove","hasCssClass","contains","on","event","task","_loglevel2","error","addEventListener","once","manualDestroy","arguments","taskWrapper","internalTaskFunction","e","destroyEventListener","removeEventListener","type","off","getConsoleStyle","style","delay","durationMs","Promise","resolve","setTimeout","nothing","when","condition","promiseIfTrue","promiseIfFalse","guid","replace","r","crypto","getRandomValues","Uint8Array","v","indexOfAble","indexOf","trimUndefined","object","property","hasOwnProperty","_loglevel","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","root","definition","log","this","realMethod","methodName","console","undefinedType","bindMethod","noop","method","bind","Function","apply","enableLoggingWhenConsoleArrives","level","loggerName","replaceLoggingMethods","logMethods","methodFactory","defaultMethodFactory","Logger","name","defaultLevel","factory","persistLevelIfPossible","levelNum","levelName","toUpperCase","window","localStorage","storageKey","ignore","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","exec","slice","self","levels","currentLevel","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setLevel","persist","setDefaultLevel","enableAll","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","logger","_log","noConflict","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","Environment","getEnv","WorkerLocation","SERVICE_WORKER","top","href","POPUP","HOST","IFRAME","isHost","isPopup","isIframe","get","global","fetch","_interopRequireWildcard","newObj","_api","_limitStore","_limitStore2","_events","_events2","_bell","_bell2","_database","_database2","_bowser","Browser","_objectAssign","_objectAssign2","_swivel","_swivel2","_VERSION","_API_URL","_app_id","_tagsToSendOnRegister","_notificationOpenedCallbacks","_idsAvailable_callback","_defaultLaunchURL","_initOptions","_httpRegistration","_main_page_port","_isNotificationEnabledCallback","_subscriptionSet","_initOneSignalHttp","_sessionIframeAdded","_useHttpMode","_windowWidth","_windowHeight","_isUninitiatedVisitor","_isNewVisitor","_channel","initialized","notifyButton","store","environment","database","browser","swivel","SERVICE_WORKER_UPDATER_PATH","SERVICE_WORKER_PATH","SERVICE_WORKER_PARAM","EVENTS","CUSTOM_PROMPT_CLICKED","NATIVE_PROMPT_PERMISSIONCHANGED","SUBSCRIPTION_CHANGED","WELCOME_NOTIFICATION_SENT","INTERNAL_SUBSCRIPTIONSET","SDK_INITIALIZED","_sendToOneSignalApi","url","action","inData","callback","failedCallback","debug","contents","headers","Content-type","body","JSON","stringify","then","status","response","reject","statusText","json","jsonData","_getLanguage","language","_getPlayerId","_getPlayerId_gotUserId","result","_registerWithOneSignal","appId","registrationId","deviceType","_registerWithOneSignal_GotUserId","userIdResult","_getNotificationTypes","notif_types","requestUrl","app_id","device_type","timezone","Date","getTimezoneOffset","device_model","device_os","version","sdk","notification_types","identifier","put","registeredCallback","responseJSON","sessionStorage","setItem","_sendUnsentTags","userId","curr_callback","pop","_getNotificationPermission","permission","creator","opener","parent","_safePostMessage","idsAvailable","from","origin","httpNativePromptPermissionChanged","close","sendTags","setDefaultNotificationUrl","setDefaultIcon","icon","setDefaultTitle","title","onCustomPromptClicked","onNativePromptChanged","_checkTrigger_eventSubscriptionChanged","_sendSelfNotification","message","data","URL","sendNotification","en","warn","_closeAllNotifications","serviceWorker","getRegistration","registration","active","emit","_onSubscriptionChanged","detail","welcome_notification_opts","welcome_notification_disabled","unopenableWelcomeNotificationUrl","trigger","_onDbValueRetrieved","_onDbValueSet","info","_onInternalSubscriptionSet","newSubscriptionValue","_onSdkInitialized","_storeInitialValues","at","handler","context","capitalize","_fireNotificationOpenedCallbacks","bell","create","_onDatabaseRebuilt","_checkTrigger_nativePermissionChanged","safari_web_id","currentPermission","lastPermission","getLast","_triggerEvent_nativePromptPermissionChanged","permissions","ids","lastId","currentId","subscriptionStates","lastSubscriptionState","currentSubscriptionState","newSubscriptionState","lastTriggerTimes","now","currentTime","lastTriggerTime","elapsedTimeSeconds","lastEventStates","currentState","lastState","shouldNotTriggerEvent","_triggerEvent_subscriptionChanged","_installNativePromptPermissionChangedHook","_usingNativePermissionHook","query","permissionStatus","onchange","permissionBeforePrompt","getFirst","init","options","path","safari","REBUILT","RETRIEVED","SET","_supportsDirectPermission","subdomainName","persistNotification","webhookPromises","webhookOptions","webhooks","forEach","push","cors","all","s","createElement","setAttribute","head","appendChild","readyState","_internalInit","_internalInit_GotAppRegistrationSubscriptionIds","appIdResult","registrationIdResult","subscriptionResult","clear","rebuild","getItem","Notification","autoRegister","visibilityState","_sessionInit","registerForPushNotifications","fromRegisterFor","_initHttp","continuePressed","setSubscription","messageChannel","MessageChannel","port1","onmessage","initOptions","defaultUrl","defaultTitle","defaultIcon","parent_url","registerForPushNotifications_GotNotificationOpened","notificationOpenedResult","openedNotification","getNotificationPermission","_getSubdomainState","curState","currentNotificationPermission","remoteGetNotificationPermission","safariWebId","promiseId","remoteGetNotificationPermissionResponse","setSubdomainState","setSubscriptionComplete","remoteGetDbValue","table","oneSignalInitPageReady","port2","_initSaveState","search","player_id","register","_enableNotifications","_registerError","state","notifPermssion","subscriptionSet","isPushEnabled","protocol","host","_getPromptOptionsQueryString","message_localization_opts","message_localization_opts_str","message_localization_params","encoded_value","storeValue","_getSubscription","currentSubscription","hostPageProtocol","dualScreenLeft","screenLeft","screen","left","dualScreenTop","screenTop","thisWidth","innerWidth","documentElement","clientWidth","width","thisHeight","innerHeight","clientHeight","height","childWidth","childHeight","childWindow","open","focus","_addSessionIframe","pushNotification","requestPermission","notificationPermissionAfterRequest","deviceToken","toLowerCase","modalPrompt","isPushNotificationsEnabled","pushEnabled","innerHTML","iframeStyle","getElementsByTagName","iframeNode","className","cssText","src","getElementById","_registerForW3CPush","_registerForW3CPush_GotRegistrationId","serviceWorkerRegistration","sw_path","_registerServiceWorker","previousWorkerUrl","scriptURL","versionResult","installing","full_sw_and_path","node","display","err","existingServiceWorkerRegistration","ServiceWorkerRegistration","ready","_subscribeForPush","isHttpsProtocol","noSubdomain","uid","_iframePort","postMessage","_triggerEvent_customPromptClicked","clickResult","recentPermissions","to","updateIfIdentical","promise","_triggerEvent_dbValueRetrieved","_triggerEvent_dbValueSet","_triggerEvent_internalSubscriptionSet","notificationPermissionBeforeRequest","pushManager","subscribe","userVisibleOnly","subscription","_subscribeForPush_GotAppId","subscriptionId","endpoint","RegExp","sendTag","jsonKeyValue","jsonPair","sendTags_GotUserId","tags","resultObj","_obj","deleteTag","deleteTags","keyArray","_listener_receiveMessage","receiveMessage","eventData","ports","_fireNotificationEnabledCallback","promiseResolve","remoteEvent","_data","remoteEventData","remoteTriggerEnv","httpsPromptAccepted","elem","httpsPromptCanceled","httpPromptAccepted","httpPromptCanceled","addListenerForNotificationOpened","newNotificationPermission","getIdsAvailable","getIdsAvailable_GotUserRegistrationIds","results","getTags","notificationType","newSubscription","apiCall","targetOrigin","receiver","tOrigin","startsWith","queryDict","substr","split","item","validPreURLRegex","array","functionName","shift","_LOGGING","set","logLevel","LOGGING","normalizeName","String","normalizeValue","Headers","map","append","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","rejected","text","decode","parse","normalizeMethod","upcased","methods","Request","input","credentials","mode","referrer","form","trim","bytes","join","decodeURIComponent","xhr","pairs","getAllResponseHeaders","header","Response","bodyInit","ok","list","values","getAll","has","thisArg","clone","redirectStatuses","redirect","RangeError","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","withCredentials","responseType","setRequestHeader","send","polyfill","charAt","cache","playerIds","titles","params","include_player_ids","isAnyWeb","headings","warnings","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","next","done","warning","LimitStore","LIMIT","isEmpty","SILENT_EVENTS","RETRIGGER_REMOTE_EVENTS","Event","eventName","displayData","env","CustomEvent","bubbles","cancelable","dispatchEvent","_AnimatedElement","_AnimatedElement2","_ActiveAnimatedElement","_ActiveAnimatedElement2","_Launcher","_Launcher2","_Badge","_Badge2","_Button","_Button2","_Dialog","_Dialog2","_Message","_Message2","logoSvg","Bell","_this","_ref","_ref$enable","enable","_ref$size","size","_ref$position","position","_ref$theme","theme","_ref$showLauncherAfte","showLauncherAfter","_ref$showBadgeAfter","showBadgeAfter","_ref$text","tip.state.unsubscribed","tip.state.subscribed","tip.state.blocked","message.prenotify","message.action.subscribing","message.action.subscribed","message.action.resubscribed","message.action.unsubscribed","dialog.main.title","dialog.main.button.subscribe","dialog.main.button.unsubscribe","dialog.blocked.title","dialog.blocked.message","_ref$prenotify","prenotify","_ref$showCredit","showCredit","substituteText","STATES","UNINITIALIZED","SUBSCRIBE_CLICK","dialog","subscribeButton","disabled","hide","TYPES","MESSAGE","TIMEOUT","launcher","clearIfWasInactive","inactivate","UNSUBSCRIBE_CLICK","unsubscribeButton","activate","HOVERING","hovering","activateIfInactive","shown","contentType","queued","dequeue","msg","content","QUEUED","getTipForState","TIP","show","HOVERED","hidden","waitUntilShown","wasInactive","isSubscribed","setState","SUBSCRIBED","UNSUBSCRIBED","updateState","browserName","tKey","TEXT_SUBS","tValue","zValue","STATE_CHANGED","LAUNCHER_CLICK","BELL_CLICK","BLOCKED","prompt.native.grant","chrome","firefox","showDialogProcedure","_this2","wasDialogClicked","inactivateIfWasInactive","_this3","container","button","resizeTo","resize","enqueue","badge","_this4","isEnabled","newState","_launcher","_button","_badge","_message","_dialog","detect","ua","getFirstMatch","regex","getSecondMatch","iosdevice","likeAndroid","android","chromeBook","edgeVersion","versionIdentifier","tablet","mobile","opera","t","yandexbrowser","windowsphone","msedge","msie","sailfish","seamonkey","firefoxos","silk","phantom","blackberry","webos","touchpad","bada","tizen","webkit","gecko","ios","osVersion","osversion","osMajorVersion","a","x","bowser","browserList","browserItem","_detect","AnimatedElement","showClass","hideClass","targetTransitionEvents","nestedContentSelector","transitionCheckTimeout","SHOWING","timerId","activeState","destroyListenerFn","propertyName","clearTimeout","SHOWN","HIDING","HIDDEN","waitUntilHidden","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_AnimatedElement3","ActiveAnimatedElement","activeClass","inactiveClass","getPrototypeOf","inactive","ACTIVATING","ACTIVE","INACTIVATING","INACTIVE","waitUntilActive","waitUntilInactive","_this5","toObject","val","propIsEnumerable","propertyIsEnumerable","assign","source","symbols","getOwnPropertySymbols","_get","desc","getOwnPropertyDescriptor","getter","Launcher","_ActiveAnimatedElemen","Badge","increment","isNaN","badgeNumber","decrement","Button","events","mouse","onHovering","onTap","onHovered","onEndTap","onClick","pulse","setSubscriptionState","unsubscribed","subscribed","blocked","Message","notify","dequeuedMessage","numMessagesLeft","Dialog","subscribeButtonId","unsubscribeButtonId","notificationIcons","getNotificationIcons","icons","errors","ex","getPlatformNotificationIcon","updateBellLauncherDialogBody","currentSetSubscription","footer","notificationIconHtml","imageUrl","buttonHtml","subscribeButtonSelectorId","unsubscribeButtonSelectorId","instructionsHtml","update","locals","hot","accept","newContent","require","dispose","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","insertBefore","nextSibling","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","createObjectURL","revokeObjectURL","btoa","updateLink","applyToTag","updateStyle","index","styleSheet","replaceText","cssNode","createTextNode","childNodes","unescape","oldSrc","memoize","fn","memo","isOldIE","newList","mayRemove","textStore","replacement","filter","Boolean","Database","getInstance","_instance","indexedDB","onsuccess","redundantDb","onupgradeneeded","db","createObjectStore","keyPath","onversionchange","transaction","objectStore","errorCode","jsonResult","cursor","openCursor","cursorResult","REMOVED","printIds","_wipeBetaSettings","complain","page","worker","api","broadcast","createChannel","selfed","selfish","internalEmitter","postToWorker","payload","serialization","parsePayload","atoa","postFromWorker","broadcastHandler","__broadcast","emission","emitter","channel","controller","n","Array","serializeError","deserializeError","concat","debounce","thing","opts","evt","_once","et","args","emitterSnapshot","ctx","listen","async","ticky","run","setImmediate","si","tick","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","immediateIds","nextImmediateId","setInterval","clearInterval","timeout","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","onTimeout","_onTimeout","onNextTick","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","len","Item","fun","process","argv","versions","addListener","removeListener","removeAllListeners","binding","cwd","chdir","dir","umask","postFromPage","reply","replyToPage","broadcastToPages","gotClients","clients","emitToClient","client","matchAll","replyTo","replyToClient","clientId","wasClientFound","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","_s","ServiceWorker","onPushReceived","onNotificationClicked","onServiceWorkerInstalled","onServiceWorkerActivated","onOurSubdomain","onFetch","onMessageReceived","getNotifications","notifications","notification","waitUntil","extra","_getTitle","defaultIconResult","_getLastNotifications","notificationEventPromiseFns","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","custom","alert","additionalData","u","launchURL","showNotification","requireInteraction","tag","executeWebhooks","reduce","isServerCorsEnabled","corsResult","webhookUrlQuery","postData","heading","fetchOptions","X-OneSignal-Event","Content-Type","notificationData","defaultUrlResult","defaultLaunchUrl","clientList","scope","launchURLObject","openWindow","_results","opened","pathname","serviceWorkerVersionType","caches","addAll","CACHE_URLS","skipWaiting","claim","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","cacheUrl","respondWith","_results2","defaultTitleResult","pageTitleResult","OneSignalWorker","Cache","requests","NetworkError","code","sequence","scheme","responses"],"mappings":"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","file":"OneSignalSDK.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (_environment2.default.isBrowser()) {\n\t  // We're running in the host page, iFrame of the host page, or popup window\n\t  // Load OneSignal's web SDK\n\t  if (typeof OneSignal !== \"undefined\") var predefinedOneSignalPushes = OneSignal;\n\t\n\t  __webpack_require__(5);\n\t\n\t  if (predefinedOneSignalPushes) OneSignal._process_pushes(predefinedOneSignalPushes);\n\t} else if (_environment2.default.isServiceWorker()) {\n\t  // We're running as the service worker\n\t  __webpack_require__(38);\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.API_URL = exports.HOST_URL = exports.PROD_HOST = exports.DEV_FRAME_HOST = exports.DEV_HOST = undefined;\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar DEV_HOST = exports.DEV_HOST = 'https://127.0.0.1:3001';\n\tvar DEV_FRAME_HOST = exports.DEV_FRAME_HOST = 'https://localhost:3001';\n\tvar PROD_HOST = exports.PROD_HOST = 'https://onesignal.com';\n\tvar HOST_URL = exports.HOST_URL = (0, _utils.isDev)() ? DEV_HOST : PROD_HOST;\n\tvar API_URL = exports.API_URL = ((0, _utils.isDev)() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\t\n\t// ⬸ ⤑\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.isArray = isArray;\n\texports.getHumanizedTimeDuration = getHumanizedTimeDuration;\n\texports.isDev = isDev;\n\texports.isPushNotificationsSupported = isPushNotificationsSupported;\n\texports.isBrowserSafari = isBrowserSafari;\n\texports.isSupportedFireFox = isSupportedFireFox;\n\texports.isBrowserFirefox = isBrowserFirefox;\n\texports.getFirefoxVersion = getFirefoxVersion;\n\texports.isSupportedSafari = isSupportedSafari;\n\texports.removeDomElement = removeDomElement;\n\texports.addDomElement = addDomElement;\n\texports.clearDomElementChildren = clearDomElementChildren;\n\texports.addCssClass = addCssClass;\n\texports.removeCssClass = removeCssClass;\n\texports.hasCssClass = hasCssClass;\n\texports.on = on;\n\texports.once = once;\n\texports.off = off;\n\texports.getConsoleStyle = getConsoleStyle;\n\texports.delay = delay;\n\texports.nothing = nothing;\n\texports.when = when;\n\texports.guid = guid;\n\texports.contains = contains;\n\texports.trimUndefined = trimUndefined;\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction isArray(variable) {\n\t  return Object.prototype.toString.call(variable) === '[object Array]';\n\t}\n\t\n\tfunction getHumanizedTimeDuration(timeDurationInMilliseconds) {\n\t  function addPluralSuffix(number) {\n\t    return number > 1 ? 's' : '';\n\t  }\n\t  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\t\n\t  var years = Math.floor(duration / 31536000);\n\t  if (years) return years + ' year' + addPluralSuffix(years);\n\t\n\t  var days = Math.floor((duration %= 31536000) / 86400);\n\t  if (days) return days + ' day' + addPluralSuffix(days);\n\t\n\t  var hours = Math.floor((duration %= 86400) / 3600);\n\t  if (hours) return hours + ' hour' + addPluralSuffix(hours);\n\t\n\t  var minutes = Math.floor((duration %= 3600) / 60);\n\t  if (minutes) return minutes + ' minute' + addPluralSuffix(minutes);\n\t\n\t  var seconds = duration % 60;\n\t  if (seconds) return seconds + ' second' + addPluralSuffix(seconds);\n\t\n\t  return 'just now';\n\t}\n\t\n\tfunction isDev() {\n\t  return (false);\n\t}\n\t\n\tfunction isPushNotificationsSupported() {\n\t  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\t\n\t  if (isSupportedFireFox()) return true;\n\t\n\t  if (isSupportedSafari()) return true;\n\t\n\t  // Chrome is not found in appVersion.\n\t  if (!chromeVersion) return false;\n\t\n\t  // Microsoft Edge\n\t  if (navigator.appVersion.match(/Edge/)) return false;\n\t\n\t  // Android Chrome WebView\n\t  if (navigator.appVersion.match(/ wv/)) return false;\n\t\n\t  // Opera\n\t  if (navigator.appVersion.match(/OPR\\//)) return false;\n\t\n\t  // The user is on iOS\n\t  if (/iPad|iPhone|iPod/.test(navigator.platform)) return false;\n\t\n\t  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n\t}\n\t\n\tfunction isBrowserSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  return safariVersion != null;\n\t}\n\t\n\tfunction isSupportedFireFox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n\t  return false;\n\t}\n\t\n\tfunction isBrowserFirefox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  return fireFoxVersion != null;\n\t}\n\t\n\tfunction getFirefoxVersion() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2));else return -1;\n\t}\n\t\n\tfunction isSupportedSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  if (safariVersion == null) return false;\n\t  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) return false;\n\t  return parseInt(safariVersion[1]) > 6;\n\t}\n\t\n\tfunction removeDomElement(selector) {\n\t  var els = document.querySelectorAll(selector);\n\t  if (els.length > 0) {\n\t    for (var i = 0; i < els.length; i++) {\n\t      els[i].parentNode.removeChild(els[i]);\n\t    }\n\t  }\n\t}\n\t\n\tfunction addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction clearDomElementChildren(targetSelectorOrElement) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var element = document.querySelector(targetSelectorOrElement);\n\t    while (element.firstChild) {\n\t      element.removeChild(element.firstChild);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    while (targetSelectorOrElement.firstChild) {\n\t      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n\t    }\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction addCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction removeCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction hasCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') return document.querySelector(targetSelectorOrElement).classList.contains(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') return targetSelectorOrElement.classList.contains(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction on(targetSelectorOrElement, event, task) {\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        on(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      on(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.addEventListener(event, task);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction once(targetSelectorOrElement, event, task) {\n\t  var manualDestroy = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        once(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      once(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    var taskWrapper = (function () {\n\t      var internalTaskFunction = function internalTaskFunction(e) {\n\t        var destroyEventListener = function destroyEventListener() {\n\t          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n\t        };\n\t        if (!manualDestroy) {\n\t          destroyEventListener();\n\t        }\n\t        task(e, destroyEventListener);\n\t      };\n\t      return internalTaskFunction;\n\t    })();\n\t    targetSelectorOrElement.addEventListener(event, taskWrapper);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\t/**\n\t * Removes event handler from selector.\n\t * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n\t * @param event The event to target (e.g. 'transitionend')\n\t * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n\t */\n\tfunction off(targetSelectorOrElement, event, task) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        off(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      off(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    if (task) targetSelectorOrElement.removeEventListener(event, task);else targetSelectorOrElement.removeEventListener(event);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction getConsoleStyle(style) {\n\t  if (style == 'code') {\n\t    return '\\n    padding: 0 5px 2px;\\n    border: 1px solid #ddd;\\n    -webkit-border-radius: 3px;\\n    -moz-border-radius: 3px;\\n    border-radius: 3px;\\n    background-clip: padding-box;\\n    font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;\\n    color: #666;\\n    ';\n\t  } else if (style == 'bold') {\n\t    return '\\n      font-weight: 600;\\n    color: rgb(51, 51, 51);\\n    ';\n\t  } else if (style == 'alert') {\n\t    return '\\n      font-weight: 600;\\n    color: red;\\n    ';\n\t  } else if (style == 'event') {\n\t    return '\\n    color: green;\\n    ';\n\t  } else if (style == 'postmessage') {\n\t    return '\\n    color: orange;\\n    ';\n\t  } else if (style == 'serviceworkermessage') {\n\t    return '\\n    color: purple;\\n    ';\n\t  }\n\t}\n\t\n\t/**\n\t * Returns a promise for the setTimeout() method.\n\t * @param durationMs\n\t * @returns {Promise} Returns a promise that resolves when the timeout is complete.\n\t */\n\tfunction delay(durationMs) {\n\t  return new Promise(function (resolve) {\n\t    setTimeout(resolve, durationMs);\n\t  });\n\t}\n\t\n\tfunction nothing() {\n\t  return Promise.resolve();\n\t}\n\t\n\tfunction when(condition, promiseIfTrue, promiseIfFalse) {\n\t  if (promiseIfTrue === undefined) promiseIfTrue = nothing();\n\t  if (promiseIfFalse === undefined) promiseIfFalse = nothing();\n\t  return condition ? promiseIfTrue : promiseIfFalse;\n\t}\n\t\n\tfunction guid() {\n\t  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t    var r = crypto.getRandomValues(new Uint8Array(1))[0] % 16 | 0,\n\t        v = c == 'x' ? r : r & 0x3 | 0x8;\n\t    return v.toString(16);\n\t  });\n\t}\n\t\n\t/**\n\t * Returns true if match is in string; otherwise, returns false.\n\t */\n\tfunction contains(indexOfAble, match) {\n\t  if (!indexOfAble) return false;\n\t  return indexOfAble.indexOf(match) !== -1;\n\t}\n\t\n\t/**\n\t * Returns the current object without keys that have undefined values.\n\t * Regardless of whether the return result is used, the passed-in object is destructively modified.\n\t * Only affects keys that the object directly contains (i.e. not those inherited via the object's prototype).\n\t * @param object\n\t */\n\tfunction trimUndefined(object) {\n\t  for (var property in object) {\n\t    if (object.hasOwnProperty(property)) {\n\t      if (object[property] === undefined) {\n\t        delete object[property];\n\t      }\n\t    }\n\t  }\n\t  return object;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n\t* loglevel - https://github.com/pimterry/loglevel\r\n\t*\r\n\t* Copyright (c) 2013 Tim Perry\r\n\t* Licensed under the MIT license.\r\n\t*/\r\n\t(function (root, definition) {\r\n\t    \"use strict\";\r\n\t    if (typeof module === 'object' && module.exports && \"function\" === 'function') {\r\n\t        module.exports = definition();\r\n\t    } else if (true) {\r\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else {\r\n\t        root.log = definition();\r\n\t    }\r\n\t}(this, function () {\r\n\t    \"use strict\";\r\n\t    var noop = function() {};\r\n\t    var undefinedType = \"undefined\";\r\n\t\r\n\t    function realMethod(methodName) {\r\n\t        if (typeof console === undefinedType) {\r\n\t            return false; // We can't build a real method without a console to log to\r\n\t        } else if (console[methodName] !== undefined) {\r\n\t            return bindMethod(console, methodName);\r\n\t        } else if (console.log !== undefined) {\r\n\t            return bindMethod(console, 'log');\r\n\t        } else {\r\n\t            return noop;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function bindMethod(obj, methodName) {\r\n\t        var method = obj[methodName];\r\n\t        if (typeof method.bind === 'function') {\r\n\t            return method.bind(obj);\r\n\t        } else {\r\n\t            try {\r\n\t                return Function.prototype.bind.call(method, obj);\r\n\t            } catch (e) {\r\n\t                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n\t                return function() {\r\n\t                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n\t                };\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    // these private functions always need `this` to be set properly\r\n\t\r\n\t    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n\t        return function () {\r\n\t            if (typeof console !== undefinedType) {\r\n\t                replaceLoggingMethods.call(this, level, loggerName);\r\n\t                this[methodName].apply(this, arguments);\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function replaceLoggingMethods(level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        for (var i = 0; i < logMethods.length; i++) {\r\n\t            var methodName = logMethods[i];\r\n\t            this[methodName] = (i < level) ?\r\n\t                noop :\r\n\t                this.methodFactory(methodName, level, loggerName);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function defaultMethodFactory(methodName, level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        return realMethod(methodName) ||\r\n\t               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n\t    }\r\n\t\r\n\t    var logMethods = [\r\n\t        \"trace\",\r\n\t        \"debug\",\r\n\t        \"info\",\r\n\t        \"warn\",\r\n\t        \"error\"\r\n\t    ];\r\n\t\r\n\t    function Logger(name, defaultLevel, factory) {\r\n\t      var self = this;\r\n\t      var currentLevel;\r\n\t      var storageKey = \"loglevel\";\r\n\t      if (name) {\r\n\t        storageKey += \":\" + name;\r\n\t      }\r\n\t\r\n\t      function persistLevelIfPossible(levelNum) {\r\n\t          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\t\r\n\t          // Use localStorage if available\r\n\t          try {\r\n\t              window.localStorage[storageKey] = levelName;\r\n\t              return;\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          // Use session cookie as fallback\r\n\t          try {\r\n\t              window.document.cookie =\r\n\t                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n\t          } catch (ignore) {}\r\n\t      }\r\n\t\r\n\t      function getPersistedLevel() {\r\n\t          var storedLevel;\r\n\t\r\n\t          try {\r\n\t              storedLevel = window.localStorage[storageKey];\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          if (typeof storedLevel === undefinedType) {\r\n\t              try {\r\n\t                  var cookie = window.document.cookie;\r\n\t                  var location = cookie.indexOf(\r\n\t                      encodeURIComponent(storageKey) + \"=\");\r\n\t                  if (location) {\r\n\t                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n\t                  }\r\n\t              } catch (ignore) {}\r\n\t          }\r\n\t\r\n\t          // If the stored level is not valid, treat it as if nothing was stored.\r\n\t          if (self.levels[storedLevel] === undefined) {\r\n\t              storedLevel = undefined;\r\n\t          }\r\n\t\r\n\t          return storedLevel;\r\n\t      }\r\n\t\r\n\t      /*\r\n\t       *\r\n\t       * Public API\r\n\t       *\r\n\t       */\r\n\t\r\n\t      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n\t          \"ERROR\": 4, \"SILENT\": 5};\r\n\t\r\n\t      self.methodFactory = factory || defaultMethodFactory;\r\n\t\r\n\t      self.getLevel = function () {\r\n\t          return currentLevel;\r\n\t      };\r\n\t\r\n\t      self.setLevel = function (level, persist) {\r\n\t          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n\t              level = self.levels[level.toUpperCase()];\r\n\t          }\r\n\t          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n\t              currentLevel = level;\r\n\t              if (persist !== false) {  // defaults to true\r\n\t                  persistLevelIfPossible(level);\r\n\t              }\r\n\t              replaceLoggingMethods.call(self, level, name);\r\n\t              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n\t                  return \"No console available for logging\";\r\n\t              }\r\n\t          } else {\r\n\t              throw \"log.setLevel() called with invalid level: \" + level;\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.setDefaultLevel = function (level) {\r\n\t          if (!getPersistedLevel()) {\r\n\t              self.setLevel(level, false);\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.enableAll = function(persist) {\r\n\t          self.setLevel(self.levels.TRACE, persist);\r\n\t      };\r\n\t\r\n\t      self.disableAll = function(persist) {\r\n\t          self.setLevel(self.levels.SILENT, persist);\r\n\t      };\r\n\t\r\n\t      // Initialize with the right level\r\n\t      var initialLevel = getPersistedLevel();\r\n\t      if (initialLevel == null) {\r\n\t          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n\t      }\r\n\t      self.setLevel(initialLevel, false);\r\n\t    }\r\n\t\r\n\t    /*\r\n\t     *\r\n\t     * Package-level API\r\n\t     *\r\n\t     */\r\n\t\r\n\t    var defaultLogger = new Logger();\r\n\t\r\n\t    var _loggersByName = {};\r\n\t    defaultLogger.getLogger = function getLogger(name) {\r\n\t        if (typeof name !== \"string\" || name === \"\") {\r\n\t          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n\t        }\r\n\t\r\n\t        var logger = _loggersByName[name];\r\n\t        if (!logger) {\r\n\t          logger = _loggersByName[name] = new Logger(\r\n\t            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n\t        }\r\n\t        return logger;\r\n\t    };\r\n\t\r\n\t    // Grab the current global log variable in case of overwrite\r\n\t    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n\t    defaultLogger.noConflict = function() {\r\n\t        if (typeof window !== undefinedType &&\r\n\t               window.log === defaultLogger) {\r\n\t            window.log = _log;\r\n\t        }\r\n\t\r\n\t        return defaultLogger;\r\n\t    };\r\n\t\r\n\t    return defaultLogger;\r\n\t}));\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Environment = (function () {\n\t  function Environment() {\n\t    _classCallCheck(this, Environment);\n\t  }\n\t\n\t  _createClass(Environment, null, [{\n\t    key: 'getEnv',\n\t    value: function getEnv() {\n\t      if (typeof window === \"undefined\") {\n\t        if (typeof WorkerLocation !== \"undefined\" && location instanceof WorkerLocation) return Environment.SERVICE_WORKER;\n\t      } else {\n\t        // If the window is the root top-most level\n\t        if (window.self === window.top) {\n\t          if ((0, _utils.contains)(location.href, \"initOneSignal\")) return Environment.POPUP;else return Environment.HOST;\n\t        } else return Environment.IFRAME;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isServiceWorker',\n\t    value: function isServiceWorker() {\n\t      return Environment.getEnv() === Environment.SERVICE_WORKER;\n\t    }\n\t  }, {\n\t    key: 'isHost',\n\t    value: function isHost() {\n\t      return Environment.getEnv() === Environment.HOST;\n\t    }\n\t  }, {\n\t    key: 'isPopup',\n\t    value: function isPopup() {\n\t      return Environment.getEnv() === Environment.POPUP;\n\t    }\n\t  }, {\n\t    key: 'isIframe',\n\t    value: function isIframe() {\n\t      return Environment.getEnv() === Environment.IFRAME;\n\t    }\n\t  }, {\n\t    key: 'isBrowser',\n\t    value: function isBrowser() {\n\t      return typeof window !== 'undefined';\n\t    }\n\t  }, {\n\t    key: 'SERVICE_WORKER',\n\t    get: function get() {\n\t      return 'ServiceWorker';\n\t    }\n\t  }, {\n\t    key: 'HOST',\n\t    get: function get() {\n\t      return \"host\";\n\t    }\n\t  }, {\n\t    key: 'POPUP',\n\t    get: function get() {\n\t      return \"popup\";\n\t    }\n\t  }, {\n\t    key: 'IFRAME',\n\t    get: function get() {\n\t      return \"iFrame\";\n\t    }\n\t  }]);\n\t\n\t  return Environment;\n\t})();\n\t\n\texports.default = Environment;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"OneSignal\"] = __webpack_require__(6);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\t__webpack_require__(8);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _database = __webpack_require__(27);\n\t\n\tvar _database2 = _interopRequireDefault(_database);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _objectAssign = __webpack_require__(16);\n\t\n\tvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\t\n\tvar _swivel = __webpack_require__(28);\n\t\n\tvar _swivel2 = _interopRequireDefault(_swivel);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar OneSignal = {\n\t  _VERSION: (\"109098\"),\n\t  _API_URL: _vars.API_URL,\n\t  _app_id: null,\n\t  _tagsToSendOnRegister: null,\n\t  _notificationOpenedCallbacks: [],\n\t  _idsAvailable_callback: [],\n\t  _defaultLaunchURL: null,\n\t  _initOptions: null,\n\t  _httpRegistration: false,\n\t  _main_page_port: null,\n\t  _isNotificationEnabledCallback: [],\n\t  _subscriptionSet: true,\n\t  _initOneSignalHttp: null,\n\t  _sessionIframeAdded: false,\n\t  _useHttpMode: null,\n\t  _windowWidth: 550,\n\t  _windowHeight: 480,\n\t  _isUninitiatedVisitor: false,\n\t  _isNewVisitor: false,\n\t  _channel: null,\n\t  initialized: false,\n\t  notifyButton: null,\n\t  store: _limitStore2.default,\n\t  environment: _environment2.default,\n\t  database: _database2.default,\n\t  event: _events2.default,\n\t  browser: Browser,\n\t  log: _loglevel2.default,\n\t  swivel: _swivel2.default,\n\t  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n\t  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n\t  SERVICE_WORKER_PARAM: {},\n\t\n\t  /* Event Definitions */\n\t  EVENTS: {\n\t    CUSTOM_PROMPT_CLICKED: 'onesignal.prompt.custom.clicked',\n\t    NATIVE_PROMPT_PERMISSIONCHANGED: 'onesignal.prompt.native.permissionchanged',\n\t    SUBSCRIPTION_CHANGED: 'onesignal.subscription.changed',\n\t    WELCOME_NOTIFICATION_SENT: 'onesignal.actions.welcomenotificationsent',\n\t    INTERNAL_SUBSCRIPTIONSET: 'onesignal.internal.subscriptionset',\n\t    SDK_INITIALIZED: 'onesignal.sdk.initialized'\n\t  },\n\t\n\t  _sendToOneSignalApi: function _sendToOneSignalApi(url, action, inData, callback, failedCallback) {\n\t    _loglevel2.default.debug('Calling ' + action + ' ' + (OneSignal._API_URL + url) + ' with data:', inData);\n\t    var contents = {\n\t      method: action\n\t    };\n\t\n\t    //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n\t    if (inData) {\n\t      contents.headers = { \"Content-type\": \"application/json;charset=UTF-8\" };\n\t      contents.body = JSON.stringify(inData);\n\t    }\n\t\n\t    fetch(OneSignal._API_URL + url, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) return Promise.resolve(response);else return Promise.reject(new Error(response.statusText));\n\t    }).then(function status(response) {\n\t      return response.json();\n\t    }).then(function (jsonData) {\n\t      if (callback != null) callback(jsonData);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('OneSignal._sendToOneSignalApi() failed:', e);\n\t      if (failedCallback != null) failedCallback();\n\t    });\n\t  },\n\t\n\t  _getLanguage: function _getLanguage() {\n\t    return navigator.language ? navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language : 'en';\n\t  },\n\t\n\t  _getPlayerId: function _getPlayerId(value, callback) {\n\t    if (value) callback(value);else {\n\t      _database2.default.get('Ids', 'userId').then(function _getPlayerId_gotUserId(result) {\n\t        if (result) callback(result.id);else callback(null);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  _registerWithOneSignal: function _registerWithOneSignal(appId, registrationId, deviceType) {\n\t\n\t    _database2.default.get('Ids', 'userId').then(function _registerWithOneSignal_GotUserId(userIdResult) {\n\t      OneSignal._getNotificationTypes(function (notif_types) {\n\t        var requestUrl = 'players';\n\t\n\t        var jsonData = {\n\t          app_id: appId,\n\t          device_type: deviceType,\n\t          language: OneSignal._getLanguage(),\n\t          timezone: new Date().getTimezoneOffset() * -60,\n\t          device_model: navigator.platform + \" \" + Browser.name,\n\t          device_os: Browser.version,\n\t          sdk: OneSignal._VERSION\n\t        };\n\t\n\t        if (userIdResult) {\n\t          requestUrl = 'players/' + userIdResult.id + '/on_session';\n\t          jsonData.notification_types = notif_types;\n\t        } else if (notif_types != 1) jsonData.notification_types = notif_types;\n\t\n\t        if (registrationId) {\n\t          jsonData.identifier = registrationId;\n\t          _database2.default.put(\"Ids\", { type: \"registrationId\", id: registrationId });\n\t        }\n\t\n\t        OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData, function registeredCallback(responseJSON) {\n\t          sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t\n\t          if (responseJSON.id) {\n\t            _database2.default.put(\"Ids\", { type: \"userId\", id: responseJSON.id });\n\t            OneSignal._sendUnsentTags();\n\t          }\n\t\n\t          OneSignal._getPlayerId(responseJSON.id, function (userId) {\n\t            if (OneSignal._idsAvailable_callback.length > 0) {\n\t              while (OneSignal._idsAvailable_callback.length > 0) {\n\t                var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t                curr_callback({ userId: userId, registrationId: registrationId });\n\t              }\n\t            }\n\t\n\t            if (OneSignal._httpRegistration) {\n\t              // 12/16/2015 -- At this point, the user has just clicked Allow on the HTTP prompt!!\n\t              OneSignal._getNotificationPermission().then(function (permission) {\n\t                _loglevel2.default.debug(\"Sending player Id and registrationId back to host page\");\n\t                _loglevel2.default.debug(OneSignal._initOptions);\n\t                var creator = opener || parent;\n\t                OneSignal._safePostMessage(creator, {\n\t                  idsAvailable: {\n\t                    userId: userId,\n\t                    registrationId: registrationId\n\t                  },\n\t                  from: _environment2.default.getEnv()\n\t                }, OneSignal._initOptions.origin, null);\n\t                OneSignal._safePostMessage(creator, {\n\t                  httpNativePromptPermissionChanged: permission,\n\t                  from: _environment2.default.getEnv()\n\t                }, OneSignal._initOptions.origin, null);\n\t\n\t                if (opener) window.close();\n\t              }).catch(function (e) {\n\t                return _loglevel2.default.error(e);\n\t              });\n\t            }\n\t          });\n\t        });\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _sendUnsentTags: function _sendUnsentTags() {\n\t    if (OneSignal._tagsToSendOnRegister) {\n\t      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n\t      OneSignal._tagsToSendOnRegister = null;\n\t    }\n\t  },\n\t\n\t  setDefaultNotificationUrl: function setDefaultNotificationUrl(url) {\n\t    _database2.default.put(\"Options\", { key: \"defaultUrl\", value: url });\n\t  },\n\t\n\t  setDefaultIcon: function setDefaultIcon(icon) {\n\t    _database2.default.put(\"Options\", { key: \"defaultIcon\", value: icon });\n\t  },\n\t\n\t  setDefaultTitle: function setDefaultTitle(title) {\n\t    _database2.default.put(\"Options\", { key: \"defaultTitle\", value: title });\n\t  },\n\t\n\t  onCustomPromptClicked: function onCustomPromptClicked(event) {},\n\t\n\t  onNativePromptChanged: function onNativePromptChanged(event) {\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _sendSelfNotification: function _sendSelfNotification(title, message, url, data) {\n\t    if (!title) {\n\t      title = 'OneSignal Test Message';\n\t    }\n\t    if (!message) {\n\t      message = 'This is an example notification.';\n\t    }\n\t    if (!url) {\n\t      url = new URL(location.href).origin + '?_osp=do_not_open';\n\t    }\n\t    _database2.default.get('Ids', 'userId').then(function (result) {\n\t      if (result && result.id) {\n\t        (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message }, url, data);\n\t      } else {\n\t        _loglevel2.default.warn('Could not send self a test notification because there is no valid user ID.');\n\t      }\n\t    });\n\t  },\n\t\n\t  _closeAllNotifications: function _closeAllNotifications() {\n\t    navigator.serviceWorker.getRegistration().then(function (registration) {\n\t      if (registration === undefined || !registration.active) {\n\t        _loglevel2.default.debug('There is no active service worker.');\n\t        return Promise.reject();\n\t      } else {\n\t        if (OneSignal._channel) {\n\t          OneSignal._channel.emit('data', 'notification.closeall');\n\t        } else {\n\t          _loglevel2.default.error(\"Please initialize the SDK before trying to communicate with the service worker. The communication channel isn't initialized yet.\");\n\t        }\n\t      }\n\t    });\n\t  },\n\t\n\t  _onSubscriptionChanged: function _onSubscriptionChanged(event) {\n\t    if (OneSignal._isUninitiatedVisitor && event.detail === true) {\n\t      _database2.default.get('Ids', 'userId').then(function (result) {\n\t        var welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n\t        var welcome_notification_disabled = welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true;\n\t        var title = welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null ? welcome_notification_opts['title'] : '';\n\t        var message = welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0 ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n\t        var unopenableWelcomeNotificationUrl = new URL(location.href);\n\t        unopenableWelcomeNotificationUrl = unopenableWelcomeNotificationUrl.origin + '?_osp=do_not_open';\n\t        var url = welcome_notification_opts && welcome_notification_opts['url'] && welcome_notification_opts['url'].length > 0 ? welcome_notification_opts['url'] : unopenableWelcomeNotificationUrl;\n\t        if (!welcome_notification_disabled) {\n\t          _loglevel2.default.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n\t          (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message }, url);\n\t          _events2.default.trigger(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, { title: title, message: message, url: url });\n\t          OneSignal._isUninitiatedVisitor = false;\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t    _limitStore2.default.put('subscription.value', event.detail);\n\t  },\n\t\n\t  _onDbValueRetrieved: function _onDbValueRetrieved(event) {},\n\t\n\t  _onDbValueSet: function _onDbValueSet(event) {\n\t    var info = event.detail;\n\t    if (info.type === 'userId') {\n\t      _limitStore2.default.put('db.ids.userId', info.id);\n\t      OneSignal._checkTrigger_eventSubscriptionChanged();\n\t    }\n\t  },\n\t\n\t  _onInternalSubscriptionSet: function _onInternalSubscriptionSet(event) {\n\t    var newSubscriptionValue = event.detail;\n\t    _limitStore2.default.put('setsubscription.value', newSubscriptionValue);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  /**\n\t   * This event occurs after init.\n\t   * For HTTPS sites, this event is called after init.\n\t   * For HTTP sites, this event is called after the iFrame is created, and a message is received from the iFrame signaling cross-origin messaging is ready.\n\t   * @private\n\t   */\n\t  _onSdkInitialized: function _onSdkInitialized() {\n\t    if (OneSignal.initialized) {\n\t      _loglevel2.default.warn('SDK initialized event occured more than once, so skipping running init trigger code.');\n\t      return;\n\t    }\n\t\n\t    // Store initial values of notification permission, user ID, and manual subscription status\n\t    // This is done so that the values can be later compared to see if anything changed\n\t    // This is done here for HTTPS, it is done after the call to _addSessionIframe in _sessionInit for HTTP sites, since the iframe is needed for communication\n\t    OneSignal._storeInitialValues();\n\t\n\t    if (navigator.serviceWorker) {\n\t      navigator.serviceWorker.getRegistration().then(function (registration) {\n\t        if (registration && registration.active) {\n\t          if (OneSignal._channel) {\n\t            OneSignal._channel.off('data');\n\t            OneSignal._channel.off('notification.clicked');\n\t          }\n\t          OneSignal._channel = _swivel2.default.at(registration.active);\n\t          OneSignal._channel.on('data', function handler(context, data) {\n\t            _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + ' ⬸ ServiceWorker:', (0, _utils.getConsoleStyle)('serviceworkermessage'), data, context);\n\t          });\n\t          OneSignal._channel.on('notification.clicked', function handler(context, data) {\n\t            OneSignal._fireNotificationOpenedCallbacks(data);\n\t          });\n\t          _loglevel2.default.info('Service worker messaging channel established!');\n\t        }\n\t      });\n\t    }\n\t\n\t    if (_environment2.default.isBrowser() && !OneSignal.notifyButton) {\n\t      OneSignal._initOptions.notifyButton = OneSignal._initOptions.notifyButton || {};\n\t      if (OneSignal._initOptions.bell) {\n\t        // If both bell and notifyButton, notifyButton's options take precedence\n\t        (0, _objectAssign2.default)(OneSignal._initOptions.bell, OneSignal._initOptions.notifyButton);\n\t        (0, _objectAssign2.default)(OneSignal._initOptions.notifyButton, OneSignal._initOptions.bell);\n\t      }\n\t      OneSignal.notifyButton = new _bell2.default(OneSignal._initOptions.notifyButton);\n\t      OneSignal.notifyButton.create();\n\t      OneSignal.initialized = true;\n\t    }\n\t  },\n\t\n\t  _onDatabaseRebuilt: function _onDatabaseRebuilt() {\n\t    OneSignal._isNewVisitor = true;\n\t  },\n\t\n\t  _checkTrigger_nativePermissionChanged: function _checkTrigger_nativePermissionChanged() {\n\t    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      var currentPermission = permission;\n\t      var lastPermission = _limitStore2.default.getLast('notification.permission');\n\t      if (lastPermission !== currentPermission) {\n\t        OneSignal._triggerEvent_nativePromptPermissionChanged(lastPermission, currentPermission);\n\t      }\n\t    }).catch(function (e) {\n\t      return _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _checkTrigger_eventSubscriptionChanged: function _checkTrigger_eventSubscriptionChanged() {\n\t    _loglevel2.default.debug('Called %c_checkTrigger_eventSubscriptionChanged()', (0, _utils.getConsoleStyle)('code'), 'in', _environment2.default.getEnv());\n\t    var permissions = _limitStore2.default.get('notification.permission');\n\t    var lastPermission = permissions[permissions.length - 2];\n\t    var currentPermission = permissions[permissions.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Permissions:', { lastPermission: lastPermission, currentPermission: currentPermission });\n\t\n\t    var ids = _limitStore2.default.get('db.ids.userId');\n\t    var lastId = ids[ids.length - 2];\n\t    var currentId = ids[ids.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Ids:', { lastId: lastId, currentId: currentId });\n\t\n\t    var subscriptionStates = _limitStore2.default.get('setsubscription.value');\n\t    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n\t    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Subscriptions:', { lastSubscriptionState: lastSubscriptionState, currentSubscriptionState: currentSubscriptionState });\n\t\n\t    var newSubscriptionState = 'unchanged';\n\t\n\t    if ((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' && currentId !== null && currentSubscriptionState === true || lastSubscriptionState === false && currentSubscriptionState === true && currentId != null && currentPermission === 'granted') {\n\t      newSubscriptionState = true;\n\t    }\n\t\n\t    if (lastPermission !== 'denied' && currentPermission === 'denied' || lastPermission === 'granted' && currentPermission !== 'granted' || lastId !== null && currentId === null || lastSubscriptionState !== false && currentSubscriptionState === false) {\n\t      newSubscriptionState = false;\n\t    }\n\t\n\t    if (newSubscriptionState !== \"unchanged\") {\n\t      var lastTriggerTimes = _limitStore2.default.put('event.subscriptionchanged.lastriggered', Date.now());\n\t      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n\t      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n\t      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\t\n\t      var lastEventStates = _limitStore2.default.put('event.subscriptionchanged.laststates', newSubscriptionState);\n\t      var currentState = lastEventStates[lastEventStates.length - 1];\n\t      var lastState = lastEventStates[lastEventStates.length - 2];\n\t\n\t      // If event already triggered within the last second, don't re-trigger.\n\t      var shouldNotTriggerEvent = lastTriggerTime != null && elapsedTimeSeconds <= 1 || currentState === lastState;\n\t      if (shouldNotTriggerEvent === false) {\n\t        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState);\n\t      }\n\t    }\n\t  },\n\t\n\t  isPushNotificationsSupported: function isPushNotificationsSupported() {\n\t    return (0, _utils.isPushNotificationsSupported)();\n\t  },\n\t\n\t  _installNativePromptPermissionChangedHook: function _installNativePromptPermissionChangedHook() {\n\t    if (navigator.permissions && !((0, _utils.isBrowserFirefox)() && (0, _utils.getFirefoxVersion)() <= 45)) {\n\t      OneSignal._usingNativePermissionHook = true;\n\t      // If the browser natively supports hooking the subscription prompt permission change event\n\t      //     use it instead of our SDK method\n\t      navigator.permissions.query({ name: 'notifications' }).then(function (permissionStatus) {\n\t        permissionStatus.onchange = function () {\n\t          var permissionBeforePrompt = _limitStore2.default.getFirst('notification.permission');\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  },\n\t\n\t  init: function init(options) {\n\t    _loglevel2.default.debug('Called %cinit(' + JSON.stringify(options, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t    if (_environment2.default.isBrowser() && window.localStorage[\"onesignal.debugger.init\"]) {\n\t      debugger;\n\t    }\n\t\n\t    if (OneSignal.initialized) {\n\t      _loglevel2.default.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n\t      return;\n\t    }\n\t\n\t    if (!options.path) {\n\t      options.path = '/';\n\t    }\n\t\n\t    OneSignal._initOptions = options;\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    if (Browser.safari && !OneSignal._initOptions.safari_web_id) {\n\t      _loglevel2.default.warn(\"You're browsing on Safari, and %csafari_web_id\", (0, _utils.getConsoleStyle)('code'), 'was not passed to OneSignal.init(), so not initializing the SDK.');\n\t      return;\n\t    }\n\t\n\t    window.addEventListener(_database2.default.EVENTS.REBUILT, OneSignal._onDatabaseRebuilt);\n\t    window.addEventListener(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, OneSignal.onCustomPromptClicked);\n\t    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, OneSignal.onNativePromptChanged);\n\t    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, OneSignal._onSubscriptionChanged);\n\t    window.addEventListener(_database2.default.EVENTS.RETRIEVED, OneSignal._onDbValueRetrieved);\n\t    window.addEventListener(_database2.default.EVENTS.SET, OneSignal._onDbValueSet);\n\t    window.addEventListener(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, OneSignal._onInternalSubscriptionSet);\n\t    window.addEventListener(OneSignal.EVENTS.SDK_INITIALIZED, OneSignal._onSdkInitialized);\n\t    window.addEventListener('focus', function (event) {\n\t      // Checks if permission changed everytime a user focuses on the page, since a user has to click out of and back on the page to check permissions\n\t      OneSignal._checkTrigger_nativePermissionChanged();\n\t    });\n\t\n\t    OneSignal._useHttpMode = !(0, _utils.isSupportedSafari)() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\t\n\t    if (OneSignal._useHttpMode) {\n\t      if (!OneSignal._initOptions.subdomainName) {\n\t        _loglevel2.default.error('OneSignal: Missing required init parameter %csubdomainName', (0, _utils.getConsoleStyle)('code'), '. You must supply a subdomain name to the SDK initialization options. (See: https://documentation.onesignal.com/docs/website-sdk-http-installation#2-include-and-initialize-onesignal)');\n\t        return;\n\t      }\n\t      if ((0, _utils.contains)(OneSignal._initOptions.subdomainName, '.')) {\n\t        _loglevel2.default.error('OneSignal: Invalid parameter %csubdomainName', (0, _utils.getConsoleStyle)('code'), \". Do not include dots or '.onesignal.com' as part of your subdomain name. (See: https://documentation.onesignal.com/docs/website-sdk-http-installation#2-include-and-initialize-onesignal)\");\n\t        return;\n\t      }\n\t      OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';\n\t    } else {\n\t      OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\t    }\n\t\n\t    if (false) OneSignal._initOneSignalHttp = _vars.DEV_FRAME_HOST + '/dev_sdks/initOneSignalHttp';\n\t\n\t    if (OneSignal._initOptions.persistNotification === false) {\n\t      _database2.default.put('Options', { key: 'persistNotification', value: false });\n\t    } else {\n\t      _database2.default.put('Options', { key: 'persistNotification', value: true });\n\t    }\n\t\n\t    var webhookPromises = [];\n\t    var webhookOptions = OneSignal._initOptions.webhooks;\n\t    ['notification.displayed', 'notification.clicked'].forEach(function (event) {\n\t      if (webhookOptions && webhookOptions[event]) {\n\t        webhookPromises.push(_database2.default.put('Options', { key: 'webhooks.' + event, value: webhookOptions[event] }));\n\t      } else {\n\t        webhookPromises.push(_database2.default.put('Options', { key: 'webhooks.' + event, value: false }));\n\t      }\n\t    });\n\t    if (webhookOptions && webhookOptions.cors) {\n\t      webhookPromises.push(_database2.default.put('Options', { key: 'webhooks.cors', value: true }));\n\t    } else {\n\t      webhookPromises.push(_database2.default.put('Options', { key: 'webhooks.cors', value: false }));\n\t    }\n\t    Promise.all(webhookPromises);\n\t\n\t    // If Safari - add 'fetch' pollyfill if it isn't already added.\n\t    if ((0, _utils.isSupportedSafari)() && typeof window.fetch == \"undefined\") {\n\t      var s = document.createElement('script');\n\t      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n\t      document.head.appendChild(s);\n\t    }\n\t\n\t    if (document.readyState === \"complete\") OneSignal._internalInit();else window.addEventListener('load', OneSignal._internalInit);\n\t  },\n\t\n\t  _internalInit: function _internalInit() {\n\t    _loglevel2.default.debug('Called %c_internalInit()', (0, _utils.getConsoleStyle)('code'));\n\t    Promise.all([_database2.default.get('Ids', 'appId'), _database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var appIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      // If AppId changed delete playerId and continue.\n\t      if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n\t        _loglevel2.default.warn('%cWARNING: Because your app ID changed from ' + appIdResult.id + ' ⤑ ' + OneSignal._initOptions.appId + ', all IndexedDB and SessionStorage data will be wiped.', (0, _utils.getConsoleStyle)('alert'));\n\t        sessionStorage.clear();\n\t        _database2.default.rebuild().then(function () {\n\t          OneSignal.init(OneSignal._initOptions);\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      } else {\n\t        // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n\t        if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\") && !OneSignal._initOptions.subdomainName && (Notification.permission == \"denied\" || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) {\n\t          _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t          return;\n\t        }\n\t\n\t        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t        if (Browser.safari && OneSignal._initOptions.autoRegister === false) {\n\t          _loglevel2.default.debug('On Safari and autoregister is false, skipping sessionInit().');\n\t          _loglevel2.default.debug('Use http mode: ', OneSignal._useHttpMode);\n\t          // This *seems* to trigger on either Safari's autoregister false or Chrome HTTP\n\t          // Chrome HTTP gets an SDK_INITIALIZED event from the iFrame postMessage, so don't call it here\n\t          if (!OneSignal._useHttpMode) {\n\t            _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t          }\n\t          return;\n\t        }\n\t\n\t        if (OneSignal._initOptions.autoRegister === false && !registrationIdResult && !OneSignal._initOptions.subdomainName) {\n\t          _loglevel2.default.debug('No autoregister, no registration ID, no subdomain > skip _internalInit().');\n\t          _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t          return;\n\t        }\n\t\n\t        if (document.visibilityState !== \"visible\") {\n\t          (0, _utils.once)(document, 'visibilitychange', function (e, destroyEventListener) {\n\t            if (document.visibilityState === 'visible') {\n\t              destroyEventListener();\n\t              OneSignal._sessionInit({});\n\t            }\n\t          }, true);\n\t          return;\n\t        }\n\t\n\t        _loglevel2.default.debug('Calling _sessionInit() normally from _internalInit().');\n\t        OneSignal._sessionInit({});\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  registerForPushNotifications: function registerForPushNotifications(options) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n\t    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n\t    if (!options) options = {};\n\t    options.fromRegisterFor = true;\n\t    OneSignal._sessionInit(options);\n\t  },\n\t\n\t  // Http only - Only called from iframe's init.js\n\t  _initHttp: function _initHttp(options) {\n\t    _loglevel2.default.debug('Called %c_initHttp(' + JSON.stringify(options, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t    if (_environment2.default.isBrowser() && window.localStorage[\"onesignal.debugger._initHttp\"]) {\n\t      debugger;\n\t    }\n\t\n\t    OneSignal._initOptions = options;\n\t\n\t    OneSignal._installNativePromptPermissionChangedHook();\n\t    if (options.continuePressed) {\n\t      OneSignal.setSubscription(true);\n\t    }\n\t\n\t    var isIframe = parent != null && parent != window;\n\t    var creator = opener || parent;\n\t\n\t    if (!creator) {\n\t      _loglevel2.default.error('_initHttp (from <iframe>):', 'No opener or parent found!');\n\t      return;\n\t    }\n\t    // Setting up message channel to receive message from host page.\n\t    var messageChannel = new MessageChannel();\n\t    messageChannel.port1.onmessage = function (event) {\n\t      _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + ' ⬸ ' + event.data.from.capitalize() + ':', (0, _utils.getConsoleStyle)('postmessage'), event.data);\n\t\n\t      if (event.data.initOptions) {\n\t        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n\t        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n\t        if (event.data.initOptions.defaultIcon) OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\t\n\t        _database2.default.get(\"NotificationOpened\", event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n\t          if (notificationOpenedResult) {\n\t            _database2.default.remove(\"NotificationOpened\", event.data.initOptions.parent_url);\n\t            _loglevel2.default.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\t\n\t            OneSignal._safePostMessage(creator, { openedNotification: notificationOpenedResult.data, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t        ;\n\t      } else if (event.data.getNotificationPermission) {\n\t        // This is not used for OneSignal._getNotificationPermission, even though the naming is similar\n\t        //log.info('%cIn the <iframe>: getNotificationPermission message was received.', getConsoleStyle('alert'));\n\t        OneSignal._getSubdomainState(function (curState) {\n\t          OneSignal._safePostMessage(creator, { currentNotificationPermission: curState, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t        });\n\t      } else if (event.data.remoteGetNotificationPermission) {\n\t        (function () {\n\t          var safariWebId = event.data.safariWebId;\n\t          var promiseId = event.data.promiseId;\n\t          OneSignal._getNotificationPermission(safariWebId).then(function (permission) {\n\t            OneSignal._safePostMessage(creator, { remoteGetNotificationPermissionResponse: permission, promiseId: promiseId, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        })();\n\t      } else if (event.data.setSubdomainState) {\n\t        (function () {\n\t          var promiseId = event.data.promiseId;\n\t          OneSignal.setSubscription(event.data.setSubdomainState.setSubscription).then(function () {\n\t            // Let main page know setSubscription is complete so promise can be fulfilled\n\t            OneSignal._safePostMessage(creator, { setSubscriptionComplete: true, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          }).catch(function () {\n\t            OneSignal._safePostMessage(creator, { setSubscriptionComplete: false, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          });\n\t        })();\n\t      } else if (event.data.remoteGetDbValue) {\n\t        (function () {\n\t          var promiseId = event.data.promiseId;\n\t          var table = event.data.table;\n\t          var key = event.data.key;\n\t          if (!promiseId) {\n\t            _loglevel2.default.error('No promise ID set for remoteGetDbValue.');\n\t          }\n\t          if (!table) {\n\t            _loglevel2.default.error('Cannot remotely retrieve database value without being supplied the table to look in!');\n\t          }\n\t          if (!key) {\n\t            _loglevel2.default.error(\"Cannot remotely retrieve database value without being supplied the table's key!\");\n\t          }\n\t          _database2.default.get(table, key).then(function (result) {\n\t            OneSignal._safePostMessage(creator, { remoteGetDbValue: true, result: result, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t            OneSignal._safePostMessage(creator, { remoteGetDbValue: false, error: e, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          });\n\t        })();\n\t      }\n\t    };\n\t\n\t    OneSignal._getSubdomainState(function (curState) {\n\t      curState[\"isIframe\"] = isIframe;\n\t      OneSignal._safePostMessage(creator, { oneSignalInitPageReady: curState, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, [messageChannel.port2]);\n\t    });\n\t\n\t    OneSignal._initSaveState();\n\t    OneSignal._httpRegistration = true;\n\t    if (location.search.indexOf(\"?session=true\") == 0) return;\n\t\n\t    OneSignal._getPlayerId(null, function (player_id) {\n\t      if (!isIframe || player_id) {\n\t        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t      }\n\t    });\n\t  },\n\t\n\t  _getSubdomainState: function _getSubdomainState(callback) {\n\t    var state = {};\n\t\n\t    Promise.all([_database2.default.get('Ids', 'userId'), _database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var userIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      callback({\n\t        userId: userIdResult ? userIdResult.id : null,\n\t        registrationId: registrationIdResult ? registrationIdResult.id : null,\n\t        notifPermssion: Notification.permission,\n\t        subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n\t        isPushEnabled: Notification.permission == \"granted\" && userIdResult && registrationIdResult && (subscriptionResult && subscriptionResult.value || subscriptionResult == null)\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _initSaveState: function _initSaveState() {\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t    _database2.default.put(\"Ids\", { type: \"appId\", id: OneSignal._app_id });\n\t    _database2.default.put(\"Options\", { key: \"pageTitle\", value: document.title });\n\t  },\n\t\n\t  _supportsDirectPermission: function _supportsDirectPermission() {\n\t    return (0, _utils.isSupportedSafari)() || location.protocol == 'https:' || location.host.indexOf(\"localhost\") == 0 || location.host.indexOf(\"127.0.0.1\") == 0;\n\t  },\n\t\n\t  _getPromptOptionsQueryString: function _getPromptOptionsQueryString() {\n\t    var message_localization_opts = OneSignal._initOptions['promptOptions'];\n\t    var message_localization_opts_str = '';\n\t    if (message_localization_opts) {\n\t      var message_localization_params = ['actionMessage', 'exampleNotificationTitleDesktop', 'exampleNotificationMessageDesktop', 'exampleNotificationTitleMobile', 'exampleNotificationMessageMobile', 'exampleNotificationCaption', 'acceptButtonText', 'cancelButtonText', 'showCredit'];\n\t      for (var i = 0; i < message_localization_params.length; i++) {\n\t        var key = message_localization_params[i];\n\t        var value = message_localization_opts[key];\n\t        var encoded_value = encodeURIComponent(value);\n\t        if (value || value === false || value === '') {\n\t          message_localization_opts_str += '&' + key + '=' + encoded_value;\n\t        }\n\t      }\n\t    }\n\t    return message_localization_opts_str;\n\t  },\n\t\n\t  _storeInitialValues: function _storeInitialValues() {\n\t    _loglevel2.default.debug('Called %c_storeInitialValues()', (0, _utils.getConsoleStyle)('code'));\n\t    return OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      _limitStore2.default.put('notification.permission', permission);\n\t      OneSignal._installNativePromptPermissionChangedHook();\n\t\n\t      // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n\t      return _database2.default.get('Ids', 'userId');\n\t    }).then(function (result) {\n\t      if (result === undefined) {\n\t        OneSignal._isUninitiatedVisitor = true;\n\t      }\n\t      var storeValue = result ? result.id : null;\n\t      _limitStore2.default.put('db.ids.userId', storeValue);\n\t\n\t      // Store the current value of subscription, so that we can see if the value changes in the future\n\t      return OneSignal._getSubscription();\n\t    }).then(function (currentSubscription) {\n\t      _limitStore2.default.put('setsubscription.value', currentSubscription);\n\t    }).catch(function (e) {\n\t      return _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _sessionInit: function _sessionInit(options) {\n\t    _loglevel2.default.debug('Called %c_sessionInit(' + JSON.stringify(options) + ')', (0, _utils.getConsoleStyle)('code'));\n\t    OneSignal._initSaveState();\n\t\n\t    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\t\n\t    // If HTTP or using subdomain mode\n\t    if (OneSignal._useHttpMode) {\n\t      if (options.fromRegisterFor) {\n\t        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n\t        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\t\n\t        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n\t        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\t        var childWidth = OneSignal._windowWidth;\n\t        var childHeight = OneSignal._windowHeight;\n\t\n\t        var left = thisWidth / 2 - childWidth / 2 + dualScreenLeft;\n\t        var top = thisHeight / 2 - childHeight / 2 + dualScreenTop;\n\t\n\t        _loglevel2.default.debug('Opening popup window.');\n\t        var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\t        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\t\n\t        if (childWindow) childWindow.focus();\n\t      } else {\n\t        OneSignal._addSessionIframe(hostPageProtocol);\n\t      }\n\t    } else {\n\t      if ((0, _utils.isSupportedSafari)()) {\n\t        if (OneSignal._initOptions.safari_web_id) {\n\t          OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t            window.safari.pushNotification.requestPermission(OneSignal._API_URL + 'safari', OneSignal._initOptions.safari_web_id, { app_id: OneSignal._app_id }, function (data) {\n\t              _loglevel2.default.info('Safari requestPermission() callback:', data);\n\t              var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t              if (data.deviceToken) {\n\t                OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n\t              } else {\n\t                sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t              }\n\t              OneSignal._triggerEvent_nativePromptPermissionChanged(permission);\n\t            });\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        }\n\t      } else if (options.modalPrompt && options.fromRegisterFor) {\n\t        // If HTTPS - Show modal\n\t        if (!(0, _utils.isPushNotificationsSupported)()) {\n\t          _loglevel2.default.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n\t          return;\n\t        }\n\t        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n\t          var element = document.createElement('div');\n\t          element.setAttribute('id', 'OneSignal-iframe-modal');\n\t          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 3000000000; display: block\"></div>';\n\t          document.body.appendChild(element);\n\t\n\t          var iframeStyle = document.createElement('style');\n\t          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\" + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n\t          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\t\n\t          var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\t\n\t          var iframeNode = document.createElement(\"iframe\");\n\t          iframeNode.className = \"OneSignal-permission-iframe\";\n\t          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n\t          iframeNode.src = OneSignal._initOneSignalHttp + '?' + message_localization_opts_str + '&id=' + OneSignal._app_id + '&httpsPrompt=true' + '&pushEnabled=' + pushEnabled + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\") + '&hostPageProtocol=' + hostPageProtocol;\n\t          iframeNode.setAttribute('frameborder', '0');\n\t          iframeNode.width = OneSignal._windowWidth.toString();\n\t          iframeNode.height = OneSignal._windowHeight.toString();\n\t\n\t          _loglevel2.default.debug('Opening HTTPS modal prompt.');\n\t          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n\t        });\n\t      } else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n\t        OneSignal._registerForW3CPush(options);else _loglevel2.default.debug('Service workers are not supported in this browser.');\n\t\n\t      _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t    }\n\t  },\n\t\n\t  _registerForW3CPush: function _registerForW3CPush(options) {\n\t    _loglevel2.default.debug('Called %c_registerForW3CPush(' + JSON.stringify(options) + ')', (0, _utils.getConsoleStyle)('code'));\n\t    return _database2.default.get('Ids', 'registrationId').then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n\t      if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n\t        navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n\t          var sw_path = \"\";\n\t\n\t          if (OneSignal._initOptions.path) sw_path = OneSignal._initOptions.path;\n\t\n\t          if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n\t            OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);else {\n\t            if (serviceWorkerRegistration.active) {\n\t              var previousWorkerUrl = serviceWorkerRegistration.active.scriptURL;\n\t              if ((0, _utils.contains)(previousWorkerUrl, sw_path + OneSignal.SERVICE_WORKER_PATH)) {\n\t                // OneSignalSDKWorker.js was installed\n\t                _database2.default.get('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) {\n\t                      _loglevel2.default.info('Installing new service worker (' + versionResult.id + ' -> ' + OneSignal._VERSION + ')');\n\t                      OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                    } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              } else if ((0, _utils.contains)(previousWorkerUrl, sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH)) {\n\t                // OneSignalSDKUpdaterWorker.js was installed\n\t                _database2.default.get('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) {\n\t                      _loglevel2.default.info('Installing new service worker (' + versionResult.id + ' -> ' + OneSignal._VERSION + ')');\n\t                      OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                    } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              } else {\n\t                // Some other service worker not belonging to us was installed\n\t                // Install ours over it\n\t                OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t              }\n\t            } else if (serviceWorkerRegistration.installing == null) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _registerServiceWorker: function _registerServiceWorker(full_sw_and_path) {\n\t    _loglevel2.default.debug('Called %c_registerServiceWorker(' + JSON.stringify(full_sw_and_path, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t  },\n\t\n\t  _addSessionIframe: function _addSessionIframe(hostPageProtocol) {\n\t    _loglevel2.default.debug('Called %c_addSessionIframe(' + JSON.stringify(hostPageProtocol, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t    var node = document.createElement(\"iframe\");\n\t    node.style.display = \"none\";\n\t    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n\t    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")) node.src += \"?session=true\" + \"&hostPageProtocol=\" + hostPageProtocol;else node.src += \"?hostPageProtocol=\" + hostPageProtocol;\n\t    document.body.appendChild(node);\n\t\n\t    OneSignal._sessionIframeAdded = true;\n\t  },\n\t\n\t  _registerError: function _registerError(err) {\n\t    _loglevel2.default.error(\"ServiceWorker registration\", err);\n\t  },\n\t\n\t  _enableNotifications: function _enableNotifications(existingServiceWorkerRegistration) {\n\t    // is ServiceWorkerRegistration type\n\t    if (existingServiceWorkerRegistration) _loglevel2.default.debug('An older ServiceWorker exists:', existingServiceWorkerRegistration);\n\t    if (!('PushManager' in window)) {\n\t      _loglevel2.default.error(\"Push messaging is not supported. No PushManager.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n\t      _loglevel2.default.error(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (Notification.permission === 'denied') {\n\t      _loglevel2.default.warn(\"The user has blocked notifications.\");\n\t      return;\n\t    }\n\t\n\t    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n\t      _loglevel2.default.info('Service worker now active:', serviceWorkerRegistration);\n\t\n\t      if (OneSignal._channel) {\n\t        OneSignal._channel.off('data');\n\t        OneSignal._channel.off('notification.clicked');\n\t      }\n\t      OneSignal._channel = _swivel2.default.at(serviceWorkerRegistration.active);\n\t      OneSignal._channel.on('data', function handler(context, data) {\n\t        _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + ' ⬸ ServiceWorker:', (0, _utils.getConsoleStyle)('serviceworkermessage'), data, context);\n\t      });\n\t      OneSignal._channel.on('notification.clicked', function handler(context, data) {\n\t        OneSignal._fireNotificationOpenedCallbacks(data);\n\t      });\n\t      _loglevel2.default.info('Service worker channel now established!');\n\t\n\t      OneSignal._subscribeForPush(serviceWorkerRegistration);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  ///**\n\t  // * Returns a promise that resolves to the browser's current notification permission as 'default', 'granted', or 'denied'.\n\t  // * @param callback A callback function that will be called when the browser's current notification permission has been obtained. On failure, the first argument will be an Error object indicating the failure. On success, the first argument will be null.\n\t  // */\n\t  //getNotificationPermission: function (onComplete) {\n\t  //  let safariWebId = OneSignal._initOptions.safari_web_id;\n\t  //  let result = OneSignal._getNotificationPermission(safariWebId);\n\t  //},\n\t\n\t  /*\n\t   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n\t   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n\t   */\n\t  _getNotificationPermission: function _getNotificationPermission(safariWebId) {\n\t    /*\n\t     For the following conditions, get directly and return:\n\t     - Safari, because the permission property is not scoped by origin\n\t     - HTTPS without a subdomain, because the permission is then accessed directly\n\t      Otherwise use a postmessage for:\n\t     - HTTP, this one is obvious\n\t     - HTTPS with a subdomain, when someone wants to consolidate multiple HTTPS sites under a subdomain\n\t     */\n\t    return new Promise(function (resolve, reject) {\n\t      var isHttpsProtocol = location.protocol === 'https:';\n\t      var noSubdomain = !OneSignal._useHttpMode;\n\t      if (Browser.safari || isHttpsProtocol && noSubdomain) {\n\t        if (window.safari) {\n\t          // The user is on Safari\n\t          // A web ID is required to determine the current notificiation permission\n\t          if (safariWebId) {\n\t            resolve(window.safari.pushNotification.permission(safariWebId).permission);\n\t          } else {\n\t            // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n\t            resolve(\"default\");\n\t          }\n\t        } else {\n\t          // Identical API on Firefox and Chrome\n\t          resolve(Notification.permission);\n\t        }\n\t      } else {\n\t        var uid = (0, _utils.guid)();\n\t        _limitStore2.default.put('_getNotificationPermissionPromiseResolve.' + uid, resolve);\n\t        if (OneSignal._iframePort) {\n\t          OneSignal._iframePort.postMessage({ remoteGetNotificationPermission: true, safariWebId: safariWebId, promiseId: uid, from: _environment2.default.getEnv() });\n\t          // This promise will eventually be resolved by _listener_receiveMessage\n\t        } else {\n\t            // This entire function was called before an iFrame port is even available\n\t            resolve(\"default\");\n\t          }\n\t      }\n\t    });\n\t  },\n\t\n\t  _triggerEvent_customPromptClicked: function _triggerEvent_customPromptClicked(clickResult) {\n\t    var recentPermissions = _limitStore2.default.put('prompt.custom.permission', clickResult);\n\t    _events2.default.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n\t      result: clickResult\n\t    });\n\t  },\n\t\n\t  _triggerEvent_nativePromptPermissionChanged: function _triggerEvent_nativePromptPermissionChanged(from, to) {\n\t    var updateIfIdentical = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t    if (to === undefined) {\n\t      var promise = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t        to = permission;\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    } else {\n\t      var promise = Promise.resolve();\n\t    }\n\t    promise.then(function () {\n\t      if (from !== to || updateIfIdentical) {\n\t        var recentPermissions = _limitStore2.default.put('notification.permission', to);\n\t        _events2.default.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n\t          from: from,\n\t          to: to\n\t        });\n\t      }\n\t    });\n\t  },\n\t\n\t  _triggerEvent_subscriptionChanged: function _triggerEvent_subscriptionChanged(to) {\n\t    _events2.default.trigger(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, to);\n\t  },\n\t\n\t  _triggerEvent_dbValueRetrieved: function _triggerEvent_dbValueRetrieved(value) {\n\t    _events2.default.trigger(_database2.default.EVENTS.RETRIEVED, value);\n\t  },\n\t\n\t  _triggerEvent_dbValueSet: function _triggerEvent_dbValueSet(value) {\n\t    _events2.default.trigger(_database2.default.EVENTS.SET, value);\n\t  },\n\t\n\t  _triggerEvent_internalSubscriptionSet: function _triggerEvent_internalSubscriptionSet(value) {\n\t    _events2.default.trigger(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, value);\n\t  },\n\t\n\t  _subscribeForPush: function _subscribeForPush(serviceWorkerRegistration) {\n\t    var notificationPermissionBeforeRequest = '';\n\t\n\t    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      notificationPermissionBeforeRequest = permission;\n\t    }).then(function () {\n\t      return serviceWorkerRegistration.pushManager.subscribe({ userVisibleOnly: true });\n\t    }).then(function (subscription) {\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      _database2.default.get('Ids', 'appId').then(function _subscribeForPush_GotAppId(appIdResult) {\n\t        var appId = appIdResult.id;\n\t        _loglevel2.default.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\t\n\t        var registrationId = null;\n\t        if (subscription) {\n\t          if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n\t            registrationId = subscription.subscriptionId;else // Chrome 44+ and FireFox\n\t            registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n\t        } else _loglevel2.default.warn('Could not subscribe your browser for push notifications.');\n\t\n\t        OneSignal._registerWithOneSignal(appId, registrationId, (0, _utils.isSupportedFireFox)() ? 8 : 5);\n\t\n\t        if (!OneSignal._usingNativePermissionHook) {\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('Error while subscribing for push:', e);\n\t\n\t      // New addition (12/22/2015), adding support for detecting the cancel 'X'\n\t      // Chrome doesn't show when the user clicked 'X' for cancel\n\t      // We get the same error as if the user had clicked denied, but we can check Notification.permission to see if it is still 'default'\n\t      OneSignal._getNotificationPermission().then(function (permission) {\n\t        if (permission === 'default') {\n\t          // The user clicked 'X'\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission, true);\n\t        }\n\t\n\t        if (!OneSignal._usingNativePermissionHook) OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission);\n\t\n\t        if (opener && OneSignal._httpRegistration) window.close();\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  sendTag: function sendTag(key, value) {\n\t    var jsonKeyValue = {};\n\t    jsonKeyValue[key] = value;\n\t    OneSignal.sendTags(jsonKeyValue);\n\t  },\n\t\n\t  sendTags: function sendTags(jsonPair) {\n\t    _database2.default.get('Ids', 'userId').then(function sendTags_GotUserId(userIdResult) {\n\t      if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t        app_id: OneSignal._app_id,\n\t        tags: jsonPair\n\t      });else {\n\t        if (OneSignal._tagsToSendOnRegister == null) OneSignal._tagsToSendOnRegister = jsonPair;else {\n\t          var resultObj = {};\n\t          for (var _obj in OneSignal._tagsToSendOnRegister) {\n\t            resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n\t          }for (var _obj in jsonPair) {\n\t            resultObj[_obj] = jsonPair[_obj];\n\t          }OneSignal._tagsToSendOnRegister = resultObj;\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('sendTags:', e);\n\t    });\n\t  },\n\t\n\t  deleteTag: function deleteTag(key) {\n\t    OneSignal.deleteTags([key]);\n\t  },\n\t\n\t  deleteTags: function deleteTags(keyArray) {\n\t    var jsonPair = {};\n\t    var length = keyArray.length;\n\t    for (var i = 0; i < length; i++) {\n\t      jsonPair[keyArray[i]] = \"\";\n\t    }OneSignal.sendTags(jsonPair);\n\t  },\n\t\n\t  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n\t  _listener_receiveMessage: function receiveMessage(event) {\n\t    /*\n\t         Note:\n\t         We can receive postMessage() events at any time, not only from our SDK.\n\t         For HTTP sites, the postMessage() events we listen to come from the popup.\n\t         For HTTPS sites, the postMessage() events we listen to come from the modal prompt, which is an actually an <iframe> with an origin pointing to \"https://onesignal.com\"\n\t         We want to filter out messages that aren't these two cases.\n\t     */\n\t    if (!(OneSignal._initOptions && (event.origin === '' || event.origin === 'https://onesignal.com' || event.origin === 'https://' + (OneSignal._initOptions.subdomainName || '') + '.onesignal.com' || (false) && event.origin === _vars.DEV_FRAME_HOST))) {\n\t      return;\n\t    }\n\t\n\t    if (event.data.from) {\n\t      var from = event.data.from.capitalize();\n\t    } else {\n\t      var from = 'IFrame/Popup';\n\t    }\n\t    _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + ' ⬸ ' + from + ':', (0, _utils.getConsoleStyle)('postmessage'), event.data);\n\t\n\t    if (event.data.oneSignalInitPageReady) {\n\t      // Only called on HTTP pages.\n\t      var eventData = event.data.oneSignalInitPageReady;\n\t\n\t      if (eventData.isIframe) {\n\t        OneSignal._iframePort = event.ports[0];\n\t      }\n\t\n\t      if (eventData.userId) _database2.default.put(\"Ids\", { type: \"userId\", id: eventData.userId });\n\t      if (eventData.registrationId) _database2.default.put(\"Ids\", { type: \"registrationId\", id: eventData.registrationId });\n\t\n\t      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n\t      OneSignal._sendUnsentTags();\n\t\n\t      _database2.default.get(\"Options\").then(function _listener_receiveMessage(options) {\n\t        if (!options.defaultUrl) options.defaultUrl = document.URL;\n\t        if (!options.defaultTitle) options.defaultTitle = document.title;\n\t\n\t        options.parent_url = document.URL;\n\t        event.ports[0].postMessage({ initOptions: options, from: _environment2.default.getEnv() });\n\t\n\t        // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n\t        _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error('_listener_receiveMessage:', e);\n\t      });\n\t    } else if (event.data.currentNotificationPermission) {\n\t      // Subdomain Only\n\t      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n\t    } else if (event.data.remoteGetDbValue) {\n\t      var promiseId = event.data.promiseId;\n\t      var result = event.data.result;\n\t      var promiseResolve = _limitStore2.default.getLast('getSubscriptionPromiseResolve.' + promiseId);\n\t      if (!promiseResolve) {\n\t        _loglevel2.default.warn('When getSubscription() was previously called, no Promise was stored to be called back now.');\n\t      } else {\n\t        _limitStore2.default.remove('getSubscriptionPromiseResolve.' + promiseId);\n\t        promiseResolve(result);\n\t      }\n\t    } else if (event.data.remoteGetNotificationPermissionResponse) {\n\t      var permission = event.data.remoteGetNotificationPermissionResponse;\n\t      var promiseId = event.data.promiseId;\n\t      var promiseResolve = _limitStore2.default.getLast('_getNotificationPermissionPromiseResolve.' + promiseId);\n\t      if (!promiseResolve) {\n\t        _loglevel2.default.warn('When _getNotificationPermission() was previously called, no Promise was stored to be called back now.');\n\t      } else {\n\t        _limitStore2.default.remove('_getNotificationPermissionPromiseResolve.' + promiseId);\n\t        promiseResolve(permission);\n\t      }\n\t    } else if (event.data.setSubscriptionComplete) {\n\t      // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n\t      var promiseId = event.data.promiseId;\n\t      var promiseResolve = _limitStore2.default.getLast('setSubscriptionPromiseResolve.' + promiseId);\n\t      if (!promiseResolve) {\n\t        _loglevel2.default.warn('When setSubscription() was previously called, no Promise was stored to be called back now.');\n\t      } else {\n\t        _limitStore2.default.remove('setSubscriptionPromiseResolve.' + promiseId);\n\t        promiseResolve();\n\t      }\n\t    } else if (event.data.remoteEvent) {\n\t      // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n\t      var name = event.data.remoteEvent;\n\t      var _data = event.data.remoteEventData;\n\t      var remoteTriggerEnv = event.data.from;\n\t      if (!name || _data === undefined) {\n\t        _loglevel2.default.warn('Received an event back from postMessage, but it was undefined!');\n\t      } else {\n\t        _events2.default.trigger(name, _data, remoteTriggerEnv);\n\t      }\n\t    } else if (event.data.idsAvailable) {\n\t      // Only called on HTTP pages.\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      _database2.default.put(\"Ids\", { type: \"userId\", id: event.data.idsAvailable.userId });\n\t      _database2.default.put(\"Ids\", { type: \"registrationId\", id: event.data.idsAvailable.registrationId });\n\t\n\t      if (OneSignal._idsAvailable_callback.length > 0) {\n\t        while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({\n\t            userId: event.data.idsAvailable.userId,\n\t            registrationId: event.data.idsAvailable.registrationId\n\t          });\n\t        }\n\t      }\n\t      OneSignal._sendUnsentTags();\n\t    } else if (event.data.httpsPromptAccepted) {\n\t      // HTTPS Only\n\t      OneSignal.registerForPushNotifications();\n\t      OneSignal.setSubscription(true);\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpsPromptCanceled) {\n\t      // HTTPS Only\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpPromptAccepted) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpPromptCanceled) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpNativePromptPermissionChanged) {\n\t      var recentPermissions = _limitStore2.default.get('notification.permission');\n\t      var permissionBeforePrompt = recentPermissions[0];\n\t      OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt, event.data.httpNativePromptPermissionChanged);\n\t    } else if (OneSignal.openedNotification) {\n\t      // HTTP and HTTPS\n\t      OneSignal._fireNotificationOpenedCallbacks(event, data);\n\t    }\n\t  },\n\t\n\t  _fireNotificationOpenedCallbacks: function _fireNotificationOpenedCallbacks(data) {\n\t    while (OneSignal._notificationOpenedCallbacks.length > 0) {\n\t      var callback = OneSignal._notificationOpenedCallbacks.pop();\n\t      callback(data);\n\t    }\n\t  },\n\t\n\t  addListenerForNotificationOpened: function addListenerForNotificationOpened(callback) {\n\t    OneSignal._notificationOpenedCallbacks.push(callback);\n\t    if (_environment2.default.isBrowser()) {\n\t      _database2.default.get(\"NotificationOpened\", document.URL).then(function (notificationOpenedResult) {\n\t        if (notificationOpenedResult) {\n\t          _database2.default.remove(\"NotificationOpened\", document.URL);\n\t          OneSignal._fireNotificationOpenedCallbacks(notificationOpenedResult.data);\n\t        }\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  },\n\t\n\t  // Subdomain - Fired from message received from iframe.\n\t  _fireNotificationEnabledCallback: function _fireNotificationEnabledCallback(newNotificationPermission) {\n\t    if (OneSignal._isNotificationEnabledCallback) {\n\t      while (OneSignal._isNotificationEnabledCallback.length > 0) {\n\t        var callback = OneSignal._isNotificationEnabledCallback.pop();\n\t        callback(newNotificationPermission);\n\t      }\n\t    }\n\t  },\n\t\n\t  getIdsAvailable: function getIdsAvailable(callback) {\n\t    if (callback === undefined) return;\n\t\n\t    OneSignal._idsAvailable_callback.push(callback);\n\t\n\t    Promise.all([_database2.default.get('Ids', 'userId'), _database2.default.get('Ids', 'registrationId')]).then(function getIdsAvailable_GotUserRegistrationIds(results) {\n\t      var userIdResult = results[0];\n\t      var registrationIdResult = results[1];\n\t\n\t      if (userIdResult) {\n\t        if (registrationIdResult) {\n\t          while (OneSignal._idsAvailable_callback.length > 0) {\n\t            var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t            curr_callback({\n\t              userId: userIdResult.id,\n\t              registrationId: registrationIdResult.id\n\t            });\n\t          }\n\t        } else while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({ userId: userIdResult.id, registrationId: null });\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  getTags: function getTags(callback) {\n\t    _database2.default.get('Ids', 'userId').then(function (userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n\t          callback(response.tags);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  isPushNotificationsEnabled: function isPushNotificationsEnabled(callback) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    // If Subdomain\n\t    if (OneSignal._initOptions.subdomainName && !(0, _utils.isBrowserSafari)()) {\n\t      OneSignal._isNotificationEnabledCallback.push(callback);\n\t      if (OneSignal._iframePort) {\n\t        OneSignal._iframePort.postMessage({ getNotificationPermission: true, from: _environment2.default.getEnv() });\n\t      }\n\t      return;\n\t    }\n\t\n\t    // If HTTPS\n\t\n\t    Promise.all([_database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function (results) {\n\t      var registrationIdResult = results[0];\n\t      var subscriptionResult = results[1];\n\t\n\t      if (registrationIdResult) {\n\t        if (subscriptionResult && !subscriptionResult.value) return callback(false);\n\t\n\t        callback(Notification.permission == \"granted\");\n\t      } else callback(false);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _getNotificationTypes: function _getNotificationTypes(callback) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._getSubscription().then(function (currentSubscription) {\n\t        var notificationType = currentSubscription ? 1 : -2;\n\t        resolve(notificationType);\n\t        callback(notificationType);\n\t      });\n\t    });\n\t  },\n\t\n\t  setSubscription: function setSubscription(newSubscription) {\n\t    return new Promise(function (resolve, reject) {\n\t      if (OneSignal._iframePort) {\n\t        var uid = (0, _utils.guid)();\n\t        _limitStore2.default.put('setSubscriptionPromiseResolve.' + uid, resolve);\n\t        OneSignal._iframePort.postMessage({ setSubdomainState: { setSubscription: newSubscription }, promiseId: uid, from: _environment2.default.getEnv() });\n\t        // This promise will eventually be resolved when the iFrame replies with setSubscriptionComplete\n\t      } else {\n\t          OneSignal._getSubscription().then(function (currentSubscription) {\n\t            if (currentSubscription != newSubscription) {\n\t              return _database2.default.put(\"Options\", { key: \"subscription\", value: newSubscription });\n\t            } else {\n\t              _loglevel2.default.debug('Called %csetSubscription(' + newSubscription + ')', (0, _utils.getConsoleStyle)('code'), 'but there was no change, so skipping call.');\n\t              resolve();\n\t            }\n\t          }).then(function () {\n\t            return _database2.default.get('Ids', 'userId');\n\t          }).then(function (userIdResult) {\n\t            if (userIdResult) {\n\t              return (0, _api.apiCall)(\"players/\" + userIdResult.id, \"PUT\", {\n\t                app_id: OneSignal._app_id,\n\t                notification_types: newSubscription ? 1 : -2\n\t              });\n\t            } else {\n\t              _loglevel2.default.warn('Called %csetSubscription(' + newSubscription + ')', (0, _utils.getConsoleStyle)('code'), 'but there was no user ID, so the result was not forwarded to OneSignal.');\n\t              return Promise.reject('No user ID.');\n\t            }\n\t          }).then(function () {\n\t            OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n\t            resolve();\n\t          }).catch(function (e) {\n\t            if (e.constructor.name === 'Error') {\n\t              _loglevel2.default.error(e);\n\t              reject(e);\n\t            } else {\n\t              resolve(e);\n\t            }\n\t          });\n\t        }\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Returns a promise that resolves to false if setSubscription(false) has been explicitly called at any point in time. Otherwise returns true.\n\t   * This means a return value of true does not mean the user is subscribed, only that the user did not call setSubcription(false).\n\t   * @private\n\t   * @returns {Promise}\n\t   */\n\t  _getSubscription: function _getSubscription() {\n\t    return new Promise(function (resolve, reject) {\n\t      _loglevel2.default.debug('Called %c_getSubscription()', (0, _utils.getConsoleStyle)('code'), '(from ' + _environment2.default.getEnv() + ')');\n\t      var promise;\n\t      if (OneSignal._iframePort) {\n\t        (function () {\n\t          var uid = (0, _utils.guid)();\n\t          promise = new Promise(function (resolve, reject) {\n\t            _limitStore2.default.put('getSubscriptionPromiseResolve.' + uid, resolve);\n\t            OneSignal._iframePort.postMessage({ remoteGetDbValue: true, table: 'Options', key: 'subscription', promiseId: uid, from: _environment2.default.getEnv() });\n\t            // This promise will eventually be resolved when the iFrame replies with remoteGetDbValue\n\t          });\n\t        })();\n\t      } else {\n\t          promise = _database2.default.get('Options', 'subscription');\n\t        }\n\t      promise.then(function (subscriptionResult) {\n\t        resolve(!(subscriptionResult && subscriptionResult.value == false));\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t        reject(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _safePostMessage: function _safePostMessage(creator, data, targetOrigin, receiver) {\n\t    var tOrigin = targetOrigin.toLowerCase();\n\t\n\t    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n\t    if (tOrigin.startsWith(\"http://\")) {\n\t      var queryDict = {};\n\t      location.search.substr(1).split(\"&\").forEach(function (item) {\n\t        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1];\n\t      });\n\t      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n\t      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n\t    }\n\t\n\t    if (!data.from) {\n\t      data['from'] = _environment2.default.getEnv();\n\t    }\n\t\n\t    if (receiver) creator.postMessage(data, tOrigin, receiver);else creator.postMessage(data, tOrigin);\n\t  },\n\t\n\t  _process_pushes: function _process_pushes(array) {\n\t    for (var i = 0; i < array.length; i++) {\n\t      OneSignal.push(array[i]);\n\t    }\n\t  },\n\t\n\t  push: function push(item) {\n\t    if (typeof item == \"function\") item();else {\n\t      var functionName = item.shift();\n\t      OneSignal[functionName].apply(null, item);\n\t    }\n\t  }\n\t};\n\t\n\tObject.defineProperty(OneSignal, 'LOGGING', {\n\t  get: function get() {\n\t    if (!OneSignal._LOGGING) {\n\t      OneSignal._LOGGING = false;\n\t    }\n\t    return OneSignal._LOGGING;\n\t  },\n\t  set: function set(logLevel) {\n\t    if (logLevel) {\n\t      _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.TRACE);\n\t      OneSignal._LOGGING = true;\n\t    } else {\n\t      _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.ERROR);\n\t      OneSignal._LOGGING = false;\n\t    }\n\t  },\n\t  enumerable: true,\n\t  configurable: true\n\t});\n\t\n\t// If imported on your page.\n\tif (_environment2.default.isBrowser()) {\n\t  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\n\t} else {// if imported from the service worker.\n\t\n\t}\n\t\n\tif (OneSignal.LOGGING) _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.TRACE);else _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.ERROR);\n\t\n\t_loglevel2.default.info('%cOneSignal Web SDK loaded (version ' + OneSignal._VERSION + ', ' + _environment2.default.getEnv() + ' environment).', (0, _utils.getConsoleStyle)('bold'));\n\t\n\tmodule.exports = OneSignal;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t(function() {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t      list = []\n\t      this.map[name] = list\n\t    }\n\t    list.push(value)\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t  }\n\t\n\t  Headers.prototype.getAll = function(name) {\n\t    return this.map[normalizeName(name)] || []\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n\t      this.map[name].forEach(function(value) {\n\t        callback.call(thisArg, value, name, this)\n\t      }, this)\n\t    }, this)\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  var support = {\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob();\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (!body) {\n\t        this._bodyText = ''\n\t      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n\t        // Only support ArrayBuffers for POST method.\n\t        // Receiving ArrayBuffers happens via Blobs, instead.\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        return this.blob().then(readBlobAsArrayBuffer)\n\t      }\n\t\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text')\n\t        } else {\n\t          return Promise.resolve(this._bodyText)\n\t        }\n\t      }\n\t    } else {\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        return rejected ? rejected : Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t    if (Request.prototype.isPrototypeOf(input)) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = input\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this)\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function headers(xhr) {\n\t    var head = new Headers()\n\t    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n\t    pairs.forEach(function(header) {\n\t      var split = header.trim().split(':')\n\t      var key = split.shift().trim()\n\t      var value = split.join(':').trim()\n\t      head.append(key, value)\n\t    })\n\t    return head\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this._initBody(bodyInit)\n\t    this.type = 'default'\n\t    this.status = options.status\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n\t    this.url = options.url || ''\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request\n\t      if (Request.prototype.isPrototypeOf(input) && !init) {\n\t        request = input\n\t      } else {\n\t        request = new Request(input, init)\n\t      }\n\t\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL\n\t        }\n\t\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL')\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      xhr.onload = function() {\n\t        var status = (xhr.status === 1223) ? 204 : xhr.status\n\t        if (status < 100 || status > 599) {\n\t          reject(new TypeError('Network request failed'))\n\t          return\n\t        }\n\t        var options = {\n\t          status: status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        }\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})();\n\t\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = global.fetch\n\t}.call(global));\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Capitalizes the first letter of the string.\n\t * @returns {string} The string with the first letter capitalized.\n\t */\n\tString.prototype.capitalize = function () {\n\t  return this.charAt(0).toUpperCase() + this.slice(1);\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.apiCall = apiCall;\n\texports.sendNotification = sendNotification;\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction apiCall(action, method, data) {\n\t  var headers = new Headers();\n\t  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\t\n\t  var contents = {\n\t    method: method || 'NO_METHOD_SPECIFIED',\n\t    headers: headers,\n\t    cache: 'no-cache'\n\t  };\n\t  if (data) contents.body = JSON.stringify(data);\n\t\n\t  var status;\n\t  return fetch(_vars.API_URL + action, contents).then(function (response) {\n\t    status = response.status;\n\t    return response.json();\n\t  }).then(function (json) {\n\t    if (status >= 200 && status < 300) return json;else return Promise.reject(json);\n\t  });\n\t}\n\t\n\tfunction sendNotification(appId, playerIds, titles, contents, url, data) {\n\t  var params = {\n\t    app_id: appId,\n\t    contents: contents,\n\t    include_player_ids: playerIds,\n\t    isAnyWeb: true,\n\t    data: data\n\t  };\n\t  (0, _utils.trimUndefined)(params);\n\t  if (titles) {\n\t    params.headings = titles;\n\t  }\n\t  if (url) {\n\t    params.url = url;\n\t  }\n\t  return apiCall('notifications', 'POST', params).catch(function (e) {\n\t    if (e.warnings) {\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = e.warnings[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var warning = _step.value;\n\t\n\t          if ((0, _utils.contains)(warning, 'Received ERROR 401 (Unauthorized, check your App auth_key.)')) {\n\t            _loglevel2.default.error(\"OneSignal: Your Google Server API Key is either invalid, is missing the required 'Google Cloud Messaging for Android' API, or is only accepting requests from certain IPs. (See: https://documentation.onesignal.com/docs/website-push-common-problems#received-error-401-unauthorized-check-your-app-aut)\");\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t    }\n\t    _loglevel2.default.error('Failed to send notification:', e);\n\t  });\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t LimitStore.put('colorado', 'rocky');\n\t [\"rocky\"]\n\t LimitStore.put('colorado', 'mountain');\n\t [\"rocky\", \"mountain\"]\n\t LimitStore.put('colorado', 'national');\n\t [\"mountain\", \"national\"]\n\t LimitStore.put('colorado', 'park');\n\t [\"national\", \"park\"]\n\t */\n\tfunction LimitStore() {}\n\t\n\tLimitStore.store = {};\n\tLimitStore.LIMIT = 2;\n\t\n\tLimitStore.put = function (key, value) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  LimitStore.store[key].push(value);\n\t  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n\t    LimitStore.store[key].shift();\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.get = function (key) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.getFirst = function (key) {\n\t  return LimitStore.get(key)[0];\n\t};\n\t\n\tLimitStore.getLast = function (key) {\n\t  return LimitStore.get(key)[1];\n\t};\n\t\n\tLimitStore.remove = function (key) {\n\t  delete LimitStore.store[key];\n\t};\n\t\n\tLimitStore.isEmpty = function (key) {\n\t  var values = LimitStore.get(key);\n\t  return values[0] === null && values[1] === null;\n\t};\n\t\n\texports.default = LimitStore;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\t__webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SILENT_EVENTS = ['onesignal.nb.hovering', 'onesignal.nb.hovered', 'onesignal.nb.launcher.button.click', 'onesignal.nb.launcher.click', 'onesignal.nb.animatedelement.hiding', 'onesignal.nb.animatedelement.hidden', 'onesignal.nb.animatedelement.showing', 'onesignal.nb.animatedelement.shown', 'onesignal.nb.activeanimatedelement.activating', 'onesignal.nb.activeanimatedelement.active', 'onesignal.nb.activeanimatedelement.inactivating', 'onesignal.nb.activeanimatedelement.inactive', 'onesignal.db.retrieved', 'onesignal.db.set'];\n\t\n\tvar RETRIGGER_REMOTE_EVENTS = ['onesignal.prompt.custom.clicked', 'onesignal.prompt.native.permissionchanged', 'onesignal.subscription.changed', 'onesignal.internal.subscriptionset'];\n\t\n\tvar Event = (function () {\n\t  function Event() {\n\t    _classCallCheck(this, Event);\n\t  }\n\t\n\t  _createClass(Event, null, [{\n\t    key: 'trigger',\n\t    value: function trigger(eventName, data) {\n\t      var remoteTriggerEnv = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t      if (!eventName) {\n\t        _loglevel2.default.warn('Missing event name.');\n\t      }\n\t      if (!(0, _utils.contains)(SILENT_EVENTS, eventName)) {\n\t        if (!_environment2.default.isBrowser()) {\n\t          _loglevel2.default.debug('(' + _environment2.default.getEnv().capitalize() + ') » %c' + eventName + ':', (0, _utils.getConsoleStyle)('event'), data, '(not triggered in a ServiceWorker environment)');\n\t          return;\n\t        } else {\n\t          var displayData = data;\n\t          if (remoteTriggerEnv) {\n\t            var env = _environment2.default.getEnv().capitalize() + ' ⬸ ' + remoteTriggerEnv.capitalize();\n\t          } else {\n\t            var env = _environment2.default.getEnv().capitalize();\n\t          }\n\t\n\t          if (displayData || displayData === false) {\n\t            _loglevel2.default.debug('(' + env + ') » %c' + eventName + ':', (0, _utils.getConsoleStyle)('event'), displayData);\n\t          } else {\n\t            _loglevel2.default.debug('(' + env + ') » %c' + eventName, (0, _utils.getConsoleStyle)('event'));\n\t          }\n\t        }\n\t      }\n\t      if (_environment2.default.isBrowser()) {\n\t        var event = new CustomEvent(eventName, {\n\t          bubbles: true, cancelable: true, detail: data\n\t        });\n\t        window.dispatchEvent(event);\n\t\n\t        // If this event was triggered in an iFrame or Popup environment, also trigger it on the host page\n\t        if (!_environment2.default.isHost()) {\n\t          var creator = opener || parent;\n\t          if (!creator) {\n\t            _loglevel2.default.error('Could not send event \\'' + eventName + '\\' back to host page because no creator (opener or parent) found!');\n\t          } else {\n\t            // But only if the event matches certain events\n\t            if ((0, _utils.contains)(RETRIGGER_REMOTE_EVENTS, eventName)) {\n\t              OneSignal._safePostMessage(creator, { remoteEvent: eventName, remoteEventData: data, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Event;\n\t})();\n\t\n\texports.default = Event;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _AnimatedElement = __webpack_require__(14);\n\t\n\tvar _AnimatedElement2 = _interopRequireDefault(_AnimatedElement);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tvar _Launcher = __webpack_require__(17);\n\t\n\tvar _Launcher2 = _interopRequireDefault(_Launcher);\n\t\n\tvar _Badge = __webpack_require__(18);\n\t\n\tvar _Badge2 = _interopRequireDefault(_Badge);\n\t\n\tvar _Button = __webpack_require__(19);\n\t\n\tvar _Button2 = _interopRequireDefault(_Button);\n\t\n\tvar _Dialog = __webpack_require__(21);\n\t\n\tvar _Dialog2 = _interopRequireDefault(_Dialog);\n\t\n\tvar _Message = __webpack_require__(20);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\t__webpack_require__(22);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar logoSvg = __webpack_require__(26);\n\t\n\tvar Bell = (function () {\n\t  _createClass(Bell, [{\n\t    key: 'substituteText',\n\t    value: function substituteText() {\n\t      // key: 'message.action.subscribing'\n\t      // value: 'Click <strong>{{prompt.native.grant}}</strong> to receive notifications'\n\t      for (var key in this.text) {\n\t        if (this.text.hasOwnProperty(key)) {\n\t          var value = this.text[key];\n\t          // browserName could be 'chrome' or 'firefox' or 'safari'\n\t          var browserName = Browser.name.toLowerCase();\n\t\n\t          // tKey: 'prompt.native.grant'  (from TEXT_SUBS)\n\t          // tValue: { chrome: 'Allow', firefox: 'Al... }\n\t          // zValue: 'Allow', if browserName === 'chrome'\n\t          for (var tKey in Bell.TEXT_SUBS) {\n\t            if (Bell.TEXT_SUBS.hasOwnProperty(tKey)) {\n\t              var tValue = Bell.TEXT_SUBS[tKey];\n\t              var zValue = tValue[browserName];\n\t              if (value && (0, _utils.contains)(value, '{{')) {\n\t                this.text[key] = value.replace('{{' + tKey + '}}', zValue !== undefined ? zValue : tValue['default']);\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        STATE_CHANGED: 'onesignal.nb.state.changed',\n\t        LAUNCHER_CLICK: 'onesignal.nb.launcher.click',\n\t        BELL_CLICK: 'onesignal.nb.launcher.button.click',\n\t        SUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.subscribe.click',\n\t        UNSUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.unsubscribe.click',\n\t        HOVERING: 'onesignal.nb.hovering',\n\t        HOVERED: 'onesignal.nb.hovered'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'STATES',\n\t    get: function get() {\n\t      return {\n\t        UNINITIALIZED: 'uninitialized',\n\t        SUBSCRIBED: 'subscribed',\n\t        UNSUBSCRIBED: 'unsubscribed',\n\t        BLOCKED: 'blocked'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'TEXT_SUBS',\n\t    get: function get() {\n\t      return {\n\t        'prompt.native.grant': {\n\t          default: 'Allow',\n\t          chrome: 'Allow',\n\t          firefox: 'Always Receive Notifications',\n\t          safari: 'Allow'\n\t        }\n\t      };\n\t    }\n\t  }]);\n\t\n\t  function Bell() {\n\t    var _this = this;\n\t\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref$enable = _ref.enable;\n\t    var enable = _ref$enable === undefined ? false : _ref$enable;\n\t    var _ref$size = _ref.size;\n\t    var size = _ref$size === undefined ? 'medium' : _ref$size;\n\t    var _ref$position = _ref.position;\n\t    var position = _ref$position === undefined ? 'bottom-right' : _ref$position;\n\t    var _ref$theme = _ref.theme;\n\t    var theme = _ref$theme === undefined ? 'default' : _ref$theme;\n\t    var _ref$showLauncherAfte = _ref.showLauncherAfter;\n\t    var showLauncherAfter = _ref$showLauncherAfte === undefined ? 10 : _ref$showLauncherAfte;\n\t    var _ref$showBadgeAfter = _ref.showBadgeAfter;\n\t    var showBadgeAfter = _ref$showBadgeAfter === undefined ? 300 : _ref$showBadgeAfter;\n\t    var _ref$text = _ref.text;\n\t    var text = _ref$text === undefined ? {\n\t      'tip.state.unsubscribed': 'Subscribe to notifications',\n\t      'tip.state.subscribed': \"You're subscribed to notifications\",\n\t      'tip.state.blocked': \"You've blocked notifications\",\n\t      'message.prenotify': 'Click to subscribe to notifications',\n\t      'message.action.subscribing': \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\",\n\t      'message.action.subscribed': \"Thanks for subscribing!\",\n\t      'message.action.resubscribed': \"You're subscribed to notifications\",\n\t      'message.action.unsubscribed': \"You won't receive notifications again\",\n\t      'dialog.main.title': 'Manage Site Notifications',\n\t      'dialog.main.button.subscribe': 'SUBSCRIBE',\n\t      'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',\n\t      'dialog.blocked.title': 'Unblock Notifications',\n\t      'dialog.blocked.message': \"Follow these instructions to allow notifications:\"\n\t    } : _ref$text;\n\t    var _ref$prenotify = _ref.prenotify;\n\t    var prenotify = _ref$prenotify === undefined ? true : _ref$prenotify;\n\t    var _ref$showCredit = _ref.showCredit;\n\t    var showCredit = _ref$showCredit === undefined ? true : _ref$showCredit;\n\t\n\t    _classCallCheck(this, Bell);\n\t\n\t    this.options = {\n\t      enable: enable,\n\t      size: size,\n\t      position: position,\n\t      theme: theme,\n\t      showLauncherAfter: showLauncherAfter,\n\t      showBadgeAfter: showBadgeAfter,\n\t      text: text,\n\t      prenotify: prenotify,\n\t      showCredit: showCredit\n\t    };\n\t\n\t    if (!this.options.enable) return;\n\t\n\t    if (!(0, _utils.contains)(['small', 'medium', 'large'], this.options.size)) throw new Error('Invalid size ' + this.options.size + ' for notify button. Choose among \\'small\\', \\'medium\\', or \\'large\\'.');\n\t    if (!(0, _utils.contains)(['bottom-left', 'bottom-right'], this.options.position)) throw new Error('Invalid position ' + this.options.position + ' for notify button. Choose either \\'bottom-left\\', or \\'bottom-right\\'.');\n\t    if (!(0, _utils.contains)(['default', 'inverse'], this.options.theme)) throw new Error('Invalid theme ' + this.options.theme + ' for notify button. Choose either \\'default\\', or \\'inverse\\'.');\n\t    if (this.options.showLauncherAfter < 0) throw new Error('Invalid delay duration of ' + this.options.showLauncherAfter + ' for showing the notify button. Choose a value above 0.');\n\t    if (this.options.showBadgeAfter < 0) throw new Error('Invalid delay duration of ' + this.options.showBadgeAfter + ' for showing the notify button\\'s badge. Choose a value above 0.');\n\t    this.size = this.options.size;\n\t    this.position = this.options.position;\n\t    this.text = this.options.text;\n\t    if (!this.text['tip.state.unsubscribed']) this.text['tip.state.unsubscribed'] = 'Subscribe to notifications';\n\t    if (!this.text['tip.state.subscribed']) this.text['tip.state.subscribed'] = \"You're subscribed to notifications\";\n\t    if (!this.text['tip.state.blocked']) this.text['tip.state.blocked'] = \"You've blocked notifications\";\n\t    if (!this.text['message.prenotify']) this.text['message.prenotify'] = \"Click to subscribe to notifications\";\n\t    if (!this.text['message.action.subscribed']) this.text['message.action.subscribed'] = \"Thanks for subscribing!\";\n\t    if (!this.text['message.action.resubscribed']) this.text['message.action.resubscribed'] = \"You're subscribed to notifications\";\n\t    if (!this.text['message.action.subscribing']) this.text['message.action.subscribing'] = \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\";\n\t    if (!this.text['message.action.unsubscribed']) this.text['message.action.unsubscribed'] = \"You won't receive notifications again\";\n\t    if (!this.text['dialog.main.title']) this.text['dialog.main.title'] = 'Manage Site Notifications';\n\t    if (!this.text['dialog.main.button.subscribe']) this.text['dialog.main.button.subscribe'] = 'SUBSCRIBE';\n\t    if (!this.text['dialog.main.button.unsubscribe']) this.text['dialog.main.button.unsubscribe'] = 'UNSUBSCRIBE';\n\t    if (!this.text['dialog.blocked.title']) this.text['dialog.blocked.title'] = 'Unblock Notifications';\n\t    if (!this.text['dialog.blocked.message']) this.text['dialog.blocked.message'] = 'Follow these instructions to allow notifications:';\n\t    this.substituteText();\n\t    this.state = Bell.STATES.UNINITIALIZED;\n\t\n\t    // Install event hooks\n\t    window.addEventListener(Bell.EVENTS.SUBSCRIBE_CLICK, function () {\n\t      _this.dialog.subscribeButton.disabled = true;\n\t      OneSignal.setSubscription(true).then(function () {\n\t        _this.dialog.subscribeButton.disabled = false;\n\t        return _this.dialog.hide();\n\t      }).then(function () {\n\t        return _this.message.display(_Message2.default.TYPES.MESSAGE, _this.text['message.action.resubscribed'], _Message2.default.TIMEOUT);\n\t      }).then(function () {\n\t        _this.launcher.clearIfWasInactive();\n\t        return _this.launcher.inactivate();\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.UNSUBSCRIBE_CLICK, function () {\n\t      _this.dialog.unsubscribeButton.disabled = true;\n\t      OneSignal.setSubscription(false).then(function () {\n\t        _this.dialog.unsubscribeButton.disabled = false;\n\t        return _this.dialog.hide();\n\t      }).then(function () {\n\t        _this.launcher.clearIfWasInactive();\n\t        return _this.launcher.activate();\n\t      }).then(function () {\n\t        return _this.message.display(_Message2.default.TYPES.MESSAGE, _this.text['message.action.unsubscribed'], _Message2.default.TIMEOUT);\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.HOVERING, function () {\n\t      _this.hovering = true;\n\t      _this.launcher.activateIfInactive();\n\t\n\t      // If there's already a message being force shown, do not override\n\t      if (_this.message.shown || _this.dialog.shown) {\n\t        _this.hovering = false;\n\t        return;\n\t      }\n\t\n\t      // If the message is a message and not a tip, don't show it (only show tips)\n\t      // Messages will go away on their own\n\t      if (_this.message.contentType === _Message2.default.TYPES.MESSAGE) {\n\t        _this.hovering = false;\n\t        return;\n\t      }\n\t\n\t      new Promise(function (resolve, reject) {\n\t        // If a message is being shown\n\t        if (_this.message.queued.length > 0) {\n\t          return _this.message.dequeue().then(function (msg) {\n\t            _this.message.content = msg;\n\t            _this.message.contentType = _Message2.default.TYPES.QUEUED;\n\t            resolve();\n\t          });\n\t        } else {\n\t          _this.message.content = _this.message.getTipForState();\n\t          _this.message.contentType = _Message2.default.TYPES.TIP;\n\t          resolve();\n\t        }\n\t      }).then(function () {\n\t        return _this.message.show();\n\t      }).then(function () {\n\t        _this.hovering = false;\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.HOVERED, function () {\n\t      // If a message is displayed (and not a tip), don't control it. Visitors have no control over messages\n\t      if (_this.message.contentType === _Message2.default.TYPES.MESSAGE) {\n\t        return;\n\t      }\n\t\n\t      if (!_this.dialog.hidden) {\n\t        // If the dialog is being brought up when clicking button, don't shrink\n\t        return;\n\t      }\n\t\n\t      if (_this.hovering) {\n\t        _this.hovering = false;\n\t        // Hovering still being true here happens on mobile where the message could still be showing (i.e. animating) when a HOVERED event fires\n\t        // In other words, you tap on mobile, HOVERING fires, and then HOVERED fires immediately after because of the way mobile click events work\n\t        // Basically only happens if HOVERING and HOVERED fire within a few milliseconds of each other\n\t        _this.message.waitUntilShown().then(function () {\n\t          return (0, _utils.delay)(_Message2.default.TIMEOUT);\n\t        }).then(function () {\n\t          return _this.message.hide();\n\t        }).then(function () {\n\t          if (_this.launcher.wasInactive && _this.dialog.hidden) {\n\t            _this.launcher.inactivate();\n\t            _this.launcher.wasInactive = null;\n\t          }\n\t        });\n\t      }\n\t\n\t      if (_this.message.shown) {\n\t        _this.message.hide().then(function () {\n\t          if (_this.launcher.wasInactive && _this.dialog.hidden) {\n\t            _this.launcher.inactivate();\n\t            _this.launcher.wasInactive = null;\n\t          }\n\t        });\n\t      }\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, function (e) {\n\t      var isSubscribed = e.detail;\n\t      _this.setState(isSubscribed ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, function (from, to) {\n\t      _this.updateState();\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, function (e) {});\n\t\n\t    this.updateState();\n\t  }\n\t\n\t  _createClass(Bell, [{\n\t    key: 'showDialogProcedure',\n\t    value: function showDialogProcedure() {\n\t      var _this2 = this;\n\t\n\t      if (!this.dialog.shown) {\n\t        this.dialog.show().then(function (e) {\n\t          //var id = Math.random().toString(36).substring(7, 11);\n\t          //console.warn(`Generating %cshowDialogProcedure(${id}):`, getConsoleStyle('code'), '.');\n\t          (0, _utils.once)(document, 'click', function (e, destroyEventListener) {\n\t            var wasDialogClicked = _this2.dialog.element.contains(e.target);\n\t            if (wasDialogClicked) {} else {\n\t              //console.warn(`%cshowDialogProcedure(${id}):`, getConsoleStyle('code'), 'A destroying click was detected.');\n\t              destroyEventListener();\n\t              if (_this2.dialog.shown) {\n\t                _this2.dialog.hide().then(function (e) {\n\t                  _this2.launcher.inactivateIfWasInactive();\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              }\n\t            }\n\t          }, true);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'create',\n\t    value: function create() {\n\t      var _this3 = this;\n\t\n\t      if (!(0, _utils.isPushNotificationsSupported)()) return;\n\t\n\t      if (!this.options.enable) return;\n\t\n\t      // Remove any existing bell\n\t      if (this.container) {\n\t        (0, _utils.removeDomElement)('onesignal-bell-container');\n\t      }\n\t\n\t      window.addDomElement = _utils.addDomElement;\n\t      // Insert the bell container\n\t      (0, _utils.addDomElement)('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n\t      // Insert the bell launcher\n\t      (0, _utils.addDomElement)(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n\t      // Insert the bell launcher button\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n\t      // Insert the bell launcher badge\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n\t      // Insert the bell launcher message\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n\t      (0, _utils.addDomElement)(this.message.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n\t      // Insert the bell launcher dialog\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n\t      (0, _utils.addDomElement)(this.dialog.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\t\n\t      // Install events\n\t\n\t      // Add visual elements\n\t      (0, _utils.addDomElement)(this.button.selector, 'beforeEnd', logoSvg);\n\t\n\t      new Promise(function (resolve) {\n\t        OneSignal.isPushNotificationsEnabled(function (isPushEnabled) {\n\t          resolve(isPushEnabled);\n\t        });\n\t      }).then(function (isPushEnabled) {\n\t        // Resize to small instead of specified size if enabled, otherwise there's a jerking motion where the bell, at a different size than small, jerks sideways to go from large -> small or medium -> small\n\t        var resizeTo = isPushEnabled ? 'small' : _this3.options.size;\n\t        // Add default classes\n\t        _this3.launcher.resize(resizeTo).then(function () {\n\t          if (_this3.options.position === 'bottom-left') {\n\t            (0, _utils.addCssClass)(_this3.container, 'onesignal-bell-container-bottom-left');\n\t            (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-bottom-left');\n\t          } else if (_this3.options.position === 'bottom-right') {\n\t            (0, _utils.addCssClass)(_this3.container, 'onesignal-bell-container-bottom-right');\n\t            (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-bottom-right');\n\t          } else {\n\t            throw new Error('Invalid OneSignal notify button position ' + _this3.options.position);\n\t          }\n\t\n\t          if (_this3.options.theme === 'default') {\n\t            (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-theme-default');\n\t          } else if (_this3.options.theme === 'inverse') {\n\t            (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-theme-inverse');\n\t          } else {\n\t            throw new Error('Invalid OneSignal notify button theme ' + _this3.options.theme);\n\t          }\n\t\n\t          _loglevel2.default.info('Showing the notify button.');\n\t\n\t          (isPushEnabled ? _this3.launcher.inactivate() : (0, _utils.nothing)()).then(function () {\n\t            return (0, _utils.delay)(_this3.options.showLauncherAfter);\n\t          }).then(function () {\n\t            return _this3.launcher.show();\n\t          }).then(function () {\n\t            return (0, _utils.delay)(_this3.options.showBadgeAfter);\n\t          }).then(function () {\n\t            if (_this3.options.prenotify && !isPushEnabled && OneSignal._isNewVisitor) {\n\t              return _this3.message.enqueue(_this3.text['message.prenotify']).then(function () {\n\t                return _this3.badge.show();\n\t              });\n\t            } else return (0, _utils.nothing)();\n\t          }).then(function () {\n\t            return _this3.initialized = true;\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Updates the current state to the correct new current state. Returns a promise.\n\t     */\n\t\n\t  }, {\n\t    key: 'updateState',\n\t    value: function updateState() {\n\t      var _this4 = this;\n\t\n\t      OneSignal.isPushNotificationsEnabled(function (isEnabled) {\n\t        _this4.setState(isEnabled ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n\t        if (_limitStore2.default.getLast('notification.permission') === 'denied') {\n\t          _this4.setState(Bell.STATES.BLOCKED);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Updates the current state to the specified new state.\n\t     * @param newState One of ['subscribed', 'unsubscribed'].\n\t     */\n\t\n\t  }, {\n\t    key: 'setState',\n\t    value: function setState(newState) {\n\t      var lastState = this.state;\n\t      this.state = newState;\n\t      if (lastState !== newState) {\n\t        _events2.default.trigger(Bell.EVENTS.STATE_CHANGED, { from: lastState, to: newState });\n\t        // Update anything that should be changed here in the new state\n\t      }\n\t\n\t      // Update anything that should be reset to the same state\n\t    }\n\t  }, {\n\t    key: 'container',\n\t    get: function get() {\n\t      return document.querySelector('#onesignal-bell-container');\n\t    }\n\t  }, {\n\t    key: 'launcher',\n\t    get: function get() {\n\t      if (!this._launcher) this._launcher = new _Launcher2.default(this);\n\t      return this._launcher;\n\t    }\n\t  }, {\n\t    key: 'button',\n\t    get: function get() {\n\t      if (!this._button) this._button = new _Button2.default(this);\n\t      return this._button;\n\t    }\n\t  }, {\n\t    key: 'badge',\n\t    get: function get() {\n\t      if (!this._badge) this._badge = new _Badge2.default(this);\n\t      return this._badge;\n\t    }\n\t  }, {\n\t    key: 'message',\n\t    get: function get() {\n\t      if (!this._message) this._message = new _Message2.default(this);\n\t      return this._message;\n\t    }\n\t  }, {\n\t    key: 'dialog',\n\t    get: function get() {\n\t      if (!this._dialog) this._dialog = new _Dialog2.default(this);\n\t      return this._dialog;\n\t    }\n\t  }, {\n\t    key: 'subscribed',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.SUBSCRIBED;\n\t    }\n\t  }, {\n\t    key: 'unsubscribed',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.UNSUBSCRIBED;\n\t    }\n\t  }, {\n\t    key: 'blocked',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.BLOCKED;\n\t    }\n\t  }]);\n\t\n\t  return Bell;\n\t})();\n\t\n\texports.default = Bell;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  * Bowser - a browser detector\n\t  * https://github.com/ded/bowser\n\t  * MIT License | (c) Dustin Diaz 2015\n\t  */\n\t\n\t!function (name, definition) {\n\t  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n\t  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\t  else this[name] = definition()\n\t}('bowser', function () {\n\t  /**\n\t    * See useragents.js for examples of navigator.userAgent\n\t    */\n\t\n\t  var t = true\n\t\n\t  function detect(ua) {\n\t\n\t    function getFirstMatch(regex) {\n\t      var match = ua.match(regex);\n\t      return (match && match.length > 1 && match[1]) || '';\n\t    }\n\t\n\t    function getSecondMatch(regex) {\n\t      var match = ua.match(regex);\n\t      return (match && match.length > 1 && match[2]) || '';\n\t    }\n\t\n\t    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n\t      , likeAndroid = /like android/i.test(ua)\n\t      , android = !likeAndroid && /android/i.test(ua)\n\t      , chromeBook = /CrOS/.test(ua)\n\t      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\n\t      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n\t      , tablet = /tablet/i.test(ua)\n\t      , mobile = !tablet && /[^-]mobi/i.test(ua)\n\t      , result\n\t\n\t    if (/opera|opr/i.test(ua)) {\n\t      result = {\n\t        name: 'Opera'\n\t      , opera: t\n\t      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/yabrowser/i.test(ua)) {\n\t      result = {\n\t        name: 'Yandex Browser'\n\t      , yandexbrowser: t\n\t      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/windows phone/i.test(ua)) {\n\t      result = {\n\t        name: 'Windows Phone'\n\t      , windowsphone: t\n\t      }\n\t      if (edgeVersion) {\n\t        result.msedge = t\n\t        result.version = edgeVersion\n\t      }\n\t      else {\n\t        result.msie = t\n\t        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/msie|trident/i.test(ua)) {\n\t      result = {\n\t        name: 'Internet Explorer'\n\t      , msie: t\n\t      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    } else if (chromeBook) {\n\t      result = {\n\t        name: 'Chrome'\n\t      , chromeBook: t\n\t      , chrome: t\n\t      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    } else if (/chrome.+? edge/i.test(ua)) {\n\t      result = {\n\t        name: 'Microsoft Edge'\n\t      , msedge: t\n\t      , version: edgeVersion\n\t      }\n\t    }\n\t    else if (/chrome|crios|crmo/i.test(ua)) {\n\t      result = {\n\t        name: 'Chrome'\n\t      , chrome: t\n\t      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (iosdevice) {\n\t      result = {\n\t        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n\t      }\n\t      // WTF: version is not part of user agent in web apps\n\t      if (versionIdentifier) {\n\t        result.version = versionIdentifier\n\t      }\n\t    }\n\t    else if (/sailfish/i.test(ua)) {\n\t      result = {\n\t        name: 'Sailfish'\n\t      , sailfish: t\n\t      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/seamonkey\\//i.test(ua)) {\n\t      result = {\n\t        name: 'SeaMonkey'\n\t      , seamonkey: t\n\t      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/firefox|iceweasel/i.test(ua)) {\n\t      result = {\n\t        name: 'Firefox'\n\t      , firefox: t\n\t      , version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n\t        result.firefoxos = t\n\t      }\n\t    }\n\t    else if (/silk/i.test(ua)) {\n\t      result =  {\n\t        name: 'Amazon Silk'\n\t      , silk: t\n\t      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (android) {\n\t      result = {\n\t        name: 'Android'\n\t      , version: versionIdentifier\n\t      }\n\t    }\n\t    else if (/phantom/i.test(ua)) {\n\t      result = {\n\t        name: 'PhantomJS'\n\t      , phantom: t\n\t      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n\t      result = {\n\t        name: 'BlackBerry'\n\t      , blackberry: t\n\t      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/(web|hpw)os/i.test(ua)) {\n\t      result = {\n\t        name: 'WebOS'\n\t      , webos: t\n\t      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n\t      };\n\t      /touchpad\\//i.test(ua) && (result.touchpad = t)\n\t    }\n\t    else if (/bada/i.test(ua)) {\n\t      result = {\n\t        name: 'Bada'\n\t      , bada: t\n\t      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n\t      };\n\t    }\n\t    else if (/tizen/i.test(ua)) {\n\t      result = {\n\t        name: 'Tizen'\n\t      , tizen: t\n\t      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n\t      };\n\t    }\n\t    else if (/safari/i.test(ua)) {\n\t      result = {\n\t        name: 'Safari'\n\t      , safari: t\n\t      , version: versionIdentifier\n\t      }\n\t    }\n\t    else {\n\t      result = {\n\t        name: getFirstMatch(/^(.*)\\/(.*) /),\n\t        version: getSecondMatch(/^(.*)\\/(.*) /)\n\t     };\n\t   }\n\t\n\t    // set webkit or gecko flag for browsers based on these engines\n\t    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n\t      result.name = result.name || \"Webkit\"\n\t      result.webkit = t\n\t      if (!result.version && versionIdentifier) {\n\t        result.version = versionIdentifier\n\t      }\n\t    } else if (!result.opera && /gecko\\//i.test(ua)) {\n\t      result.name = result.name || \"Gecko\"\n\t      result.gecko = t\n\t      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n\t    }\n\t\n\t    // set OS flags for platforms that have multiple browsers\n\t    if (!result.msedge && (android || result.silk)) {\n\t      result.android = t\n\t    } else if (iosdevice) {\n\t      result[iosdevice] = t\n\t      result.ios = t\n\t    }\n\t\n\t    // OS version extraction\n\t    var osVersion = '';\n\t    if (result.windowsphone) {\n\t      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n\t    } else if (iosdevice) {\n\t      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n\t      osVersion = osVersion.replace(/[_\\s]/g, '.');\n\t    } else if (android) {\n\t      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n\t    } else if (result.webos) {\n\t      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.blackberry) {\n\t      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.bada) {\n\t      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.tizen) {\n\t      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n\t    }\n\t    if (osVersion) {\n\t      result.osversion = osVersion;\n\t    }\n\t\n\t    // device type extraction\n\t    var osMajorVersion = osVersion.split('.')[0];\n\t    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\n\t      result.tablet = t\n\t    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\n\t      result.mobile = t\n\t    }\n\t\n\t    // Graded Browser Support\n\t    // http://developer.yahoo.com/yui/articles/gbs\n\t    if (result.msedge ||\n\t        (result.msie && result.version >= 10) ||\n\t        (result.yandexbrowser && result.version >= 15) ||\n\t        (result.chrome && result.version >= 20) ||\n\t        (result.firefox && result.version >= 20.0) ||\n\t        (result.safari && result.version >= 6) ||\n\t        (result.opera && result.version >= 10.0) ||\n\t        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n\t        (result.blackberry && result.version >= 10.1)\n\t        ) {\n\t      result.a = t;\n\t    }\n\t    else if ((result.msie && result.version < 10) ||\n\t        (result.chrome && result.version < 20) ||\n\t        (result.firefox && result.version < 20.0) ||\n\t        (result.safari && result.version < 6) ||\n\t        (result.opera && result.version < 10.0) ||\n\t        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n\t        ) {\n\t      result.c = t\n\t    } else result.x = t\n\t\n\t    return result\n\t  }\n\t\n\t  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')\n\t\n\t  bowser.test = function (browserList) {\n\t    for (var i = 0; i < browserList.length; ++i) {\n\t      var browserItem = browserList[i];\n\t      if (typeof browserItem=== 'string') {\n\t        if (browserItem in bowser) {\n\t          return true;\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  }\n\t\n\t  /*\n\t   * Set our detect method to the main bowser object so we can\n\t   * reuse it to test other user agents.\n\t   * This is needed to implement future tests.\n\t   */\n\t  bowser._detect = detect;\n\t\n\t  return bowser\n\t});\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AnimatedElement = (function () {\n\t\n\t  /**\n\t   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n\t   * @param selector {string} The CSS selector of the element.\n\t   * @param showClass {string} The CSS class name to add to show the element.\n\t   * @param hideClass {string} The CSS class name to remove to hide the element.\n\t   * @param state {string} The current state of the element, defaults to 'shown'.\n\t   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n\t   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n\t   */\n\t\n\t  function AnimatedElement(selector, showClass, hideClass) {\n\t    var state = arguments.length <= 3 || arguments[3] === undefined ? 'shown' : arguments[3];\n\t    var targetTransitionEvents = arguments.length <= 4 || arguments[4] === undefined ? ['opacity', 'transform'] : arguments[4];\n\t    var nestedContentSelector = arguments.length <= 5 || arguments[5] === undefined ? null : arguments[5];\n\t\n\t    _classCallCheck(this, AnimatedElement);\n\t\n\t    this.selector = selector;\n\t    this.showClass = showClass;\n\t    this.hideClass = hideClass;\n\t    this.state = state;\n\t    this.targetTransitionEvents = targetTransitionEvents;\n\t    this.nestedContentSelector = nestedContentSelector;\n\t    this.transitionCheckTimeout = 500;\n\t  }\n\t\n\t  /**\n\t   * Asynchronously shows an element by applying its {showClass} CSS class.\n\t   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t   */\n\t\n\t  _createClass(AnimatedElement, [{\n\t    key: 'show',\n\t    value: function show() {\n\t      var _this = this;\n\t\n\t      if (!this.hidden) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this.state = 'showing';\n\t        _events2.default.trigger(AnimatedElement.EVENTS.SHOWING, _this);\n\t        if (_this.hideClass) (0, _utils.removeCssClass)(_this.element, _this.hideClass);\n\t        if (_this.showClass) (0, _utils.addCssClass)(_this.element, _this.showClass);\n\t        if (_this.targetTransitionEvents.length == 0) {\n\t          return resolve(_this);\n\t        } else {\n\t          var timerId = setTimeout(function () {\n\t            _loglevel2.default.warn(_this.constructor.name + ' did not completely show (state: ' + _this.state + ', activeState: ' + _this.activeState + ').');\n\t          }, _this.transitionCheckTimeout);\n\t          (0, _utils.once)(_this.element, 'transitionend', function (event, destroyListenerFn) {\n\t            if (event.target === _this.element && (0, _utils.contains)(_this.targetTransitionEvents, event.propertyName)) {\n\t              clearTimeout(timerId);\n\t              // Uninstall the event listener for transitionend\n\t              destroyListenerFn();\n\t              _this.state = 'shown';\n\t              _events2.default.trigger(AnimatedElement.EVENTS.SHOWN, _this);\n\t              return resolve(_this);\n\t            }\n\t          }, true);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously hides an element by applying its {hideClass} CSS class.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'hide',\n\t    value: function hide() {\n\t      var _this2 = this;\n\t\n\t      if (!this.shown) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this2.state = 'hiding';\n\t        _events2.default.trigger(AnimatedElement.EVENTS.HIDING, _this2);\n\t        if (_this2.showClass) (0, _utils.removeCssClass)(_this2.element, _this2.showClass);\n\t        if (_this2.hideClass) (0, _utils.addCssClass)(_this2.element, _this2.hideClass);\n\t        if (_this2.targetTransitionEvents.length == 0) {\n\t          return resolve(_this2);\n\t        } else {\n\t          (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely hide (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            if (event.target === _this2.element && (0, _utils.contains)(_this2.targetTransitionEvents, event.propertyName)) {\n\t              clearTimeout(timerId);\n\t              // Uninstall the event listener for transitionend\n\t              destroyListenerFn();\n\t              _this2.state = 'hidden';\n\t              _events2.default.trigger(AnimatedElement.EVENTS.HIDDEN, _this2);\n\t              return resolve(_this2);\n\t            }\n\t          }, true);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being shown.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilShown',\n\t    value: function waitUntilShown() {\n\t      var _this3 = this;\n\t\n\t      if (this.state === 'shown') return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, AnimatedElement.EVENTS.SHOWN, function (event, destroyListenerFn) {\n\t          var self = _this3;\n\t          if (event.detail === _this3) {\n\t            destroyListenerFn();\n\t            return resolve(_this3);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being hidden.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilHidden',\n\t    value: function waitUntilHidden() {\n\t      var _this4 = this;\n\t\n\t      if (this.state === 'hidden') return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, AnimatedElement.EVENTS.HIDDEN, function (event, destroyListenerFn) {\n\t          if (event.detail === _this4) {\n\t            destroyListenerFn();\n\t            return resolve(_this4);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'content',\n\t\n\t    /**\n\t     * Returns the native element's innerHTML property.\n\t     * @returns {string} Returns the native element's innerHTML property.\n\t     */\n\t    get: function get() {\n\t      if (this.nestedContentSelector) return this.element.querySelector(this.nestedContentSelector).innerHTML;else return this.element.innerHTML;\n\t    }\n\t\n\t    /**\n\t     * Sets the native element's innerHTML property.\n\t     * @param value {string} The HTML to set to the element.\n\t     */\n\t    ,\n\t    set: function set(value) {\n\t      if (this.nestedContentSelector) this.element.querySelector(this.nestedContentSelector).innerHTML = value;else this.element.innerHTML = value;\n\t    }\n\t\n\t    /**\n\t     * Returns the native {Element} via document.querySelector().\n\t     * @returns {Element} Returns the native {Element} via document.querySelector().\n\t     */\n\t\n\t  }, {\n\t    key: 'element',\n\t    get: function get() {\n\t      return document.querySelector(this.selector);\n\t    }\n\t\n\t    /* States an element can be in */\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to being shown.\n\t     */\n\t\n\t  }, {\n\t    key: 'showing',\n\t    get: function get() {\n\t      return this.state === 'showing';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already shown.\n\t     */\n\t\n\t  }, {\n\t    key: 'shown',\n\t    get: function get() {\n\t      return this.state === 'shown';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to hiding.\n\t     */\n\t\n\t  }, {\n\t    key: 'hiding',\n\t    get: function get() {\n\t      return this.state === 'hiding';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already hidden.\n\t     */\n\t\n\t  }, {\n\t    key: 'hidden',\n\t    get: function get() {\n\t      return this.state === 'hidden';\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        SHOWING: 'onesignal.nb.animatedelement.showing',\n\t        SHOWN: 'onesignal.nb.animatedelement.shown',\n\t        HIDING: 'onesignal.nb.animatedelement.hiding',\n\t        HIDDEN: 'onesignal.nb.animatedelement.hidden'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return AnimatedElement;\n\t})();\n\t\n\texports.default = AnimatedElement;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tvar _objectAssign = __webpack_require__(16);\n\t\n\tvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ActiveAnimatedElement = (function (_AnimatedElement) {\n\t  _inherits(ActiveAnimatedElement, _AnimatedElement);\n\t\n\t  /**\n\t   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n\t   * @param selector {string} The CSS selector of the element.\n\t   * @param showClass {string} The CSS class name to add to show the element.\n\t   * @param hideClass {string} The CSS class name to remove to hide the element.\n\t   * @param activeClass {string} The CSS class name to add to activate the element.\n\t   * @param inactiveClass {string} The CSS class name to remove to inactivate the element.\n\t   * @param state {string} The current state of the element, defaults to 'shown'.\n\t   * @param activeState {string} The current state of the element, defaults to 'active'.\n\t   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n\t   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n\t   */\n\t\n\t  function ActiveAnimatedElement(selector, showClass, hideClass, activeClass, inactiveClass) {\n\t    var state = arguments.length <= 5 || arguments[5] === undefined ? 'shown' : arguments[5];\n\t    var activeState = arguments.length <= 6 || arguments[6] === undefined ? 'active' : arguments[6];\n\t    var targetTransitionEvents = arguments.length <= 7 || arguments[7] === undefined ? ['opacity', 'transform'] : arguments[7];\n\t    var nestedContentSelector = arguments.length <= 8 || arguments[8] === undefined ? null : arguments[8];\n\t\n\t    _classCallCheck(this, ActiveAnimatedElement);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ActiveAnimatedElement).call(this, selector, showClass, hideClass, state, targetTransitionEvents, nestedContentSelector));\n\t\n\t    _this.activeClass = activeClass;\n\t    _this.inactiveClass = inactiveClass;\n\t    _this.activeState = activeState;\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * Asynchronously activates an element by applying its {activeClass} CSS class.\n\t   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t   */\n\t\n\t  _createClass(ActiveAnimatedElement, [{\n\t    key: 'activate',\n\t    value: function activate() {\n\t      var _this2 = this;\n\t\n\t      if (!this.inactive || !this.shown) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this2.activeState = 'activating';\n\t        _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVATING, _this2);\n\t        if (_this2.inactiveClass) (0, _utils.removeCssClass)(_this2.element, _this2.inactiveClass);\n\t        if (_this2.activeClass) (0, _utils.addCssClass)(_this2.element, _this2.activeClass);\n\t        if (_this2.shown) {\n\t          if (_this2.targetTransitionEvents.length == 0) {\n\t            return resolve(_this2);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely activate (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this2.element && (0, _utils.contains)(_this2.targetTransitionEvents, event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                _this2.activeState = 'active';\n\t                _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, _this2);\n\t                return resolve(_this2);\n\t              }\n\t            }, true);\n\t          }\n\t        } else {\n\t          call.warn('Ending activate() transition (alternative).');\n\t          _this2.activeState = 'active';\n\t          _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, _this2);\n\t          return resolve(_this2);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously activates an element by applying its {activeClass} CSS class.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactivate',\n\t    value: function inactivate() {\n\t      var _this3 = this;\n\t\n\t      if (!this.active) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this3.activeState = 'inactivating';\n\t        _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVATING, _this3);\n\t        if (_this3.activeClass) (0, _utils.removeCssClass)(_this3.element, _this3.activeClass);\n\t        if (_this3.inactiveClass) (0, _utils.addCssClass)(_this3.element, _this3.inactiveClass);\n\t        if (_this3.shown) {\n\t          if (_this3.targetTransitionEvents.length == 0) {\n\t            return resolve(_this3);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this3.constructor.name + ' did not completely inactivate (state: ' + _this3.state + ', activeState: ' + _this3.activeState + ').');\n\t            }, _this3.transitionCheckTimeout);\n\t            (0, _utils.once)(_this3.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this3.element && (0, _utils.contains)(_this3.targetTransitionEvents, event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                _this3.activeState = 'inactive';\n\t                _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, _this3);\n\t                return resolve(_this3);\n\t              }\n\t            }, true);\n\t          }\n\t        } else {\n\t          _this3.activeState = 'inactive';\n\t          _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, _this3);\n\t          return resolve(_this3);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being active.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilActive',\n\t    value: function waitUntilActive() {\n\t      var _this4 = this;\n\t\n\t      if (this.active) return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, ActiveAnimatedElement.EVENTS.ACTIVE, function (event, destroyListenerFn) {\n\t          if (event.detail === _this4) {\n\t            destroyListenerFn();\n\t            return resolve(_this4);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being inactive.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilInactive',\n\t    value: function waitUntilInactive() {\n\t      var _this5 = this;\n\t\n\t      if (this.inactive) return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, ActiveAnimatedElement.EVENTS.INACTIVE, function (event, destroyListenerFn) {\n\t          if (event.detail === _this5) {\n\t            destroyListenerFn();\n\t            return resolve(_this5);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'activating',\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to being activated.\n\t     */\n\t    get: function get() {\n\t      return this.activeState === 'activating';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already active.\n\t     */\n\t\n\t  }, {\n\t    key: 'active',\n\t    get: function get() {\n\t      return this.activeState === 'active';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to inactive.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactivating',\n\t    get: function get() {\n\t      return this.activeState === 'inactivating';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already inactive.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactive',\n\t    get: function get() {\n\t      return this.activeState === 'inactive';\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return (0, _objectAssign2.default)({}, _AnimatedElement3.default.EVENTS, {\n\t        ACTIVATING: 'onesignal.nb.activeanimatedelement.activating',\n\t        ACTIVE: 'onesignal.nb.activeanimatedelement.active',\n\t        INACTIVATING: 'onesignal.nb.activeanimatedelement.inactivating',\n\t        INACTIVE: 'onesignal.nb.activeanimatedelement.inactive'\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return ActiveAnimatedElement;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = ActiveAnimatedElement;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t/* eslint-disable no-unused-vars */\n\t'use strict';\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tmodule.exports = Object.assign || function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (Object.getOwnPropertySymbols) {\n\t\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement = __webpack_require__(14);\n\t\n\tvar _AnimatedElement2 = _interopRequireDefault(_AnimatedElement);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Launcher = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Launcher, _ActiveAnimatedElemen);\n\t\n\t  function Launcher(bell) {\n\t    _classCallCheck(this, Launcher);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Launcher).call(this, '.onesignal-bell-launcher', 'onesignal-bell-launcher-active', null, null, 'onesignal-bell-launcher-inactive', 'hidden', 'active'));\n\t\n\t    _this.bell = bell;\n\t    _this.wasInactive = false;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Launcher, [{\n\t    key: 'resize',\n\t    value: function resize(size) {\n\t      var _this2 = this;\n\t\n\t      // If the size is the same, do nothing and resolve an empty promise\n\t      if (size === 'small' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-sm') || size === 'medium' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-md') || size === 'large' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-lg')) {\n\t        return Promise.resolve(this);\n\t      }\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-sm');\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-md');\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-lg');\n\t      if (size === 'small') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-sm');\n\t      } else if (size === 'medium') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-md');\n\t      } else if (size === 'large') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-lg');\n\t      } else {\n\t        throw new Error('Invalid OneSignal bell size ' + size);\n\t      }\n\t      if (!this.shown) {\n\t        return Promise.resolve(this);\n\t      } else {\n\t        return new Promise(function (resolve) {\n\t          // Once the launcher has finished shrinking down\n\t          if (_this2.targetTransitionEvents.length == 0) {\n\t            return resolve(_this2);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely resize (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this2.element && (0, _utils.contains)(_this2.targetTransitionEvents, event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                return resolve(_this2);\n\t              }\n\t            }, true);\n\t          }\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'activateIfInactive',\n\t    value: function activateIfInactive() {\n\t      if (this.inactive) {\n\t        this.wasInactive = true;\n\t        return this.activate();\n\t      } else return (0, _utils.nothing)();\n\t    }\n\t  }, {\n\t    key: 'inactivateIfWasInactive',\n\t    value: function inactivateIfWasInactive() {\n\t      if (this.wasInactive) {\n\t        this.wasInactive = false;\n\t        return this.inactivate();\n\t      } else return (0, _utils.nothing)();\n\t    }\n\t  }, {\n\t    key: 'clearIfWasInactive',\n\t    value: function clearIfWasInactive() {\n\t      this.wasInactive = false;\n\t    }\n\t  }, {\n\t    key: 'inactivate',\n\t    value: function inactivate() {\n\t      var _this3 = this;\n\t\n\t      return this.bell.message.hide().then(function () {\n\t        if (_this3.bell.badge.content.length > 0) {\n\t          return _this3.bell.badge.hide().then(function () {\n\t            return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'inactivate', _this3).call(_this3), _this3.resize('small')]);\n\t          }).then(function () {\n\t            return _this3.bell.badge.show();\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        } else {\n\t          return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'inactivate', _this3).call(_this3), _this3.resize('small')]);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      var _this4 = this;\n\t\n\t      if (this.bell.badge.content.length > 0) {\n\t        return this.bell.badge.hide().then(function () {\n\t          return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'activate', _this4).call(_this4), _this4.resize(_this4.bell.options.size)]);\n\t        }).then(function () {\n\t          return _this4.bell.badge.show();\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      } else {\n\t        return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'activate', this).call(this), this.resize(this.bell.options.size)]);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Launcher;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Launcher;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Badge = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Badge, _ActiveAnimatedElemen);\n\t\n\t  function Badge() {\n\t    _classCallCheck(this, Badge);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(Badge).call(this, '.onesignal-bell-launcher-badge', 'onesignal-bell-launcher-badge-opened', null, 'onesignal-bell-launcher-badge-active', null, 'hidden'));\n\t  }\n\t\n\t  _createClass(Badge, [{\n\t    key: 'increment',\n\t    value: function increment() {\n\t      // If it IS a number (is not not a number)\n\t      if (!isNaN(this.content)) {\n\t        var badgeNumber = +this.content; // Coerce to int\n\t        badgeNumber += 1;\n\t        this.content = badgeNumber.toString();\n\t        return badgeNumber;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'decrement',\n\t    value: function decrement() {\n\t      // If it IS a number (is not not a number)\n\t      if (!isNaN(this.content)) {\n\t        var badgeNumber = +this.content; // Coerce to int\n\t        badgeNumber -= 1;\n\t        if (badgeNumber > 0) this.content = badgeNumber.toString();else this.content = '';\n\t        return badgeNumber;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Badge;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Badge;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _Message = __webpack_require__(20);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Button = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Button, _ActiveAnimatedElemen);\n\t\n\t  function Button(bell) {\n\t    _classCallCheck(this, Button);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Button).call(this, '.onesignal-bell-launcher-button', null, null, 'onesignal-bell-launcher-button-active', null, 'shown', []));\n\t\n\t    _this.bell = bell;\n\t    _this.events = {\n\t      mouse: 'bell.launcher.button.mouse'\n\t    };\n\t\n\t    _this.element.addEventListener('touchstart', function (e) {\n\t      //log.debug('touchstart');\n\t      _this.onHovering(e);\n\t      _this.onTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseenter', function (e) {\n\t      //log.debug('mouseenter');\n\t      _this.onHovering(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseleave', function (e) {\n\t      //log.debug('mouseleave');\n\t      _this.onHovered(e);\n\t    });\n\t    _this.element.addEventListener('touchmove', function (e) {\n\t      //log.debug('touchmove');\n\t      _this.onHovered(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mousedown', function (e) {\n\t      //log.debug('mousedown');\n\t      _this.onTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseup', function (e) {\n\t      //log.debug('mouseup');\n\t      _this.onEndTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('click', function (e) {\n\t      //log.debug('click');\n\t      _this.onHovered(e);\n\t      _this.onClick(e);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Button, [{\n\t    key: 'onHovering',\n\t    value: function onHovering(e) {\n\t      if (_limitStore2.default.isEmpty(this.events.mouse) || _limitStore2.default.getLast(this.events.mouse) === 'out') {\n\t        _events2.default.trigger(_bell2.default.EVENTS.HOVERING);\n\t      }\n\t      _limitStore2.default.put(this.events.mouse, 'over');\n\t    }\n\t  }, {\n\t    key: 'onHovered',\n\t    value: function onHovered(e) {\n\t      _limitStore2.default.put(this.events.mouse, 'out');\n\t      _events2.default.trigger(_bell2.default.EVENTS.HOVERED);\n\t    }\n\t  }, {\n\t    key: 'onTap',\n\t    value: function onTap(e) {\n\t      this.pulse();\n\t      this.activate();\n\t      this.bell.badge.activate();\n\t    }\n\t  }, {\n\t    key: 'onEndTap',\n\t    value: function onEndTap(e) {\n\t      this.inactivate();\n\t      this.bell.badge.inactivate();\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      var _this2 = this;\n\t\n\t      _events2.default.trigger(_bell2.default.EVENTS.BELL_CLICK);\n\t      _events2.default.trigger(_bell2.default.EVENTS.LAUNCHER_CLICK);\n\t\n\t      if (this.bell.message.shown && this.bell.message.contentType == _Message2.default.TYPES.MESSAGE) {\n\t        // A message is being shown, it'll disappear soon\n\t        return;\n\t      }\n\t\n\t      var setSubscriptionState = _limitStore2.default.getLast('setsubscription.value');\n\t      if (this.bell.unsubscribed) {\n\t        if (setSubscriptionState === false) {\n\t          // The user manually called setSubscription(false), but the user is actually subscribed\n\t          this.bell.launcher.activateIfInactive().then(function () {\n\t            _this2.bell.showDialogProcedure();\n\t          });\n\t        } else {\n\t          // The user is actually subscribed, register him for notifications\n\t          OneSignal.registerForPushNotifications();\n\t          //// Show the 'Click Allow to receive notifications' tip, if they haven't already enabled permissions\n\t          //if (OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id) === 'default') {\n\t          //  this.bell.message.display(Message.TYPES.MESSAGE, this.bell.text['message.action.subscribing'], Message.TIMEOUT)\n\t          //}\n\t\n\t          (0, _utils.once)(window, OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, function (event, destroyListenerFn) {\n\t            destroyListenerFn();\n\t            var permission = event.detail.to;\n\t            if (permission === 'granted') {\n\t              _this2.bell.message.display(_Message2.default.TYPES.MESSAGE, _this2.bell.text['message.action.subscribed'], _Message2.default.TIMEOUT).then(function () {\n\t                _this2.bell.launcher.inactivate();\n\t              }).catch(function (e) {\n\t                _loglevel2.default.error(e);\n\t              });\n\t            }\n\t          }, true);\n\t        }\n\t      } else if (this.bell.subscribed) {\n\t        this.bell.launcher.activateIfInactive().then(function () {\n\t          _this2.bell.showDialogProcedure();\n\t        });\n\t      } else if (this.bell.blocked) {\n\t        this.bell.launcher.activateIfInactive().then(function () {\n\t          _this2.bell.showDialogProcedure();\n\t        });\n\t      }\n\t      return this.bell.message.hide().catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'pulse',\n\t    value: function pulse() {\n\t      (0, _utils.removeDomElement)('.pulse-ring');\n\t      addDomElement(this.element, 'beforeend', '<div class=\"pulse-ring\"></div>');\n\t    }\n\t  }]);\n\t\n\t  return Button;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Button;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Message = (function (_AnimatedElement) {\n\t  _inherits(Message, _AnimatedElement);\n\t\n\t  function Message(bell) {\n\t    _classCallCheck(this, Message);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Message).call(this, '.onesignal-bell-launcher-message', 'onesignal-bell-launcher-message-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-message-body'));\n\t\n\t    _this.bell = bell;\n\t    _this.contentType = '';\n\t    _this.queued = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Message, [{\n\t    key: 'display',\n\t    // This message was a user-queued message\n\t    value: function display(type, content) {\n\t      var _this2 = this;\n\t\n\t      var duration = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t      _loglevel2.default.debug('Calling %cdisplay(' + type + ', ' + content + ', ' + duration + ').', (0, _utils.getConsoleStyle)('code'));\n\t      return new Promise(function (resolve, reject) {\n\t        (_this2.shown ? _this2.hide() : (0, _utils.nothing)()).then(function () {\n\t          _this2.content = content;\n\t          _this2.contentType = type;\n\t        }).then(function () {\n\t          return _this2.show();\n\t        }).then(function () {\n\t          return (0, _utils.delay)(duration);\n\t        }).then(function () {\n\t          return _this2.hide();\n\t        }).then(function () {\n\t          // Reset back to normal content type so stuff can show a gain\n\t          _this2.content = _this2.getTipForState();\n\t          _this2.contentType = 'tip';\n\t        }).then(resolve).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getTipForState',\n\t    value: function getTipForState() {\n\t      if (this.bell.state === _bell2.default.STATES.UNSUBSCRIBED) return this.bell.text['tip.state.unsubscribed'];else if (this.bell.state === _bell2.default.STATES.SUBSCRIBED) return this.bell.text['tip.state.subscribed'];else if (this.bell.state === _bell2.default.STATES.BLOCKED) return this.bell.text['tip.state.blocked'];\n\t    }\n\t  }, {\n\t    key: 'enqueue',\n\t    value: function enqueue(message) {\n\t      var _this3 = this;\n\t\n\t      var notify = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      this.queued.push(message);\n\t      return new Promise(function (resolve) {\n\t        if (_this3.bell.badge.shown) {\n\t          _this3.bell.badge.hide().then(function () {\n\t            return _this3.bell.badge.increment();\n\t          }).then(function () {\n\t            return _this3.bell.badge.show();\n\t          }).then(resolve);\n\t        } else {\n\t          _this3.bell.badge.increment();\n\t          if (_this3.bell.initialized) _this3.bell.badge.show().then(resolve);else resolve();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'dequeue',\n\t    value: function dequeue(message) {\n\t      var _this4 = this;\n\t\n\t      var dequeuedMessage = this.queued.pop(message);\n\t      return new Promise(function (resolve) {\n\t        if (_this4.bell.badge.shown) {\n\t          _this4.bell.badge.hide().then(function () {\n\t            return _this4.bell.badge.decrement();\n\t          }).then(function (numMessagesLeft) {\n\t            if (numMessagesLeft > 0) {\n\t              return _this4.bell.badge.show();\n\t            } else {\n\t              return Promise.resolve(_this4);\n\t            }\n\t          }).then(resolve(dequeuedMessage));\n\t        } else {\n\t          _this4.bell.badge.decrement();\n\t          resolve(dequeuedMessage);\n\t        }\n\t      });\n\t    }\n\t  }], [{\n\t    key: 'TIMEOUT',\n\t    get: function get() {\n\t      return 2500;\n\t    }\n\t  }, {\n\t    key: 'TYPES',\n\t    get: function get() {\n\t      return {\n\t        TIP: 'tip', // Appears on button hover, disappears on button endhover\n\t        MESSAGE: 'message', // Appears manually for a specified duration, site visitor cannot control its display. Messages override tips\n\t        QUEUED: 'queued' };\n\t    }\n\t  }]);\n\t\n\t  return Message;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = Message;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Dialog = (function (_AnimatedElement) {\n\t  _inherits(Dialog, _AnimatedElement);\n\t\n\t  function Dialog(bell) {\n\t    _classCallCheck(this, Dialog);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Dialog).call(this, '.onesignal-bell-launcher-dialog', 'onesignal-bell-launcher-dialog-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-dialog-body'));\n\t\n\t    _this.bell = bell;\n\t    _this.subscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #subscribe-button';\n\t    _this.unsubscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #unsubscribe-button';\n\t    _this.notificationIcons = null;\n\t\n\t    window.addEventListener(_bell2.default.EVENTS.STATE_CHANGED, function (state) {\n\t      state = state.detail;\n\t      if (state.to === _bell2.default.STATES.SUBSCRIBED) {\n\t        if (_this.notificationIcons === null) {\n\t          _this.getNotificationIcons().then(function (icons) {\n\t            _this.notificationIcons = icons;\n\t          });\n\t        }\n\t      }\n\t    });\n\t\n\t    window.addEventListener('click', function (event) {\n\t      if (event.target === document.querySelector(_this.subscribeButtonId)) _events2.default.trigger(_bell2.default.EVENTS.SUBSCRIBE_CLICK);else if (event.target === document.querySelector(_this.unsubscribeButtonId)) _events2.default.trigger(_bell2.default.EVENTS.UNSUBSCRIBE_CLICK);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Dialog, [{\n\t    key: 'getNotificationIcons',\n\t    value: function getNotificationIcons() {\n\t      if (!OneSignal._app_id) {\n\t        return Promise.resolve(null);\n\t      }\n\t      var url = OneSignal._API_URL + 'apps/' + OneSignal._app_id + '/icon';\n\t      return new Promise(function (resolve, reject) {\n\t        fetch(url).then(function (response) {\n\t          return response.json();\n\t        }).then(function (data) {\n\t          if (data.errors) {\n\t            _loglevel2.default.error('API call %c' + url, (0, _utils.getConsoleStyle)('code'), 'failed with:', data.errors);\n\t            reject(null);\n\t          }\n\t          resolve(data);\n\t        }).catch(function (ex) {\n\t          _loglevel2.default.error('Call %cgetNotificationIcons()', (0, _utils.getConsoleStyle)('code'), 'failed with:', ex);\n\t          reject(null);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getPlatformNotificationIcon',\n\t    value: function getPlatformNotificationIcon() {\n\t      if (this.notificationIcons) {\n\t        if (Browser.chrome || Browser.firefox) {\n\t          return this.notificationIcons.chrome || this.notificationIcons.safari;\n\t        } else if (Browser.safari) {\n\t          return this.notificationIcons.safari || this.notificationIcons.chrome;\n\t        }\n\t      } else return null;\n\t    }\n\t  }, {\n\t    key: 'show',\n\t    value: function show() {\n\t      var _this2 = this;\n\t\n\t      return this.updateBellLauncherDialogBody().then(function () {\n\t        return _get(Object.getPrototypeOf(Dialog.prototype), 'show', _this2).call(_this2);\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateBellLauncherDialogBody',\n\t    value: function updateBellLauncherDialogBody() {\n\t      var _this3 = this;\n\t\n\t      return OneSignal._getSubscription().then(function (currentSetSubscription) {\n\t        (0, _utils.clearDomElementChildren)(document.querySelector(_this3.nestedContentSelector));\n\t        var contents = 'Nothing to show.';\n\t\n\t        var footer = '';\n\t        if (_this3.bell.options.showCredit) {\n\t          footer = '<div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by <a href=\"https://onesignal.com\" class=\"kickback\" target=\"_blank\">OneSignal</a></div>';\n\t        }\n\t\n\t        if (_this3.bell.state === _bell2.default.STATES.SUBSCRIBED && currentSetSubscription === true || _this3.bell.state === _bell2.default.STATES.UNSUBSCRIBED && currentSetSubscription === false) {\n\t\n\t          var notificationIconHtml = '';\n\t          var imageUrl = _this3.getPlatformNotificationIcon();\n\t          if (imageUrl) {\n\t            notificationIconHtml = '<div class=\"push-notification-icon\"><img src=\"' + imageUrl + '\"></div>';\n\t          } else {\n\t            notificationIconHtml = '<div class=\"push-notification-icon push-notification-icon-default\"></div>';\n\t          }\n\t\n\t          var buttonHtml = '';\n\t          if (_this3.bell.state !== _bell2.default.STATES.SUBSCRIBED) buttonHtml = '<button type=\"button\" class=\"action\" id=\"' + _this3.subscribeButtonSelectorId + '\">' + _this3.bell.text['dialog.main.button.subscribe'] + '</button>';else buttonHtml = '<button type=\"button\" class=\"action\" id=\"' + _this3.unsubscribeButtonSelectorId + '\">' + _this3.bell.text['dialog.main.button.unsubscribe'] + '</button>';\n\t\n\t          contents = '\\n                  <h1>' + _this3.bell.text['dialog.main.title'] + '</h1>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"push-notification\">\\n                    ' + notificationIconHtml + '\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    ' + buttonHtml + '\\n                  </div>\\n                  ' + footer + '\\n                ';\n\t        } else if (_this3.bell.state === _bell2.default.STATES.BLOCKED) {\n\t          var imageUrl = null;\n\t          if (Browser.chrome) {\n\t            if (!Browser.mobile && !Browser.tablet) {\n\t              imageUrl = _vars.HOST_URL + '/bell/chrome-unblock.jpg';\n\t            }\n\t          } else if (Browser.firefox) imageUrl = _vars.HOST_URL + '/bell/firefox-unblock.jpg';else if (Browser.safari) imageUrl = _vars.HOST_URL + '/bell/safari-unblock.jpg';\n\t\n\t          var instructionsHtml = '';\n\t          if (imageUrl) {\n\t            instructionsHtml = '\\n\\n            <a href=\"' + imageUrl + '\" target=\"_blank\"><img src=\"' + imageUrl + '\"></a></div>\\n            ';\n\t          }\n\t\n\t          if ((Browser.mobile || Browser.tablet) && Browser.chrome) {\n\t            instructionsHtml = '\\n            <ol>\\n            <li>Access <strong>Settings</strong> by tapping the three menu dots <strong>⋮</strong></li>\\n            <li>Click <strong>Site settings</strong> under Advanced.</li>\\n            <li>Click <strong>Notifications</strong>.</li>\\n            <li>Find and click this entry for this website.</li>\\n            <li>Click <strong>Notifications</strong> and set it to <strong>Allow</strong>.</li>\\n            </ol>\\n          ';\n\t          }\n\t          contents = '\\n                  <h1>' + _this3.bell.text['dialog.blocked.title'] + '</h1>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"instructions\">\\n                  <p>' + _this3.bell.text['dialog.blocked.message'] + '</p>\\n                  ' + instructionsHtml + '\\n                  </div>\\n                  ' + footer + '\\n                ';\n\t        }\n\t        addDomElement(document.querySelector(_this3.nestedContentSelector), 'beforeend', contents);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'subscribeButtonSelectorId',\n\t    get: function get() {\n\t      return 'subscribe-button';\n\t    }\n\t  }, {\n\t    key: 'unsubscribeButtonSelectorId',\n\t    get: function get() {\n\t      return 'unsubscribe-button';\n\t    }\n\t  }, {\n\t    key: 'subscribeButton',\n\t    get: function get() {\n\t      return this.element.querySelector('#' + this.subscribeButtonSelectorId);\n\t    }\n\t  }, {\n\t    key: 'unsubscribeButton',\n\t    get: function get() {\n\t      return this.element.querySelector('#' + this.unsubscribeButtonSelectorId);\n\t    }\n\t  }]);\n\t\n\t  return Dialog;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = Dialog;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(23);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(25)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(24)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;-webkit-font-feature-settings:normal;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;-ms-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-transform:scale(.01) translateZ(0);transform:scale(.01) translateZ(0);opacity:0;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{left:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{left:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{left:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{left:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{left:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{-webkit-transform-origin:left center;-ms-transform-origin:left center;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));-webkit-transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147483400;opacity:0;-webkit-transform:scale(.01);-ms-transform:scale(.01);transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;width:200px;-webkit-transform:scale(0) translateZ(0);transform:scale(0) translateZ(0);-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol{counter-reset:foo;display:table;border-spacing:.3em .75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li{counter-increment:foo;display:table-row;margin-bottom:.75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li:before{content:counter(foo) \\\".\\\";display:table-cell;text-align:right}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{-webkit-transform:scale(1) translateZ(0);transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a{box-sizing:border-box;text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:focus,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:visited{text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button{box-sizing:border-box;border:1px solid transparent;padding:.625em 1em;box-shadow:none;border-radius:4px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.65px;cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action{color:#fff;background:#e54b4d;width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:hover{background:#dd2022}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:active{background:#b1191b}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:3.2px -9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:4.8px -14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:6.4px -19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button .pulse-ring{border:7px solid hsla(0,0%,100%,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button .pulse-ring{border:7px solid rgba(229,75,77,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.5}#onesignal-bell-container.onesignal-reset .pulse-ring{border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Database = (function () {\n\t  function Database() {\n\t    _classCallCheck(this, Database);\n\t  }\n\t\n\t  _createClass(Database, null, [{\n\t    key: 'getInstance',\n\t\n\t    /**\n\t     * Returns an existing instance or creates a new instances of the database.\n\t     * @returns {Promise} Returns a promise that is fulfilled when the database becomes accessible or rejects when an error occurs.\n\t     */\n\t    value: function getInstance() {\n\t      return new Promise(function (resolve, reject) {\n\t        if (Database._instance) {\n\t          resolve(Database._instance);\n\t        } else {\n\t          var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n\t          request.onsuccess = function (event) {\n\t            if (Database._instance) {\n\t              var redundantDb = event.target.result;\n\t              redundantDb.close();\n\t              resolve(Database._instance);\n\t            } else {\n\t              var database = event.target.result;\n\t              Database._instance = database;\n\t              _loglevel2.default.debug('Opening IndexedDB instance.');\n\t              resolve(database);\n\t            }\n\t          };\n\t          request.onerror = function (event) {\n\t            _loglevel2.default.error('Unable to open IndexedDB.', event);\n\t            reject(event);\n\t          };\n\t          request.onupgradeneeded = function (event) {\n\t            _loglevel2.default.info('OneSignal: IndexedDB is being rebuilt or upgraded.', event);\n\t            var db = event.target.result;\n\t            db.createObjectStore(\"Ids\", {\n\t              keyPath: \"type\"\n\t            });\n\t            db.createObjectStore(\"NotificationOpened\", {\n\t              keyPath: \"url\"\n\t            });\n\t            db.createObjectStore(\"Options\", {\n\t              keyPath: \"key\"\n\t            });\n\t            _events2.default.trigger(Database.EVENTS.REBUILT);\n\t          };\n\t          request.onversionchange = function (event) {\n\t            _loglevel2.default.warn('The database is about to be deleted.');\n\t          };\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously retrieves the value of the key at the table (if key is specified), or the entire table (if key is not specified).\n\t     * @param table The table to retrieve the value from.\n\t     * @param key The key in the table to retrieve the value of. Leave blank to get the entire table.\n\t     * @returns {Promise} Returns a promise that fulfills when the value(s) are available.\n\t     */\n\t\n\t  }, {\n\t    key: 'get',\n\t    value: function get(table, key) {\n\t      if (key) {\n\t        // Return a table-key value\n\t        return Database.getInstance().then(function (database) {\n\t          return new Promise(function (resolve, reject) {\n\t            var request = database.transaction(table).objectStore(table).get(key);\n\t            request.onsuccess = function () {\n\t              _events2.default.trigger(Database.EVENTS.RETRIEVED, { table: table, key: key, result: request.result });\n\t              resolve(request.result);\n\t            };\n\t            request.onerror = function () {\n\t              reject(request.errorCode);\n\t            };\n\t          });\n\t        });\n\t      } else {\n\t        // Return all values in table\n\t        return Database.getInstance().then(function (database) {\n\t          return new Promise(function (resolve, reject) {\n\t            var jsonResult = {};\n\t            var cursor = database.transaction(table).objectStore(table).openCursor();\n\t            cursor.onsuccess = function (event) {\n\t              var cursorResult = event.target.result;\n\t              if (cursorResult) {\n\t                _events2.default.trigger(Database.EVENTS.RETRIEVED, cursorResult.value);\n\t                jsonResult[cursorResult.key] = cursorResult.value.value;\n\t                cursorResult.continue();\n\t              } else {\n\t                resolve(jsonResult);\n\t              }\n\t            };\n\t            cursor.onerror = function (event) {\n\t              reject(cursor.errorCode);\n\t            };\n\t          });\n\t        });\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Asynchronously puts the specified value in the specified table.\n\t     * @param table\n\t     * @param key\n\t     */\n\t\n\t  }, {\n\t    key: 'put',\n\t    value: function put(table, key) {\n\t      return Database.getInstance().then(function (database) {\n\t        return new Promise(function (resolve, reject) {\n\t          try {\n\t            var request = database.transaction([table], 'readwrite').objectStore(table).put(key);\n\t            request.onsuccess = function (event) {\n\t              _events2.default.trigger(Database.EVENTS.SET, key);\n\t              resolve(key);\n\t            };\n\t            request.onerror = function (e) {\n\t              _loglevel2.default.error('Database PUT Transaction Error:', e);\n\t              reject(e);\n\t            };\n\t          } catch (e) {\n\t            _loglevel2.default.error('Database PUT Error:', e);\n\t            reject(e);\n\t          }\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously removes the specified key from the table, or if the key is not specified, removes all keys in the table.\n\t     * @returns {Promise} Returns a promise containing a key that is fulfilled when deletion is completed.\n\t     */\n\t\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(table, key) {\n\t      if (key) {\n\t        // Remove a single key from a table\n\t        var method = \"delete\";\n\t      } else {\n\t        // Remove all keys from the table (wipe the table)\n\t        var method = \"clear\";\n\t      }\n\t      return Database.getInstance().then(function (database) {\n\t        return new Promise(function (resolve, reject) {\n\t          try {\n\t            var request = database.transaction([table], 'readwrite').objectStore(table)[method](key);\n\t            request.onsuccess = function (event) {\n\t              _events2.default.trigger(Database.EVENTS.REMOVED, [table, key]);\n\t              resolve(key);\n\t            };\n\t            request.onerror = function (e) {\n\t              _loglevel2.default.error('Database REMOVE Transaction Error:', e);\n\t              reject(e);\n\t            };\n\t          } catch (e) {\n\t            _loglevel2.default.error('Database REMOVE Error:', e);\n\t            reject(e);\n\t          }\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously removes the Ids, NotificationOpened, and Options tables from the database and recreates them with blank values.\n\t     * @returns {Promise} Returns a promise that is fulfilled when rebuilding is completed, or rejects with an error.\n\t     */\n\t\n\t  }, {\n\t    key: 'rebuild',\n\t    value: function rebuild() {\n\t      return Promise.all([Database.remove('Ids'), Database.remove('NotificationOpened'), Database.remove('Options')]);\n\t    }\n\t  }, {\n\t    key: 'printIds',\n\t    value: function printIds() {\n\t      Promise.all([Database.get('Ids', 'appId'), Database.get('Ids', 'registrationId'), Database.get('Ids', 'userId')]).then(function (contents) {\n\t        _loglevel2.default.info('appId:', contents[0]);\n\t        _loglevel2.default.info('registrationId:', contents[1]);\n\t        _loglevel2.default.info('userId:', contents[2]);\n\t      });\n\t    }\n\t  }, {\n\t    key: '_wipeBetaSettings',\n\t    value: function _wipeBetaSettings() {\n\t      Promise.all([Database.remove('Options', 'persistNotification'), Database.remove('Options', 'webhooks.cors'), Database.remove('Options', 'webhooks.notification.displayed'), Database.remove('Options', 'webhooks.notification.clicked')]);\n\t    }\n\t  }, {\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        REBUILT: 'onesignal.db.rebuilt',\n\t        RETRIEVED: 'onesignal.db.retrieved',\n\t        SET: 'onesignal.db.set',\n\t        REMOVED: 'onesignal.db.removed'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return Database;\n\t})();\n\t\n\texports.default = Database;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar page = __webpack_require__(29);\n\tvar worker = __webpack_require__(37);\n\tvar api;\n\t\n\tif ('serviceWorker' in navigator) {\n\t  api = page();\n\t} else if ('clients' in self) {\n\t  api = worker();\n\t} else {\n\t  api = {\n\t    on: complain,\n\t    once: complain,\n\t    off: complain,\n\t    emit: complain,\n\t    broadcast: complain\n\t  };\n\t}\n\t\n\tfunction complain () {\n\t  throw new Error('Swivel couldn\\'t detect ServiceWorker support. Please feature detect before using Swivel in your web pages!');\n\t}\n\t\n\tmodule.exports = api;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar atoa = __webpack_require__(30);\n\tvar serialization = __webpack_require__(31);\n\tvar emitter = __webpack_require__(32);\n\t\n\tmodule.exports = createChannel;\n\t\n\tfunction createChannel () {\n\t  var channel = at(navigator.serviceWorker.controller);\n\t  return channel;\n\t\n\t  function at (worker) {\n\t    var internalEmitter = emitter();\n\t    var api = {\n\t      on: selfed('on'),\n\t      once: selfed('once'),\n\t      off: selfed('off'),\n\t      emit: postToWorker,\n\t      at: at\n\t    };\n\t    var postFromWorker = serialization.emission(internalEmitter, { broadcast: false });\n\t    navigator.serviceWorker.addEventListener('message', broadcastHandler);\n\t    return api;\n\t\n\t    function selfed (method) {\n\t      return function selfish () {\n\t        internalEmitter[method].apply(null, arguments);\n\t        return api;\n\t      };\n\t    }\n\t\n\t    function postToWorker () {\n\t      if (!worker) {\n\t        return Promise.reject(new Error('ServiceWorker not found.'));\n\t      }\n\t      var payload = serialization.parsePayload(atoa(arguments));\n\t      var messageChannel = new MessageChannel();\n\t      messageChannel.port1.addEventListener('message', postFromWorker);\n\t      return worker.postMessage(payload, [messageChannel.port2]);\n\t    }\n\t\n\t    function broadcastHandler (e) {\n\t      if (e.source !== worker) {\n\t        return; // ignore broadcast messages from other workers than the one we're talking to.\n\t      }\n\t      var data = e.data;\n\t      if (data) {\n\t        if (data.__broadcast) {\n\t          serialization.emission(internalEmitter, {broadcast: true})(e);\n\t        } else {\n\t          serialization.emission(internalEmitter, {broadcast: false})(e);\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction serializeError (err) {\n\t  return err ? err.toString() : null;\n\t}\n\t\n\tfunction deserializeError (err) {\n\t  return err ? new Error(err) : null;\n\t}\n\t\n\tfunction parsePayload (payload) {\n\t  var type = payload.shift();\n\t  if (type === 'error') {\n\t    return { error: serializeError(payload[0]), type: type, payload: [] };\n\t  }\n\t  return { error: null, type: type, payload: payload };\n\t}\n\t\n\tfunction emission (emitter, context) {\n\t  return emit;\n\t  function emit (e) {\n\t    var data = e.data;\n\t    if (data.type === 'error') {\n\t      emitter.emit.call(null, 'error', context, deserializeError(data.error));\n\t    } else {\n\t      emitter.emit.apply(null, [data.type, context].concat(data.payload));\n\t    }\n\t  }\n\t}\n\t\n\tmodule.exports = {\n\t  parsePayload: parsePayload,\n\t  emission: emission\n\t};\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar atoa = __webpack_require__(30);\n\tvar debounce = __webpack_require__(33);\n\t\n\tmodule.exports = function emitter (thing, options) {\n\t  var opts = options || {};\n\t  var evt = {};\n\t  if (thing === undefined) { thing = {}; }\n\t  thing.on = function (type, fn) {\n\t    if (!evt[type]) {\n\t      evt[type] = [fn];\n\t    } else {\n\t      evt[type].push(fn);\n\t    }\n\t    return thing;\n\t  };\n\t  thing.once = function (type, fn) {\n\t    fn._once = true; // thing.off(fn) still works!\n\t    thing.on(type, fn);\n\t    return thing;\n\t  };\n\t  thing.off = function (type, fn) {\n\t    var c = arguments.length;\n\t    if (c === 1) {\n\t      delete evt[type];\n\t    } else if (c === 0) {\n\t      evt = {};\n\t    } else {\n\t      var et = evt[type];\n\t      if (!et) { return thing; }\n\t      et.splice(et.indexOf(fn), 1);\n\t    }\n\t    return thing;\n\t  };\n\t  thing.emit = function () {\n\t    var args = atoa(arguments);\n\t    return thing.emitterSnapshot(args.shift()).apply(this, args);\n\t  };\n\t  thing.emitterSnapshot = function (type) {\n\t    var et = (evt[type] || []).slice(0);\n\t    return function () {\n\t      var args = atoa(arguments);\n\t      var ctx = this || thing;\n\t      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n\t      et.forEach(function emitter (listen) {\n\t        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n\t        if (listen._once) { thing.off(type, listen); }\n\t      });\n\t      return thing;\n\t    };\n\t  };\n\t  return thing;\n\t};\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ticky = __webpack_require__(34);\n\t\n\tmodule.exports = function debounce (fn, args, ctx) {\n\t  if (!fn) { return; }\n\t  ticky(function run () {\n\t    fn.apply(ctx || null, args || []);\n\t  });\n\t};\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {var si = typeof setImmediate === 'function', tick;\n\tif (si) {\n\t  tick = function (fn) { setImmediate(fn); };\n\t} else {\n\t  tick = function (fn) { setTimeout(fn, 0); };\n\t}\n\t\n\tmodule.exports = tick;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(35).setImmediate))\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(36).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(35).setImmediate, __webpack_require__(35).clearImmediate))\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar atoa = __webpack_require__(30);\n\tvar serialization = __webpack_require__(31);\n\tvar emitter = __webpack_require__(32);\n\t\n\tmodule.exports = createChannel;\n\t\n\tfunction createChannel () {\n\t  var internalEmitter = emitter();\n\t  var api = {\n\t    on: selfed('on'),\n\t    once: selfed('once'),\n\t    off: selfed('off'),\n\t    broadcast: broadcastToPages,\n\t    emit: replyToClient\n\t  };\n\t\n\t  self.addEventListener('message', postFromPage);\n\t\n\t  return api;\n\t\n\t  function selfed (method) {\n\t    return function selfish () {\n\t      internalEmitter[method].apply(null, arguments);\n\t      return api;\n\t    };\n\t  }\n\t\n\t  function postFromPage (e) {\n\t    var context = {\n\t      reply: replyToPage(e)\n\t    };\n\t    serialization.emission(internalEmitter, context)(e);\n\t  }\n\t\n\t  function broadcastToPages (type) {\n\t    var payload = atoa(arguments, 1);\n\t    return self.clients.matchAll().then(gotClients);\n\t    function gotClients (clients) {\n\t      return clients.map(emitToClient);\n\t    }\n\t    function emitToClient (client) {\n\t      return client.postMessage({ type: type, payload: payload, __broadcast: true });\n\t    }\n\t  }\n\t\n\t  function replyTo (client) {\n\t    var payload = serialization.parsePayload(atoa(arguments, 1));\n\t    return client.postMessage(payload);\n\t  }\n\t\n\t  function replyToPage (e) {\n\t    return replyTo.bind(null, e.ports[0]);\n\t  }\n\t\n\t  function replyToClient (clientId) {\n\t    var payload = serialization.parsePayload(atoa(arguments, 1));\n\t    return self.clients.matchAll().then(function(clients) {\n\t      var wasClientFound = false;\n\t      clients.forEach(function(client) {\n\t        if (client.id === clientId) {\n\t          wasClientFound = true;\n\t          return client.postMessage(payload);\n\t        }\n\t      });\n\t      if (!wasClientFound) {\n\t        return Promise.reject('Could not find service worker client with ID ' + clientId + ' to reply to.');\n\t      }\n\t    });\n\t  }\n\t}\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"ServiceWorker\"] = __webpack_require__(39);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\t__webpack_require__(40);\n\t\n\tvar _database = __webpack_require__(27);\n\t\n\tvar _database2 = _interopRequireDefault(_database);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _swivel = __webpack_require__(28);\n\t\n\tvar _swivel2 = _interopRequireDefault(_swivel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ServiceWorker = (function () {\n\t  function ServiceWorker() {\n\t    _classCallCheck(this, ServiceWorker);\n\t  }\n\t\n\t  _createClass(ServiceWorker, null, [{\n\t    key: 'run',\n\t    value: function run() {\n\t      self.addEventListener('push', ServiceWorker.onPushReceived);\n\t      self.addEventListener('notificationclick', ServiceWorker.onNotificationClicked);\n\t      self.addEventListener('install', ServiceWorker.onServiceWorkerInstalled);\n\t      self.addEventListener('activate', ServiceWorker.onServiceWorkerActivated);\n\t\n\t      // If the user is proxying through our subdomain (e.g. website.onesignal.com/sdks/)\n\t      if (ServiceWorker.onOurSubdomain) {\n\t        // Cache resources?\n\t        self.addEventListener('fetch', ServiceWorker.onFetch);\n\t      }\n\t\n\t      // Install messaging event handlers for page <-> service worker communication\n\t      _swivel2.default.on('data', ServiceWorker.onMessageReceived);\n\t    }\n\t  }, {\n\t    key: 'onMessageReceived',\n\t\n\t    /**\n\t     * Occurs when a message is received from the host page.\n\t     * @param context Used to reply to the host page.\n\t     * @param data The message contents.\n\t     */\n\t    value: function onMessageReceived(context, data) {\n\t      _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + ' ⬸ Host:', (0, _utils.getConsoleStyle)('serviceworkermessage'), data, context);\n\t      if (data === 'notification.closeall') {\n\t        self.registration.getNotifications().then(function (notifications) {\n\t          var _iteratorNormalCompletion = true;\n\t          var _didIteratorError = false;\n\t          var _iteratorError = undefined;\n\t\n\t          try {\n\t            for (var _iterator = notifications[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t              var notification = _step.value;\n\t\n\t              notification.close();\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError) {\n\t                throw _iteratorError;\n\t              }\n\t            }\n\t          }\n\t        });\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Occurs when a push message is received.\n\t     * This method handles the receipt of a push signal on all web browsers except Safari, which uses the OS to handle notifications.\n\t     * @param event\n\t     */\n\t\n\t  }, {\n\t    key: 'onPushReceived',\n\t    value: function onPushReceived(event) {\n\t      _loglevel2.default.debug('Called %conPushReceived(' + JSON.stringify(event, null, 4) + '):', (0, _utils.getConsoleStyle)('code'), event);\n\t\n\t      event.waitUntil(new Promise(function (resolve, reject) {\n\t        var extra = {};\n\t        var promise = Promise.resolve();\n\t        Promise.all([ServiceWorker._getTitle(), _database2.default.get('Options', 'defaultIcon'), _database2.default.get('Options', 'persistNotification')]).then(function (results) {\n\t          extra.title = results[0];\n\t          extra.defaultIconResult = results[1];\n\t          if (extra.defaultIconResult) extra.defaultIconResult = extra.defaultIconResult.value;\n\t          extra.persistNotification = results[2];\n\t          if (extra.persistNotification) extra.persistNotification = extra.persistNotification.value;\n\t        }).then(function () {\n\t          return ServiceWorker._getLastNotifications();\n\t        }).then(function (notifications) {\n\t          // At this point, we have an array of notification objects (all the JSON is parsed)\n\t          // We want to fire a notification for each object\n\t          // We need to use event.waitUntil() to extend the life of the service worker (workers can be killed if idling)\n\t          // We want to extend the service worker lifetime until all promises for showNotification resolve\n\t          var notificationEventPromiseFns = [];\n\t\n\t          var _iteratorNormalCompletion2 = true;\n\t          var _didIteratorError2 = false;\n\t          var _iteratorError2 = undefined;\n\t\n\t          try {\n\t            for (var _iterator2 = notifications[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t              var notification = _step2.value;\n\t\n\t              // notification is the raw object returned by the OneSignal API\n\t              var data = {\n\t                id: notification.custom.i,\n\t                message: notification.alert,\n\t                additionalData: notification.custom.a\n\t              };\n\t\n\t              if (notification.title) data.title = notification.title;else data.title = extra.title;\n\t\n\t              if (notification.custom.u) data.launchURL = notification.custom.u;\n\t\n\t              if (notification.icon) data.icon = notification.icon;else if (extra.defaultIconResult) data.icon = extra.defaultIconResult;\n\t\n\t              // Never nest the following line in a callback from the point of entering from _getLastNotifications\n\t              notificationEventPromiseFns.push((function (data) {\n\t                return self.registration.showNotification(data.title, {\n\t                  // https://developers.google.com/web/updates/2015/10/notification-requireInteraction?hl=en\n\t                  // On Chrome 47+ Desktop only, notifications will be dismissed after 20 seconds unless requireInteraction is set to true\n\t                  requireInteraction: extra.persistNotification,\n\t                  body: data.message,\n\t                  icon: data.icon,\n\t                  tag: JSON.stringify(data)\n\t                });\n\t              }).bind(null, data));\n\t              notificationEventPromiseFns.push((function (data) {\n\t                return ServiceWorker.executeWebhooks('notification.displayed', data);\n\t              }).bind(null, data));\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError2 = true;\n\t            _iteratorError2 = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                _iterator2.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError2) {\n\t                throw _iteratorError2;\n\t              }\n\t            }\n\t          }\n\t\n\t          return notificationEventPromiseFns.reduce(function (p, fn) {\n\t            return p = p.then(fn);\n\t          }, promise);\n\t        }).then(resolve).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'executeWebhooks',\n\t    value: function executeWebhooks(event, notification) {\n\t      var isServerCorsEnabled = false;\n\t      return _database2.default.get('Options', 'webhooks.cors').then(function (corsResult) {\n\t        isServerCorsEnabled = corsResult && corsResult.value;\n\t      }).then(function () {\n\t        return _database2.default.get('Options', 'webhooks.' + event);\n\t      }).then(function (webhookUrlQuery) {\n\t        if (webhookUrlQuery && webhookUrlQuery.value) {\n\t          var url = webhookUrlQuery.value;\n\t          // JSON.stringify() does not include undefined values\n\t          // Our response will not contain those fields here which have undefined values\n\t          var postData = {\n\t            event: event,\n\t            id: notification.id,\n\t            heading: notification.title,\n\t            content: notification.message,\n\t            url: notification.launchURL,\n\t            icon: notification.icon,\n\t            data: notification.additionalData\n\t          };\n\t          var fetchOptions = {\n\t            method: 'post',\n\t            mode: 'no-cors',\n\t            body: JSON.stringify(postData)\n\t          };\n\t          if (isServerCorsEnabled) {\n\t            fetchOptions.mode = 'cors';\n\t            fetchOptions.headers = {\n\t              'X-OneSignal-Event': event,\n\t              'Content-Type': 'application/json'\n\t            };\n\t          }\n\t          _loglevel2.default.debug('Executing ' + event + ' webhook ' + (isServerCorsEnabled ? 'with' : 'without') + ' CORS %cPOST ' + url, (0, _utils.getConsoleStyle)('code'), ':', postData);\n\t          return fetch(url, fetchOptions);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onNotificationClicked',\n\t    value: function onNotificationClicked(event) {\n\t      _loglevel2.default.debug('Called %conNotificationClicked(' + JSON.stringify(event, null, 4) + '):', (0, _utils.getConsoleStyle)('code'), event);\n\t\n\t      var notificationData = JSON.parse(event.notification.tag);\n\t      event.notification.close();\n\t\n\t      event.waitUntil(_database2.default.get('Options', 'defaultUrl').then(function (defaultUrlResult) {\n\t\n\t        if (defaultUrlResult) ServiceWorker.defaultLaunchUrl = defaultUrlResult.value;\n\t      }).then(function () {\n\t        return clients.matchAll({ type: 'window' });\n\t      }).then(function (clientList) {\n\t        var launchURL = registration.scope;\n\t        if (ServiceWorker.defaultLaunchUrl) launchURL = ServiceWorker.defaultLaunchUrl;\n\t        if (notificationData.launchURL) launchURL = notificationData.launchURL;\n\t\n\t        var eventData = {\n\t          id: notificationData.id,\n\t          heading: notificationData.title,\n\t          content: notificationData.message,\n\t          url: notificationData.launchURL,\n\t          icon: notificationData.icon,\n\t          data: notificationData.additionalData\n\t        };\n\t        (0, _utils.trimUndefined)(eventData);\n\t\n\t        for (var i = 0; i < clientList.length; i++) {\n\t          var client = clientList[i];\n\t          if ('focus' in client && client.url === launchURL) {\n\t            client.focus();\n\t\n\t            /*\n\t             Note: If an existing browser tab, with *exactly* the same URL as launchURL, that tab will be focused and posted a message.\n\t             This event rarely occurs. More than likely, the below will happen.\n\t             */\n\t            _swivel2.default.emit(client.id, 'notification.clicked', eventData);\n\t            return;\n\t          }\n\t        }\n\t\n\t        /*\n\t         addListenerForNotificationOpened() stuff:\n\t         - A value is stored in IndexedDB, marking this notification's click\n\t             - If the launchURL isn't one of a couple special \"don't open anything\" values, a new window is then opened to the launchURL\n\t             - If the new window opened loads our SDK, it will retrieve the value we just put in the database (in init() for HTTPS and initHttp() for HTTP)\n\t             - The addListenerForNotificationOpened() will be fired\n\t         */\n\t        return _database2.default.put(\"NotificationOpened\", { url: launchURL, data: eventData }).then(function () {\n\t          var launchURLObject = new URL(launchURL);\n\t          if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open' && !(0, _utils.contains)(launchURLObject.search, '_osp=do_not_open')) {\n\t            clients.openWindow(launchURL).catch(function (error) {\n\t              // Should only fall into here if going to an external URL on Chrome older than 43.\n\t              clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n\t            });\n\t          }\n\t        });\n\t      }).then(function () {\n\t        return Promise.all([_database2.default.get('Ids', 'appId'), _database2.default.get('Ids', 'userId')]);\n\t      }).then(function (results) {\n\t        var _results = _slicedToArray(results, 2);\n\t\n\t        var appIdResult = _results[0];\n\t        var userIdResult = _results[1];\n\t\n\t        if (appIdResult && userIdResult) {\n\t          return (0, _api.apiCall)(\"notifications/\" + notificationData.id, \"PUT\", {\n\t            app_id: appIdResult.id,\n\t            player_id: userIdResult.id,\n\t            opened: true\n\t          });\n\t        }\n\t      }).then(function () {\n\t        var notificationData = JSON.parse(event.notification.tag);\n\t        return ServiceWorker.executeWebhooks('notification.clicked', notificationData);\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'onServiceWorkerInstalled',\n\t    value: function onServiceWorkerInstalled(event) {\n\t      // At this point, the old service worker is still in control\n\t      _loglevel2.default.debug('Called %conServiceWorkerInstalled(' + JSON.stringify(event, null, 4) + '):', (0, _utils.getConsoleStyle)('code'), event);\n\t      _loglevel2.default.info('Installing service worker: %c' + self.location.pathname, (0, _utils.getConsoleStyle)('code'), '(version ' + (\"109098\") + ')');\n\t\n\t      if ((0, _utils.contains)(self.location.pathname, \"OneSignalSDKWorker.js\")) var serviceWorkerVersionType = 'WORKER1_ONE_SIGNAL_SW_VERSION';else var serviceWorkerVersionType = 'WORKER2_ONE_SIGNAL_SW_VERSION';\n\t\n\t      if (ServiceWorker.onOurSubdomain) {\n\t        event.waitUntil(_database2.default.put(\"Ids\", { type: serviceWorkerVersionType, id: (\"109098\") }).then(function () {\n\t          return caches.open(\"OneSignal_\" + (\"109098\"));\n\t        }).then(function (cache) {\n\t          return cache.addAll(ServiceWorker.CACHE_URLS);\n\t        }).then(function () {\n\t          return self.skipWaiting();\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        }));\n\t      } else {\n\t        event.waitUntil(_database2.default.put(\"Ids\", { type: serviceWorkerVersionType, id: (\"109098\") }).then(function () {\n\t          return self.skipWaiting();\n\t        }));\n\t      }\n\t    }\n\t\n\t    /*\n\t        1/11/16: Enable the waiting service worker to immediately become the active service worker: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting\n\t     */\n\t\n\t  }, {\n\t    key: 'onServiceWorkerActivated',\n\t    value: function onServiceWorkerActivated(event) {\n\t      // The old service worker is gone now\n\t      _loglevel2.default.debug('Called %conServiceWorkerActivated(' + JSON.stringify(event, null, 4) + '):', (0, _utils.getConsoleStyle)('code'), event);\n\t      event.waitUntil(self.clients.claim());\n\t    }\n\t  }, {\n\t    key: 'onFetch',\n\t    value: function onFetch(event) {\n\t      var url = event.request.url;\n\t      var _iteratorNormalCompletion3 = true;\n\t      var _didIteratorError3 = false;\n\t      var _iteratorError3 = undefined;\n\t\n\t      try {\n\t        for (var _iterator3 = ServiceWorker.CACHE_URLS[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t          var cacheUrl = _step3.value;\n\t\n\t          if ((0, _utils.contains)(url, cacheUrl)) {\n\t            event.respondWith(caches.match(event.request).then(function (response) {\n\t              // Cache hit -- return response\n\t              if (response) {\n\t                return response;\n\t              }\n\t              return fetch(event.request);\n\t            }).catch(function (e) {\n\t              return _loglevel2.default.error(e);\n\t            }));\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError3 = true;\n\t        _iteratorError3 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t            _iterator3.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError3) {\n\t            throw _iteratorError3;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getTitle',\n\t\n\t    /**\n\t     * Returns a promise that is fulfilled with either the default title from the database (first priority) or the page title from the database (alternate result).\n\t     */\n\t    value: function _getTitle() {\n\t      return new Promise(function (resolve, reject) {\n\t        Promise.all([_database2.default.get('Options', 'defaultTitle'), _database2.default.get('Options', 'pageTitle')]).then(function (results) {\n\t          var _results2 = _slicedToArray(results, 2);\n\t\n\t          var defaultTitleResult = _results2[0];\n\t          var pageTitleResult = _results2[1];\n\t\n\t          if (defaultTitleResult) {\n\t            resolve(defaultTitleResult.value);\n\t          } else if (pageTitleResult && pageTitleResult.value != null) {\n\t            resolve(pageTitleResult.value);\n\t          } else {\n\t            resolve('');\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Returns a promise that is fulfilled with the JSON result of chrome notifications.\n\t     */\n\t\n\t  }, {\n\t    key: '_getLastNotifications',\n\t    value: function _getLastNotifications() {\n\t      return new Promise(function (resolve, reject) {\n\t        var notifications = [];\n\t        // Each entry is like:\n\t        /*\n\t         Object {custom: Object, icon: \"https://onesignal.com/images/notification_logo.png\", alert: \"asd\", title: \"ss\"}\n\t         alert: \"asd\"\n\t         custom: Object\n\t         i: \"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"\n\t         __proto__: Object\n\t         icon: \"https://onesignal.com/images/notification_logo.png\"\n\t         title: \"ss\"\n\t         __proto__: Object\n\t         */\n\t        _database2.default.get('Ids', 'userId').then(function (userIdResult) {\n\t          if (userIdResult) {\n\t            return (0, _api.apiCall)(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\");\n\t          } else {\n\t            _loglevel2.default.error('Tried to get last notifications, but there was no userId found in the database.');\n\t            reject(new Error('Tried to get last notifications, but there was no userId found in the database.'));\n\t          }\n\t        }).then(function (response) {\n\t          // The response is an array literal -- response.json() has been called by apiCall()\n\t          // The result looks like this:\n\t          // apiCall(\"players/7442a553-5f61-4b3e-aedd-bb574ef6946f/chromeweb_notification\", \"GET\").then(function(response) { console.log(response); });\n\t          // [\"{\"custom\":{\"i\":\"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"},\"icon\":\"https://onesignal.com/images/notification_logo.png\",\"alert\":\"asd\",\"title\":\"ss\"}\"]\n\t          // ^ Notice this is an array literal with JSON data inside\n\t          for (var i = 0; i < response.length; i++) {\n\t            notifications.push(JSON.parse(response[i]));\n\t          }\n\t          resolve(notifications);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'VERSION',\n\t    get: function get() {\n\t      return (\"109098\");\n\t    }\n\t  }, {\n\t    key: 'environment',\n\t    get: function get() {\n\t      return _environment2.default;\n\t    }\n\t  }, {\n\t    key: 'log',\n\t    get: function get() {\n\t      return _loglevel2.default;\n\t    }\n\t  }, {\n\t    key: 'swivel',\n\t    get: function get() {\n\t      return _swivel2.default;\n\t    }\n\t  }, {\n\t    key: 'CACHE_URLS',\n\t    get: function get() {\n\t      return ['/sdks/initOneSignalHttpIframe', '/sdks/initOneSignalHttpIframe?session=*', '/sdks/manifest_json', '/dev_sdks/initOneSignalHttpIframe', '/dev_sdks/initOneSignalHttpIframe?session=*', '/dev_sdks/manifest_json'];\n\t    }\n\t  }, {\n\t    key: 'onOurSubdomain',\n\t    get: function get() {\n\t      return (false) || location.href.match(/https:\\/\\/.*\\.onesignal.com\\/sdks\\//) !== null;\n\t    }\n\t  }]);\n\t\n\t  return ServiceWorker;\n\t})();\n\t\n\t// Expose this class to the global scope\n\t\n\tself.OneSignalWorker = ServiceWorker;\n\t\n\t// Set logging to the appropriate level\n\t_loglevel2.default.setDefaultLevel( false ? _loglevel2.default.levels.TRACE : _loglevel2.default.levels.ERROR);\n\t\n\t// Print it's happy time!\n\t_loglevel2.default.info('%cOneSignal Service Worker loaded (version ' + (\"109098\") + ', ' + _environment2.default.getEnv() + ' environment).', (0, _utils.getConsoleStyle)('bold'));\n\t\n\t// Run our main file\n\tServiceWorker.run();\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\t/**\n\t * https://github.com/coonsta/cache-polyfill\n\t *\n\t * Copyright 2015 Google Inc. All rights reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t *\n\t */\n\t\n\tif (!Cache.prototype.addAll) {\n\t  Cache.prototype.addAll = function addAll(requests) {\n\t    var cache = this;\n\t\n\t    // Since DOMExceptions are not constructable:\n\t    function NetworkError(message) {\n\t      this.name = 'NetworkError';\n\t      this.code = 19;\n\t      this.message = message;\n\t    }\n\t    NetworkError.prototype = Object.create(Error.prototype);\n\t\n\t    return Promise.resolve().then(function () {\n\t      if (arguments.length < 1) throw new TypeError();\n\t\n\t      // Simulate sequence<(Request or USVString)> binding:\n\t      var sequence = [];\n\t\n\t      requests = requests.map(function (request) {\n\t        if (request instanceof Request) {\n\t          return request;\n\t        } else {\n\t          return String(request); // may throw TypeError\n\t        }\n\t      });\n\t\n\t      return Promise.all(requests.map(function (request) {\n\t        if (typeof request === 'string') {\n\t          request = new Request(request);\n\t        }\n\t\n\t        var scheme = new URL(request.url).protocol;\n\t\n\t        if (scheme !== 'http:' && scheme !== 'https:') {\n\t          throw new NetworkError(\"Invalid scheme\");\n\t        }\n\t\n\t        return fetch(request.clone());\n\t      }));\n\t    }).then(function (responses) {\n\t      // TODO: check that requests don't overwrite one another\n\t      // (don't think this is possible to polyfill due to opaque responses)\n\t      return Promise.all(responses.map(function (response, i) {\n\t        return cache.put(requests[i], response);\n\t      }));\n\t    }).then(function () {\n\t      return undefined;\n\t    });\n\t  };\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** OneSignalSDK.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1f2e01854308a37def4d\n **/","import { DEV_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js';\n\n\nif (Environment.isBrowser()) {\n  // We're running in the host page, iFrame of the host page, or popup window\n  // Load OneSignal's web SDK\n  if (typeof OneSignal !== \"undefined\")\n    var predefinedOneSignalPushes = OneSignal;\n\n  require(\"expose?OneSignal!./sdk.js\");\n\n  if (predefinedOneSignalPushes)\n    OneSignal._process_pushes(predefinedOneSignalPushes);\n}\nelse if (Environment.isServiceWorker()) {\n  // We're running as the service worker\n  require(\"expose?ServiceWorker!./ServiceWorker.js\");\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entry.js\n **/","import { isDev } from './utils.js';\n\nexport const DEV_HOST = 'https://127.0.0.1:3001';\nexport const DEV_FRAME_HOST = 'https://localhost:3001';\nexport const PROD_HOST = 'https://onesignal.com';\nexport const HOST_URL = (isDev() ? DEV_HOST : PROD_HOST);\nexport const API_URL = (isDev() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n// ⬸ ⤑\n\n\n/** WEBPACK FOOTER **\n ** ./src/vars.js\n **/","import log from 'loglevel';\n\nexport function isArray(variable) {\n  return Object.prototype.toString.call( variable ) === '[object Array]';\n}\n\nexport function getHumanizedTimeDuration(timeDurationInMilliseconds) {\n  function addPluralSuffix(number) {\n    return (number > 1) ? 's' : '';\n  }\n  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\n  var years = Math.floor(duration / 31536000);\n  if (years)\n    return years + ' year' + addPluralSuffix(years);\n\n  var days = Math.floor((duration %= 31536000) / 86400);\n  if (days)\n    return days + ' day' + addPluralSuffix(days);\n\n  var hours = Math.floor((duration %= 86400) / 3600);\n  if (hours)\n    return hours + ' hour' + addPluralSuffix(hours);\n\n  var minutes = Math.floor((duration %= 3600) / 60);\n  if (minutes)\n    return minutes + ' minute' + addPluralSuffix(minutes);\n\n  var seconds = duration % 60;\n  if (seconds)\n    return seconds + ' second' + addPluralSuffix(seconds);\n\n  return 'just now';\n}\n\nexport function isDev() {\n  return __DEV__;\n}\n\nexport function isPushNotificationsSupported () {\n  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\n  if (isSupportedFireFox())\n    return true;\n\n  if (isSupportedSafari())\n    return true;\n\n  // Chrome is not found in appVersion.\n  if (!chromeVersion)\n    return false;\n\n  // Microsoft Edge\n  if (navigator.appVersion.match(/Edge/))\n    return false;\n\n  // Android Chrome WebView\n  if (navigator.appVersion.match(/ wv/))\n    return false;\n\n  // Opera\n  if (navigator.appVersion.match(/OPR\\//))\n    return false;\n\n  // The user is on iOS\n  if (/iPad|iPhone|iPod/.test(navigator.platform))\n    return false;\n\n  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n}\n\nexport function isBrowserSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  return safariVersion != null ;\n}\n\nexport function isSupportedFireFox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n  return false;\n}\n\nexport function isBrowserFirefox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  return fireFoxVersion != null ;\n}\n\nexport function getFirefoxVersion() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2));\n  else return -1;\n}\n\nexport function isSupportedSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  if (safariVersion == null)\n    return false;\n  if (/iPhone|iPad|iPod/i.test(navigator.userAgent))\n    return false;\n  return (parseInt(safariVersion[1]) > 6);\n}\n\nexport function removeDomElement(selector) {\n  var els = document.querySelectorAll(selector);\n  if (els.length > 0) {\n    for (let i = 0; i < els.length; i++)\n      els[i].parentNode.removeChild(els[i]);\n  }\n}\n\nexport function addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function clearDomElementChildren(targetSelectorOrElement) {\n  if (typeof targetSelectorOrElement === 'string') {\n    var element = document.querySelector(targetSelectorOrElement);\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    while (targetSelectorOrElement.firstChild) {\n      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n    }\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function addCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.add(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.add(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function removeCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.remove(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.remove(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function hasCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    return document.querySelector(targetSelectorOrElement).classList.contains(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    return targetSelectorOrElement.classList.contains(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function on(targetSelectorOrElement, event, task) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        on(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      on(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.addEventListener(event, task);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function once(targetSelectorOrElement, event, task, manualDestroy=false) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        once(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      once(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    var taskWrapper = (function () {\n      var internalTaskFunction = function (e) {\n        var destroyEventListener = function() {\n          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n        };\n        if (!manualDestroy) {\n          destroyEventListener();\n        }\n        task(e, destroyEventListener);\n      };\n      return internalTaskFunction;\n    })();\n    targetSelectorOrElement.addEventListener(event, taskWrapper);\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n/**\n * Removes event handler from selector.\n * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n * @param event The event to target (e.g. 'transitionend')\n * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n */\nexport function off(targetSelectorOrElement, event, task) {\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        off(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      off(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    if (task)\n      targetSelectorOrElement.removeEventListener(event, task);\n    else\n      targetSelectorOrElement.removeEventListener(event);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function getConsoleStyle(style) {\n  if (style == 'code') {\n    return `\n    padding: 0 5px 2px;\n    border: 1px solid #ddd;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    background-clip: padding-box;\n    font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;\n    color: #666;\n    `\n  } else if (style == 'bold') {\n    return `\n      font-weight: 600;\n    color: rgb(51, 51, 51);\n    `;\n  } else if (style == 'alert') {\n    return `\n      font-weight: 600;\n    color: red;\n    `;\n  } else if (style == 'event') {\n    return `\n    color: green;\n    `;\n  } else if (style == 'postmessage') {\n    return `\n    color: orange;\n    `;\n  } else if (style == 'serviceworkermessage') {\n    return `\n    color: purple;\n    `;\n  }\n}\n\n/**\n * Returns a promise for the setTimeout() method.\n * @param durationMs\n * @returns {Promise} Returns a promise that resolves when the timeout is complete.\n */\nexport function delay(durationMs) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, durationMs)\n  });\n}\n\nexport function nothing() {\n  return Promise.resolve();\n}\n\nexport function when(condition, promiseIfTrue, promiseIfFalse) {\n  if (promiseIfTrue === undefined)\n    promiseIfTrue = nothing();\n  if (promiseIfFalse === undefined)\n    promiseIfFalse = nothing();\n  return (condition ? promiseIfTrue : promiseIfFalse);\n}\n\nexport function guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = crypto.getRandomValues(new Uint8Array(1))[0]%16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * Returns true if match is in string; otherwise, returns false.\n */\nexport function contains(indexOfAble, match) {\n  if (!indexOfAble)\n    return false;\n  return indexOfAble.indexOf(match) !== -1;\n}\n\n/**\n * Returns the current object without keys that have undefined values.\n * Regardless of whether the return result is used, the passed-in object is destructively modified.\n * Only affects keys that the object directly contains (i.e. not those inherited via the object's prototype).\n * @param object\n */\nexport function trimUndefined(object) {\n  for (var property in object) {\n    if (object.hasOwnProperty(property)) {\n      if (object[property] === undefined) {\n        delete object[property];\n      }\n    }\n  }\n  return object;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/loglevel/lib/loglevel.js\n ** module id = 3\n ** module chunks = 0\n **/","import { contains } from './utils.js';\n\nexport default class Environment {\n  static get SERVICE_WORKER() {\n    return 'ServiceWorker';\n  }\n\n  static get HOST() {\n    return \"host\";\n  }\n\n  static get POPUP() {\n    return \"popup\";\n  }\n\n  static get IFRAME() {\n    return \"iFrame\";\n  }\n\n  static getEnv() {\n    if (typeof window === \"undefined\") {\n      if (typeof WorkerLocation !== \"undefined\" && location instanceof WorkerLocation)\n        return Environment.SERVICE_WORKER;\n    }\n    else {\n      // If the window is the root top-most level\n      if (window.self === window.top) {\n        if (contains(location.href, \"initOneSignal\"))\n          return Environment.POPUP;\n        else\n          return Environment.HOST;\n      }\n      else\n        return Environment.IFRAME;\n    }\n  }\n\n  static isServiceWorker() {\n    return Environment.getEnv() === Environment.SERVICE_WORKER;\n  }\n\n  static isHost() {\n    return Environment.getEnv() === Environment.HOST;\n  }\n\n  static isPopup() {\n    return Environment.getEnv() === Environment.POPUP;\n  }\n\n  static isIframe() {\n    return Environment.getEnv() === Environment.IFRAME;\n  }\n\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/environment.js\n **/","module.exports = global[\"OneSignal\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/sdk.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?OneSignal!./src/sdk.js\n ** module id = 5\n ** module chunks = 0\n **/","import { DEV_HOST, DEV_FRAME_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js'\nimport './string.js'\nimport { apiCall, sendNotification } from './api.js';\nimport log from 'loglevel';\nimport LimitStore from './limitStore.js';\nimport Event from \"./events.js\";\nimport Bell from \"./bell/bell.js\";\nimport Database from './database.js';\nimport * as Browser from 'bowser';\nimport { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, once, guid, contains } from './utils.js';\nimport objectAssign from 'object-assign';\nimport swivel from 'swivel';\n\n\nvar OneSignal = {\n  _VERSION: __VERSION__,\n  _API_URL: API_URL,\n  _app_id: null,\n  _tagsToSendOnRegister: null,\n  _notificationOpenedCallbacks: [],\n  _idsAvailable_callback: [],\n  _defaultLaunchURL: null,\n  _initOptions: null,\n  _httpRegistration: false,\n  _main_page_port: null,\n  _isNotificationEnabledCallback: [],\n  _subscriptionSet: true,\n  _initOneSignalHttp: null,\n  _sessionIframeAdded: false,\n  _useHttpMode: null,\n  _windowWidth: 550,\n  _windowHeight: 480,\n  _isUninitiatedVisitor: false,\n  _isNewVisitor: false,\n  _channel: null,\n  initialized: false,\n  notifyButton: null,\n  store: LimitStore,\n  environment: Environment,\n  database: Database,\n  event: Event,\n  browser: Browser,\n  log: log,\n  swivel: swivel,\n  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n  SERVICE_WORKER_PARAM: {},\n\n  /* Event Definitions */\n  EVENTS: {\n    CUSTOM_PROMPT_CLICKED: 'onesignal.prompt.custom.clicked',\n    NATIVE_PROMPT_PERMISSIONCHANGED: 'onesignal.prompt.native.permissionchanged',\n    SUBSCRIPTION_CHANGED: 'onesignal.subscription.changed',\n    WELCOME_NOTIFICATION_SENT: 'onesignal.actions.welcomenotificationsent',\n    INTERNAL_SUBSCRIPTIONSET: 'onesignal.internal.subscriptionset',\n    SDK_INITIALIZED: 'onesignal.sdk.initialized'\n  },\n\n  _sendToOneSignalApi: function (url, action, inData, callback, failedCallback) {\n    log.debug(`Calling ${action} ${OneSignal._API_URL + url} with data:`, inData);\n    var contents = {\n      method: action,\n      //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n    };\n\n    if (inData) {\n      contents.headers = {\"Content-type\": \"application/json;charset=UTF-8\"};\n      contents.body = JSON.stringify(inData);\n    }\n\n    fetch(OneSignal._API_URL + url, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          return Promise.resolve(response);\n        else\n          return Promise.reject(new Error(response.statusText));\n      })\n      .then(function status(response) {\n        return response.json();\n      })\n      .then(function (jsonData) {\n        if (callback != null)\n          callback(jsonData);\n      })\n      .catch(function (e) {\n        log.error('OneSignal._sendToOneSignalApi() failed:', e);\n        if (failedCallback != null)\n          failedCallback();\n      });\n  },\n\n  _getLanguage: function () {\n    return navigator.language ? (navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language) : 'en';\n  },\n\n  _getPlayerId: function (value, callback) {\n    if (value)\n      callback(value)\n    else {\n      Database.get('Ids', 'userId')\n        .then(function _getPlayerId_gotUserId(result) {\n          if (result)\n            callback(result.id);\n          else\n            callback(null);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  _registerWithOneSignal: function (appId, registrationId, deviceType) {\n\n    Database.get('Ids', 'userId')\n      .then(function _registerWithOneSignal_GotUserId(userIdResult) {\n        OneSignal._getNotificationTypes(function (notif_types) {\n          var requestUrl = 'players';\n\n          var jsonData = {\n            app_id: appId,\n            device_type: deviceType,\n            language: OneSignal._getLanguage(),\n            timezone: new Date().getTimezoneOffset() * -60,\n            device_model: navigator.platform + \" \" + Browser.name,\n            device_os: Browser.version,\n            sdk: OneSignal._VERSION\n          };\n\n          if (userIdResult) {\n            requestUrl = 'players/' + userIdResult.id + '/on_session';\n            jsonData.notification_types = notif_types\n          }\n          else if (notif_types != 1)\n            jsonData.notification_types = notif_types\n\n          if (registrationId) {\n            jsonData.identifier = registrationId;\n            Database.put(\"Ids\", {type: \"registrationId\", id: registrationId});\n          }\n\n          OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData,\n            function registeredCallback(responseJSON) {\n              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\n              if (responseJSON.id) {\n                Database.put(\"Ids\", {type: \"userId\", id: responseJSON.id});\n                OneSignal._sendUnsentTags();\n              }\n\n              OneSignal._getPlayerId(responseJSON.id, function (userId) {\n                if (OneSignal._idsAvailable_callback.length > 0) {\n                  while (OneSignal._idsAvailable_callback.length > 0) {\n                    var curr_callback = OneSignal._idsAvailable_callback.pop();\n                    curr_callback({userId: userId, registrationId: registrationId});\n                  }\n                }\n\n                if (OneSignal._httpRegistration) {\n                  // 12/16/2015 -- At this point, the user has just clicked Allow on the HTTP prompt!!\n                  OneSignal._getNotificationPermission()\n                    .then((permission) => {\n                      log.debug(\"Sending player Id and registrationId back to host page\");\n                      log.debug(OneSignal._initOptions);\n                      var creator = opener || parent;\n                      OneSignal._safePostMessage(creator, {\n                        idsAvailable: {\n                          userId: userId,\n                          registrationId: registrationId\n                        },\n                        from: Environment.getEnv()\n                      }, OneSignal._initOptions.origin, null);\n                      OneSignal._safePostMessage(creator, {\n                        httpNativePromptPermissionChanged: permission,\n                        from: Environment.getEnv()\n                      }, OneSignal._initOptions.origin, null);\n\n                      if (opener)\n                        window.close();\n                    })\n                    .catch(e => log.error(e));\n                }\n              });\n            }\n          );\n\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _sendUnsentTags: function () {\n    if (OneSignal._tagsToSendOnRegister) {\n      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n      OneSignal._tagsToSendOnRegister = null;\n    }\n  },\n\n  setDefaultNotificationUrl: function (url) {\n    Database.put(\"Options\", {key: \"defaultUrl\", value: url});\n  },\n\n  setDefaultIcon: function (icon) {\n    Database.put(\"Options\", {key: \"defaultIcon\", value: icon});\n  },\n\n  setDefaultTitle: function (title) {\n    Database.put(\"Options\", {key: \"defaultTitle\", value: title});\n  },\n\n  onCustomPromptClicked: function (event) {\n  },\n\n  onNativePromptChanged: function (event) {\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _sendSelfNotification: function(title, message, url, data) {\n    if (!title) {\n      title = 'OneSignal Test Message';\n    }\n    if (!message) {\n      message = 'This is an example notification.';\n    }\n    if (!url) {\n      url = new URL(location.href).origin + '?_osp=do_not_open';\n    }\n    Database.get('Ids', 'userId')\n      .then(function (result) {\n        if (result && result.id) {\n          sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message}, url, data)\n        } else {\n          log.warn('Could not send self a test notification because there is no valid user ID.');\n        }\n      });\n  },\n\n  _closeAllNotifications: function() {\n    navigator.serviceWorker.getRegistration()\n      .then(registration => {\n        if (registration === undefined || !registration.active) {\n          log.debug('There is no active service worker.');\n          return Promise.reject();\n        } else {\n          if (OneSignal._channel) {\n            OneSignal._channel.emit('data', 'notification.closeall');\n          } else {\n            log.error(\"Please initialize the SDK before trying to communicate with the service worker. The communication channel isn't initialized yet.\");\n          }\n        }\n      });\n  },\n\n  _onSubscriptionChanged: function (event) {\n    if (OneSignal._isUninitiatedVisitor && event.detail === true) {\n      Database.get('Ids', 'userId')\n        .then(function (result) {\n          let welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n          let welcome_notification_disabled = (welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true);\n          let title = (welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null) ? welcome_notification_opts['title'] : '';\n          let message = (welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0) ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n          let unopenableWelcomeNotificationUrl = new URL(location.href);\n          unopenableWelcomeNotificationUrl = unopenableWelcomeNotificationUrl.origin + '?_osp=do_not_open';\n          let url = (welcome_notification_opts && welcome_notification_opts['url'] && welcome_notification_opts['url'].length > 0) ? welcome_notification_opts['url'] : unopenableWelcomeNotificationUrl;\n          if (!welcome_notification_disabled) {\n            log.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n            sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message}, url);\n            Event.trigger(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, {title: title, message: message, url: url});\n            OneSignal._isUninitiatedVisitor = false;\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    LimitStore.put('subscription.value', event.detail);\n  },\n\n  _onDbValueRetrieved: function (event) {\n  },\n\n  _onDbValueSet: function (event) {\n    var info = event.detail;\n    if (info.type === 'userId') {\n      LimitStore.put('db.ids.userId', info.id);\n      OneSignal._checkTrigger_eventSubscriptionChanged();\n    }\n  },\n\n  _onInternalSubscriptionSet: function (event) {\n    var newSubscriptionValue = event.detail;\n    LimitStore.put('setsubscription.value', newSubscriptionValue);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  /**\n   * This event occurs after init.\n   * For HTTPS sites, this event is called after init.\n   * For HTTP sites, this event is called after the iFrame is created, and a message is received from the iFrame signaling cross-origin messaging is ready.\n   * @private\n   */\n  _onSdkInitialized: function() {\n    if (OneSignal.initialized) {\n      log.warn('SDK initialized event occured more than once, so skipping running init trigger code.');\n      return;\n    }\n\n    // Store initial values of notification permission, user ID, and manual subscription status\n    // This is done so that the values can be later compared to see if anything changed\n    // This is done here for HTTPS, it is done after the call to _addSessionIframe in _sessionInit for HTTP sites, since the iframe is needed for communication\n    OneSignal._storeInitialValues();\n\n    if (navigator.serviceWorker) {\n      navigator.serviceWorker.getRegistration()\n        .then(registration => {\n          if (registration && registration.active) {\n            if (OneSignal._channel) {\n              OneSignal._channel.off('data');\n              OneSignal._channel.off('notification.clicked');\n            }\n            OneSignal._channel = swivel.at(registration.active);\n            OneSignal._channel.on('data', function handler(context, data) {\n              log.debug(`%c${Environment.getEnv().capitalize()} ⬸ ServiceWorker:`, getConsoleStyle('serviceworkermessage'), data, context);\n            });\n            OneSignal._channel.on('notification.clicked', function handler(context, data) {\n              OneSignal._fireNotificationOpenedCallbacks(data);\n            });\n            log.info('Service worker messaging channel established!');\n          }\n        });\n    }\n\n    if (Environment.isBrowser() && !OneSignal.notifyButton) {\n      OneSignal._initOptions.notifyButton = OneSignal._initOptions.notifyButton || {};\n      if (OneSignal._initOptions.bell) {\n        // If both bell and notifyButton, notifyButton's options take precedence\n        objectAssign(OneSignal._initOptions.bell, OneSignal._initOptions.notifyButton);\n        objectAssign(OneSignal._initOptions.notifyButton, OneSignal._initOptions.bell);\n      }\n      OneSignal.notifyButton = new Bell(OneSignal._initOptions.notifyButton);\n      OneSignal.notifyButton.create();\n      OneSignal.initialized = true;\n    }\n  },\n\n  _onDatabaseRebuilt: function() {\n    OneSignal._isNewVisitor = true;\n  },\n\n  _checkTrigger_nativePermissionChanged: function() {\n    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n      .then((permission) => {\n        let currentPermission = permission;\n        let lastPermission = LimitStore.getLast('notification.permission');\n        if (lastPermission !== currentPermission) {\n          OneSignal._triggerEvent_nativePromptPermissionChanged(lastPermission, currentPermission);\n        }\n      })\n      .catch(e => log.error(e));\n  },\n\n  _checkTrigger_eventSubscriptionChanged: function () {\n    log.debug('Called %c_checkTrigger_eventSubscriptionChanged()', getConsoleStyle('code'), 'in', Environment.getEnv());\n    var permissions = LimitStore.get('notification.permission');\n    var lastPermission = permissions[permissions.length - 2];\n    var currentPermission = permissions[permissions.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Permissions:', {lastPermission, currentPermission});\n\n    var ids = LimitStore.get('db.ids.userId');\n    var lastId = ids[ids.length - 2];\n    var currentId = ids[ids.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Ids:', {lastId, currentId});\n\n    var subscriptionStates = LimitStore.get('setsubscription.value');\n    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Subscriptions:', {lastSubscriptionState, currentSubscriptionState});\n\n\n    var newSubscriptionState = 'unchanged';\n\n    if (((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' &&\n        currentId !== null &&\n        currentSubscriptionState === true\n      ) ||\n      (\n        (lastSubscriptionState === false && currentSubscriptionState === true) &&\n        currentId != null &&\n        currentPermission === 'granted'\n      )) {\n      newSubscriptionState = true;\n    }\n\n    if ((lastPermission !== 'denied' && currentPermission === 'denied') ||\n      (lastPermission === 'granted' && currentPermission !== 'granted') ||\n      (lastId !== null && currentId === null) ||\n      (lastSubscriptionState !== false && currentSubscriptionState === false)) {\n      newSubscriptionState = false;\n    }\n\n    if (newSubscriptionState !== \"unchanged\") {\n      var lastTriggerTimes = LimitStore.put('event.subscriptionchanged.lastriggered', Date.now());\n      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\n      var lastEventStates = LimitStore.put('event.subscriptionchanged.laststates', newSubscriptionState);\n      var currentState = lastEventStates[lastEventStates.length - 1];\n      var lastState = lastEventStates[lastEventStates.length - 2];\n\n      // If event already triggered within the last second, don't re-trigger.\n      var shouldNotTriggerEvent = (lastTriggerTime != null && (elapsedTimeSeconds <= 1)) || (currentState === lastState);\n      if (shouldNotTriggerEvent === false) {\n        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)\n      }\n    }\n  },\n\n  isPushNotificationsSupported: function() {\n    return isPushNotificationsSupported();\n  },\n\n  _installNativePromptPermissionChangedHook: function() {\n    if (navigator.permissions && !(isBrowserFirefox() && getFirefoxVersion() <= 45)) {\n      OneSignal._usingNativePermissionHook = true;\n      // If the browser natively supports hooking the subscription prompt permission change event\n      //     use it instead of our SDK method\n      navigator.permissions.query({name: 'notifications'}).then(function (permissionStatus) {\n        permissionStatus.onchange = function () {\n          var permissionBeforePrompt = LimitStore.getFirst('notification.permission');\n          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n        };\n      })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n  },\n\n  init: function (options) {\n    log.debug(`Called %cinit(${JSON.stringify(options, null, 4)})`, getConsoleStyle('code'));\n\n    if (Environment.isBrowser() && window.localStorage[\"onesignal.debugger.init\"]) {\n      debugger;\n    }\n\n    if (OneSignal.initialized) {\n      log.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n      return;\n    }\n\n    if (!options.path) {\n      options.path = '/';\n    }\n\n    OneSignal._initOptions = options;\n    OneSignal._app_id = OneSignal._initOptions.appId;\n\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    if (Browser.safari && !OneSignal._initOptions.safari_web_id) {\n      log.warn(\"You're browsing on Safari, and %csafari_web_id\", getConsoleStyle('code'), 'was not passed to OneSignal.init(), so not initializing the SDK.');\n      return;\n    }\n\n    window.addEventListener(Database.EVENTS.REBUILT, OneSignal._onDatabaseRebuilt);\n    window.addEventListener(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, OneSignal.onCustomPromptClicked);\n    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, OneSignal.onNativePromptChanged);\n    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, OneSignal._onSubscriptionChanged);\n    window.addEventListener(Database.EVENTS.RETRIEVED, OneSignal._onDbValueRetrieved);\n    window.addEventListener(Database.EVENTS.SET, OneSignal._onDbValueSet);\n    window.addEventListener(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, OneSignal._onInternalSubscriptionSet);\n    window.addEventListener(OneSignal.EVENTS.SDK_INITIALIZED, OneSignal._onSdkInitialized);\n    window.addEventListener('focus', (event) => {\n      // Checks if permission changed everytime a user focuses on the page, since a user has to click out of and back on the page to check permissions\n      OneSignal._checkTrigger_nativePermissionChanged();\n    });\n\n    OneSignal._useHttpMode = !isSupportedSafari() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\n    if (OneSignal._useHttpMode) {\n      if (!OneSignal._initOptions.subdomainName) {\n        log.error('OneSignal: Missing required init parameter %csubdomainName', getConsoleStyle('code'), '. You must supply a subdomain name to the SDK initialization options. (See: https://documentation.onesignal.com/docs/website-sdk-http-installation#2-include-and-initialize-onesignal)')\n        return;\n      }\n      if (contains(OneSignal._initOptions.subdomainName, '.')) {\n        log.error('OneSignal: Invalid parameter %csubdomainName', getConsoleStyle('code'), \". Do not include dots or '.onesignal.com' as part of your subdomain name. (See: https://documentation.onesignal.com/docs/website-sdk-http-installation#2-include-and-initialize-onesignal)\")\n        return;\n      }\n      OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';\n    }\n    else {\n      OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n    }\n\n    if (__DEV__)\n      OneSignal._initOneSignalHttp = DEV_FRAME_HOST + '/dev_sdks/initOneSignalHttp';\n\n    if (OneSignal._initOptions.persistNotification === false) {\n      Database.put('Options', {key: 'persistNotification', value: false})\n    } else {\n      Database.put('Options', {key: 'persistNotification', value: true})\n    }\n\n    let webhookPromises = [];\n    let webhookOptions = OneSignal._initOptions.webhooks;\n    ['notification.displayed', 'notification.clicked'].forEach(event => {\n      if (webhookOptions && webhookOptions[event]) {\n        webhookPromises.push(Database.put('Options', {key: `webhooks.${event}`, value: webhookOptions[event]}));\n      } else {\n        webhookPromises.push(Database.put('Options', {key: `webhooks.${event}`, value: false}));\n      }\n    });\n    if (webhookOptions && webhookOptions.cors) {\n      webhookPromises.push(Database.put('Options', {key: `webhooks.cors`, value: true}));\n    } else {\n      webhookPromises.push(Database.put('Options', {key: `webhooks.cors`, value: false}));\n    }\n    Promise.all(webhookPromises);\n\n    // If Safari - add 'fetch' pollyfill if it isn't already added.\n    if (isSupportedSafari() && typeof window.fetch == \"undefined\") {\n      var s = document.createElement('script');\n      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n      document.head.appendChild(s);\n    }\n\n    if (document.readyState === \"complete\")\n      OneSignal._internalInit();\n    else\n      window.addEventListener('load', OneSignal._internalInit);\n  },\n\n  _internalInit: function () {\n    log.debug('Called %c_internalInit()', getConsoleStyle('code'));\n    Promise.all([Database.get('Ids', 'appId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var appIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        // If AppId changed delete playerId and continue.\n        if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n          log.warn(`%cWARNING: Because your app ID changed from ${appIdResult.id} ⤑ ${OneSignal._initOptions.appId}, all IndexedDB and SessionStorage data will be wiped.`, getConsoleStyle('alert'));\n          sessionStorage.clear();\n          Database.rebuild().then(() => {\n            OneSignal.init(OneSignal._initOptions);\n          }).catch(e => log.error(e));\n        } else {\n          // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n          if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")\n            && !OneSignal._initOptions.subdomainName\n            && (Notification.permission == \"denied\"\n            || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) {\n            Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n            return;\n          }\n\n          sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n          if (Browser.safari && OneSignal._initOptions.autoRegister === false) {\n            log.debug('On Safari and autoregister is false, skipping sessionInit().');\n            log.debug('Use http mode: ', OneSignal._useHttpMode);\n            // This *seems* to trigger on either Safari's autoregister false or Chrome HTTP\n            // Chrome HTTP gets an SDK_INITIALIZED event from the iFrame postMessage, so don't call it here\n            if (!OneSignal._useHttpMode) {\n              Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n            }\n            return;\n          }\n\n          if (OneSignal._initOptions.autoRegister === false && !registrationIdResult && !OneSignal._initOptions.subdomainName) {\n            log.debug('No autoregister, no registration ID, no subdomain > skip _internalInit().')\n            Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n            return;\n          }\n\n          if (document.visibilityState !== \"visible\") {\n            once(document, 'visibilitychange', (e, destroyEventListener) => {\n              if (document.visibilityState === 'visible') {\n                destroyEventListener();\n                OneSignal._sessionInit({});\n              }\n            }, true);\n            return;\n          }\n\n          log.debug('Calling _sessionInit() normally from _internalInit().');\n          OneSignal._sessionInit({});\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  registerForPushNotifications: function (options) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n    if (!options)\n      options = {};\n    options.fromRegisterFor = true;\n    OneSignal._sessionInit(options);\n  },\n\n  // Http only - Only called from iframe's init.js\n  _initHttp: function (options) {\n    log.debug(`Called %c_initHttp(${JSON.stringify(options, null, 4)})`, getConsoleStyle('code'));\n\n    if (Environment.isBrowser() && window.localStorage[\"onesignal.debugger._initHttp\"]) {\n      debugger;\n    }\n\n    OneSignal._initOptions = options;\n\n    OneSignal._installNativePromptPermissionChangedHook();\n    if (options.continuePressed) {\n      OneSignal.setSubscription(true);\n    }\n\n    var isIframe = (parent != null && parent != window);\n    var creator = opener || parent;\n\n    if (!creator) {\n      log.error('_initHttp (from <iframe>):', 'No opener or parent found!');\n      return;\n    }\n    // Setting up message channel to receive message from host page.\n    var messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function (event) {\n      log.debug(`%c${Environment.getEnv().capitalize()} ⬸ ${event.data.from.capitalize()}:`, getConsoleStyle('postmessage'), event.data);\n\n      if (event.data.initOptions) {\n        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n        if (event.data.initOptions.defaultIcon)\n          OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\n        Database.get(\"NotificationOpened\", event.data.initOptions.parent_url)\n          .then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n            if (notificationOpenedResult) {\n              Database.remove(\"NotificationOpened\", event.data.initOptions.parent_url);\n              log.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\n              OneSignal._safePostMessage(creator, {openedNotification: notificationOpenedResult.data, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n        ;\n      }\n      else if (event.data.getNotificationPermission) { // This is not used for OneSignal._getNotificationPermission, even though the naming is similar\n        //log.info('%cIn the <iframe>: getNotificationPermission message was received.', getConsoleStyle('alert'));\n        OneSignal._getSubdomainState(function (curState) {\n          OneSignal._safePostMessage(creator, {currentNotificationPermission: curState, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n        });\n      }\n      else if (event.data.remoteGetNotificationPermission) {\n        let safariWebId = event.data.safariWebId;\n        let promiseId = event.data.promiseId;\n        OneSignal._getNotificationPermission(safariWebId)\n          .then((permission) => {\n            OneSignal._safePostMessage(creator, {remoteGetNotificationPermissionResponse: permission, promiseId: promiseId, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n          })\n          .catch(e => log.error(e));\n      }\n      else if (event.data.setSubdomainState) {\n        let promiseId = event.data.promiseId;\n        OneSignal.setSubscription(event.data.setSubdomainState.setSubscription)\n          .then(() => {\n            // Let main page know setSubscription is complete so promise can be fulfilled\n            OneSignal._safePostMessage(creator, {setSubscriptionComplete: true, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n          })\n          .catch(() => {\n            OneSignal._safePostMessage(creator, {setSubscriptionComplete: false, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n          });\n      }\n      else if (event.data.remoteGetDbValue) {\n        let promiseId = event.data.promiseId;\n        let table = event.data.table;\n        let key = event.data.key;\n        if (!promiseId) {\n          log.error('No promise ID set for remoteGetDbValue.');\n        }\n        if (!table) {\n          log.error('Cannot remotely retrieve database value without being supplied the table to look in!');\n        }\n        if (!key) {\n          log.error(\"Cannot remotely retrieve database value without being supplied the table's key!\");\n        }\n        Database.get(table, key).then(result => {\n          OneSignal._safePostMessage(creator, {remoteGetDbValue: true, result: result, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n        })\n          .catch(e => {\n            log.error(e);\n            OneSignal._safePostMessage(creator, {remoteGetDbValue: false, error: e, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n          });\n      }\n    };\n\n    OneSignal._getSubdomainState(function (curState) {\n      curState[\"isIframe\"] = isIframe;\n      OneSignal._safePostMessage(creator, {oneSignalInitPageReady: curState, from: Environment.getEnv()}, OneSignal._initOptions.origin, [messageChannel.port2]);\n    });\n\n    OneSignal._initSaveState();\n    OneSignal._httpRegistration = true;\n    if (location.search.indexOf(\"?session=true\") == 0)\n      return;\n\n    OneSignal._getPlayerId(null, function (player_id) {\n      if (!isIframe || player_id) {\n        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n      }\n    });\n  },\n\n  _getSubdomainState: function (callback) {\n    var state = {};\n\n    Promise.all([Database.get('Ids', 'userId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var userIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        callback({\n          userId: userIdResult ? userIdResult.id : null,\n          registrationId: registrationIdResult ? registrationIdResult.id : null,\n          notifPermssion: Notification.permission,\n          subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n          isPushEnabled: ( Notification.permission == \"granted\"\n          && userIdResult\n          && registrationIdResult\n          && ((subscriptionResult && subscriptionResult.value) || subscriptionResult == null))\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _initSaveState: function () {\n    OneSignal._app_id = OneSignal._initOptions.appId;\n    Database.put(\"Ids\", {type: \"appId\", id: OneSignal._app_id});\n    Database.put(\"Options\", {key: \"pageTitle\", value: document.title});\n  },\n\n  _supportsDirectPermission: function () {\n    return isSupportedSafari()\n      || location.protocol == 'https:'\n      || location.host.indexOf(\"localhost\") == 0\n      || location.host.indexOf(\"127.0.0.1\") == 0;\n  },\n\n  _getPromptOptionsQueryString: function () {\n    var message_localization_opts = OneSignal._initOptions['promptOptions'];\n    var message_localization_opts_str = '';\n    if (message_localization_opts) {\n      var message_localization_params = ['actionMessage',\n        'exampleNotificationTitleDesktop',\n        'exampleNotificationMessageDesktop',\n        'exampleNotificationTitleMobile',\n        'exampleNotificationMessageMobile',\n        'exampleNotificationCaption',\n        'acceptButtonText',\n        'cancelButtonText',\n        'showCredit'];\n      for (var i = 0; i < message_localization_params.length; i++) {\n        var key = message_localization_params[i];\n        var value = message_localization_opts[key];\n        var encoded_value = encodeURIComponent(value);\n        if (value || value === false || value === '') {\n          message_localization_opts_str += '&' + key + '=' + encoded_value;\n        }\n      }\n    }\n    return message_localization_opts_str;\n  },\n\n  _storeInitialValues: function() {\n    log.debug(`Called %c_storeInitialValues()`, getConsoleStyle('code'));\n    return OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n      .then(permission => {\n        LimitStore.put('notification.permission', permission);\n        OneSignal._installNativePromptPermissionChangedHook();\n\n        // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n        return Database.get('Ids', 'userId');\n      })\n      .then(function (result) {\n        if (result === undefined) {\n          OneSignal._isUninitiatedVisitor = true;\n        }\n        var storeValue = result ? result.id : null;\n        LimitStore.put('db.ids.userId', storeValue);\n\n        // Store the current value of subscription, so that we can see if the value changes in the future\n        return OneSignal._getSubscription();\n      })\n      .then((currentSubscription) => {\n        LimitStore.put('setsubscription.value', currentSubscription);\n      })\n      .catch(e => log.error(e));\n  },\n\n  _sessionInit: function (options) {\n    log.debug(`Called %c_sessionInit(${JSON.stringify(options)})`, getConsoleStyle('code'));\n    OneSignal._initSaveState();\n\n    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\n    // If HTTP or using subdomain mode\n    if (OneSignal._useHttpMode) {\n      if (options.fromRegisterFor) {\n        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\n        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n        var childWidth = OneSignal._windowWidth;\n        var childHeight = OneSignal._windowHeight;\n\n        var left = ((thisWidth / 2) - (childWidth / 2)) + dualScreenLeft;\n        var top = ((thisHeight / 2) - (childHeight / 2)) + dualScreenTop;\n\n        log.debug('Opening popup window.');\n        var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\n        if (childWindow)\n          childWindow.focus();\n      }\n      else {\n        OneSignal._addSessionIframe(hostPageProtocol);\n      }\n    }\n    else {\n      if (isSupportedSafari()) {\n        if (OneSignal._initOptions.safari_web_id) {\n          OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n            .then(permission => {\n              window.safari.pushNotification.requestPermission(\n                OneSignal._API_URL + 'safari',\n                OneSignal._initOptions.safari_web_id,\n                {app_id: OneSignal._app_id},\n                function (data) {\n                  log.info('Safari requestPermission() callback:', data);\n                  var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n                  if (data.deviceToken) {\n                    OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n                  }\n                  else {\n                    sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n                  }\n                  OneSignal._triggerEvent_nativePromptPermissionChanged(permission);\n                }\n              );\n            })\n            .catch(e => log.error(e));\n        }\n      }\n      else if (options.modalPrompt && options.fromRegisterFor) { // If HTTPS - Show modal\n        if (!isPushNotificationsSupported()) {\n          log.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n          return;\n        }\n        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n          var element = document.createElement('div');\n          element.setAttribute('id', 'OneSignal-iframe-modal');\n          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 3000000000; display: block\"></div>';\n          document.body.appendChild(element);\n\n          var iframeStyle = document.createElement('style');\n          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\"\n            + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\n          var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\n          var iframeNode = document.createElement(\"iframe\");\n          iframeNode.className = \"OneSignal-permission-iframe\"\n          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n          iframeNode.src = OneSignal._initOneSignalHttp\n            + '?'\n            + message_localization_opts_str\n            + '&id=' + OneSignal._app_id\n            + '&httpsPrompt=true'\n            + '&pushEnabled=' + pushEnabled\n            + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\")\n            + '&hostPageProtocol=' + hostPageProtocol;\n          iframeNode.setAttribute('frameborder', '0');\n          iframeNode.width = OneSignal._windowWidth.toString();\n          iframeNode.height = OneSignal._windowHeight.toString();\n\n          log.debug('Opening HTTPS modal prompt.');\n          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n        });\n      }\n      else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n        OneSignal._registerForW3CPush(options);\n      else\n        log.debug('Service workers are not supported in this browser.');\n\n      Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n    }\n  },\n\n  _registerForW3CPush: function (options) {\n    log.debug(`Called %c_registerForW3CPush(${JSON.stringify(options)})`, getConsoleStyle('code'));\n    return Database.get('Ids', 'registrationId')\n      .then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n        if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n          navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n            var sw_path = \"\";\n\n            if (OneSignal._initOptions.path)\n              sw_path = OneSignal._initOptions.path;\n\n            if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n              OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            else {\n              if (serviceWorkerRegistration.active) {\n                let previousWorkerUrl = serviceWorkerRegistration.active.scriptURL;\n                if (contains(previousWorkerUrl, sw_path + OneSignal.SERVICE_WORKER_PATH)) {\n                  // OneSignalSDKWorker.js was installed\n                  Database.get('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION) {\n                          log.info(`Installing new service worker (${versionResult.id} -> ${OneSignal._VERSION})`);\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                        }\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                }\n                else if (contains(previousWorkerUrl, sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH)) {\n                  // OneSignalSDKUpdaterWorker.js was installed\n                  Database.get('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION) {\n                          log.info(`Installing new service worker (${versionResult.id} -> ${OneSignal._VERSION})`);\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                        }\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                } else {\n                  // Some other service worker not belonging to us was installed\n                  // Install ours over it\n                  OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                }\n              }\n              else if (serviceWorkerRegistration.installing == null)\n                OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            }\n          })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _registerServiceWorker: function(full_sw_and_path) {\n    log.debug(`Called %c_registerServiceWorker(${JSON.stringify(full_sw_and_path, null, 4)})`, getConsoleStyle('code'));\n    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n  },\n\n  _addSessionIframe: function (hostPageProtocol) {\n    log.debug(`Called %c_addSessionIframe(${JSON.stringify(hostPageProtocol, null, 4)})`, getConsoleStyle('code'));\n\n    var node = document.createElement(\"iframe\");\n    node.style.display = \"none\";\n    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\"))\n      node.src += \"?session=true\"\n        + \"&hostPageProtocol=\" + hostPageProtocol;\n    else\n      node.src += \"?hostPageProtocol=\" + hostPageProtocol\n    document.body.appendChild(node);\n\n    OneSignal._sessionIframeAdded = true;\n  },\n\n  _registerError: function (err) {\n    log.error(\"ServiceWorker registration\", err);\n  },\n\n  _enableNotifications: function (existingServiceWorkerRegistration) { // is ServiceWorkerRegistration type\n    if (existingServiceWorkerRegistration)\n      log.debug('An older ServiceWorker exists:', existingServiceWorkerRegistration);\n    if (!('PushManager' in window)) {\n      log.error(\"Push messaging is not supported. No PushManager.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n      log.error(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (Notification.permission === 'denied') {\n      log.warn(\"The user has blocked notifications.\");\n      return;\n    }\n\n    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n      log.info('Service worker now active:', serviceWorkerRegistration);\n\n      if (OneSignal._channel) {\n        OneSignal._channel.off('data');\n        OneSignal._channel.off('notification.clicked');\n      }\n      OneSignal._channel = swivel.at(serviceWorkerRegistration.active);\n      OneSignal._channel.on('data', function handler(context, data) {\n        log.debug(`%c${Environment.getEnv().capitalize()} ⬸ ServiceWorker:`, getConsoleStyle('serviceworkermessage'), data, context);\n      });\n      OneSignal._channel.on('notification.clicked', function handler(context, data) {\n        OneSignal._fireNotificationOpenedCallbacks(data);\n      });\n      log.info('Service worker channel now established!');\n\n      OneSignal._subscribeForPush(serviceWorkerRegistration);\n    })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  ///**\n  // * Returns a promise that resolves to the browser's current notification permission as 'default', 'granted', or 'denied'.\n  // * @param callback A callback function that will be called when the browser's current notification permission has been obtained. On failure, the first argument will be an Error object indicating the failure. On success, the first argument will be null.\n  // */\n  //getNotificationPermission: function (onComplete) {\n  //  let safariWebId = OneSignal._initOptions.safari_web_id;\n  //  let result = OneSignal._getNotificationPermission(safariWebId);\n  //},\n\n  /*\n   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n   */\n  _getNotificationPermission: function (safariWebId) {\n    /*\n     For the following conditions, get directly and return:\n     - Safari, because the permission property is not scoped by origin\n     - HTTPS without a subdomain, because the permission is then accessed directly\n\n     Otherwise use a postmessage for:\n     - HTTP, this one is obvious\n     - HTTPS with a subdomain, when someone wants to consolidate multiple HTTPS sites under a subdomain\n     */\n    return new Promise((resolve, reject) => {\n      let isHttpsProtocol = (location.protocol === 'https:');\n      let noSubdomain = !OneSignal._useHttpMode;\n      if (Browser.safari ||\n        (isHttpsProtocol && noSubdomain)) {\n        if (window.safari) {\n          // The user is on Safari\n          // A web ID is required to determine the current notificiation permission\n          if (safariWebId) {\n            resolve(window.safari.pushNotification.permission(safariWebId).permission);\n          }\n          else {\n            // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n            resolve(\"default\");\n          }\n        }\n        else {\n          // Identical API on Firefox and Chrome\n          resolve(Notification.permission);\n        }\n      } else {\n        let uid = guid();\n        LimitStore.put(`_getNotificationPermissionPromiseResolve.${uid}`, resolve);\n        if (OneSignal._iframePort) {\n          OneSignal._iframePort.postMessage({remoteGetNotificationPermission: true, safariWebId: safariWebId, promiseId: uid, from: Environment.getEnv()});\n          // This promise will eventually be resolved by _listener_receiveMessage\n        } else {\n          // This entire function was called before an iFrame port is even available\n          resolve(\"default\");\n        }\n      }\n    });\n  },\n\n  _triggerEvent_customPromptClicked: function (clickResult) {\n    var recentPermissions = LimitStore.put('prompt.custom.permission', clickResult);\n    Event.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n      result: clickResult\n    });\n  },\n\n  _triggerEvent_nativePromptPermissionChanged: function (from, to, updateIfIdentical = false) {\n    if (to === undefined) {\n      var promise = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then((permission) => {\n        to = permission;\n      })\n        .catch(e => log.error(e));\n    } else {\n      var promise = Promise.resolve();\n    }\n    promise.then(() => {\n      if (from !== to || updateIfIdentical) {\n        var recentPermissions = LimitStore.put('notification.permission', to);\n        Event.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n          from: from,\n          to: to\n        });\n      }\n    });\n  },\n\n  _triggerEvent_subscriptionChanged: function (to) {\n    Event.trigger(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, to);\n  },\n\n  _triggerEvent_dbValueRetrieved: function (value) {\n    Event.trigger(Database.EVENTS.RETRIEVED, value);\n  },\n\n  _triggerEvent_dbValueSet: function (value) {\n    Event.trigger(Database.EVENTS.SET, value);\n  },\n\n  _triggerEvent_internalSubscriptionSet: function (value) {\n    Event.trigger(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, value);\n  },\n\n  _subscribeForPush: function (serviceWorkerRegistration) {\n    var notificationPermissionBeforeRequest = '';\n\n    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then((permission) => {\n        notificationPermissionBeforeRequest = permission;\n      })\n      .then(() => {\n        return serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly: true});\n      })\n      .then(function (subscription) {\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        Database.get('Ids', 'appId')\n          .then(function _subscribeForPush_GotAppId(appIdResult) {\n            var appId = appIdResult.id;\n            log.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\n            var registrationId = null;\n            if (subscription) {\n              if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n                registrationId = subscription.subscriptionId;\n              else  // Chrome 44+ and FireFox\n                registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n            }\n            else\n              log.warn('Could not subscribe your browser for push notifications.');\n\n            OneSignal._registerWithOneSignal(appId, registrationId, isSupportedFireFox() ? 8 : 5);\n\n            if (!OneSignal._usingNativePermissionHook) {\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n      })\n      .catch(function (e) {\n        log.error('Error while subscribing for push:', e);\n\n        // New addition (12/22/2015), adding support for detecting the cancel 'X'\n        // Chrome doesn't show when the user clicked 'X' for cancel\n        // We get the same error as if the user had clicked denied, but we can check Notification.permission to see if it is still 'default'\n        OneSignal._getNotificationPermission().then((permission) => {\n          if (permission === 'default') {\n            // The user clicked 'X'\n            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission, true);\n          }\n\n          if (!OneSignal._usingNativePermissionHook)\n            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission);\n\n          if (opener && OneSignal._httpRegistration)\n            window.close();\n        })\n        .catch(e => log.error(e));\n      });\n  },\n\n  sendTag: function (key, value) {\n    var jsonKeyValue = {};\n    jsonKeyValue[key] = value;\n    OneSignal.sendTags(jsonKeyValue);\n  },\n\n  sendTags: function (jsonPair) {\n    Database.get('Ids', 'userId')\n      .then(function sendTags_GotUserId(userIdResult) {\n        if (userIdResult)\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n            app_id: OneSignal._app_id,\n            tags: jsonPair\n          });\n        else {\n          if (OneSignal._tagsToSendOnRegister == null)\n            OneSignal._tagsToSendOnRegister = jsonPair;\n          else {\n            var resultObj = {};\n            for (var _obj in OneSignal._tagsToSendOnRegister) resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n            for (var _obj in jsonPair) resultObj[_obj] = jsonPair[_obj];\n            OneSignal._tagsToSendOnRegister = resultObj;\n          }\n        }\n      })\n      .catch(function (e) {\n        log.error('sendTags:', e);\n      });\n  },\n\n  deleteTag: function (key) {\n    OneSignal.deleteTags([key]);\n  },\n\n  deleteTags: function (keyArray) {\n    var jsonPair = {};\n    var length = keyArray.length;\n    for (var i = 0; i < length; i++)\n      jsonPair[keyArray[i]] = \"\";\n\n    OneSignal.sendTags(jsonPair);\n  },\n\n  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n  _listener_receiveMessage: function receiveMessage(event) {\n    /*\n         Note:\n         We can receive postMessage() events at any time, not only from our SDK.\n         For HTTP sites, the postMessage() events we listen to come from the popup.\n         For HTTPS sites, the postMessage() events we listen to come from the modal prompt, which is an actually an <iframe> with an origin pointing to \"https://onesignal.com\"\n         We want to filter out messages that aren't these two cases.\n     */\n    if (!(OneSignal._initOptions &&\n        (event.origin === '' ||\n         event.origin === 'https://onesignal.com' ||\n         event.origin === `https://${OneSignal._initOptions.subdomainName || ''}.onesignal.com` ||\n         (__DEV__ && event.origin === DEV_FRAME_HOST))\n       )) {\n      return;\n    }\n\n    if (event.data.from) {\n      var from = event.data.from.capitalize()\n    } else {\n      var from = 'IFrame/Popup';\n    }\n    log.debug(`%c${Environment.getEnv().capitalize()} ⬸ ${from}:`, getConsoleStyle('postmessage'), event.data);\n\n    if (event.data.oneSignalInitPageReady) { // Only called on HTTP pages.\n      var eventData = event.data.oneSignalInitPageReady;\n\n      if (eventData.isIframe) {\n        OneSignal._iframePort = event.ports[0];\n      }\n\n      if (eventData.userId)\n        Database.put(\"Ids\", {type: \"userId\", id: eventData.userId});\n      if (eventData.registrationId)\n        Database.put(\"Ids\", {type: \"registrationId\", id: eventData.registrationId});\n\n      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n      OneSignal._sendUnsentTags();\n\n      Database.get(\"Options\")\n        .then(function _listener_receiveMessage(options) {\n          if (!options.defaultUrl)\n            options.defaultUrl = document.URL;\n          if (!options.defaultTitle)\n            options.defaultTitle = document.title;\n\n          options.parent_url = document.URL;\n          event.ports[0].postMessage({initOptions: options, from: Environment.getEnv()});\n\n          // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n          Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n        })\n        .catch(function (e) {\n          log.error('_listener_receiveMessage:', e);\n        });\n    }\n    else if (event.data.currentNotificationPermission) { // Subdomain Only\n      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n    }\n    else if (event.data.remoteGetDbValue) {\n      let promiseId = event.data.promiseId;\n      let result = event.data.result;\n      let promiseResolve = LimitStore.getLast(`getSubscriptionPromiseResolve.${promiseId}`);\n      if (!promiseResolve) {\n        log.warn('When getSubscription() was previously called, no Promise was stored to be called back now.');\n      } else {\n        LimitStore.remove(`getSubscriptionPromiseResolve.${promiseId}`);\n        promiseResolve(result);\n      }\n    }\n    else if (event.data.remoteGetNotificationPermissionResponse) {\n      let permission = event.data.remoteGetNotificationPermissionResponse;\n      let promiseId = event.data.promiseId;\n      let promiseResolve = LimitStore.getLast(`_getNotificationPermissionPromiseResolve.${promiseId}`);\n      if (!promiseResolve) {\n        log.warn('When _getNotificationPermission() was previously called, no Promise was stored to be called back now.');\n      } else {\n        LimitStore.remove(`_getNotificationPermissionPromiseResolve.${promiseId}`);\n        promiseResolve(permission);\n      }\n    }\n    else if (event.data.setSubscriptionComplete) { // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n      let promiseId = event.data.promiseId;\n      let promiseResolve = LimitStore.getLast(`setSubscriptionPromiseResolve.${promiseId}`);\n      if (!promiseResolve) {\n        log.warn('When setSubscription() was previously called, no Promise was stored to be called back now.');\n      } else {\n        LimitStore.remove(`setSubscriptionPromiseResolve.${promiseId}`);\n        promiseResolve();\n      }\n    }\n    else if (event.data.remoteEvent) { // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n      let name = event.data.remoteEvent;\n      let data = event.data.remoteEventData;\n      let remoteTriggerEnv = event.data.from;\n      if (!name || data === undefined) {\n        log.warn(`Received an event back from postMessage, but it was undefined!`);\n      } else {\n        Event.trigger(name, data, remoteTriggerEnv);\n      }\n    }\n    else if (event.data.idsAvailable) { // Only called on HTTP pages.\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      Database.put(\"Ids\", {type: \"userId\", id: event.data.idsAvailable.userId});\n      Database.put(\"Ids\", {type: \"registrationId\", id: event.data.idsAvailable.registrationId});\n\n      if (OneSignal._idsAvailable_callback.length > 0) {\n        while (OneSignal._idsAvailable_callback.length > 0) {\n          var curr_callback = OneSignal._idsAvailable_callback.pop()\n          curr_callback({\n            userId: event.data.idsAvailable.userId,\n            registrationId: event.data.idsAvailable.registrationId\n          });\n        }\n      }\n      OneSignal._sendUnsentTags();\n    }\n    else if (event.data.httpsPromptAccepted) { // HTTPS Only\n      OneSignal.registerForPushNotifications();\n      OneSignal.setSubscription(true);\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpsPromptCanceled) { // HTTPS Only\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpPromptAccepted) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpPromptCanceled) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpNativePromptPermissionChanged) {\n      var recentPermissions = LimitStore.get('notification.permission');\n      var permissionBeforePrompt = recentPermissions[0];\n      OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt, event.data.httpNativePromptPermissionChanged);\n    }\n    else if (OneSignal.openedNotification) { // HTTP and HTTPS\n      OneSignal._fireNotificationOpenedCallbacks(event,data);\n    }\n  },\n\n  _fireNotificationOpenedCallbacks: function(data) {\n    while (OneSignal._notificationOpenedCallbacks.length > 0) {\n      let callback = OneSignal._notificationOpenedCallbacks.pop();\n      callback(data);\n    }\n  },\n\n  addListenerForNotificationOpened: function (callback) {\n    OneSignal._notificationOpenedCallbacks.push(callback);\n    if (Environment.isBrowser()) {\n      Database.get(\"NotificationOpened\", document.URL)\n        .then(notificationOpenedResult => {\n          if (notificationOpenedResult) {\n            Database.remove(\"NotificationOpened\", document.URL);\n            OneSignal._fireNotificationOpenedCallbacks(notificationOpenedResult.data);\n          }\n        })\n        .catch(e => log.error(e));\n    }\n  },\n\n  // Subdomain - Fired from message received from iframe.\n  _fireNotificationEnabledCallback: function (newNotificationPermission) {\n    if (OneSignal._isNotificationEnabledCallback) {\n      while (OneSignal._isNotificationEnabledCallback.length > 0) {\n        let callback = OneSignal._isNotificationEnabledCallback.pop();\n        callback(newNotificationPermission);\n      }\n    }\n  },\n\n  getIdsAvailable: function (callback) {\n    if (callback === undefined)\n      return;\n\n    OneSignal._idsAvailable_callback.push(callback);\n\n    Promise.all([Database.get('Ids', 'userId'), Database.get('Ids', 'registrationId')])\n      .then(function getIdsAvailable_GotUserRegistrationIds(results) {\n        var userIdResult = results[0];\n        var registrationIdResult = results[1];\n\n        if (userIdResult) {\n          if (registrationIdResult) {\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({\n                userId: userIdResult.id,\n                registrationId: registrationIdResult.id\n              });\n            }\n          }\n          else\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({userId: userIdResult.id, registrationId: null});\n            }\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  getTags: function (callback) {\n    Database.get('Ids', 'userId')\n      .then(function (userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n            callback(response.tags);\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  isPushNotificationsEnabled: function (callback) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    // If Subdomain\n    if (OneSignal._initOptions.subdomainName && !isBrowserSafari()) {\n      OneSignal._isNotificationEnabledCallback.push(callback);\n      if (OneSignal._iframePort) {\n        OneSignal._iframePort.postMessage({getNotificationPermission: true, from: Environment.getEnv()});\n      }\n      return;\n    }\n\n    // If HTTPS\n\n    Promise.all([Database.get('Ids', 'registrationId'), Database.get('Options', 'subscription')])\n      .then(function (results) {\n        var registrationIdResult = results[0];\n        var subscriptionResult = results[1];\n\n        if (registrationIdResult) {\n          if (subscriptionResult && !subscriptionResult.value)\n            return callback(false);\n\n          callback(Notification.permission == \"granted\");\n        }\n        else\n          callback(false);\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  _getNotificationTypes: function (callback) {\n    return new Promise((resolve, reject) => {\n      OneSignal._getSubscription().then(currentSubscription => {\n        let notificationType = currentSubscription ? 1 : -2;\n        resolve(notificationType);\n        callback(notificationType);\n      });\n    });\n  },\n\n  setSubscription: function (newSubscription) {\n    return new Promise((resolve, reject) => {\n      if (OneSignal._iframePort) {\n        let uid = guid();\n        LimitStore.put(`setSubscriptionPromiseResolve.${uid}`, resolve);\n        OneSignal._iframePort.postMessage({setSubdomainState: {setSubscription: newSubscription}, promiseId: uid, from: Environment.getEnv()});\n        // This promise will eventually be resolved when the iFrame replies with setSubscriptionComplete\n      }\n      else {\n        OneSignal._getSubscription()\n          .then((currentSubscription) => {\n            if (currentSubscription != newSubscription) {\n              return Database.put(\"Options\", {key: \"subscription\", value: newSubscription});\n            } else {\n              log.debug(`Called %csetSubscription(${newSubscription})`, getConsoleStyle('code'), 'but there was no change, so skipping call.');\n              resolve();\n            }\n          })\n          .then(() => {\n            return Database.get('Ids', 'userId');\n          })\n          .then((userIdResult) => {\n            if (userIdResult) {\n              return apiCall(\"players/\" + userIdResult.id, \"PUT\", {\n                app_id: OneSignal._app_id,\n                notification_types: newSubscription ? 1 : -2\n              });\n            }\n            else {\n              log.warn(`Called %csetSubscription(${newSubscription})`, getConsoleStyle('code'), 'but there was no user ID, so the result was not forwarded to OneSignal.');\n              return Promise.reject('No user ID.');\n            }\n          })\n          .then(() => {\n            OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n            resolve();\n          })\n          .catch(e => {\n            if (e.constructor.name === 'Error') {\n              log.error(e);\n              reject(e);\n            } else {\n              resolve(e);\n            }\n          });\n      }\n    });\n  },\n\n  /**\n   * Returns a promise that resolves to false if setSubscription(false) has been explicitly called at any point in time. Otherwise returns true.\n   * This means a return value of true does not mean the user is subscribed, only that the user did not call setSubcription(false).\n   * @private\n   * @returns {Promise}\n   */\n  _getSubscription: function () {\n    return new Promise((resolve, reject) => {\n      log.debug('Called %c_getSubscription()', getConsoleStyle('code'), `(from ${Environment.getEnv()})`);\n      var promise;\n      if (OneSignal._iframePort) {\n        let uid = guid();\n        promise = new Promise((resolve, reject) => {\n          LimitStore.put(`getSubscriptionPromiseResolve.${uid}`, resolve);\n          OneSignal._iframePort.postMessage({remoteGetDbValue: true, table: 'Options', key: 'subscription', promiseId: uid, from: Environment.getEnv()});\n          // This promise will eventually be resolved when the iFrame replies with remoteGetDbValue\n        });\n      } else {\n        promise = Database.get('Options', 'subscription');\n      }\n      promise.then(subscriptionResult => {\n          resolve(!(subscriptionResult && subscriptionResult.value == false))\n        })\n        .catch(e => {\n          log.error(e);\n          reject(e);\n        });\n\n    });\n  },\n\n  _safePostMessage: function (creator, data, targetOrigin, receiver) {\n    var tOrigin = targetOrigin.toLowerCase();\n\n    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n    if (tOrigin.startsWith(\"http://\")) {\n      var queryDict = {};\n      location.search.substr(1).split(\"&\").forEach(function (item) {\n        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]\n      });\n      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n    }\n\n    if (!data.from) {\n      data['from'] = Environment.getEnv();\n    }\n\n    if (receiver)\n      creator.postMessage(data, tOrigin, receiver);\n    else\n      creator.postMessage(data, tOrigin);\n  },\n\n  _process_pushes: function (array) {\n    for (var i = 0; i < array.length; i++)\n      OneSignal.push(array[i]);\n  },\n\n  push: function (item) {\n    if (typeof(item) == \"function\")\n      item();\n    else {\n      var functionName = item.shift();\n      OneSignal[functionName].apply(null, item);\n    }\n  }\n};\n\nObject.defineProperty(OneSignal, 'LOGGING', {\n  get: function() {\n    if (!OneSignal._LOGGING) {\n      OneSignal._LOGGING = false;\n    }\n    return OneSignal._LOGGING;\n  },\n  set: function(logLevel) {\n    if (logLevel) {\n      log.setDefaultLevel(log.levels.TRACE);\n      OneSignal._LOGGING = true;\n    }\n    else {\n      log.setDefaultLevel(log.levels.ERROR);\n      OneSignal._LOGGING = false;\n    }\n  },\n  enumerable: true,\n  configurable: true\n});\n\n// If imported on your page.\nif (Environment.isBrowser()) {\n  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\n}\nelse { // if imported from the service worker.\n\n}\n\nif (OneSignal.LOGGING)\n  log.setDefaultLevel(log.levels.TRACE);\nelse\n  log.setDefaultLevel(log.levels.ERROR);\n\nlog.info(`%cOneSignal Web SDK loaded (version ${OneSignal._VERSION}, ${Environment.getEnv()} environment).`, getConsoleStyle('bold'));\n\nmodule.exports = OneSignal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/sdk.js\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = global.fetch\n}.call(global));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>global!./~/exports-loader?global.fetch!./~/whatwg-fetch/fetch.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Capitalizes the first letter of the string.\n * @returns {string} The string with the first letter capitalized.\n */\nString.prototype.capitalize = function() {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/string.js\n **/","import { API_URL } from './vars.js'\nimport log from 'loglevel';\nimport { contains, trimUndefined } from './utils.js'\n\nexport function apiCall(action, method, data) {\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\n  let contents = {\n    method: method || 'NO_METHOD_SPECIFIED',\n    headers: headers,\n    cache: 'no-cache'\n  };\n  if (data)\n    contents.body = JSON.stringify(data);\n\n  var status;\n  return fetch(API_URL + action, contents)\n    .then(response => {\n      status = response.status;\n      return response.json();\n    })\n    .then(json => {\n      if (status >= 200 && status < 300)\n        return json;\n      else\n        return Promise.reject(json);\n    });\n}\n\nexport function sendNotification(appId, playerIds, titles, contents, url, data) {\n  var params = {\n    app_id: appId,\n    contents: contents,\n    include_player_ids: playerIds,\n    isAnyWeb: true,\n    data: data\n  };\n  trimUndefined(params);\n  if (titles) {\n    params.headings = titles;\n  }\n  if (url) {\n    params.url = url;\n  }\n  return apiCall('notifications', 'POST', params)\n    .catch(e => {\n      if (e.warnings) {\n        for (let warning of e.warnings) {\n          if (contains(warning, 'Received ERROR 401 (Unauthorized, check your App auth_key.)')) {\n            log.error(\"OneSignal: Your Google Server API Key is either invalid, is missing the required 'Google Cloud Messaging for Android' API, or is only accepting requests from certain IPs. (See: https://documentation.onesignal.com/docs/website-push-common-problems#received-error-401-unauthorized-check-your-app-aut)\")\n          }\n        }\n      }\n      log.error('Failed to send notification:', e);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/api.js\n **/","/*\n LimitStore.put('colorado', 'rocky');\n [\"rocky\"]\n LimitStore.put('colorado', 'mountain');\n [\"rocky\", \"mountain\"]\n LimitStore.put('colorado', 'national');\n [\"mountain\", \"national\"]\n LimitStore.put('colorado', 'park');\n [\"national\", \"park\"]\n */\nfunction LimitStore() {\n}\n\nLimitStore.store = {};\nLimitStore.LIMIT = 2;\n\nLimitStore.put = function (key, value) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  LimitStore.store[key].push(value);\n  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n    LimitStore.store[key].shift();\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.get = function (key) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.getFirst = function (key) {\n  return LimitStore.get(key)[0];\n};\n\nLimitStore.getLast = function (key) {\n  return LimitStore.get(key)[1];\n};\n\nLimitStore.remove = function (key) {\n  delete LimitStore.store[key];\n};\n\nLimitStore.isEmpty = function(key) {\n  let values = LimitStore.get(key);\n  return values[0] === null && values[1] === null;\n};\n\nexport default LimitStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/limitStore.js\n **/","import log from 'loglevel';\nimport Environment from './environment.js';\nimport { getConsoleStyle, contains } from './utils.js';\nimport './string.js';\n\n\nconst SILENT_EVENTS = [\n  'onesignal.nb.hovering',\n  'onesignal.nb.hovered',\n  'onesignal.nb.launcher.button.click',\n  'onesignal.nb.launcher.click',\n  'onesignal.nb.animatedelement.hiding',\n  'onesignal.nb.animatedelement.hidden',\n  'onesignal.nb.animatedelement.showing',\n  'onesignal.nb.animatedelement.shown',\n  'onesignal.nb.activeanimatedelement.activating',\n  'onesignal.nb.activeanimatedelement.active',\n  'onesignal.nb.activeanimatedelement.inactivating',\n  'onesignal.nb.activeanimatedelement.inactive',\n  'onesignal.db.retrieved',\n  'onesignal.db.set'\n  ];\n\nconst RETRIGGER_REMOTE_EVENTS = [\n  'onesignal.prompt.custom.clicked',\n  'onesignal.prompt.native.permissionchanged',\n  'onesignal.subscription.changed',\n  'onesignal.internal.subscriptionset'\n];\n\nexport default class Event {\n  static trigger(eventName, data, remoteTriggerEnv=null) {\n    if (!eventName) {\n      log.warn('Missing event name.');\n    }\n    if (!contains(SILENT_EVENTS, eventName)) {\n      if (!Environment.isBrowser()) {\n        log.debug(`(${Environment.getEnv().capitalize()}) » %c${eventName}:`, getConsoleStyle('event'), data, '(not triggered in a ServiceWorker environment)');\n        return;\n      } else {\n        let displayData = data;\n        if (remoteTriggerEnv) {\n          var env = `${Environment.getEnv().capitalize()} ⬸ ${remoteTriggerEnv.capitalize()}`;\n        } else {\n          var env = Environment.getEnv().capitalize();\n        }\n\n        if (displayData || displayData === false) {\n          log.debug(`(${env}) » %c${eventName}:`, getConsoleStyle('event'), displayData);\n        } else {\n          log.debug(`(${env}) » %c${eventName}`, getConsoleStyle('event'));\n        }\n\n      }\n    }\n    if (Environment.isBrowser()) {\n      var event = new CustomEvent(eventName, {\n        bubbles: true, cancelable: true, detail: data\n      });\n      window.dispatchEvent(event);\n\n      // If this event was triggered in an iFrame or Popup environment, also trigger it on the host page\n      if (!Environment.isHost()) {\n        var creator = opener || parent;\n        if (!creator) {\n          log.error(`Could not send event '${eventName}' back to host page because no creator (opener or parent) found!`);\n        } else {\n          // But only if the event matches certain events\n          if (contains(RETRIGGER_REMOTE_EVENTS, eventName)) {\n            OneSignal._safePostMessage(creator, {remoteEvent: eventName, remoteEventData: data, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n          }\n        }\n      }\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events.js\n **/","import { isPushNotificationsSupported, removeDomElement, addDomElement, clearDomElementChildren, addCssClass, removeCssClass, once, on, off, getConsoleStyle, delay, when, nothing, contains } from '../utils.js';\nimport Environment from '../environment.js';\nimport LimitStore from '../limitStore.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport * as Browser from 'bowser';\nimport { HOST_URL } from '../vars.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\nimport Launcher from './Launcher.js';\nimport Badge from './Badge.js';\nimport Button from './Button.js';\nimport Dialog from './Dialog.js';\nimport Message from './Message.js';\n\nimport \"./bell.scss\";\nvar logoSvg = require('raw!./bell.svg');\n\n\nexport default class Bell {\n\n  static get EVENTS() {\n    return {\n      STATE_CHANGED: 'onesignal.nb.state.changed',\n      LAUNCHER_CLICK: 'onesignal.nb.launcher.click',\n      BELL_CLICK: 'onesignal.nb.launcher.button.click',\n      SUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.subscribe.click',\n      UNSUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.unsubscribe.click',\n      HOVERING: 'onesignal.nb.hovering',\n      HOVERED: 'onesignal.nb.hovered',\n    };\n  }\n\n  static get STATES() {\n    return {\n      UNINITIALIZED: 'uninitialized',\n      SUBSCRIBED: 'subscribed',\n      UNSUBSCRIBED: 'unsubscribed',\n      BLOCKED: 'blocked'\n    };\n  }\n\n  static get TEXT_SUBS() {\n    return {\n      'prompt.native.grant': {\n        default: 'Allow',\n        chrome: 'Allow',\n        firefox: 'Always Receive Notifications',\n        safari: 'Allow'\n      }\n    }\n  }\n\n  substituteText() {\n    // key: 'message.action.subscribing'\n    // value: 'Click <strong>{{prompt.native.grant}}</strong> to receive notifications'\n    for (var key in this.text) {\n      if (this.text.hasOwnProperty(key)) {\n        let value = this.text[key];\n        // browserName could be 'chrome' or 'firefox' or 'safari'\n        let browserName = Browser.name.toLowerCase();\n\n        // tKey: 'prompt.native.grant'  (from TEXT_SUBS)\n        // tValue: { chrome: 'Allow', firefox: 'Al... }\n        // zValue: 'Allow', if browserName === 'chrome'\n        for (var tKey in Bell.TEXT_SUBS) {\n          if (Bell.TEXT_SUBS.hasOwnProperty(tKey)) {\n            let tValue = Bell.TEXT_SUBS[tKey];\n            let zValue = tValue[browserName];\n            if (value && contains(value, '{{')) {\n              this.text[key] = value.replace(`{{${tKey}}}`, (zValue !== undefined ? zValue : tValue['default']));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  constructor({\n    enable = false,\n    size = 'medium',\n    position = 'bottom-right',\n    theme = 'default',\n    showLauncherAfter = 10,\n    showBadgeAfter = 300,\n    text = {\n      'tip.state.unsubscribed': 'Subscribe to notifications',\n      'tip.state.subscribed': \"You're subscribed to notifications\",\n      'tip.state.blocked': \"You've blocked notifications\",\n      'message.prenotify': 'Click to subscribe to notifications',\n      'message.action.subscribing': \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\",\n      'message.action.subscribed': \"Thanks for subscribing!\",\n      'message.action.resubscribed': \"You're subscribed to notifications\",\n      'message.action.unsubscribed': \"You won't receive notifications again\",\n      'dialog.main.title': 'Manage Site Notifications',\n      'dialog.main.button.subscribe': 'SUBSCRIBE',\n      'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',\n      'dialog.blocked.title': 'Unblock Notifications',\n      'dialog.blocked.message': \"Follow these instructions to allow notifications:\"\n    },\n    prenotify = true,\n    showCredit = true\n    } = {}) {\n    this.options = {\n      enable: enable,\n      size: size,\n      position: position,\n      theme: theme,\n      showLauncherAfter: showLauncherAfter,\n      showBadgeAfter: showBadgeAfter,\n      text: text,\n      prenotify: prenotify,\n      showCredit: showCredit,\n    };\n\n    if (!this.options.enable)\n      return;\n\n    if (!contains(['small', 'medium', 'large'], this.options.size))\n      throw new Error(`Invalid size ${this.options.size} for notify button. Choose among 'small', 'medium', or 'large'.`);\n    if (!contains(['bottom-left', 'bottom-right'], this.options.position))\n      throw new Error(`Invalid position ${this.options.position} for notify button. Choose either 'bottom-left', or 'bottom-right'.`);\n    if (!contains(['default', 'inverse'], this.options.theme))\n      throw new Error(`Invalid theme ${this.options.theme} for notify button. Choose either 'default', or 'inverse'.`);\n    if (this.options.showLauncherAfter < 0)\n      throw new Error(`Invalid delay duration of ${this.options.showLauncherAfter} for showing the notify button. Choose a value above 0.`);\n    if (this.options.showBadgeAfter < 0)\n      throw new Error(`Invalid delay duration of ${this.options.showBadgeAfter} for showing the notify button's badge. Choose a value above 0.`);\n    this.size = this.options.size;\n    this.position = this.options.position;\n    this.text = this.options.text;\n    if (!this.text['tip.state.unsubscribed'])\n      this.text['tip.state.unsubscribed'] = 'Subscribe to notifications';\n    if (!this.text['tip.state.subscribed'])\n      this.text['tip.state.subscribed'] = \"You're subscribed to notifications\";\n    if (!this.text['tip.state.blocked'])\n      this.text['tip.state.blocked'] = \"You've blocked notifications\";\n    if (!this.text['message.prenotify'])\n      this.text['message.prenotify'] = \"Click to subscribe to notifications\";\n    if (!this.text['message.action.subscribed'])\n      this.text['message.action.subscribed'] = \"Thanks for subscribing!\";\n    if (!this.text['message.action.resubscribed'])\n      this.text['message.action.resubscribed'] = \"You're subscribed to notifications\";\n    if (!this.text['message.action.subscribing'])\n      this.text['message.action.subscribing'] = \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\";\n    if (!this.text['message.action.unsubscribed'])\n      this.text['message.action.unsubscribed'] = \"You won't receive notifications again\";\n    if (!this.text['dialog.main.title'])\n      this.text['dialog.main.title'] = 'Manage Site Notifications';\n    if (!this.text['dialog.main.button.subscribe'])\n      this.text['dialog.main.button.subscribe'] = 'SUBSCRIBE';\n    if (!this.text['dialog.main.button.unsubscribe'])\n      this.text['dialog.main.button.unsubscribe'] = 'UNSUBSCRIBE';\n    if (!this.text['dialog.blocked.title'])\n      this.text['dialog.blocked.title'] = 'Unblock Notifications';\n    if (!this.text['dialog.blocked.message'])\n      this.text['dialog.blocked.message'] = 'Follow these instructions to allow notifications:';\n    this.substituteText();\n    this.state = Bell.STATES.UNINITIALIZED;\n\n    // Install event hooks\n    window.addEventListener(Bell.EVENTS.SUBSCRIBE_CLICK, () => {\n      this.dialog.subscribeButton.disabled = true;\n      OneSignal.setSubscription(true)\n        .then(() => {\n          this.dialog.subscribeButton.disabled = false;\n          return this.dialog.hide();\n        })\n        .then(() => {\n          return this.message.display(Message.TYPES.MESSAGE, this.text['message.action.resubscribed'], Message.TIMEOUT);\n        })\n        .then(() => {\n            this.launcher.clearIfWasInactive();\n            return this.launcher.inactivate();\n        });\n    });\n\n    window.addEventListener(Bell.EVENTS.UNSUBSCRIBE_CLICK, () => {\n      this.dialog.unsubscribeButton.disabled = true;\n      OneSignal.setSubscription(false)\n        .then(() => {\n          this.dialog.unsubscribeButton.disabled = false;\n          return this.dialog.hide();\n        })\n        .then(() => {\n          this.launcher.clearIfWasInactive();\n          return this.launcher.activate();\n        })\n        .then(() => {\n          return this.message.display(Message.TYPES.MESSAGE, this.text['message.action.unsubscribed'], Message.TIMEOUT);\n        });\n    });\n\n    window.addEventListener(Bell.EVENTS.HOVERING, () => {\n      this.hovering = true;\n      this.launcher.activateIfInactive();\n\n      // If there's already a message being force shown, do not override\n      if (this.message.shown || this.dialog.shown) {\n        this.hovering = false;\n        return;\n      }\n\n      // If the message is a message and not a tip, don't show it (only show tips)\n      // Messages will go away on their own\n      if (this.message.contentType === Message.TYPES.MESSAGE) {\n        this.hovering = false;\n        return;\n      }\n\n      new Promise((resolve, reject) => {\n        // If a message is being shown\n        if (this.message.queued.length > 0) {\n          return this.message.dequeue().then((msg) => {\n            this.message.content = msg;\n            this.message.contentType = Message.TYPES.QUEUED;\n            resolve();\n          });\n        } else {\n          this.message.content = this.message.getTipForState();\n          this.message.contentType = Message.TYPES.TIP;\n          resolve();\n        }\n      }).then(() => {\n          return this.message.show();\n        })\n        .then(() => {\n          this.hovering = false;\n        })\n    });\n\n    window.addEventListener(Bell.EVENTS.HOVERED, () => {\n      // If a message is displayed (and not a tip), don't control it. Visitors have no control over messages\n      if (this.message.contentType === Message.TYPES.MESSAGE) {\n        return;\n      }\n\n      if (!this.dialog.hidden) {\n        // If the dialog is being brought up when clicking button, don't shrink\n        return;\n      }\n\n      if (this.hovering) {\n        this.hovering = false;\n        // Hovering still being true here happens on mobile where the message could still be showing (i.e. animating) when a HOVERED event fires\n        // In other words, you tap on mobile, HOVERING fires, and then HOVERED fires immediately after because of the way mobile click events work\n        // Basically only happens if HOVERING and HOVERED fire within a few milliseconds of each other\n        this.message.waitUntilShown()\n          .then(() => delay(Message.TIMEOUT))\n          .then(() => this.message.hide())\n          .then(() => {\n            if (this.launcher.wasInactive && this.dialog.hidden) {\n              this.launcher.inactivate();\n              this.launcher.wasInactive = null;\n            }\n          });\n      }\n\n\n      if (this.message.shown) {\n        this.message.hide()\n          .then(() => {\n            if (this.launcher.wasInactive && this.dialog.hidden) {\n              this.launcher.inactivate();\n              this.launcher.wasInactive = null;\n            }\n          });\n      }\n    });\n\n    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, (e) => {\n      let isSubscribed = e.detail;\n      this.setState(isSubscribed ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n    });\n\n    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, (from, to) => {\n      this.updateState();\n    });\n\n    window.addEventListener(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, (e) => {\n    });\n\n    this.updateState();\n  }\n\n  showDialogProcedure() {\n    if (!this.dialog.shown) {\n      this.dialog.show()\n        .then((e) => {\n          //var id = Math.random().toString(36).substring(7, 11);\n          //console.warn(`Generating %cshowDialogProcedure(${id}):`, getConsoleStyle('code'), '.');\n          once(document, 'click', (e, destroyEventListener) => {\n            let wasDialogClicked = this.dialog.element.contains(e.target);\n            if (wasDialogClicked) {\n            } else {\n              //console.warn(`%cshowDialogProcedure(${id}):`, getConsoleStyle('code'), 'A destroying click was detected.');\n              destroyEventListener();\n              if (this.dialog.shown) {\n                this.dialog.hide()\n                  .then((e) => {\n                    this.launcher.inactivateIfWasInactive();\n                  })\n                  .catch((e) => {\n                    log.error(e);\n                  });\n              }\n            }\n          }, true);\n        })\n        .catch((e) => {\n          log.error(e);\n        });\n    }\n  }\n\n  create() {\n    if (!isPushNotificationsSupported())\n      return;\n\n    if (!this.options.enable)\n      return;\n\n    // Remove any existing bell\n    if (this.container) {\n      removeDomElement('onesignal-bell-container');\n    }\n\n    window.addDomElement = addDomElement;\n    // Insert the bell container\n    addDomElement('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n    // Insert the bell launcher\n    addDomElement(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n    // Insert the bell launcher button\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n    // Insert the bell launcher badge\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n    // Insert the bell launcher message\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n    addDomElement(this.message.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n    // Insert the bell launcher dialog\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n    addDomElement(this.dialog.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\n    // Install events\n\n    // Add visual elements\n    addDomElement(this.button.selector, 'beforeEnd', logoSvg);\n\n    new Promise(resolve => {\n      OneSignal.isPushNotificationsEnabled((isPushEnabled) => {\n        resolve(isPushEnabled)\n      });\n    })\n    .then(isPushEnabled => {\n      // Resize to small instead of specified size if enabled, otherwise there's a jerking motion where the bell, at a different size than small, jerks sideways to go from large -> small or medium -> small\n      let resizeTo = (isPushEnabled ? 'small' : this.options.size);\n      // Add default classes\n      this.launcher.resize(resizeTo).then(() => {\n        if (this.options.position === 'bottom-left') {\n          addCssClass(this.container, 'onesignal-bell-container-bottom-left')\n          addCssClass(this.launcher.selector, 'onesignal-bell-launcher-bottom-left')\n        }\n        else if (this.options.position === 'bottom-right') {\n          addCssClass(this.container, 'onesignal-bell-container-bottom-right')\n          addCssClass(this.launcher.selector, 'onesignal-bell-launcher-bottom-right')\n        }\n        else {\n          throw new Error('Invalid OneSignal notify button position ' + this.options.position);\n        }\n\n        if (this.options.theme === 'default') {\n          addCssClass(this.launcher.selector, 'onesignal-bell-launcher-theme-default')\n        }\n        else if (this.options.theme === 'inverse') {\n          addCssClass(this.launcher.selector, 'onesignal-bell-launcher-theme-inverse')\n        }\n        else {\n          throw new Error('Invalid OneSignal notify button theme ' + this.options.theme);\n        }\n\n        log.info('Showing the notify button.');\n\n        (isPushEnabled ? this.launcher.inactivate() : nothing())\n          .then(() => delay(this.options.showLauncherAfter))\n          .then(() => {\n            return this.launcher.show();\n          })\n          .then(() => {\n            return delay(this.options.showBadgeAfter);\n          })\n          .then(() => {\n            if (this.options.prenotify && !isPushEnabled && OneSignal._isNewVisitor) {\n              return this.message.enqueue(this.text['message.prenotify'])\n                .then(() => this.badge.show());\n            }\n            else return nothing();\n          })\n          .then(() => this.initialized = true)\n          .catch((e) => log.error(e));\n      }).catch(e => log.error(e));\n    });\n  }\n\n  /**\n   * Updates the current state to the correct new current state. Returns a promise.\n   */\n  updateState() {\n    OneSignal.isPushNotificationsEnabled((isEnabled) => {\n      this.setState(isEnabled ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n      if (LimitStore.getLast('notification.permission') === 'denied') {\n        this.setState(Bell.STATES.BLOCKED);\n      }\n    });\n\n  }\n\n  /**\n   * Updates the current state to the specified new state.\n   * @param newState One of ['subscribed', 'unsubscribed'].\n   */\n  setState(newState) {\n    let lastState = this.state;\n    this.state = newState;\n    if (lastState !== newState) {\n      Event.trigger(Bell.EVENTS.STATE_CHANGED, {from: lastState, to: newState});\n      // Update anything that should be changed here in the new state\n    }\n\n    // Update anything that should be reset to the same state\n  }\n\n  get container() {\n    return document.querySelector('#onesignal-bell-container');\n  }\n\n  get launcher() {\n    if (!this._launcher)\n      this._launcher = new Launcher(this);\n    return this._launcher;\n  }\n\n  get button() {\n    if (!this._button)\n      this._button = new Button(this);\n    return this._button;\n  }\n\n  get badge() {\n    if (!this._badge)\n      this._badge = new Badge(this);\n    return this._badge;\n  }\n\n  get message() {\n    if (!this._message)\n      this._message = new Message(this);\n    return this._message;\n  }\n\n  get dialog() {\n    if (!this._dialog)\n      this._dialog = new Dialog(this);\n    return this._dialog;\n  }\n\n  get subscribed() {\n    return this.state === Bell.STATES.SUBSCRIBED;\n  }\n\n  get unsubscribed() {\n    return this.state === Bell.STATES.UNSUBSCRIBED;\n  }\n\n  get blocked() {\n    return this.state === Bell.STATES.BLOCKED;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/bell.js\n **/","/*!\n  * Bowser - a browser detector\n  * https://github.com/ded/bowser\n  * MIT License | (c) Dustin Diaz 2015\n  */\n\n!function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n}('bowser', function () {\n  /**\n    * See useragents.js for examples of navigator.userAgent\n    */\n\n  var t = true\n\n  function detect(ua) {\n\n    function getFirstMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[1]) || '';\n    }\n\n    function getSecondMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[2]) || '';\n    }\n\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n      , likeAndroid = /like android/i.test(ua)\n      , android = !likeAndroid && /android/i.test(ua)\n      , chromeBook = /CrOS/.test(ua)\n      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n      , tablet = /tablet/i.test(ua)\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\n      , result\n\n    if (/opera|opr/i.test(ua)) {\n      result = {\n        name: 'Opera'\n      , opera: t\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/yabrowser/i.test(ua)) {\n      result = {\n        name: 'Yandex Browser'\n      , yandexbrowser: t\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/windows phone/i.test(ua)) {\n      result = {\n        name: 'Windows Phone'\n      , windowsphone: t\n      }\n      if (edgeVersion) {\n        result.msedge = t\n        result.version = edgeVersion\n      }\n      else {\n        result.msie = t\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/msie|trident/i.test(ua)) {\n      result = {\n        name: 'Internet Explorer'\n      , msie: t\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (chromeBook) {\n      result = {\n        name: 'Chrome'\n      , chromeBook: t\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/chrome.+? edge/i.test(ua)) {\n      result = {\n        name: 'Microsoft Edge'\n      , msedge: t\n      , version: edgeVersion\n      }\n    }\n    else if (/chrome|crios|crmo/i.test(ua)) {\n      result = {\n        name: 'Chrome'\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (iosdevice) {\n      result = {\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n      }\n      // WTF: version is not part of user agent in web apps\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if (/sailfish/i.test(ua)) {\n      result = {\n        name: 'Sailfish'\n      , sailfish: t\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/seamonkey\\//i.test(ua)) {\n      result = {\n        name: 'SeaMonkey'\n      , seamonkey: t\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/firefox|iceweasel/i.test(ua)) {\n      result = {\n        name: 'Firefox'\n      , firefox: t\n      , version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\n      }\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n        result.firefoxos = t\n      }\n    }\n    else if (/silk/i.test(ua)) {\n      result =  {\n        name: 'Amazon Silk'\n      , silk: t\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (android) {\n      result = {\n        name: 'Android'\n      , version: versionIdentifier\n      }\n    }\n    else if (/phantom/i.test(ua)) {\n      result = {\n        name: 'PhantomJS'\n      , phantom: t\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n      result = {\n        name: 'BlackBerry'\n      , blackberry: t\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/(web|hpw)os/i.test(ua)) {\n      result = {\n        name: 'WebOS'\n      , webos: t\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      };\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\n    }\n    else if (/bada/i.test(ua)) {\n      result = {\n        name: 'Bada'\n      , bada: t\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      };\n    }\n    else if (/tizen/i.test(ua)) {\n      result = {\n        name: 'Tizen'\n      , tizen: t\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      };\n    }\n    else if (/safari/i.test(ua)) {\n      result = {\n        name: 'Safari'\n      , safari: t\n      , version: versionIdentifier\n      }\n    }\n    else {\n      result = {\n        name: getFirstMatch(/^(.*)\\/(.*) /),\n        version: getSecondMatch(/^(.*)\\/(.*) /)\n     };\n   }\n\n    // set webkit or gecko flag for browsers based on these engines\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n      result.name = result.name || \"Webkit\"\n      result.webkit = t\n      if (!result.version && versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\n      result.name = result.name || \"Gecko\"\n      result.gecko = t\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n    }\n\n    // set OS flags for platforms that have multiple browsers\n    if (!result.msedge && (android || result.silk)) {\n      result.android = t\n    } else if (iosdevice) {\n      result[iosdevice] = t\n      result.ios = t\n    }\n\n    // OS version extraction\n    var osVersion = '';\n    if (result.windowsphone) {\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n    } else if (iosdevice) {\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (android) {\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n    } else if (result.webos) {\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.blackberry) {\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n    } else if (result.bada) {\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.tizen) {\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n    }\n    if (osVersion) {\n      result.osversion = osVersion;\n    }\n\n    // device type extraction\n    var osMajorVersion = osVersion.split('.')[0];\n    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\n      result.tablet = t\n    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\n      result.mobile = t\n    }\n\n    // Graded Browser Support\n    // http://developer.yahoo.com/yui/articles/gbs\n    if (result.msedge ||\n        (result.msie && result.version >= 10) ||\n        (result.yandexbrowser && result.version >= 15) ||\n        (result.chrome && result.version >= 20) ||\n        (result.firefox && result.version >= 20.0) ||\n        (result.safari && result.version >= 6) ||\n        (result.opera && result.version >= 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n        (result.blackberry && result.version >= 10.1)\n        ) {\n      result.a = t;\n    }\n    else if ((result.msie && result.version < 10) ||\n        (result.chrome && result.version < 20) ||\n        (result.firefox && result.version < 20.0) ||\n        (result.safari && result.version < 6) ||\n        (result.opera && result.version < 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n        ) {\n      result.c = t\n    } else result.x = t\n\n    return result\n  }\n\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')\n\n  bowser.test = function (browserList) {\n    for (var i = 0; i < browserList.length; ++i) {\n      var browserItem = browserList[i];\n      if (typeof browserItem=== 'string') {\n        if (browserItem in bowser) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /*\n   * Set our detect method to the main bowser object so we can\n   * reuse it to test other user agents.\n   * This is needed to implement future tests.\n   */\n  bowser._detect = detect;\n\n  return bowser\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bowser/bowser.js\n ** module id = 13\n ** module chunks = 0\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once, contains } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js'\n\n\nexport default class AnimatedElement {\n\n  /**\n   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n   * @param selector {string} The CSS selector of the element.\n   * @param showClass {string} The CSS class name to add to show the element.\n   * @param hideClass {string} The CSS class name to remove to hide the element.\n   * @param state {string} The current state of the element, defaults to 'shown'.\n   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n   */\n  constructor(selector, showClass, hideClass, state = 'shown', targetTransitionEvents = ['opacity', 'transform'], nestedContentSelector = null) {\n    this.selector = selector;\n    this.showClass = showClass;\n    this.hideClass = hideClass;\n    this.state = state;\n    this.targetTransitionEvents = targetTransitionEvents;\n    this.nestedContentSelector = nestedContentSelector;\n    this.transitionCheckTimeout = 500;\n  }\n\n  /**\n   * Asynchronously shows an element by applying its {showClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  show() {\n    if (!this.hidden) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.state = 'showing';\n      Event.trigger(AnimatedElement.EVENTS.SHOWING, this);\n      if (this.hideClass)\n        removeCssClass(this.element, this.hideClass);\n      if (this.showClass)\n        addCssClass(this.element, this.showClass);\n      if (this.targetTransitionEvents.length == 0) {\n        return resolve(this);\n      } else {\n        var timerId = setTimeout(() => {\n          log.warn(`${this.constructor.name} did not completely show (state: ${this.state}, activeState: ${this.activeState}).`)\n        }, this.transitionCheckTimeout);\n        once(this.element, 'transitionend', (event, destroyListenerFn) => {\n          if (event.target === this.element &&\n            contains(this.targetTransitionEvents, event.propertyName)) {\n            clearTimeout(timerId);\n            // Uninstall the event listener for transitionend\n            destroyListenerFn();\n            this.state = 'shown';\n            Event.trigger(AnimatedElement.EVENTS.SHOWN, this);\n            return resolve(this);\n          }\n        }, true);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously hides an element by applying its {hideClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  hide() {\n    if (!this.shown) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.state = 'hiding';\n      Event.trigger(AnimatedElement.EVENTS.HIDING, this);\n      if (this.showClass)\n        removeCssClass(this.element, this.showClass);\n      if (this.hideClass)\n        addCssClass(this.element, this.hideClass);\n      if (this.targetTransitionEvents.length == 0) {\n        return resolve(this);\n      } else {\n        once(this.element, 'transitionend', (event, destroyListenerFn) => {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely hide (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          if (event.target === this.element &&\n            contains(this.targetTransitionEvents, event.propertyName)) {\n            clearTimeout(timerId);\n            // Uninstall the event listener for transitionend\n            destroyListenerFn();\n            this.state = 'hidden';\n            Event.trigger(AnimatedElement.EVENTS.HIDDEN, this);\n            return resolve(this);\n          }\n        }, true);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being shown.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilShown() {\n    if (this.state === 'shown')\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, AnimatedElement.EVENTS.SHOWN, (event, destroyListenerFn) => {\n        var self = this;\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being hidden.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilHidden() {\n    if (this.state === 'hidden')\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, AnimatedElement.EVENTS.HIDDEN, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  static get EVENTS() {\n    return {\n      SHOWING: 'onesignal.nb.animatedelement.showing',\n      SHOWN: 'onesignal.nb.animatedelement.shown',\n      HIDING: 'onesignal.nb.animatedelement.hiding',\n      HIDDEN: 'onesignal.nb.animatedelement.hidden',\n    };\n  }\n\n  /**\n   * Returns the native element's innerHTML property.\n   * @returns {string} Returns the native element's innerHTML property.\n   */\n  get content() {\n    if (this.nestedContentSelector)\n      return this.element.querySelector(this.nestedContentSelector).innerHTML;\n    else\n      return this.element.innerHTML;\n  }\n\n  /**\n   * Sets the native element's innerHTML property.\n   * @param value {string} The HTML to set to the element.\n   */\n  set content(value) {\n    if (this.nestedContentSelector)\n      this.element.querySelector(this.nestedContentSelector).innerHTML = value;\n    else\n      this.element.innerHTML = value;\n  }\n\n\n  /**\n   * Returns the native {Element} via document.querySelector().\n   * @returns {Element} Returns the native {Element} via document.querySelector().\n   */\n  get element() {\n    return document.querySelector(this.selector);\n  }\n\n  /* States an element can be in */\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to being shown.\n   */\n  get showing() {\n    return this.state === 'showing';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already shown.\n   */\n  get shown() {\n    return this.state === 'shown';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to hiding.\n   */\n  get hiding() {\n    return this.state === 'hiding';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already hidden.\n   */\n  get hidden() {\n    return this.state === 'hidden';\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/AnimatedElement.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once, contains } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport objectAssign from 'object-assign';\n\nexport default class ActiveAnimatedElement extends AnimatedElement {\n\n  /**\n   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n   * @param selector {string} The CSS selector of the element.\n   * @param showClass {string} The CSS class name to add to show the element.\n   * @param hideClass {string} The CSS class name to remove to hide the element.\n   * @param activeClass {string} The CSS class name to add to activate the element.\n   * @param inactiveClass {string} The CSS class name to remove to inactivate the element.\n   * @param state {string} The current state of the element, defaults to 'shown'.\n   * @param activeState {string} The current state of the element, defaults to 'active'.\n   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n   */\n  constructor(selector, showClass, hideClass, activeClass, inactiveClass, state = 'shown', activeState = 'active', targetTransitionEvents = ['opacity', 'transform'], nestedContentSelector = null) {\n    super(selector, showClass, hideClass, state, targetTransitionEvents, nestedContentSelector);\n    this.activeClass = activeClass;\n    this.inactiveClass = inactiveClass;\n    this.activeState = activeState;\n  }\n\n  /**\n   * Asynchronously activates an element by applying its {activeClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  activate() {\n    if (!this.inactive || !this.shown) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.activeState = 'activating';\n      Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVATING, this);\n      if (this.inactiveClass)\n        removeCssClass(this.element, this.inactiveClass);\n      if (this.activeClass)\n        addCssClass(this.element, this.activeClass);\n      if (this.shown) {\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely activate (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              contains(this.targetTransitionEvents, event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              this.activeState = 'active';\n              Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, this);\n              return resolve(this);\n            }\n          }, true);\n        }\n      }\n      else {\n        call.warn(`Ending activate() transition (alternative).`);\n        this.activeState = 'active';\n        Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, this);\n        return resolve(this);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously activates an element by applying its {activeClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  inactivate() {\n    if (!this.active) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.activeState = 'inactivating';\n      Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVATING, this);\n      if (this.activeClass)\n        removeCssClass(this.element, this.activeClass);\n      if (this.inactiveClass)\n        addCssClass(this.element, this.inactiveClass);\n      if (this.shown) {\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely inactivate (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              contains(this.targetTransitionEvents, event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              this.activeState = 'inactive';\n              Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, this);\n              return resolve(this);\n            }\n          }, true);\n        }\n      }\n      else {\n        this.activeState = 'inactive';\n        Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, this);\n        return resolve(this);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being active.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilActive() {\n    if (this.active)\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, ActiveAnimatedElement.EVENTS.ACTIVE, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being inactive.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilInactive() {\n    if (this.inactive)\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, ActiveAnimatedElement.EVENTS.INACTIVE, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  static get EVENTS() {\n    return objectAssign({}, AnimatedElement.EVENTS, {\n      ACTIVATING: 'onesignal.nb.activeanimatedelement.activating',\n      ACTIVE: 'onesignal.nb.activeanimatedelement.active',\n      INACTIVATING: 'onesignal.nb.activeanimatedelement.inactivating',\n      INACTIVE: 'onesignal.nb.activeanimatedelement.inactive',\n    });\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to being activated.\n   */\n  get activating() {\n    return this.activeState === 'activating';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already active.\n   */\n  get active() {\n    return this.activeState === 'active';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to inactive.\n   */\n  get inactivating() {\n    return this.activeState === 'inactivating';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already inactive.\n   */\n  get inactive() {\n    return this.activeState === 'inactive';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/ActiveAnimatedElement.js\n **/","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 16\n ** module chunks = 0\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, hasCssClass, addCssClass, removeCssClass, once, nothing, contains } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\n\n\nexport default class Launcher extends ActiveAnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher', 'onesignal-bell-launcher-active', null, null, 'onesignal-bell-launcher-inactive', 'hidden', 'active');\n\n    this.bell = bell;\n    this.wasInactive = false;\n  }\n\n  resize(size) {\n    // If the size is the same, do nothing and resolve an empty promise\n    if ((size === 'small' && hasCssClass(this.element, 'onesignal-bell-launcher-sm')) ||\n        (size === 'medium' && hasCssClass(this.element, 'onesignal-bell-launcher-md')) ||\n        (size === 'large' && hasCssClass(this.element, 'onesignal-bell-launcher-lg'))) {\n      return Promise.resolve(this);\n    }\n    removeCssClass(this.element, 'onesignal-bell-launcher-sm');\n    removeCssClass(this.element, 'onesignal-bell-launcher-md');\n    removeCssClass(this.element, 'onesignal-bell-launcher-lg');\n    if (size === 'small') {\n      addCssClass(this.element, 'onesignal-bell-launcher-sm')\n    }\n    else if (size === 'medium') {\n      addCssClass(this.element, 'onesignal-bell-launcher-md')\n    }\n    else if (size === 'large') {\n      addCssClass(this.element, 'onesignal-bell-launcher-lg')\n    }\n    else {\n      throw new Error('Invalid OneSignal bell size ' + size);\n    }\n    if (!this.shown) {\n      return Promise.resolve(this);\n    }\n    else {\n      return new Promise((resolve) => {\n        // Once the launcher has finished shrinking down\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely resize (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              contains(this.targetTransitionEvents, event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              return resolve(this);\n            }\n          }, true);\n        }\n      });\n    }\n  }\n\n  activateIfInactive() {\n    if (this.inactive) {\n      this.wasInactive = true;\n      return this.activate();\n    }\n    else return nothing();\n  }\n\n  inactivateIfWasInactive() {\n    if (this.wasInactive) {\n      this.wasInactive = false;\n      return this.inactivate();\n    }\n    else return nothing();\n  }\n\n  clearIfWasInactive() {\n    this.wasInactive = false;\n  }\n\n  inactivate() {\n    return this.bell.message.hide()\n      .then(() => {\n        if (this.bell.badge.content.length > 0) {\n          return this.bell.badge.hide()\n            .then(() => Promise.all([super.inactivate(), this.resize('small')]))\n            .then(() => this.bell.badge.show())\n            .catch((e) => log.error(e))\n        }\n        else {\n          return Promise.all([super.inactivate(), this.resize('small')]);\n        }\n      });\n  }\n\n  activate() {\n    if (this.bell.badge.content.length > 0) {\n      return this.bell.badge.hide()\n        .then(() => Promise.all([super.activate(), this.resize(this.bell.options.size)]))\n        .then(() => this.bell.badge.show())\n        .catch((e) => log.error(e))\n    }\n    else {\n      return Promise.all([super.activate(), this.resize(this.bell.options.size)]);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Launcher.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\n\n\nexport default class Badge extends ActiveAnimatedElement {\n\n  constructor() {\n    super('.onesignal-bell-launcher-badge', 'onesignal-bell-launcher-badge-opened', null, 'onesignal-bell-launcher-badge-active', null, 'hidden');\n  }\n\n  increment() {\n    // If it IS a number (is not not a number)\n    if (!isNaN(this.content)) {\n      let badgeNumber = +this.content; // Coerce to int\n      badgeNumber += 1;\n      this.content = badgeNumber.toString();\n      return badgeNumber;\n    }\n  }\n\n  decrement() {\n    // If it IS a number (is not not a number)\n    if (!isNaN(this.content)) {\n      let badgeNumber = +this.content; // Coerce to int\n      badgeNumber -= 1;\n      if (badgeNumber > 0)\n        this.content = badgeNumber.toString();\n      else\n        this.content = '';\n      return badgeNumber;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Badge.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, removeDomElement, once, when } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\nimport Bell from './bell.js';\nimport LimitStore from '../limitStore.js';\nimport Message from './Message.js';\n\n\nexport default class Button extends ActiveAnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-button', null, null, 'onesignal-bell-launcher-button-active', null, 'shown', []);\n\n    this.bell = bell;\n    this.events = {\n      mouse: 'bell.launcher.button.mouse'\n    };\n\n    this.element.addEventListener('touchstart', (e) => {\n      //log.debug('touchstart');\n      this.onHovering(e);\n      this.onTap(e);\n    });\n\n    this.element.addEventListener('mouseenter', (e) => {\n      //log.debug('mouseenter');\n      this.onHovering(e);\n    });\n\n    this.element.addEventListener('mouseleave', (e) => {\n      //log.debug('mouseleave');\n      this.onHovered(e);\n    });\n    this.element.addEventListener('touchmove', (e) => {\n      //log.debug('touchmove');\n      this.onHovered(e);\n    });\n\n    this.element.addEventListener('mousedown', (e) => {\n      //log.debug('mousedown');\n      this.onTap(e);\n    });\n\n    this.element.addEventListener('mouseup', (e) => {\n      //log.debug('mouseup');\n      this.onEndTap(e);\n    });\n\n    this.element.addEventListener('click', (e) => {\n      //log.debug('click');\n      this.onHovered(e);\n      this.onClick(e);\n    });\n  }\n\n  onHovering(e) {\n    if (LimitStore.isEmpty(this.events.mouse) || LimitStore.getLast(this.events.mouse) === 'out') {\n      Event.trigger(Bell.EVENTS.HOVERING);\n    }\n    LimitStore.put(this.events.mouse, 'over');\n  }\n\n  onHovered(e) {\n    LimitStore.put(this.events.mouse, 'out');\n    Event.trigger(Bell.EVENTS.HOVERED);\n  }\n\n  onTap(e) {\n    this.pulse();\n    this.activate();\n    this.bell.badge.activate();\n  }\n\n  onEndTap(e) {\n    this.inactivate();\n    this.bell.badge.inactivate();\n  }\n\n  onClick(e) {\n    Event.trigger(Bell.EVENTS.BELL_CLICK);\n    Event.trigger(Bell.EVENTS.LAUNCHER_CLICK);\n\n    if (this.bell.message.shown && this.bell.message.contentType == Message.TYPES.MESSAGE) {\n      // A message is being shown, it'll disappear soon\n      return;\n    }\n\n    var setSubscriptionState = LimitStore.getLast('setsubscription.value');\n    if (this.bell.unsubscribed) {\n      if (setSubscriptionState === false) {\n        // The user manually called setSubscription(false), but the user is actually subscribed\n        this.bell.launcher.activateIfInactive().then(() => {\n          this.bell.showDialogProcedure();\n        });\n      }\n      else {\n        // The user is actually subscribed, register him for notifications\n        OneSignal.registerForPushNotifications();\n        //// Show the 'Click Allow to receive notifications' tip, if they haven't already enabled permissions\n        //if (OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id) === 'default') {\n        //  this.bell.message.display(Message.TYPES.MESSAGE, this.bell.text['message.action.subscribing'], Message.TIMEOUT)\n        //}\n\n        once(window, OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, (event, destroyListenerFn) => {\n          destroyListenerFn();\n          let permission = event.detail.to;\n          if (permission === 'granted') {\n            this.bell.message.display(Message.TYPES.MESSAGE, this.bell.text['message.action.subscribed'], Message.TIMEOUT)\n              .then(() => {\n                this.bell.launcher.inactivate();\n              })\n              .catch((e) => {\n                log.error(e);\n              });\n          }\n        }, true);\n      }\n    }\n    else if (this.bell.subscribed) {\n      this.bell.launcher.activateIfInactive().then(() => {\n        this.bell.showDialogProcedure();\n      });\n    }\n    else if (this.bell.blocked) {\n      this.bell.launcher.activateIfInactive().then(() => {\n        this.bell.showDialogProcedure();\n      });\n    }\n    return this.bell.message.hide().catch((e) => log.error(e));\n  }\n\n  pulse() {\n    removeDomElement('.pulse-ring');\n    addDomElement(this.element, 'beforeend', '<div class=\"pulse-ring\"></div>');\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Button.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once, delay, when, nothing } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport Bell from './bell.js';\n\n\nexport default class Message extends AnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-message', 'onesignal-bell-launcher-message-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-message-body');\n\n    this.bell = bell;\n    this.contentType = '';\n    this.queued = [];\n  }\n\n  static get TIMEOUT() {\n    return 2500;\n  }\n\n  static get TYPES() {\n    return {\n      TIP: 'tip', // Appears on button hover, disappears on button endhover\n      MESSAGE: 'message', // Appears manually for a specified duration, site visitor cannot control its display. Messages override tips\n      QUEUED: 'queued' // This message was a user-queued message\n    };\n  }\n\n  display(type, content, duration = 0) {\n    log.debug(`Calling %cdisplay(${type}, ${content}, ${duration}).`, getConsoleStyle('code'));\n    return new Promise((resolve, reject) => {\n      (this.shown ? this.hide() : nothing())\n        .then(() => {\n          this.content = content;\n          this.contentType = type;\n        })\n        .then(() => {\n          return this.show();\n        })\n        .then(() => delay(duration))\n        .then(() => {\n          return this.hide();\n        })\n        .then(() => {\n          // Reset back to normal content type so stuff can show a gain\n          this.content = this.getTipForState();\n          this.contentType = 'tip';\n        })\n        .then(resolve)\n        .catch((e) => log.error(e));\n    });\n  }\n\n  getTipForState() {\n    if (this.bell.state === Bell.STATES.UNSUBSCRIBED)\n      return this.bell.text['tip.state.unsubscribed'];\n    else if (this.bell.state === Bell.STATES.SUBSCRIBED)\n      return this.bell.text['tip.state.subscribed'];\n    else if (this.bell.state === Bell.STATES.BLOCKED)\n      return this.bell.text['tip.state.blocked'];\n  }\n\n  enqueue(message, notify = false) {\n    this.queued.push(message);\n    return new Promise((resolve) => {\n      if (this.bell.badge.shown) {\n        this.bell.badge.hide()\n          .then(() => this.bell.badge.increment())\n          .then(() => this.bell.badge.show())\n          .then(resolve);\n      } else {\n        this.bell.badge.increment();\n        if (this.bell.initialized)\n          this.bell.badge.show().then(resolve)\n        else resolve();\n      }\n    });\n  }\n\n  dequeue(message) {\n    let dequeuedMessage = this.queued.pop(message);\n    return new Promise((resolve) => {\n      if (this.bell.badge.shown) {\n        this.bell.badge.hide()\n          .then(() => this.bell.badge.decrement())\n          .then((numMessagesLeft) => {\n            if (numMessagesLeft > 0) {\n              return this.bell.badge.show()\n            } else {\n              return Promise.resolve(this);\n            }\n          })\n          .then(resolve(dequeuedMessage));\n      } else {\n        this.bell.badge.decrement();\n        resolve(dequeuedMessage);\n      }\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Message.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, clearDomElementChildren, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport * as Browser from 'bowser';\nimport Bell from './bell.js';\nimport { HOST_URL } from '../vars.js';\nimport LimitStore from '../limitStore.js';\n\n\nexport default class Dialog extends AnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-dialog', 'onesignal-bell-launcher-dialog-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-dialog-body');\n\n    this.bell = bell;\n    this.subscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #subscribe-button';\n    this.unsubscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #unsubscribe-button';\n    this.notificationIcons = null;\n\n    window.addEventListener(Bell.EVENTS.STATE_CHANGED, (state) => {\n      state = state.detail;\n      if (state.to === Bell.STATES.SUBSCRIBED) {\n        if (this.notificationIcons === null) {\n          this.getNotificationIcons().then((icons) => {\n            this.notificationIcons = icons;\n          });\n        }\n      }\n    });\n\n    window.addEventListener('click', (event) => {\n      if (event.target === document.querySelector(this.subscribeButtonId))\n        Event.trigger(Bell.EVENTS.SUBSCRIBE_CLICK);\n      else if (event.target === document.querySelector(this.unsubscribeButtonId))\n        Event.trigger(Bell.EVENTS.UNSUBSCRIBE_CLICK);\n    });\n  }\n\n  getNotificationIcons() {\n    if (!OneSignal._app_id) {\n      return Promise.resolve(null);\n    }\n    let url = `${OneSignal._API_URL}apps/${OneSignal._app_id}/icon`;\n    return new Promise((resolve, reject) => {\n      fetch(url)\n        .then(function(response) {\n          return response.json()\n        }).then(function(data) {\n          if (data.errors) {\n            log.error(`API call %c${url}`, getConsoleStyle('code'), 'failed with:', data.errors);\n            reject(null);\n          }\n          resolve(data);\n        }).catch(function(ex) {\n          log.error('Call %cgetNotificationIcons()', getConsoleStyle('code'), 'failed with:', ex);\n          reject(null);\n        })\n    });\n  }\n\n  getPlatformNotificationIcon() {\n    if (this.notificationIcons) {\n      if (Browser.chrome || Browser.firefox) {\n        return this.notificationIcons.chrome || this.notificationIcons.safari;\n      }\n      else if (Browser.safari) {\n        return this.notificationIcons.safari || this.notificationIcons.chrome;\n      }\n    }\n    else return null;\n  }\n\n  show() {\n    return this.updateBellLauncherDialogBody()\n      .then(() => super.show())\n      .catch(e => log.error(e));\n  }\n\n  get subscribeButtonSelectorId() {\n    return 'subscribe-button';\n  }\n\n  get unsubscribeButtonSelectorId() {\n    return 'unsubscribe-button';\n  }\n\n  get subscribeButton() {\n    return this.element.querySelector('#' + this.subscribeButtonSelectorId);\n  }\n\n  get unsubscribeButton() {\n    return this.element.querySelector('#' + this.unsubscribeButtonSelectorId);\n  }\n\n  updateBellLauncherDialogBody() {\n    return OneSignal._getSubscription().then((currentSetSubscription) => {\n      clearDomElementChildren(document.querySelector(this.nestedContentSelector));\n      let contents = 'Nothing to show.';\n\n      var footer = '';\n      if (this.bell.options.showCredit) {\n        footer = `<div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by <a href=\"https://onesignal.com\" class=\"kickback\" target=\"_blank\">OneSignal</a></div>`;\n      }\n\n      if (this.bell.state === Bell.STATES.SUBSCRIBED && currentSetSubscription === true ||\n        this.bell.state === Bell.STATES.UNSUBSCRIBED && currentSetSubscription === false) {\n\n        let notificationIconHtml = '';\n        let imageUrl = this.getPlatformNotificationIcon();\n        if (imageUrl) {\n          notificationIconHtml = `<div class=\"push-notification-icon\"><img src=\"${imageUrl}\"></div>`\n        } else {\n          notificationIconHtml = `<div class=\"push-notification-icon push-notification-icon-default\"></div>`\n        }\n\n        let buttonHtml = '';\n        if (this.bell.state !== Bell.STATES.SUBSCRIBED)\n          buttonHtml = `<button type=\"button\" class=\"action\" id=\"${this.subscribeButtonSelectorId}\">${this.bell.text['dialog.main.button.subscribe']}</button>`;\n        else\n          buttonHtml = `<button type=\"button\" class=\"action\" id=\"${this.unsubscribeButtonSelectorId}\">${this.bell.text['dialog.main.button.unsubscribe']}</button>`;\n\n        contents = `\n                  <h1>${this.bell.text['dialog.main.title']}</h1>\n                  <div class=\"divider\"></div>\n                  <div class=\"push-notification\">\n                    ${notificationIconHtml}\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    ${buttonHtml}\n                  </div>\n                  ${footer}\n                `;\n      }\n      else if (this.bell.state === Bell.STATES.BLOCKED) {\n        let imageUrl = null;\n        if (Browser.chrome) {\n          if (!Browser.mobile && !Browser.tablet) {\n            imageUrl = HOST_URL + '/bell/chrome-unblock.jpg';\n          }\n        }\n        else if (Browser.firefox)\n          imageUrl = HOST_URL + '/bell/firefox-unblock.jpg';\n        else if (Browser.safari)\n          imageUrl = HOST_URL + '/bell/safari-unblock.jpg';\n\n        let instructionsHtml = '';\n        if (imageUrl) {\n          instructionsHtml = `\n\n            <a href=\"${imageUrl}\" target=\"_blank\"><img src=\"${imageUrl}\"></a></div>\n            `;\n        }\n\n        if ((Browser.mobile || Browser.tablet) && Browser.chrome) {\n          instructionsHtml = `\n            <ol>\n            <li>Access <strong>Settings</strong> by tapping the three menu dots <strong>⋮</strong></li>\n            <li>Click <strong>Site settings</strong> under Advanced.</li>\n            <li>Click <strong>Notifications</strong>.</li>\n            <li>Find and click this entry for this website.</li>\n            <li>Click <strong>Notifications</strong> and set it to <strong>Allow</strong>.</li>\n            </ol>\n          `;\n        }\n        contents = `\n                  <h1>${this.bell.text['dialog.blocked.title']}</h1>\n                  <div class=\"divider\"></div>\n                  <div class=\"instructions\">\n                  <p>${this.bell.text['dialog.blocked.message']}</p>\n                  ${instructionsHtml}\n                  </div>\n                  ${footer}\n                `;\n      }\n      addDomElement(document.querySelector(this.nestedContentSelector), 'beforeend', contents);\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Dialog.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bell/bell.scss\n ** module id = 22\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;-webkit-font-feature-settings:normal;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;-ms-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-transform:scale(.01) translateZ(0);transform:scale(.01) translateZ(0);opacity:0;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{left:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{left:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{left:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{left:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{left:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{-webkit-transform-origin:left center;-ms-transform-origin:left center;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));-webkit-transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147483400;opacity:0;-webkit-transform:scale(.01);-ms-transform:scale(.01);transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;width:200px;-webkit-transform:scale(0) translateZ(0);transform:scale(0) translateZ(0);-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol{counter-reset:foo;display:table;border-spacing:.3em .75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li{counter-increment:foo;display:table-row;margin-bottom:.75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li:before{content:counter(foo) \\\".\\\";display:table-cell;text-align:right}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{-webkit-transform:scale(1) translateZ(0);transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a{box-sizing:border-box;text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:focus,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:visited{text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button{box-sizing:border-box;border:1px solid transparent;padding:.625em 1em;box-shadow:none;border-radius:4px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.65px;cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action{color:#fff;background:#e54b4d;width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:hover{background:#dd2022}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:active{background:#b1191b}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:3.2px -9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:4.8px -14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:.3em .8em .6em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;line-height:1.2em;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:6.4px -19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button .pulse-ring{border:7px solid hsla(0,0%,100%,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button .pulse-ring{border:7px solid rgba(229,75,77,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.5}#onesignal-bell-container.onesignal-reset .pulse-ring{border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./src/bell/bell.scss\n ** module id = 23\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 24\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/raw-loader!./src/bell/bell.svg\n ** module id = 26\n ** module chunks = 0\n **/","import log from 'loglevel';\nimport Event from './events.js';\n\n\nexport default class Database {\n\n  static get EVENTS() {\n    return {\n      REBUILT: 'onesignal.db.rebuilt',\n      RETRIEVED: 'onesignal.db.retrieved',\n      SET: 'onesignal.db.set',\n      REMOVED: 'onesignal.db.removed'\n    };\n  }\n\n  /**\n   * Returns an existing instance or creates a new instances of the database.\n   * @returns {Promise} Returns a promise that is fulfilled when the database becomes accessible or rejects when an error occurs.\n   */\n  static getInstance() {\n    return new Promise(function (resolve, reject) {\n      if (Database._instance) {\n        resolve(Database._instance);\n      } else {\n        let request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n        request.onsuccess = (event) => {\n          if (Database._instance) {\n            let redundantDb = event.target.result;\n            redundantDb.close();\n            resolve(Database._instance);\n          } else {\n            let database = event.target.result;\n            Database._instance = database;\n            log.debug('Opening IndexedDB instance.');\n            resolve(database);\n          }\n        };\n        request.onerror = (event) => {\n          log.error('Unable to open IndexedDB.', event);\n          reject(event);\n        };\n        request.onupgradeneeded = (event) => {\n          log.info('OneSignal: IndexedDB is being rebuilt or upgraded.', event);\n          let db = event.target.result;\n          db.createObjectStore(\"Ids\", {\n            keyPath: \"type\"\n          });\n          db.createObjectStore(\"NotificationOpened\", {\n            keyPath: \"url\"\n          });\n          db.createObjectStore(\"Options\", {\n            keyPath: \"key\"\n          });\n          Event.trigger(Database.EVENTS.REBUILT);\n        };\n        request.onversionchange = (event) => {\n          log.warn('The database is about to be deleted.');\n        };\n      }\n    });\n  }\n\n  /**\n   * Asynchronously retrieves the value of the key at the table (if key is specified), or the entire table (if key is not specified).\n   * @param table The table to retrieve the value from.\n   * @param key The key in the table to retrieve the value of. Leave blank to get the entire table.\n   * @returns {Promise} Returns a promise that fulfills when the value(s) are available.\n   */\n  static get(table, key) {\n    if (key) {\n      // Return a table-key value\n      return Database.getInstance().then(database => {\n        return new Promise(function (resolve, reject) {\n          var request = database.transaction(table).objectStore(table).get(key);\n          request.onsuccess = () => {\n            Event.trigger(Database.EVENTS.RETRIEVED, {table: table, key: key, result: request.result});\n            resolve(request.result);\n          };\n          request.onerror = () => {\n            reject(request.errorCode);\n          };\n        });\n      });\n    } else {\n      // Return all values in table\n      return Database.getInstance().then(database => {\n        return new Promise(function (resolve, reject) {\n          let jsonResult = {};\n          let cursor = database.transaction(table).objectStore(table).openCursor();\n          cursor.onsuccess = (event) => {\n            var cursorResult = event.target.result;\n            if (cursorResult) {\n              Event.trigger(Database.EVENTS.RETRIEVED, cursorResult.value);\n              jsonResult[cursorResult.key] = cursorResult.value.value;\n              cursorResult.continue();\n            } else {\n              resolve(jsonResult);\n            }\n          };\n          cursor.onerror = (event) => {\n            reject(cursor.errorCode);\n          };\n        });\n      });\n    }\n  }\n\n  /**\n   * Asynchronously puts the specified value in the specified table.\n   * @param table\n   * @param key\n   */\n  static put(table, key) {\n    return Database.getInstance().then((database) => {\n      return new Promise((resolve, reject) => {\n        try {\n          let request = database.transaction([table], 'readwrite').objectStore(table).put(key);\n          request.onsuccess = (event) => {\n            Event.trigger(Database.EVENTS.SET, key);\n            resolve(key);\n          };\n          request.onerror = (e) => {\n            log.error('Database PUT Transaction Error:', e);\n            reject(e);\n          };\n        } catch (e) {\n          log.error('Database PUT Error:', e);\n          reject(e);\n        }\n      });\n    });\n  }\n\n  /**\n   * Asynchronously removes the specified key from the table, or if the key is not specified, removes all keys in the table.\n   * @returns {Promise} Returns a promise containing a key that is fulfilled when deletion is completed.\n   */\n  static remove(table, key) {\n    if (key) {\n      // Remove a single key from a table\n      var method = \"delete\";\n    } else {\n      // Remove all keys from the table (wipe the table)\n      var method = \"clear\";\n    }\n    return Database.getInstance().then((database) => {\n      return new Promise((resolve, reject) => {\n        try {\n          let request = database.transaction([table], 'readwrite').objectStore(table)[method](key);\n          request.onsuccess = (event) => {\n            Event.trigger(Database.EVENTS.REMOVED, [table, key]);\n            resolve(key);\n          };\n          request.onerror = (e) => {\n            log.error('Database REMOVE Transaction Error:', e);\n            reject(e);\n          };\n        } catch (e) {\n          log.error('Database REMOVE Error:', e);\n          reject(e);\n        }\n      });\n    });\n  }\n\n  /**\n   * Asynchronously removes the Ids, NotificationOpened, and Options tables from the database and recreates them with blank values.\n   * @returns {Promise} Returns a promise that is fulfilled when rebuilding is completed, or rejects with an error.\n   */\n  static rebuild() {\n    return Promise.all([\n      Database.remove('Ids'),\n      Database.remove('NotificationOpened'),\n      Database.remove('Options'),\n    ]);\n  }\n\n  static printIds() {\n    Promise.all([\n      Database.get('Ids', 'appId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Ids', 'userId')\n    ]).then(function(contents) {\n      log.info('appId:', contents[0]);\n      log.info('registrationId:', contents[1]);\n      log.info('userId:', contents[2]);\n    });\n  }\n\n  static _wipeBetaSettings() {\n    Promise.all([\n      Database.remove('Options', 'persistNotification'),\n      Database.remove('Options', 'webhooks.cors'),\n      Database.remove('Options', 'webhooks.notification.displayed'),\n      Database.remove('Options', 'webhooks.notification.clicked'),\n    ]);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/database.js\n **/","'use strict';\n\nvar page = require('./page');\nvar worker = require('./worker');\nvar api;\n\nif ('serviceWorker' in navigator) {\n  api = page();\n} else if ('clients' in self) {\n  api = worker();\n} else {\n  api = {\n    on: complain,\n    once: complain,\n    off: complain,\n    emit: complain,\n    broadcast: complain\n  };\n}\n\nfunction complain () {\n  throw new Error('Swivel couldn\\'t detect ServiceWorker support. Please feature detect before using Swivel in your web pages!');\n}\n\nmodule.exports = api;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/swivel/swivel.js\n ** module id = 28\n ** module chunks = 0\n **/","'use strict';\n\nvar atoa = require('atoa');\nvar serialization = require('./serialization');\nvar emitter = require('contra/emitter');\n\nmodule.exports = createChannel;\n\nfunction createChannel () {\n  var channel = at(navigator.serviceWorker.controller);\n  return channel;\n\n  function at (worker) {\n    var internalEmitter = emitter();\n    var api = {\n      on: selfed('on'),\n      once: selfed('once'),\n      off: selfed('off'),\n      emit: postToWorker,\n      at: at\n    };\n    var postFromWorker = serialization.emission(internalEmitter, { broadcast: false });\n    navigator.serviceWorker.addEventListener('message', broadcastHandler);\n    return api;\n\n    function selfed (method) {\n      return function selfish () {\n        internalEmitter[method].apply(null, arguments);\n        return api;\n      };\n    }\n\n    function postToWorker () {\n      if (!worker) {\n        return Promise.reject(new Error('ServiceWorker not found.'));\n      }\n      var payload = serialization.parsePayload(atoa(arguments));\n      var messageChannel = new MessageChannel();\n      messageChannel.port1.addEventListener('message', postFromWorker);\n      return worker.postMessage(payload, [messageChannel.port2]);\n    }\n\n    function broadcastHandler (e) {\n      if (e.source !== worker) {\n        return; // ignore broadcast messages from other workers than the one we're talking to.\n      }\n      var data = e.data;\n      if (data) {\n        if (data.__broadcast) {\n          serialization.emission(internalEmitter, {broadcast: true})(e);\n        } else {\n          serialization.emission(internalEmitter, {broadcast: false})(e);\n        }\n      }\n    }\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/swivel/page.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/atoa/atoa.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\n\nfunction serializeError (err) {\n  return err ? err.toString() : null;\n}\n\nfunction deserializeError (err) {\n  return err ? new Error(err) : null;\n}\n\nfunction parsePayload (payload) {\n  var type = payload.shift();\n  if (type === 'error') {\n    return { error: serializeError(payload[0]), type: type, payload: [] };\n  }\n  return { error: null, type: type, payload: payload };\n}\n\nfunction emission (emitter, context) {\n  return emit;\n  function emit (e) {\n    var data = e.data;\n    if (data.type === 'error') {\n      emitter.emit.call(null, 'error', context, deserializeError(data.error));\n    } else {\n      emitter.emit.apply(null, [data.type, context].concat(data.payload));\n    }\n  }\n}\n\nmodule.exports = {\n  parsePayload: parsePayload,\n  emission: emission\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/swivel/serialization.js\n ** module id = 31\n ** module chunks = 0\n **/","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/contra/emitter.js\n ** module id = 32\n ** module chunks = 0\n **/","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/contra/debounce.js\n ** module id = 33\n ** module chunks = 0\n **/","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ticky/ticky-browser.js\n ** module id = 34\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 35\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 36\n ** module chunks = 0\n **/","'use strict';\n\nvar atoa = require('atoa');\nvar serialization = require('./serialization');\nvar emitter = require('contra/emitter');\n\nmodule.exports = createChannel;\n\nfunction createChannel () {\n  var internalEmitter = emitter();\n  var api = {\n    on: selfed('on'),\n    once: selfed('once'),\n    off: selfed('off'),\n    broadcast: broadcastToPages,\n    emit: replyToClient\n  };\n\n  self.addEventListener('message', postFromPage);\n\n  return api;\n\n  function selfed (method) {\n    return function selfish () {\n      internalEmitter[method].apply(null, arguments);\n      return api;\n    };\n  }\n\n  function postFromPage (e) {\n    var context = {\n      reply: replyToPage(e)\n    };\n    serialization.emission(internalEmitter, context)(e);\n  }\n\n  function broadcastToPages (type) {\n    var payload = atoa(arguments, 1);\n    return self.clients.matchAll().then(gotClients);\n    function gotClients (clients) {\n      return clients.map(emitToClient);\n    }\n    function emitToClient (client) {\n      return client.postMessage({ type: type, payload: payload, __broadcast: true });\n    }\n  }\n\n  function replyTo (client) {\n    var payload = serialization.parsePayload(atoa(arguments, 1));\n    return client.postMessage(payload);\n  }\n\n  function replyToPage (e) {\n    return replyTo.bind(null, e.ports[0]);\n  }\n\n  function replyToClient (clientId) {\n    var payload = serialization.parsePayload(atoa(arguments, 1));\n    return self.clients.matchAll().then(function(clients) {\n      var wasClientFound = false;\n      clients.forEach(function(client) {\n        if (client.id === clientId) {\n          wasClientFound = true;\n          return client.postMessage(payload);\n        }\n      });\n      if (!wasClientFound) {\n        return Promise.reject('Could not find service worker client with ID ' + clientId + ' to reply to.');\n      }\n    });\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/swivel/worker.js\n ** module id = 37\n ** module chunks = 0\n **/","module.exports = global[\"ServiceWorker\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/ServiceWorker.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?ServiceWorker!./src/ServiceWorker.js\n ** module id = 38\n ** module chunks = 0\n **/","import { DEV_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js'\nimport { sendNotification, apiCall } from './api.js';\nimport log from 'loglevel';\nimport \"./cache-polyfill.js\";\nimport Database from './database.js';\nimport { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, contains, trimUndefined } from './utils.js';\nimport swivel from 'swivel';\n\nclass ServiceWorker {\n\n  static get VERSION() {\n    return __VERSION__;\n  }\n\n  static get environment() {\n    return Environment;\n  }\n\n  static get log() {\n    return log;\n  }\n\n  static get swivel() {\n    return swivel;\n  }\n\n  static run() {\n    self.addEventListener('push', ServiceWorker.onPushReceived);\n    self.addEventListener('notificationclick', ServiceWorker.onNotificationClicked);\n    self.addEventListener('install', ServiceWorker.onServiceWorkerInstalled);\n    self.addEventListener('activate', ServiceWorker.onServiceWorkerActivated);\n\n    // If the user is proxying through our subdomain (e.g. website.onesignal.com/sdks/)\n    if (ServiceWorker.onOurSubdomain) {\n      // Cache resources?\n      self.addEventListener('fetch', ServiceWorker.onFetch);\n    }\n\n    // Install messaging event handlers for page <-> service worker communication\n    swivel.on('data', ServiceWorker.onMessageReceived);\n  }\n\n  static get CACHE_URLS() {\n    return [\n      '/sdks/initOneSignalHttpIframe',\n      '/sdks/initOneSignalHttpIframe?session=*',\n      '/sdks/manifest_json',\n      '/dev_sdks/initOneSignalHttpIframe',\n      '/dev_sdks/initOneSignalHttpIframe?session=*',\n      '/dev_sdks/manifest_json'\n      ];\n  }\n\n  /**\n   * Occurs when a message is received from the host page.\n   * @param context Used to reply to the host page.\n   * @param data The message contents.\n   */\n  static onMessageReceived(context, data) {\n    log.debug(`%c${Environment.getEnv().capitalize()} ⬸ Host:`, getConsoleStyle('serviceworkermessage'), data, context);\n    if (data === 'notification.closeall') {\n      self.registration.getNotifications().then(notifications => {\n        for (let notification of notifications) {\n          notification.close();\n        }\n      });\n    }\n  }\n\n  /**\n   * Occurs when a push message is received.\n   * This method handles the receipt of a push signal on all web browsers except Safari, which uses the OS to handle notifications.\n   * @param event\n   */\n  static onPushReceived(event) {\n    log.debug(`Called %conPushReceived(${JSON.stringify(event, null, 4)}):`, getConsoleStyle('code'), event);\n\n    event.waitUntil(new Promise((resolve, reject) => {\n      var extra = {};\n      var promise = Promise.resolve();\n      Promise.all([\n        ServiceWorker._getTitle(),\n        Database.get('Options', 'defaultIcon'),\n        Database.get('Options', 'persistNotification')\n      ])\n        .then(results => {\n          extra.title = results[0];\n          extra.defaultIconResult = results[1];\n          if (extra.defaultIconResult)\n            extra.defaultIconResult = extra.defaultIconResult.value;\n          extra.persistNotification = results[2];\n          if (extra.persistNotification)\n            extra.persistNotification = extra.persistNotification.value;\n        })\n        .then(() => ServiceWorker._getLastNotifications())\n        .then(notifications => {\n          // At this point, we have an array of notification objects (all the JSON is parsed)\n          // We want to fire a notification for each object\n          // We need to use event.waitUntil() to extend the life of the service worker (workers can be killed if idling)\n          // We want to extend the service worker lifetime until all promises for showNotification resolve\n          let notificationEventPromiseFns = [];\n\n          for (let notification of notifications) {\n            // notification is the raw object returned by the OneSignal API\n            let data = {\n              id: notification.custom.i,\n              message: notification.alert,\n              additionalData: notification.custom.a\n            };\n\n            if (notification.title)\n              data.title = notification.title;\n            else\n              data.title = extra.title;\n\n            if (notification.custom.u)\n              data.launchURL = notification.custom.u;\n\n            if (notification.icon)\n              data.icon = notification.icon;\n            else if (extra.defaultIconResult)\n              data.icon = extra.defaultIconResult;\n\n            // Never nest the following line in a callback from the point of entering from _getLastNotifications\n            notificationEventPromiseFns.push((data => self.registration.showNotification(data.title, {\n              // https://developers.google.com/web/updates/2015/10/notification-requireInteraction?hl=en\n              // On Chrome 47+ Desktop only, notifications will be dismissed after 20 seconds unless requireInteraction is set to true\n              requireInteraction: extra.persistNotification,\n              body: data.message,\n              icon: data.icon,\n              tag: JSON.stringify(data)\n            })).bind(null, data));\n            notificationEventPromiseFns.push((data => ServiceWorker.executeWebhooks('notification.displayed', data)).bind(null, data));\n          }\n          return notificationEventPromiseFns.reduce(function(p, fn) {\n            return p = p.then(fn);\n          }, promise);\n        })\n        .then(resolve)\n        .catch(e => log.error(e));\n    }));\n  }\n\n  static executeWebhooks(event, notification) {\n    var isServerCorsEnabled = false;\n    return Database.get('Options', 'webhooks.cors')\n      .then(corsResult => {\n        isServerCorsEnabled = corsResult && corsResult.value;\n      })\n      .then(() => Database.get('Options', `webhooks.${event}`))\n      .then(webhookUrlQuery => {\n        if (webhookUrlQuery && webhookUrlQuery.value) {\n          let url = webhookUrlQuery.value;\n          // JSON.stringify() does not include undefined values\n          // Our response will not contain those fields here which have undefined values\n          let postData = {\n            event: event,\n            id: notification.id,\n            heading: notification.title,\n            content: notification.message,\n            url: notification.launchURL,\n            icon: notification.icon,\n            data: notification.additionalData\n          };\n          let fetchOptions = {\n            method: 'post',\n            mode: 'no-cors',\n            body: JSON.stringify(postData)\n          };\n          if (isServerCorsEnabled) {\n            fetchOptions.mode = 'cors';\n            fetchOptions.headers = {\n              'X-OneSignal-Event': event,\n              'Content-Type': 'application/json'\n            };\n          }\n          log.debug(`Executing ${event} webhook ${isServerCorsEnabled ? 'with' : 'without'} CORS %cPOST ${url}`, getConsoleStyle('code'), ':', postData);\n          return fetch(url, fetchOptions);\n        }\n      });\n  }\n\n  static onNotificationClicked(event) {\n    log.debug(`Called %conNotificationClicked(${JSON.stringify(event, null, 4)}):`, getConsoleStyle('code'), event);\n\n    var notificationData = JSON.parse(event.notification.tag);\n    event.notification.close();\n\n    event.waitUntil(\n      Database.get('Options', 'defaultUrl')\n        .then(defaultUrlResult => {\n\n          if (defaultUrlResult)\n            ServiceWorker.defaultLaunchUrl = defaultUrlResult.value;\n        })\n        .then(() => {\n          return clients.matchAll({type: 'window'});\n        })\n        .then(clientList => {\n          var launchURL = registration.scope;\n          if (ServiceWorker.defaultLaunchUrl)\n            launchURL = ServiceWorker.defaultLaunchUrl;\n          if (notificationData.launchURL)\n            launchURL = notificationData.launchURL;\n\n          let eventData = {\n            id: notificationData.id,\n            heading: notificationData.title,\n            content: notificationData.message,\n            url: notificationData.launchURL,\n            icon: notificationData.icon,\n            data: notificationData.additionalData\n          };\n          trimUndefined(eventData);\n\n          for (let i = 0; i < clientList.length; i++) {\n            var client = clientList[i];\n            if ('focus' in client && client.url === launchURL) {\n              client.focus();\n\n              /*\n               Note: If an existing browser tab, with *exactly* the same URL as launchURL, that tab will be focused and posted a message.\n               This event rarely occurs. More than likely, the below will happen.\n               */\n              swivel.emit(client.id, 'notification.clicked', eventData);\n              return;\n            }\n          }\n\n          /*\n           addListenerForNotificationOpened() stuff:\n           - A value is stored in IndexedDB, marking this notification's click\n               - If the launchURL isn't one of a couple special \"don't open anything\" values, a new window is then opened to the launchURL\n               - If the new window opened loads our SDK, it will retrieve the value we just put in the database (in init() for HTTPS and initHttp() for HTTP)\n               - The addListenerForNotificationOpened() will be fired\n           */\n          return Database.put(\"NotificationOpened\", {url: launchURL, data: eventData})\n            .then(() => {\n              let launchURLObject = new URL(launchURL);\n              if (launchURL !== 'javascript:void(0);' &&\n                launchURL !== 'do_not_open' &&\n                !contains(launchURLObject.search, '_osp=do_not_open')) {\n                clients.openWindow(launchURL).catch(function (error) {\n                  // Should only fall into here if going to an external URL on Chrome older than 43.\n                  clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n                });\n              }\n            });\n        })\n        .then(() => {\n          return Promise.all([Database.get('Ids', 'appId'), Database.get('Ids', 'userId')])\n        })\n        .then(results => {\n\n          var [ appIdResult, userIdResult ] = results;\n          if (appIdResult && userIdResult) {\n            return apiCall(\"notifications/\" + notificationData.id, \"PUT\", {\n              app_id: appIdResult.id,\n              player_id: userIdResult.id,\n              opened: true\n            });\n          }\n        })\n        .then(() => {\n          let notificationData = JSON.parse(event.notification.tag);\n          return ServiceWorker.executeWebhooks('notification.clicked', notificationData);\n        })\n        .catch(e => log.error(e))\n    );\n  }\n\n  static onServiceWorkerInstalled(event) {\n    // At this point, the old service worker is still in control\n    log.debug(`Called %conServiceWorkerInstalled(${JSON.stringify(event, null, 4)}):`, getConsoleStyle('code'), event);\n    log.info(`Installing service worker: %c${self.location.pathname}`, getConsoleStyle('code'), `(version ${__VERSION__})`);\n\n    if (contains(self.location.pathname, \"OneSignalSDKWorker.js\"))\n      var serviceWorkerVersionType = 'WORKER1_ONE_SIGNAL_SW_VERSION'\n    else\n      var serviceWorkerVersionType = 'WORKER2_ONE_SIGNAL_SW_VERSION';\n\n    if (ServiceWorker.onOurSubdomain) {\n      event.waitUntil(\n        Database.put(\"Ids\", {type: serviceWorkerVersionType, id: __VERSION__})\n          .then(() => {\n            return caches.open(\"OneSignal_\" + __VERSION__)\n          })\n          .then(cache => {\n            return cache.addAll(ServiceWorker.CACHE_URLS);\n          })\n          .then(() => self.skipWaiting())\n          .catch(e => log.error(e))\n      );\n    } else {\n      event.waitUntil(\n        Database.put(\"Ids\", {type: serviceWorkerVersionType, id: __VERSION__})\n          .then(() => self.skipWaiting())\n      );\n    }\n  }\n\n  /*\n      1/11/16: Enable the waiting service worker to immediately become the active service worker: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting\n   */\n  static onServiceWorkerActivated(event) {\n    // The old service worker is gone now\n    log.debug(`Called %conServiceWorkerActivated(${JSON.stringify(event, null, 4)}):`, getConsoleStyle('code'), event);\n    event.waitUntil(self.clients.claim());\n  }\n\n  static onFetch(event) {\n    let url = event.request.url;\n    for (let cacheUrl of ServiceWorker.CACHE_URLS) {\n      if (contains(url, cacheUrl)) {\n        event.respondWith(\n          caches.match(event.request)\n            .then((response) => {\n              // Cache hit -- return response\n              if (response) {\n                return response;\n              }\n              return fetch(event.request);\n            })\n            .catch((e) => log.error(e))\n        );\n      }\n    }\n  }\n\n  static get onOurSubdomain() {\n    return __DEV__ || location.href.match(/https:\\/\\/.*\\.onesignal.com\\/sdks\\//) !== null;\n  }\n\n  /**\n   * Returns a promise that is fulfilled with either the default title from the database (first priority) or the page title from the database (alternate result).\n   */\n  static _getTitle() {\n    return new Promise((resolve, reject) => {\n      Promise.all([Database.get('Options', 'defaultTitle'), Database.get('Options', 'pageTitle')])\n        .then((results) => {\n          var [ defaultTitleResult, pageTitleResult ] = results;\n\n          if (defaultTitleResult) {\n            resolve(defaultTitleResult.value);\n          }\n          else if (pageTitleResult && pageTitleResult.value != null) {\n            resolve(pageTitleResult.value);\n          }\n          else {\n            resolve('');\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n          reject(e);\n        });\n    });\n  }\n\n  /**\n   * Returns a promise that is fulfilled with the JSON result of chrome notifications.\n   */\n  static _getLastNotifications() {\n    return new Promise((resolve, reject) => {\n      var notifications = [];\n      // Each entry is like:\n      /*\n       Object {custom: Object, icon: \"https://onesignal.com/images/notification_logo.png\", alert: \"asd\", title: \"ss\"}\n       alert: \"asd\"\n       custom: Object\n       i: \"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"\n       __proto__: Object\n       icon: \"https://onesignal.com/images/notification_logo.png\"\n       title: \"ss\"\n       __proto__: Object\n       */\n      Database.get('Ids', 'userId')\n        .then(userIdResult => {\n          if (userIdResult) {\n            return apiCall(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\");\n          }\n          else {\n            log.error('Tried to get last notifications, but there was no userId found in the database.');\n            reject(new Error('Tried to get last notifications, but there was no userId found in the database.'));\n          }\n        })\n        .then(response => {\n          // The response is an array literal -- response.json() has been called by apiCall()\n          // The result looks like this:\n          // apiCall(\"players/7442a553-5f61-4b3e-aedd-bb574ef6946f/chromeweb_notification\", \"GET\").then(function(response) { console.log(response); });\n          // [\"{\"custom\":{\"i\":\"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"},\"icon\":\"https://onesignal.com/images/notification_logo.png\",\"alert\":\"asd\",\"title\":\"ss\"}\"]\n          // ^ Notice this is an array literal with JSON data inside\n          for (var i = 0; i < response.length; i++) {\n            notifications.push(JSON.parse(response[i]));\n          }\n          resolve(notifications);\n        })\n        .catch(e => {\n          log.error(e);\n          reject(e);\n        });\n    });\n  }\n}\n\n// Expose this class to the global scope\nself.OneSignalWorker = ServiceWorker;\n\n// Set logging to the appropriate level\nlog.setDefaultLevel(__DEV__ ? log.levels.TRACE : log.levels.ERROR);\n\n// Print it's happy time!\nlog.info(`%cOneSignal Service Worker loaded (version ${__VERSION__}, ${Environment.getEnv()} environment).`, getConsoleStyle('bold'));\n\n// Run our main file\nServiceWorker.run();\n\n\n/** WEBPACK FOOTER **\n ** ./src/ServiceWorker.js\n **/","/**\n * https://github.com/coonsta/cache-polyfill\n *\n * Copyright 2015 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nif (!Cache.prototype.addAll) {\n  Cache.prototype.addAll = function addAll(requests) {\n    var cache = this;\n\n    // Since DOMExceptions are not constructable:\n    function NetworkError(message) {\n      this.name = 'NetworkError';\n      this.code = 19;\n      this.message = message;\n    }\n    NetworkError.prototype = Object.create(Error.prototype);\n\n    return Promise.resolve().then(function() {\n      if (arguments.length < 1) throw new TypeError();\n\n      // Simulate sequence<(Request or USVString)> binding:\n      var sequence = [];\n\n      requests = requests.map(function(request) {\n        if (request instanceof Request) {\n          return request;\n        }\n        else {\n          return String(request); // may throw TypeError\n        }\n      });\n\n      return Promise.all(\n        requests.map(function(request) {\n          if (typeof request === 'string') {\n            request = new Request(request);\n          }\n\n          var scheme = new URL(request.url).protocol;\n\n          if (scheme !== 'http:' && scheme !== 'https:') {\n            throw new NetworkError(\"Invalid scheme\");\n          }\n\n          return fetch(request.clone());\n        })\n      );\n    }).then(function(responses) {\n      // TODO: check that requests don't overwrite one another\n      // (don't think this is possible to polyfill due to opaque responses)\n      return Promise.all(\n        responses.map(function(response, i) {\n          return cache.put(requests[i], response);\n        })\n      );\n    }).then(function() {\n      return undefined;\n    });\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/cache-polyfill.js\n **/"],"sourceRoot":""}