!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";if("undefined"!=typeof OneSignal)var predefinedOneSignalPushes=OneSignal;__webpack_require__(1);if(predefinedOneSignalPushes)OneSignal._process_pushes(predefinedOneSignalPushes)},function(module,exports,__webpack_require__){(function(global){module.exports=global.OneSignal=__webpack_require__(2)}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(fetch){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vars=__webpack_require__(4);var _api=__webpack_require__(7);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel);var _limitStore=__webpack_require__(8);var _limitStore2=_interopRequireDefault(_limitStore);__webpack_require__(9);var _events=__webpack_require__(10);var _bell=__webpack_require__(11);var _bell2=_interopRequireDefault(_bell);var _utils=__webpack_require__(5);var OneSignal={_VERSION:109013,_HOST_URL:_vars.HOST_URL,_app_id:null,_tagsToSendOnRegister:null,_notificationOpened_callback:null,_idsAvailable_callback:[],_defaultLaunchURL:null,_initOptions:null,_httpRegistration:false,_main_page_port:null,_isNotificationEnabledCallback:null,_subscriptionSet:true,_initOneSignalHttp:null,_sessionIframeAdded:false,_useHttpMode:null,_windowWidth:550,_windowHeight:480,_isNewVisitor:false,_isInitialized:false,bell:null,LOGGING:true,SERVICE_WORKER_UPDATER_PATH:"OneSignalSDKUpdaterWorker.js",SERVICE_WORKER_PATH:"OneSignalSDKWorker.js",SERVICE_WORKER_PARAM:{},_ensureDbInstance:function _ensureDbInstance(){return new Promise(function(resolve,reject){if(OneSignal._oneSignal_db)resolve(OneSignal._oneSignal_db);else{var request=indexedDB.open("ONE_SIGNAL_SDK_DB",1);request.onsuccess=function(event){var database=event.target.result;OneSignal._oneSignal_db=database;resolve(database)};request.onerror=function(event){_loglevel2["default"].error("Unable to open IndexedDB.",event);reject(event)};request.onupgradeneeded=function(event){_loglevel2["default"].debug("Rebuilding schema in IndexedDB...");var db=event.target.result;db.createObjectStore("Ids",{keyPath:"type"});db.createObjectStore("NotificationOpened",{keyPath:"url"});db.createObjectStore("Options",{keyPath:"key"})}}})},_getDbValue:function _getDbValue(table,key){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){var request=database.transaction(table).objectStore(table).get(key);request.onsuccess=function(event){if(request.result)OneSignal._triggerEvent_dbValueRetrieved(request.result);resolve(request.result)};request.onerror=function(event){reject(request.errorCode)}})["catch"](function(e){_loglevel2["default"].error(e)})})},_getDbValues:function _getDbValues(table){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){var jsonResult={};var cursor=database.transaction(table).objectStore(table).openCursor();cursor.onsuccess=function(event){var cursor=event.target.result;if(cursor){OneSignal._triggerEvent_dbValueRetrieved(cursor);jsonResult[cursor.key]=cursor.value.value;cursor["continue"]()}else resolve(jsonResult)};cursor.onerror=function(event){reject(cursor.errorCode)}})["catch"](function(e){_loglevel2["default"].error(e)})})},_putDbValue:function _putDbValue(table,value){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){database.transaction([table],"readwrite").objectStore(table).put(value);OneSignal._triggerEvent_dbValueSet(value);resolve(value)})["catch"](function(e){_loglevel2["default"].error(e)})})},_deleteDbValue:function _deleteDbValue(table,key){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){database.transaction([table],"readwrite").objectStore(table)["delete"](key);resolve(key)})["catch"](function(e){_loglevel2["default"].error(e)})})},_sendToOneSignalApi:function _sendToOneSignalApi(url,action,inData,callback,failedCallback){_loglevel2["default"].debug("Calling "+action+" "+(OneSignal._HOST_URL+url)+" with data:",inData);var contents={method:action};if(inData){contents.headers={"Content-type":"application/json;charset=UTF-8"};contents.body=JSON.stringify(inData)}fetch(OneSignal._HOST_URL+url,contents).then(function status(response){if(response.status>=200&&response.status<300)return Promise.resolve(response);else return Promise.reject(new Error(response.statusText))}).then(function status(response){return response.json()}).then(function(jsonData){if(null!=callback)callback(jsonData)})["catch"](function(e){_loglevel2["default"].error("OneSignal._sendToOneSignalApi() failed:",e);if(null!=failedCallback)failedCallback()})},_getLanguage:function _getLanguage(){return navigator.language?navigator.language.length>3?navigator.language.substring(0,2):navigator.language:"en"},_getPlayerId:function _getPlayerId(value,callback){if(value)callback(value);else OneSignal._getDbValue("Ids","userId").then(function _getPlayerId_gotUserId(result){if(result)callback(result.id);else callback(null)})["catch"](function(e){_loglevel2["default"].error(e)})},_getBrowserName:function _getBrowserName(){if(navigator.appVersion.match(/Chrome\/(.*?) /))return"Chrome";if(navigator.appVersion.match("Version/(.*) (Safari)"))return"Safari";if(navigator.userAgent.match(/Firefox\/([0-9]{2,}\.[0-9]{1,})/))return"Firefox";return""},_registerWithOneSignal:function _registerWithOneSignal(appId,registrationId,deviceType){OneSignal._getDbValue("Ids","userId").then(function _registerWithOneSignal_GotUserId(userIdResult){OneSignal._getNotificationTypes(function(notif_types){var requestUrl="players";var jsonData={app_id:appId,device_type:deviceType,language:OneSignal._getLanguage(),timezone:-60*(new Date).getTimezoneOffset(),device_model:navigator.platform+" "+OneSignal._getBrowserName(),device_os:(navigator.appVersion.match(/Chrome\/(.*?) /)||navigator.appVersion.match("Version/(.*) Safari")||navigator.userAgent.match(/Firefox\/([0-9]{2,}\.[0-9]{1,})/))[1],sdk:OneSignal._VERSION};if(userIdResult){requestUrl="players/"+userIdResult.id+"/on_session";jsonData.notification_types=notif_types}else if(1!=notif_types)jsonData.notification_types=notif_types;if(registrationId){jsonData.identifier=registrationId;OneSignal._putDbValue("Ids",{type:"registrationId",id:registrationId})}OneSignal._sendToOneSignalApi(requestUrl,"POST",jsonData,function registeredCallback(responseJSON){sessionStorage.setItem("ONE_SIGNAL_SESSION",true);if(responseJSON.id){OneSignal._putDbValue("Ids",{type:"userId",id:responseJSON.id});OneSignal._sendUnsentTags()}OneSignal._getPlayerId(responseJSON.id,function(userId){if(OneSignal._idsAvailable_callback.length>0)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userId,registrationId:registrationId})}if(OneSignal._httpRegistration){_loglevel2["default"].debug("Sending player Id and registrationId back to host page");_loglevel2["default"].debug(OneSignal._initOptions);var creator=opener||parent;OneSignal._safePostMessage(creator,{idsAvailable:{userId:userId,registrationId:registrationId}},OneSignal._initOptions.origin,null);if(opener)window.close()}})})})})["catch"](function(e){_loglevel2["default"].error(e)})},_sendUnsentTags:function _sendUnsentTags(){if(OneSignal._tagsToSendOnRegister){OneSignal.sendTags(OneSignal._tagsToSendOnRegister);OneSignal._tagsToSendOnRegister=null}},setDefaultNotificationUrl:function setDefaultNotificationUrl(url){OneSignal._putDbValue("Options",{key:"defaultUrl",value:url})},setDefaultIcon:function setDefaultIcon(icon){OneSignal._putDbValue("Options",{key:"defaultIcon",value:icon})},setDefaultTitle:function setDefaultTitle(title){OneSignal._putDbValue("Options",{key:"defaultTitle",value:title})},_visibilitychange:function _visibilitychange(){if("visible"==document.visibilityState){document.removeEventListener("visibilitychange",OneSignal._visibilitychange);OneSignal._sessionInit({})}},onCustomPromptClicked:function onCustomPromptClicked(event){_loglevel2["default"].debug("Event onesignal.prompt.custom.clicked:",event.detail);OneSignal._checkTrigger_eventSubscriptionChanged()},onNativePromptChanged:function onNativePromptChanged(event){_loglevel2["default"].debug("Event onesignal.prompt.native.permissionchanged:",event.detail);OneSignal._checkTrigger_eventSubscriptionChanged()},_onSubscriptionChanged:function _onSubscriptionChanged(event){_loglevel2["default"].debug("Event onesignal.subscription.changed:",event.detail);if(OneSignal._isNewVisitor&&true===event.detail)OneSignal._getDbValue("Ids","userId").then(function(result){var welcome_notification_opts=OneSignal._initOptions.welcomeNotification;var welcome_notification_disabled=void 0!==welcome_notification_opts&&true===welcome_notification_opts.disable;var title=void 0!==welcome_notification_opts&&void 0!==welcome_notification_opts.title&&null!==welcome_notification_opts.title?welcome_notification_opts.title:"";var message=void 0!==welcome_notification_opts&&void 0!==welcome_notification_opts.message&&null!==welcome_notification_opts.message&&welcome_notification_opts.message.length>0?welcome_notification_opts.message:"Thanks for subscribing!";if(!welcome_notification_disabled){_loglevel2["default"].debug("Because this user is a new site visitor, a welcome notification will be sent.");(0,_api.sendNotification)(OneSignal._app_id,[result.id],{en:title},{en:message});(0,_events.triggerEvent)("onesignal.actions.welcomenotificationsent",{title:title,message:message});OneSignal._isNewVisitor=false}})["catch"](function(e){_loglevel2["default"].error(e)});_limitStore2["default"].put("subscription.value",event.detail)},_onDbValueRetrieved:function _onDbValueRetrieved(event){_loglevel2["default"].debug("Event onesignal.db.retrieved:",event.detail)},_onDbValueSet:function _onDbValueSet(event){_loglevel2["default"].debug("Event onesignal.db.valueset:",event.detail);var info=event.detail;if("userId"===info.type){_limitStore2["default"].put("db.ids.userId",info.id);OneSignal._checkTrigger_eventSubscriptionChanged()}},_onInternalSubscriptionSet:function _onInternalSubscriptionSet(event){_loglevel2["default"].debug("Event onesignal.internal.subscriptionset:",event.detail);var newSubscriptionValue=event.detail;_limitStore2["default"].put("subscription.internal.value",newSubscriptionValue);OneSignal._checkTrigger_eventSubscriptionChanged()},_checkTrigger_eventSubscriptionChanged:function _checkTrigger_eventSubscriptionChanged(){_loglevel2["default"].debug("Called _checkTrigger_eventSubscriptionChanged().");var permissions=_limitStore2["default"].get("notification.permission");var lastPermission=permissions[permissions.length-2];var currentPermission=permissions[permissions.length-1];var ids=_limitStore2["default"].get("db.ids.userId");var lastId=ids[ids.length-2];var currentId=ids[ids.length-1];var subscriptionStates=_limitStore2["default"].get("subscription.internal.value");var lastSubscriptionState=subscriptionStates[subscriptionStates.length-2];var currentSubscriptionState=subscriptionStates[subscriptionStates.length-1];var newSubscriptionState="unchanged";if(("default"===lastPermission||"denied"===lastPermission||null===lastPermission)&&"granted"===currentPermission&&null!==currentId&&true===currentSubscriptionState||false===lastSubscriptionState&&true===currentSubscriptionState&&null!=currentId&&"granted"===currentPermission)newSubscriptionState=true;if("denied"!==lastPermission&&"denied"===currentPermission||"granted"===lastPermission&&"granted"!==currentPermission||null!==lastId&&null===currentId||false!==lastSubscriptionState&&false===currentSubscriptionState)newSubscriptionState=false;if("unchanged"!==newSubscriptionState){var lastTriggerTimes=_limitStore2["default"].put("event.subscriptionchanged.lastriggered",Date.now());var currentTime=lastTriggerTimes[lastTriggerTimes.length-1];var lastTriggerTime=lastTriggerTimes[lastTriggerTimes.length-2];var elapsedTimeSeconds=(currentTime-lastTriggerTime)/1e3;var lastEventStates=_limitStore2["default"].put("event.subscriptionchanged.laststates",newSubscriptionState);var currentState=lastEventStates[lastEventStates.length-1];var lastState=lastEventStates[lastEventStates.length-2];var shouldNotTriggerEvent=null!=lastTriggerTime&&1>=elapsedTimeSeconds||currentState===lastState;if(false===shouldNotTriggerEvent)OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)}},init:function init(options){if(OneSignal._isInitialized){_loglevel2["default"].warn("OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.");return}OneSignal._initOptions=options;if(OneSignal.LOGGING)_loglevel2["default"].enableAll();else _loglevel2["default"].setLevel("error");_loglevel2["default"].info("OneSignal Web SDK loaded (version "+OneSignal._VERSION+").");if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(navigator.permissions&&!((0,_utils.isBrowserFirefox)()&&(0,_utils.getFirefoxVersion)()<=45)){OneSignal._usingNativePermissionHook=true;var currentNotificationPermission=OneSignal._getNotificationPermission();_limitStore2["default"].put("notification.permission",currentNotificationPermission);navigator.permissions.query({name:"notifications"}).then(function(permissionStatus){permissionStatus.onchange=function(){var recentPermissions=_limitStore2["default"].get("notification.permission");var permissionBeforePrompt=recentPermissions[0];OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt)}})["catch"](function(e){_loglevel2["default"].error(e)})}else{var currentNotificationPermission=OneSignal._getNotificationPermission();_limitStore2["default"].put("notification.permission",currentNotificationPermission)}OneSignal._getDbValue("Ids","userId").then(function(result){if(void 0===result)OneSignal._isNewVisitor=true;var storeValue=result?result.id:null;_limitStore2["default"].put("db.ids.userId",storeValue)});OneSignal._getSubscription(function(currentSubscription){_limitStore2["default"].put("subscription.internal.value",currentSubscription)});window.addEventListener("onesignal.prompt.custom.clicked",OneSignal.onCustomPromptClicked);window.addEventListener("onesignal.prompt.native.permissionchanged",OneSignal.onNativePromptChanged);window.addEventListener("onesignal.subscription.changed",OneSignal._onSubscriptionChanged);window.addEventListener("onesignal.db.valueretrieved",OneSignal._onDbValueRetrieved);window.addEventListener("onesignal.db.valueset",OneSignal._onDbValueSet);window.addEventListener("onesignal.db.valueset",OneSignal._onDbValueSet);window.addEventListener("onesignal.internal.subscriptionset",OneSignal._onInternalSubscriptionSet);OneSignal._useHttpMode=!(0,_utils.isSupportedSafari)()&&(!OneSignal._supportsDirectPermission()||OneSignal._initOptions.subdomainName);if(OneSignal._useHttpMode)OneSignal._initOneSignalHttp="https://"+OneSignal._initOptions.subdomainName+".onesignal.com/sdks/initOneSignalHttp";else OneSignal._initOneSignalHttp="https://onesignal.com/sdks/initOneSignalHttps";if(true)OneSignal._initOneSignalHttp=_vars.DEV_HOST+"/dev_sdks/initOneSignalHttp";if((0,_utils.isSupportedSafari)()&&"undefined"==typeof window.fetch){var s=document.createElement("script");s.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js");document.head.appendChild(s)}if("complete"===document.readyState)OneSignal._internalInit();else window.addEventListener("load",OneSignal._internalInit);if(true&&(0,_utils.isBrowserEnv)()){_loglevel2["default"].info("Showing bell.");OneSignal.bell=new _bell2["default"]({size:"large",position:"bottom-right",theme:"default"});OneSignal.bell.create()}OneSignal._isInitialized=true},_internalInit:function _internalInit(){Promise.all([OneSignal._getDbValue("Ids","appId"),OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result){var appIdResult=result[0];var registrationIdResult=result[1];var subscriptionResult=result[2];if(appIdResult&&appIdResult.id!=OneSignal._initOptions.appId){OneSignal._deleteDbValue("Ids","userId");sessionStorage.removeItem("ONE_SIGNAL_SESSION")}if(sessionStorage.getItem("ONE_SIGNAL_SESSION")&&!OneSignal._initOptions.subdomainName&&("denied"==Notification.permission||sessionStorage.getItem("ONE_SIGNAL_NOTIFICATION_PERMISSION")==Notification.permission))return;sessionStorage.setItem("ONE_SIGNAL_NOTIFICATION_PERMISSION",Notification.permission);if(false==OneSignal._initOptions.autoRegister&&!registrationIdResult&&null==OneSignal._initOptions.subdomainName)return;if("visible"!=document.visibilityState){document.addEventListener("visibilitychange",OneSignal._visibilitychange);return}OneSignal._sessionInit({})})["catch"](function(e){_loglevel2["default"].error(e)})},registerForPushNotifications:function registerForPushNotifications(options){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(!options)options={};options.fromRegisterFor=true;OneSignal._sessionInit(options)},_initHttp:function _initHttp(options){OneSignal._initOptions=options;if(options.continuePressed)OneSignal.setSubscription(true);var isIframe=null!=parent&&parent!=window;var creator=opener||parent;if(!creator){_loglevel2["default"].debug("ERROR:_initHttp: No opener or parent found!");return}var messageChannel=new MessageChannel;messageChannel.port1.onmessage=function(event){_loglevel2["default"].debug("_initHttp.messageChannel.port1.onmessage",event);if(event.data.initOptions){OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);if(event.data.initOptions.defaultIcon)OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);_loglevel2["default"].debug("document.URL",event.data.initOptions.parent_url);OneSignal._getDbValue("NotificationOpened",event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult){_loglevel2["default"].debug("_initHttp NotificationOpened db",notificationOpenedResult);if(notificationOpenedResult){OneSignal._deleteDbValue("NotificationOpened",event.data.initOptions.parent_url);_loglevel2["default"].debug("OneSignal._safePostMessage:targetOrigin:",OneSignal._initOptions.origin);OneSignal._safePostMessage(creator,{openedNotification:notificationOpenedResult.data},OneSignal._initOptions.origin,null)}})["catch"](function(e){_loglevel2["default"].error(e)})}else if(event.data.getNotificationPermission)OneSignal._getSubdomainState(function(curState){OneSignal._safePostMessage(creator,{currentNotificationPermission:curState},OneSignal._initOptions.origin,null)});else if(event.data.setSubdomainState)OneSignal.setSubscription(event.data.setSubdomainState.setSubscription)};OneSignal._getSubdomainState(function(curState){curState.isIframe=isIframe;OneSignal._safePostMessage(creator,{oneSignalInitPageReady:curState},OneSignal._initOptions.origin,[messageChannel.port2])});OneSignal._initSaveState();OneSignal._httpRegistration=true;if(0==location.search.indexOf("?session=true"))return;OneSignal._getPlayerId(null,function(player_id){if(!isIframe||player_id){_loglevel2["default"].debug("Before navigator.serviceWorker.register");navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);_loglevel2["default"].debug("After navigator.serviceWorker.register")}})},_getSubdomainState:function _getSubdomainState(callback){var state={};Promise.all([OneSignal._getDbValue("Ids","userId"),OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result){var userIdResult=result[0];var registrationIdResult=result[1];var subscriptionResult=result[2];callback({userId:userIdResult?userIdResult.id:null,registrationId:registrationIdResult?registrationIdResult.id:null,notifPermssion:Notification.permission,subscriptionSet:subscriptionResult?subscriptionResult.value:null,isPushEnabled:"granted"==Notification.permission&&userIdResult&&registrationIdResult&&(subscriptionResult&&subscriptionResult.value||null==subscriptionResult)})})["catch"](function(e){_loglevel2["default"].error(e)})},_initSaveState:function _initSaveState(){OneSignal._app_id=OneSignal._initOptions.appId;OneSignal._putDbValue("Ids",{type:"appId",id:OneSignal._app_id});OneSignal._putDbValue("Options",{key:"pageTitle",value:document.title})},_supportsDirectPermission:function _supportsDirectPermission(){return(0,_utils.isSupportedSafari)()||"https:"==location.protocol||0==location.host.indexOf("localhost")||0==location.host.indexOf("127.0.0.1")},_sessionInit:function _sessionInit(options){_loglevel2["default"].debug("Called OneSignal._sessionInit():",options);OneSignal._initSaveState();var hostPageProtocol=location.origin.match(/^http(s|):\/\/(www\.|)/)[0];if(OneSignal._useHttpMode){if(options.fromRegisterFor){var dualScreenLeft=void 0!=window.screenLeft?window.screenLeft:screen.left;var dualScreenTop=void 0!=window.screenTop?window.screenTop:screen.top;var thisWidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var thisHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var childWidth=OneSignal._windowWidth;var childHeight=OneSignal._windowHeight;var left=thisWidth/2-childWidth/2+dualScreenLeft;var top=thisHeight/2-childHeight/2+dualScreenTop;_loglevel2["default"].debug("Opening popup window.");var message_localization_opts=OneSignal._initOptions.promptOptions;var message_localization_opts_str="";if(message_localization_opts){var message_localization_params=["actionMessage","exampleNotificationTitleDesktop","exampleNotificationMessageDesktop","exampleNotificationTitleMobile","exampleNotificationMessageMobile","exampleNotificationCaption","acceptButtonText","cancelButtonText"];for(var i=0;i<message_localization_params.length;i++){var key=message_localization_params[i];var value=message_localization_opts[key];var encoded_value=encodeURIComponent(value);if(value||""===value)message_localization_opts_str+="&"+key+"="+encoded_value}}var childWindow=window.open(OneSignal._initOneSignalHttp+"?"+message_localization_opts_str+"&hostPageProtocol="+hostPageProtocol,"_blank","scrollbars=yes, width="+childWidth+", height="+childHeight+", top="+top+", left="+left);if(childWindow)childWindow.focus()}else{_loglevel2["default"].debug("Opening iFrame.");OneSignal._addSessionIframe(hostPageProtocol)}return}if((0,_utils.isSupportedSafari)()){if(OneSignal._initOptions.safari_web_id){var notificationPermissionBeforeRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);window.safari.pushNotification.requestPermission(OneSignal._HOST_URL+"safari",OneSignal._initOptions.safari_web_id,{app_id:OneSignal._app_id},function(data){_loglevel2["default"].debug(data);var notificationPermissionAfterRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);if(data.deviceToken)OneSignal._registerWithOneSignal(OneSignal._app_id,data.deviceToken.toLowerCase(),7);else sessionStorage.setItem("ONE_SIGNAL_SESSION",true);OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest)})}}else if(options.modalPrompt&&options.fromRegisterFor){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.");return}OneSignal.isPushNotificationsEnabled(function(pushEnabled){var element=document.createElement("div");element.setAttribute("id","OneSignal-iframe-modal");element.innerHTML='<div id="notif-permission" style="background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block"></div>';document.body.appendChild(element);var iframeStyle=document.createElement("style");iframeStyle.innerHTML="@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }";document.getElementsByTagName("head")[0].appendChild(iframeStyle);var iframeNode=document.createElement("iframe");iframeNode.className="OneSignal-permission-iframe";iframeNode.style.cssText="background: rgba(255, 255, 255, 1); position: fixed;";iframeNode.src=OneSignal._initOneSignalHttp+"?id="+OneSignal._app_id+"&httpsPrompt=true&pushEnabled="+pushEnabled+"&permissionBlocked="+("undefined"==typeof Notification||"denied"==Notification.permission)+"&hostPageProtocol="+hostPageProtocol;iframeNode.setAttribute("frameborder","0");iframeNode.width=OneSignal._windowWidth.toString();iframeNode.height=OneSignal._windowHeight.toString();_loglevel2["default"].debug("Opening HTTPS modal prompt.");document.getElementById("notif-permission").appendChild(iframeNode)})}else if("serviceWorker"in navigator)OneSignal._registerForW3CPush(options);else _loglevel2["default"].debug("Service workers are not supported in this browser.");(0,_events.triggerEvent)("onesignal.sdk.initialized",null)},_registerForW3CPush:function _registerForW3CPush(options){OneSignal._getDbValue("Ids","registrationId").then(function _registerForW3CPush_GotRegistrationId(registrationIdResult){if(!registrationIdResult||!options.fromRegisterFor||"granted"!=Notification.permission)navigator.serviceWorker.getRegistration().then(function(event){var sw_path="";if(OneSignal._initOptions.path)sw_path=OneSignal._initOptions.path;if("undefined"==typeof event)navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else if(event.active){if(event.active.scriptURL.indexOf(sw_path+OneSignal.SERVICE_WORKER_PATH)>-1)OneSignal._getDbValue("Ids","WORKER1_ONE_SIGNAL_SW_VERSION").then(function(versionResult){if(versionResult)if(versionResult.id!=OneSignal._VERSION)event.unregister().then(function(){navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)});else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)});else if(event.active.scriptURL.indexOf(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH)>-1)OneSignal._getDbValue("Ids","WORKER1_ONE_SIGNAL_SW_VERSION").then(function(versionResult){if(versionResult)if(versionResult.id!=OneSignal._VERSION)event.unregister().then(function(){navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)});else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)})}else if(null==event.installing)navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)})})["catch"](function(e){_loglevel2["default"].error(e)})},_addSessionIframe:function _addSessionIframe(hostPageProtocol){var node=document.createElement("iframe");node.style.display="none";node.src=OneSignal._initOneSignalHttp+"Iframe";if(sessionStorage.getItem("ONE_SIGNAL_SESSION"))node.src+="?session=true&hostPageProtocol="+hostPageProtocol;else node.src+="?hostPageProtocol="+hostPageProtocol;document.body.appendChild(node);_loglevel2["default"].debug("Adding session iFrame.");OneSignal._sessionIframeAdded=true},_registerError:function _registerError(err){_loglevel2["default"].debug("navigator.serviceWorker.register:ERROR: "+err)},_enableNotifications:function _enableNotifications(existingServiceWorkerRegistration){if(existingServiceWorkerRegistration)_loglevel2["default"].debug("There is an older ServiceWorker:",existingServiceWorkerRegistration);if(!("PushManager"in window)){_loglevel2["default"].debug("Push messaging is not supported. No PushManager.");sessionStorage.setItem("ONE_SIGNAL_SESSION",true);return}if(!("showNotification"in ServiceWorkerRegistration.prototype)){_loglevel2["default"].debug("Notifications are not supported. showNotification not available in ServiceWorkerRegistration.");sessionStorage.setItem("ONE_SIGNAL_SESSION",true);return}if("denied"===Notification.permission){_loglevel2["default"].warn("The user has disabled notifications.");return}navigator.serviceWorker.ready.then(function(serviceWorkerRegistration){_loglevel2["default"].info("Service worker active:",serviceWorkerRegistration);OneSignal._subscribeForPush(serviceWorkerRegistration)})["catch"](function(e){_loglevel2["default"].error(e)})},_getNotificationPermission:function _getNotificationPermission(safariWebId){if(window.safari)if(safariWebId)return window.safari.pushNotification.permission(safariWebId).permission;else return"default";else return Notification.permission},_triggerEvent_customPromptClicked:function _triggerEvent_customPromptClicked(clickResult){var recentPermissions=_limitStore2["default"].put("notification.permission",clickResult);(0,_events.triggerEvent)("onesignal.prompt.custom.clicked",{result:clickResult})},_triggerEvent_nativePromptPermissionChanged:function _triggerEvent_nativePromptPermissionChanged(from,to){if(void 0===to)to=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);if(from!==to){var recentPermissions=_limitStore2["default"].put("notification.permission",to);(0,_events.triggerEvent)("onesignal.prompt.native.permissionchanged",{from:from,to:to})}},_triggerEvent_subscriptionChanged:function _triggerEvent_subscriptionChanged(to){(0,_events.triggerEvent)("onesignal.subscription.changed",to)},_triggerEvent_dbValueRetrieved:function _triggerEvent_dbValueRetrieved(value){(0,_events.triggerEvent)("onesignal.db.valueretrieved",value)},_triggerEvent_dbValueSet:function _triggerEvent_dbValueSet(value){(0,_events.triggerEvent)("onesignal.db.valueset",value)},_triggerEvent_internalSubscriptionSet:function _triggerEvent_internalSubscriptionSet(value){(0,_events.triggerEvent)("onesignal.internal.subscriptionset",value)},_subscribeForPush:function _subscribeForPush(serviceWorkerRegistration){var notificationPermissionBeforeRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);serviceWorkerRegistration.pushManager.subscribe({
userVisibleOnly:true}).then(function(subscription){sessionStorage.setItem("ONE_SIGNAL_NOTIFICATION_PERMISSION",Notification.permission);OneSignal._getDbValue("Ids","appId").then(function _subscribeForPush_GotAppId(appIdResult){var appId=appIdResult.id;_loglevel2["default"].debug("Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().");var registrationId=null;if(subscription)if("undefined"!=typeof subscription.subscriptionId)registrationId=subscription.subscriptionId;else registrationId=subscription.endpoint.replace(new RegExp("^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)"),"");else _loglevel2["default"].warn("Could not subscribe your browser for push notifications.");OneSignal._registerWithOneSignal(appId,registrationId,(0,_utils.isSupportedFireFox)()?8:5);if(!OneSignal._usingNativePermissionHook)OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest)})["catch"](function(e){_loglevel2["default"].error(e)})})["catch"](function(e){_loglevel2["default"].error("Error while subscribing for push:",e);if(!OneSignal._usingNativePermissionHook)OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);if(20==e.code&&opener&&OneSignal._httpRegistration)window.close()})},sendTag:function sendTag(key,value){var jsonKeyValue={};jsonKeyValue[key]=value;OneSignal.sendTags(jsonKeyValue)},sendTags:function sendTags(jsonPair){OneSignal._getDbValue("Ids","userId").then(function sendTags_GotUserId(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"PUT",{app_id:OneSignal._app_id,tags:jsonPair});else if(null==OneSignal._tagsToSendOnRegister)OneSignal._tagsToSendOnRegister=jsonPair;else{var resultObj={};for(var _obj in OneSignal._tagsToSendOnRegister)resultObj[_obj]=OneSignal._tagsToSendOnRegister[_obj];for(var _obj in jsonPair)resultObj[_obj]=jsonPair[_obj];OneSignal._tagsToSendOnRegister=resultObj}})["catch"](function(e){_loglevel2["default"].error("sendTags:",e)})},deleteTag:function deleteTag(key){OneSignal.deleteTags([key])},deleteTags:function deleteTags(keyArray){var jsonPair={};var length=keyArray.length;for(var i=0;length>i;i++)jsonPair[keyArray[i]]="";OneSignal.sendTags(jsonPair)},_handleNotificationOpened:function _handleNotificationOpened(event){var notificationData=JSON.parse(event.notification.tag);event.notification.close();Promise.all([OneSignal._getDbValue("Ids","appId"),OneSignal._getDbValue("Ids","userId")]).then(function _handleNotificationOpened_GotAppUserIds(results){var appIdResult=results[0];var userIdResult=results[1];if(appIdResult&&userIdResult)OneSignal._sendToOneSignalApi("notifications/"+notificationData.id,"PUT",{app_id:appIdResult.id,player_id:userIdResult.id,opened:true})})["catch"](function(e){_loglevel2["default"].error(e)});event.waitUntil(clients.matchAll({type:"window"}).then(function(clientList){var launchURL=registration.scope;if(OneSignal._defaultLaunchURL)launchURL=OneSignal._defaultLaunchURL;if(notificationData.launchURL)launchURL=notificationData.launchURL;for(var i=0;i<clientList.length;i++){var client=clientList[i];if("focus"in client&&client.url==launchURL){client.focus();client.postMessage(notificationData);return}}if("javascript:void(0);"!==launchURL&&"do_not_open"!==launchURL){OneSignal._putDbValue("NotificationOpened",{url:launchURL,data:notificationData});clients.openWindow(launchURL)["catch"](function(error){clients.openWindow(registration.scope+"redirector.html?url="+launchURL)})}})["catch"](function(e){_loglevel2["default"].error(e)}))},_getTitle:function _getTitle(incomingTitle,callback){if(null!=incomingTitle){callback(incomingTitle);return}Promise.all([OneSignal._getDbValue("Options","defaultTitle"),OneSignal._getDbValue("Options","pageTitle")]).then(function _getTitle_GotDefaultPageTitles(results){var defaultTitleResult=results[0];var pageTitleResult=results[1];if(defaultTitleResult){callback(defaultTitleResult.value);return}else if(pageTitleResult&&null!=pageTitleResult.value){callback(pageTitleResult.value);return}else callback("")})["catch"](function(e){_loglevel2["default"].error(e)})},_handleGCMMessage:function _handleGCMMessage(serviceWorker,event){if(event.data&&"{"==event.data.text()[0]){_loglevel2["default"].debug("Received data.text: ",event.data.text());_loglevel2["default"].debug("Received data.json: ",event.data.json())}event.waitUntil(new Promise(function(resolve,reject){OneSignal._getTitle(null,function(title){OneSignal._getDbValue("Options","defaultIcon").then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult){OneSignal._getLastNotifications(function(response,appId){var notificationData={id:response.custom.i,message:response.alert,additionalData:response.custom.a};if(response.title)notificationData.title=response.title;else notificationData.title=title;if(response.custom.u)notificationData.launchURL=response.custom.u;if(response.icon)notificationData.icon=response.icon;else if(defaultIconResult)notificationData.icon=defaultIconResult.value;serviceWorker.registration.showNotification(notificationData.title,{body:response.alert,icon:notificationData.icon,tag:JSON.stringify(notificationData)}).then(resolve)["catch"](function(e){_loglevel2["default"].error(e)});OneSignal._getDbValue("Options","defaultUrl").then(function(defaultUrlResult){if(defaultUrlResult)OneSignal._defaultLaunchURL=defaultUrlResult.value})["catch"](function(e){_loglevel2["default"].error(e)})},resolve)})["catch"](function(e){_loglevel2["default"].error(e)})})}))},_getLastNotifications:function _getLastNotifications(itemCallback,completeCallback){OneSignal._getDbValue("Ids","userId").then(function _getLastNotifications_GotUserId(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id+"/chromeweb_notification","GET",null,function(response){for(var i=0;i<response.length;i++)itemCallback(JSON.parse(response[i]))},function(){completeCallback()});else{_loglevel2["default"].debug("Error: could not get notificationId");completeCallback()}})["catch"](function(e){_loglevel2["default"].error(e)})},_listener_receiveMessage:function receiveMessage(event){_loglevel2["default"].debug("_listener_receiveMessage: ",event);if(void 0==OneSignal._initOptions)return;if(false)return;if(event.data.oneSignalInitPageReady){OneSignal._getDbValues("Options").then(function _listener_receiveMessage(options){_loglevel2["default"].debug("current options",options);if(!options.defaultUrl)options.defaultUrl=document.URL;if(!options.defaultTitle)options.defaultTitle=document.title;options.parent_url=document.URL;_loglevel2["default"].debug("Posting message to port[0]",event.ports[0]);event.ports[0].postMessage({initOptions:options})})["catch"](function(e){_loglevel2["default"].error("_listener_receiveMessage:",e)});var eventData=event.data.oneSignalInitPageReady;if(eventData.isIframe)OneSignal._iframePort=event.ports[0];if(eventData.userId)OneSignal._putDbValue("Ids",{type:"userId",id:eventData.userId});if(eventData.registrationId)OneSignal._putDbValue("Ids",{type:"registrationId",id:eventData.registrationId});OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);OneSignal._sendUnsentTags()}else if(event.data.currentNotificationPermission)OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);else if(event.data.idsAvailable){sessionStorage.setItem("ONE_SIGNAL_SESSION",true);OneSignal._putDbValue("Ids",{type:"userId",id:event.data.idsAvailable.userId});OneSignal._putDbValue("Ids",{type:"registrationId",id:event.data.idsAvailable.registrationId});if(OneSignal._idsAvailable_callback.length>0)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:event.data.idsAvailable.userId,registrationId:event.data.idsAvailable.registrationId})}OneSignal._sendUnsentTags()}else if(event.data.httpsPromptAccepted){OneSignal.registerForPushNotifications();OneSignal.setSubscription(true);var elem=document.getElementById("OneSignal-iframe-modal");elem.parentNode.removeChild(elem);OneSignal._triggerEvent_customPromptClicked("granted")}else if(event.data.httpsPromptCanceled){var elem=document.getElementById("OneSignal-iframe-modal");elem.parentNode.removeChild(elem);OneSignal._triggerEvent_customPromptClicked("denied")}else if(event.data.httpPromptAccepted)OneSignal._triggerEvent_customPromptClicked("granted");else if(event.data.httpPromptCanceled)OneSignal._triggerEvent_customPromptClicked("denied");else if(OneSignal._notificationOpened_callback)OneSignal._notificationOpened_callback(event.data)},addListenerForNotificationOpened:function addListenerForNotificationOpened(callback){OneSignal._notificationOpened_callback=callback;if(window)OneSignal._getDbValue("NotificationOpened",document.URL).then(function(notificationOpenedResult){if(notificationOpenedResult){OneSignal._deleteDbValue("NotificationOpened",document.URL);OneSignal._notificationOpened_callback(notificationOpenedResult.data)}})["catch"](function(e){_loglevel2["default"].error(e)})},_fireNotificationEnabledCallback:function _fireNotificationEnabledCallback(notifPermssion){if(OneSignal._isNotificationEnabledCallback){OneSignal._isNotificationEnabledCallback(notifPermssion);OneSignal._isNotificationEnabledCallback=null}},getIdsAvailable:function getIdsAvailable(callback){if(void 0===callback)return;OneSignal._idsAvailable_callback.push(callback);Promise.all([OneSignal._getDbValue("Ids","userId"),OneSignal._getDbValue("Ids","registrationId")]).then(function getIdsAvailable_GotUserRegistrationIds(results){var userIdResult=results[0];var registrationIdResult=results[1];if(userIdResult)if(registrationIdResult)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userIdResult.id,registrationId:registrationIdResult.id})}else for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userIdResult.id,registrationId:null})}})["catch"](function(e){_loglevel2["default"].error(e)})},getTags:function getTags(callback){OneSignal._getDbValue("Ids","userId").then(function(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"GET",null,function(response){callback(response.tags)})})["catch"](function(e){_loglevel2["default"].error(e)})},isPushNotificationsEnabled:function isPushNotificationsEnabled(callback){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(OneSignal._initOptions.subdomainName&&!(0,_utils.isBrowserSafari)()){OneSignal._isNotificationEnabledCallback=callback;if(OneSignal._iframePort)OneSignal._iframePort.postMessage({getNotificationPermission:true});return}Promise.all([OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function(results){var registrationIdResult=results[0];var subscriptionResult=results[1];if(registrationIdResult){if(subscriptionResult&&!subscriptionResult.value)return callback(false);callback("granted"==Notification.permission)}else callback(false)})["catch"](function(e){_loglevel2["default"].error(e)})},_getNotificationTypes:function _getNotificationTypes(callback){OneSignal._getSubscription(function(db_subscriptionSet){callback(db_subscriptionSet?1:-2)})},setSubscription:function setSubscription(newSubscription){if(OneSignal._iframePort)OneSignal._iframePort.postMessage({setSubdomainState:{setSubscription:newSubscription}});else OneSignal._getSubscription(function(currentSubscription){if(currentSubscription!=newSubscription){OneSignal._putDbValue("Options",{key:"subscription",value:newSubscription});OneSignal._getDbValue("Ids","userId").then(function(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"PUT",{app_id:OneSignal._app_id,notification_types:newSubscription?1:-2},function setSubscriptionSetCallback(){OneSignal._triggerEvent_internalSubscriptionSet(newSubscription)})})["catch"](function(e){_loglevel2["default"].error(e)})}})},_getSubscription:function _getSubscription(callback){OneSignal._getDbValue("Options","subscription").then(function(subscriptionResult){callback(!(subscriptionResult&&false==subscriptionResult.value))})["catch"](function(e){_loglevel2["default"].error(e)})},_safePostMessage:function _safePostMessage(creator,data,targetOrigin,receiver){var tOrigin=targetOrigin.toLowerCase();if(tOrigin.startsWith("http://")){var queryDict={};location.search.substr(1).split("&").forEach(function(item){queryDict[item.split("=")[0]]=item.split("=")[1]});var validPreURLRegex=/^http(s|):\/\/(www\.|)/;tOrigin=tOrigin.replace(validPreURLRegex,queryDict.hostPageProtocol)}if(receiver)creator.postMessage(data,tOrigin,receiver);else creator.postMessage(data,tOrigin)},_process_pushes:function _process_pushes(array){for(var i=0;i<array.length;i++)OneSignal.push(array[i])},push:function push(item){if("function"==typeof item)item();else{var functionName=item.shift();OneSignal[functionName].apply(null,item)}}};if("undefined"!=typeof window)window.addEventListener("message",OneSignal._listener_receiveMessage,false);else{importScripts("https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js");self.addEventListener("push",function(event){OneSignal._handleGCMMessage(self,event)});self.addEventListener("notificationclick",function(event){OneSignal._handleNotificationOpened(event)});var isSWonSubdomain=null!=location.href.match(/https\:\/\/.*\.onesignal.com\/sdks\//);if(true)isSWonSubdomain=true;self.addEventListener("install",function(event){_loglevel2["default"].debug("OneSignal Installed service worker: "+OneSignal._VERSION);if(self.location.pathname.indexOf("OneSignalSDKWorker.js")>-1)OneSignal._putDbValue("Ids",{type:"WORKER1_ONE_SIGNAL_SW_VERSION",id:OneSignal._VERSION});else OneSignal._putDbValue("Ids",{type:"WORKER2_ONE_SIGNAL_SW_VERSION",id:OneSignal._VERSION});if(isSWonSubdomain)event.waitUntil(caches.open("OneSignal_"+OneSignal._VERSION).then(function(cache){return cache.addAll(["/sdks/initOneSignalHttpIframe","/sdks/initOneSignalHttpIframe?session=*","/sdks/manifest_json"])})["catch"](function(e){_loglevel2["default"].error(e)}))});if(isSWonSubdomain)self.addEventListener("fetch",function(event){event.respondWith(caches.match(event.request).then(function(response){if(response)return response;return fetch(event.request)})["catch"](function(e){_loglevel2["default"].error(e)}))})}module.exports=OneSignal}).call(exports,__webpack_require__(3))},function(module,exports){(function(global){(function(){!function(){"use strict";function normalizeName(name){if("string"!=typeof name)name=String(name);if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){if("string"!=typeof value)value=String(value);return value}function Headers(headers){this.map={};if(headers instanceof Headers)headers.forEach(function(value,name){this.append(name,value)},this);else if(headers)Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}function readBlobAsText(blob){var reader=new FileReader;reader.readAsText(blob);return fileReaderReady(reader)}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if("string"==typeof body)this._bodyText=body;else if(support.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(support.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(!body)this._bodyText="";else if(support.arrayBuffer&&ArrayBuffer.prototype.isPrototypeOf(body));else throw new Error("unsupported BodyInit type")};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);else if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);else if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)}}else this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)};if(support.formData)this.formData=function(){return this.text().then(decode)};this.json=function(){return this.text().then(JSON.parse)};return this}function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(Request.prototype.isPrototypeOf(input)){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url;this.credentials=input.credentials;if(!options.headers)this.headers=new Headers(input.headers);this.method=input.method;this.mode=input.mode;if(!body){body=input._bodyInit;input.bodyUsed=true}}else this.url=input;this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers)this.headers=new Headers(options.headers);this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function headers(xhr){var head=new Headers;var pairs=xhr.getAllResponseHeaders().trim().split("\n");pairs.forEach(function(header){var split=header.trim().split(":");var key=split.shift().trim();var value=split.join(":").trim();head.append(key,value)});return head}function Response(bodyInit,options){if(!options)options={};this._initBody(bodyInit);this.type="default";this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||""}if(self.fetch)return;Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}list.push(value)};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};var support={blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this)};Body.call(Request.prototype);Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){function responseURL(){if("responseURL"in xhr)return xhr.responseURL;if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders()))return xhr.getResponseHeader("X-Request-URL");return}var request;if(Request.prototype.isPrototypeOf(input)&&!init)request=input;else request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var status=1223===xhr.status?204:xhr.status;if(100>status||status>599){reject(new TypeError("Network request failed"));return}var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if("include"===request.credentials)xhr.withCredentials=true;if("responseType"in xhr&&support.blob)xhr.responseType="blob";request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)})};self.fetch.polyfill=true}();module.exports=global.fetch}).call(global)}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HOST_URL=exports.PROD_HOST=exports.DEV_HOST=void 0;var _utils=__webpack_require__(5);var DEV_HOST=exports.DEV_HOST="https://192.168.1.206:3000";var PROD_HOST=exports.PROD_HOST="https://onesignal.com";var HOST_URL=exports.HOST_URL=((0,_utils.isDev)()?DEV_HOST:PROD_HOST)+"/api/v1/"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _typeof(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function isArray(variable){return"[object Array]"===Object.prototype.toString.call(variable)}function getHumanizedTimeDuration(timeDurationInMilliseconds){function addPluralSuffix(number){return number>1?"s":""}var duration=Math.floor(timeDurationInMilliseconds/1e3);var years=Math.floor(duration/31536e3);if(years)return years+" year"+addPluralSuffix(years);var days=Math.floor((duration%=31536e3)/86400);if(days)return days+" day"+addPluralSuffix(days);var hours=Math.floor((duration%=86400)/3600);if(hours)return hours+" hour"+addPluralSuffix(hours);var minutes=Math.floor((duration%=3600)/60);if(minutes)return minutes+" minute"+addPluralSuffix(minutes);var seconds=duration%60;if(seconds)return seconds+" second"+addPluralSuffix(seconds);return"just now"}function isBrowserEnv(){return"undefined"!=typeof window}function isDev(){return true}function isPushNotificationsSupported(){var chromeVersion=navigator.appVersion.match(/Chrome\/(.*?) /);if(isSupportedFireFox())return true;if(isSupportedSafari())return true;if(!chromeVersion)return false;if(navigator.appVersion.match(/Edge/))return false;if(navigator.appVersion.match(/ wv/))return false;if(navigator.appVersion.match(/OPR\//))return false;if(/iPad|iPhone|iPod/.test(navigator.platform))return false;return parseInt(chromeVersion[1].substring(0,2))>41}function isBrowserSafari(){var safariVersion=navigator.appVersion.match("Version/([0-9]?).* Safari");return null!=safariVersion}function isSupportedFireFox(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);if(fireFoxVersion)return parseInt(fireFoxVersion[2].substring(0,2))>43;return false}function isBrowserFirefox(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);return null!=fireFoxVersion}function getFirefoxVersion(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);if(fireFoxVersion)return parseInt(fireFoxVersion[2].substring(0,2));else return-1}function isSupportedSafari(){var safariVersion=navigator.appVersion.match("Version/([0-9]?).* Safari");if(null==safariVersion)return false;if(/iPhone|iPad|iPod/i.test(navigator.userAgent))return false;return parseInt(safariVersion[1])>6}function removeDomElement(selector){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)els[i].parentNode.removeChild(els[i])}function addDomElement(targetSelectorOrElement,addOrder,elementHtml){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder,elementHtml);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.insertAdjacentHTML(addOrder,elementHtml);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function addCssClass(targetSelectorOrElement,cssClass){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function removeCssClass(targetSelectorOrElement,cssClass){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function on(targetSelectorOrElement,event,task){if(!event)_loglevel2["default"].error("Cannot call on() with no event: ",event);if(!task)_loglevel2["default"].error("Cannot call on() with no task: ",task);_loglevel2["default"].debug("Debug me here.");if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)on(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)on(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.addEventListener(event,task);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function once(targetSelectorOrElement,event,task){var manualDestroy=arguments.length<=3||void 0===arguments[3]?false:arguments[3];if(!event)_loglevel2["default"].error("Cannot call on() with no event: ",event);if(!task)_loglevel2["default"].error("Cannot call on() with no task: ",task);if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)once(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)once(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement))){var taskWrapper=function(){var internalTaskFunction=function internalTaskFunction(e){var destroyEventListener=function destroyEventListener(){targetSelectorOrElement.removeEventListener(e.type,taskWrapper)};if(!manualDestroy)destroyEventListener();task(e,destroyEventListener)};return internalTaskFunction}();targetSelectorOrElement.addEventListener(event,taskWrapper)}else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function off(targetSelectorOrElement,event,task){if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)off(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)off(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))if(task)targetSelectorOrElement.removeEventListener(event,task);else targetSelectorOrElement.removeEventListener(event);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}Object.defineProperty(exports,"__esModule",{value:true});exports.isArray=isArray;exports.getHumanizedTimeDuration=getHumanizedTimeDuration;exports.isBrowserEnv=isBrowserEnv;exports.isDev=isDev;exports.isPushNotificationsSupported=isPushNotificationsSupported;exports.isBrowserSafari=isBrowserSafari;exports.isSupportedFireFox=isSupportedFireFox;exports.isBrowserFirefox=isBrowserFirefox;exports.getFirefoxVersion=getFirefoxVersion;exports.isSupportedSafari=isSupportedSafari;exports.removeDomElement=removeDomElement;exports.addDomElement=addDomElement;exports.addCssClass=addCssClass;exports.removeCssClass=removeCssClass;exports.on=on;exports.once=once;exports.off=off;var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,definition){"use strict";if("object"==typeof module&&module.exports&&true)module.exports=definition();else if(true)!(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else root.log=definition()}(this,function(){"use strict";function realMethod(methodName){if(typeof console===undefinedType)return false;else if(void 0!==console[methodName])return bindMethod(console,methodName);else if(void 0!==console.log)return bindMethod(console,"log");else return noop}function bindMethod(obj,methodName){var method=obj[methodName];if("function"==typeof method.bind)return method.bind(obj);else try{return Function.prototype.bind.call(method,obj)}catch(e){return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}function enableLoggingWhenConsoleArrives(methodName,level,loggerName){return function(){if(typeof console!==undefinedType){replaceLoggingMethods.call(this,level,loggerName);this[methodName].apply(this,arguments)}}}function replaceLoggingMethods(level,loggerName){for(var i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=level>i?noop:this.methodFactory(methodName,level,loggerName)}}function defaultMethodFactory(methodName,level,loggerName){return realMethod(methodName)||enableLoggingWhenConsoleArrives.apply(this,arguments)}function Logger(name,defaultLevel,factory){function persistLevelIfPossible(levelNum){var levelName=(logMethods[levelNum]||"silent").toUpperCase();try{window.localStorage[storageKey]=levelName;return}catch(ignore){}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelName+";"}catch(ignore){}}function getPersistedLevel(){var storedLevel;try{storedLevel=window.localStorage[storageKey]}catch(ignore){}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie;var location=cookie.indexOf(encodeURIComponent(storageKey)+"=");if(location)storedLevel=/^([^;]+)/.exec(cookie.slice(location))[1];
}catch(ignore){}if(void 0===self.levels[storedLevel])storedLevel=void 0;return storedLevel}var self=this;var currentLevel;var storageKey="loglevel";if(name)storageKey+=":"+name;self.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};self.methodFactory=factory||defaultMethodFactory;self.getLevel=function(){return currentLevel};self.setLevel=function(level,persist){if("string"==typeof level&&void 0!==self.levels[level.toUpperCase()])level=self.levels[level.toUpperCase()];if("number"==typeof level&&level>=0&&level<=self.levels.SILENT){currentLevel=level;if(false!==persist)persistLevelIfPossible(level);replaceLoggingMethods.call(self,level,name);if(typeof console===undefinedType&&level<self.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+level};self.setDefaultLevel=function(level){if(!getPersistedLevel())self.setLevel(level,false)};self.enableAll=function(persist){self.setLevel(self.levels.TRACE,persist)};self.disableAll=function(persist){self.setLevel(self.levels.SILENT,persist)};var initialLevel=getPersistedLevel();if(null==initialLevel)initialLevel=null==defaultLevel?"WARN":defaultLevel;self.setLevel(initialLevel,false)}var noop=function(){};var undefinedType="undefined";var logMethods=["trace","debug","info","warn","error"];var defaultLogger=new Logger;var _loggersByName={};defaultLogger.getLogger=function getLogger(name){if("string"!=typeof name||""===name)throw new TypeError("You must supply a name when creating a logger.");var logger=_loggersByName[name];if(!logger)logger=_loggersByName[name]=new Logger(name,defaultLogger.getLevel(),defaultLogger.methodFactory);return logger};var _log=typeof window!==undefinedType?window.log:void 0;defaultLogger.noConflict=function(){if(typeof window!==undefinedType&&window.log===defaultLogger)window.log=_log;return defaultLogger};return defaultLogger})},function(module,exports,__webpack_require__){(function(fetch){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function apiCall(action,method,data){var headers=new Headers;headers.append("Content-Type","application/json;charset=UTF-8");var contents={method:method||"NO_METHOD_SPECIFIED",headers:headers,cache:"no-cache",body:JSON.stringify(data)};return new Promise(function(resolve,reject){fetch(_vars.HOST_URL+action,contents).then(function status(response){if(response.status>=200&&response.status<300)resolve(response.json());else reject(new Error(response.statusText))})["catch"](function(e){reject(e)})})}function sendNotification(appId,playerIds,titles,contents){var params={app_id:appId,headings:titles,contents:contents,include_player_ids:playerIds,isAnyWeb:true,url:"javascript:void(0);"};return apiCall("notifications","POST",params)}Object.defineProperty(exports,"__esModule",{value:true});exports.apiCall=apiCall;exports.sendNotification=sendNotification;var _vars=__webpack_require__(4);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)}).call(exports,__webpack_require__(3))},function(module,exports){"use strict";function LimitStore(){}Object.defineProperty(exports,"__esModule",{value:true});LimitStore.store={};LimitStore.LIMIT=2;LimitStore.put=function(key,value){if(void 0===LimitStore.store[key])LimitStore.store[key]=[null,null];LimitStore.store[key].push(value);if(LimitStore.store[key].length==LimitStore.LIMIT+1)LimitStore.store[key].shift();return LimitStore.store[key]};LimitStore.get=function(key){return LimitStore.store[key]};exports["default"]=LimitStore},function(module,exports){"use strict";if("undefined"!=typeof window)!function(){function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,details:void 0};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.details);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function triggerEvent(eventName,data){if("undefined"==typeof window){_loglevel2["default"].debug("Skipping triggering of event:",eventName,"because we are running in a ServiceWorker context.");return}var event=new CustomEvent(eventName,{bubbles:true,cancelable:true,details:data});window.dispatchEvent(event)}Object.defineProperty(exports,"__esModule",{value:true});exports.triggerEvent=triggerEvent;var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _utils=__webpack_require__(5);var _limitStore=__webpack_require__(8);var _limitStore2=_interopRequireDefault(_limitStore);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel);var _events=__webpack_require__(10);if((0,_utils.isBrowserEnv)()){__webpack_require__(12);var logoSvg=__webpack_require__(16);var Bell=function(){function Bell(){var _this=this;var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];var _ref$size=_ref.size;var size=void 0===_ref$size?"small":_ref$size;var _ref$position=_ref.position;var position=void 0===_ref$position?"bottom-left":_ref$position;var _ref$theme=_ref.theme;var theme=void 0===_ref$theme?"red-white":_ref$theme;var _ref$showLauncherAfte=_ref.showLauncherAfter;var showLauncherAfter=void 0===_ref$showLauncherAfte?10:_ref$showLauncherAfte;var _ref$showBadgeAfter=_ref.showBadgeAfter;var showBadgeAfter=void 0===_ref$showBadgeAfter?300:_ref$showBadgeAfter;var _ref$messages=_ref.messages;var messages=void 0===_ref$messages?{unsubscribed:"Subscribe to notifications",subscribed:"You're subscribed to notifications"}:_ref$messages;var _ref$prenotify=_ref.prenotify;var prenotify=void 0===_ref$prenotify?true:_ref$prenotify;_classCallCheck(this,Bell);this.options={size:size,position:position,theme:theme,showLauncherAfter:showLauncherAfter,showBadgeAfter:showBadgeAfter,messages:messages,prenotify:prenotify};this.size=this.options.size;this.position=this.options.position;this.messages=this.options.messages;this.messages.queued=[];if(!this.messages.unsubscribed)this.messages.unsubscribed="Subscribe to notifications";if(!this.messages.subscribed)this.messages.subscribed="You're subscribed to notifications";this.states={uninitialized:"The bell is loading.",subscribed:"The user is subscribed",unsubscribed:"The user is unsubscribed"};this.state="uninitialized";window.addEventListener("onesignal.bell.state.changed",function(state){console.info("onesignal.bell.state.changed",state.detail)});window.addEventListener("onesignal.bell.click",function(){var originalCall=function originalCall(){_this.hideMessage();if("unsubscribed"===_this.state)OneSignal.registerForPushNotifications();else if(!_this.isDialogOpened())_this.showDialog().then(function(e){var self=_this;(0,_utils.once)(document,"click",function(e,destroyEventListener){var wasDialogClicked=self.launcherDialog.contains(e.target);if(wasDialogClicked);else{destroyEventListener();self.hideDialog().then(function(e){if(_this.wasInactive){_this.setInactive(true);_this.wasInactive=void 0}})["catch"](function(e){_loglevel2["default"].error(e)})}},true)})["catch"](function(e){_loglevel2["default"].error(e)})};if(_this.isInactive()){_this.wasInactive=true;_this.setInactive(false).then(function(){originalCall()})["catch"](function(e){_loglevel2["default"].error(e)})}else originalCall()});window.addEventListener("onesignal.bell.hovering",function(){if(_this.isInactive()){_this.wasInactive=true;_this.setInactive(false)}if(_this.isMessageOpened()||_this.isDialogOpened()){console.debug("There is already a message being displayed; wait until it is hidden again.");return}if(messages.queued.length>0){var dequeuedMessage=_this.dequeueMessage();_this.setMessage(dequeuedMessage)}else _this.setMessage(_this.messages[_this.state]);_this.showMessage()});window.addEventListener("onesignal.bell.hovered",function(){if(_this.isMessageOpened())_this.hideMessage().then(function(){_this.setMessage(_this.messages[_this.state]);if(_this.wasInactive&&!_this.isDialogOpened()){_this.setInactive(true);_this.wasInactive=void 0}})});window.addEventListener("onesignal.subscription.changed",function(e){_this.setState(e.detail?"subscribed":"unsubscribed")});window.addEventListener("onesignal.actions.welcomenotificationsent",function(e){_this.displayMessage("Thanks for subscribing!",2500).then(function(){_this.setInactive(true)})["catch"](function(e){_loglevel2["default"].error(e)})});this.updateState()}_createClass(Bell,[{key:"create",value:function create(){var _this2=this;if(!(0,_utils.isPushNotificationsSupported)())return;if(this.container)(0,_utils.removeDomElement)("onesignal-bell-container");window.addDomElement=_utils.addDomElement;(0,_utils.addDomElement)("body","beforeend",'<div id="onesignal-bell-container" class="onesignal-bell-container onesignal-reset"></div>');(0,_utils.addDomElement)(this.container,"beforeend",'<div id="onesignal-bell-launcher" class="onesignal-bell-launcher"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-button"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-badge"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-message"></div>');(0,_utils.addDomElement)(this.launcherMessage,"beforeend",'<div class="onesignal-bell-launcher-message-body"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-dialog"></div>');(0,_utils.addDomElement)(this.launcherDialog,"beforeend",'<div class="onesignal-bell-launcher-dialog-body"></div>');(0,_utils.addDomElement)(this.launcherDialogBody,"beforeend",'\n        <h1>Manage Site Notifications</h1>\n        <div class="push-notification">\n          <div class="push-notification-icon"></div>\n          <div class="push-notification-text-container">\n            <div class="push-notification-text-short"></div>\n            <div class="push-notification-text"></div>\n            <div class="push-notification-text"></div>\n          </div>\n        </div>\n        <div class="action-container">\n          <button type="button" id="action-button">Unsubscribe</button>\n        </div>\n        <div class="divider"></div>\n        <div class="kickback">Powered by OneSignal</div>\n        ');this.launcherButton.addEventListener("mouseover",function(){var isHoveringData=_limitStore2["default"].get("bell.launcherButton.mouse","over");if(void 0===isHoveringData||"out"===isHoveringData[isHoveringData.length-1])(0,_events.triggerEvent)("onesignal.bell.hovering");_limitStore2["default"].put("bell.launcherButton.mouse","over")});this.launcherButton.addEventListener("mouseleave",function(){_limitStore2["default"].put("bell.launcherButton.mouse","out");(0,_events.triggerEvent)("onesignal.bell.hovered")});this.launcherButton.addEventListener("mousedown",function(){(0,_utils.removeDomElement)(".pulse-ring");(0,_utils.addDomElement)(_this2.launcherButton,"beforeend",'<div class="pulse-ring"></div>');(0,_utils.addCssClass)(_this2.launcherButton,"onesignal-bell-launcher-button-active");(0,_utils.addCssClass)(_this2.launcherBadge,"onesignal-bell-launcher-badge-active")});this.launcherButton.addEventListener("mouseup",function(){(0,_utils.removeCssClass)(_this2.launcherButton,"onesignal-bell-launcher-button-active");(0,_utils.removeCssClass)(_this2.launcherBadge,"onesignal-bell-launcher-badge-active")});this.launcherButton.addEventListener("click",function(){(0,_events.triggerEvent)("onesignal.bell.button.click");(0,_events.triggerEvent)("onesignal.bell.click")});(0,_utils.addDomElement)(this.launcherButton,"beforeEnd",logoSvg);this.setSize(this.options.size);if("bottom-left"===this.options.position){(0,_utils.addCssClass)(this.container,"onesignal-bell-container-bottom-left");(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-bottom-left")}else if("bottom-right"===this.options.position){(0,_utils.addCssClass)(this.container,"onesignal-bell-container-bottom-right");(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-bottom-right")}else throw new Error("Invalid OneSignal bell position "+this.options.position);if("default"===this.options.theme)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-theme-default");else if("inverse"===this.options.theme)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-theme-inverse");else throw new Error("Invalid OneSignal bell theme "+this.options.theme);OneSignal.isPushNotificationsEnabled(function(isPushEnabled){if(isPushEnabled){console.log("isPushEnabled",isPushEnabled);var promise=_this2.setInactive(true)}else var promise=Promise.resolve();promise.then(function(){_this2._scheduleEvent(_this2.options.showLauncherAfter,function(){_this2.showLauncher()}).then(function(){return _this2._scheduleEvent(_this2.options.showBadgeAfter,function(){if(_this2.options.prenotify)if(!isPushEnabled){_this2.enqueueMessage("Click to subscribe to notifications");_this2.showBadge()}_this2.initialized=true})})["catch"](function(e){_loglevel2["default"].error(e)})})})}},{key:"_scheduleEvent",value:function _scheduleEvent(msInFuture,task){if("function"!=typeof task)throw new Error("Task to be scheduled must be a function.");if(0>=msInFuture){task();return Promise.resolve()}return new Promise(function(resolve,reject){setTimeout(function(){task();resolve()},msInFuture)})}},{key:"updateState",value:function updateState(){var _this3=this;OneSignal.isPushNotificationsEnabled(function(isEnabled){_this3.setState(isEnabled?"subscribed":"unsubscribed")})}},{key:"setState",value:function setState(newState){if(this.states.hasOwnProperty(newState)){var lastState=this.state;this.state=newState;if(lastState!==newState)(0,_events.triggerEvent)("onesignal.bell.state.changed",{from:lastState,to:newState});this.setMessage(this.messages[newState])}else _loglevel2["default"].error("Cannot update to invalid new state",newState)}},{key:"enqueueMessage",value:function enqueueMessage(message){var _this4=this;var notify=arguments.length<=1||void 0===arguments[1]?false:arguments[1];this.messages.queued.push(message);if(this.isBadgeOpen())this.hideBadge().then(function(){_this4.incrementBadge();_this4.showBadge()});else{this.incrementBadge();if(this.initialized)this.showBadge()}}},{key:"dequeueMessage",value:function dequeueMessage(message){var _this5=this;var dequeuedMessage=this.messages.queued.pop(message);if(this.isBadgeOpen())this.hideBadge().then(function(){_this5.decrementBadge();_this5.showBadge()});else{var newBadgeNumber=this.decrementBadge();if(0>=newBadgeNumber)this.hideBadge()}return dequeuedMessage}},{key:"showDialog",value:function showDialog(){var _this6=this;(0,_utils.addCssClass)(this.launcherDialog,"onesignal-bell-launcher-dialog-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this6.launcherDialog,"transitionend",function(e){if(e.target===_this6.launcherDialog){e.stopPropagation();return resolve(e)}})})}},{key:"hideDialog",value:function hideDialog(){var _this7=this;(0,_utils.removeCssClass)(this.launcherDialog,"onesignal-bell-launcher-dialog-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this7.launcherDialog,"transitionend",function(e){if(e.target===_this7.launcherDialog){e.stopPropagation();return resolve(e)}})})}},{key:"isDialogOpened",value:function isDialogOpened(){return document.querySelector(".onesignal-bell-launcher-dialog-opened")}},{key:"showLauncher",value:function showLauncher(){(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-active")}},{key:"hideLauncher",value:function hideLauncher(){(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-active")}},{key:"setMessage",value:function setMessage(message){this.launcherMessageBody.innerHTML=message}},{key:"showMessage",value:function showMessage(){(0,_utils.addCssClass)(this.launcherMessage,"onesignal-bell-launcher-message-opened")}},{key:"hideMessage",value:function hideMessage(){var _this8=this;(0,_utils.removeCssClass)(this.launcherMessage,"onesignal-bell-launcher-message-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this8.launcherMessage,"transitionend",function(e){if(e.target===_this8.launcherMessage){e.stopPropagation();return resolve(e)}})})}},{key:"isMessageOpened",value:function isMessageOpened(){return document.querySelector(".onesignal-bell-launcher-message-opened")}},{key:"displayMessage",value:function displayMessage(content){var _this9=this;var hideAfter=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new Promise(function(resolve,reject){if(_this9.isMessageOpened())_this9.hideMessage().then(function(){_this9.setMessage(content);_this9.showMessage();if(hideAfter)setTimeout(function(){_this9.hideMessage();return resolve()},hideAfter);else return resolve()})["catch"](function(e){_loglevel2["default"].error(e)});else{_this9.setMessage(content);_this9.showMessage();if(hideAfter)setTimeout(function(){_this9.hideMessage();return resolve()},hideAfter);else return resolve()}})}},{key:"setBadge",value:function setBadge(content){this.launcherBadge.innerHTML=content}},{key:"showBadge",value:function showBadge(){if(this.badgeHasContent())(0,_utils.addCssClass)(this.launcherBadge,"onesignal-bell-launcher-badge-opened")}},{key:"isBadgeOpen",value:function isBadgeOpen(){return document.querySelector(".onesignal-bell-badge-opened")}},{key:"badgeHasContent",value:function badgeHasContent(){return this.launcherBadge.innerHTML.length>0}},{key:"getBadgeContent",value:function getBadgeContent(){return this.launcherBadge.innerHTML}},{key:"incrementBadge",value:function incrementBadge(){var content=this.getBadgeContent();if(!isNaN(content)){var badgeNumber=+content;badgeNumber+=1;this.setBadge(badgeNumber);return badgeNumber}}},{key:"decrementBadge",value:function decrementBadge(){var content=this.getBadgeContent();if(!isNaN(content)){var badgeNumber=+content;badgeNumber-=1;this.setBadge(badgeNumber);return badgeNumber}}},{key:"hideBadge",value:function hideBadge(){var _this10=this;return new Promise(function(resolve,reject){(0,_utils.removeCssClass)(_this10.launcherBadge,"onesignal-bell-launcher-badge-opened");(0,_utils.once)(_this10.launcherBadge,"transitionend",function(e){if(e.target===_this10.launcherBadge){e.stopPropagation();return resolve(e)}})})["catch"](function(e){_loglevel2["default"].error(e);reject(e)})}},{key:"isInactive",value:function isInactive(){return document.querySelector(".onesignal-bell-launcher-inactive")}},{key:"setInactive",value:function setInactive(isInactive){var _this11=this;if(isInactive){this.hideMessage();if(this.badgeHasContent())return this.hideBadge().then(function(){(0,_utils.addCssClass)(_this11.launcher,"onesignal-bell-launcher-inactive");_this11.setSize("small");var launcher=_this11.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}).then(function(){_this11.showBadge()})["catch"](function(e){_loglevel2["default"].error(e)});else{(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-inactive");this.setSize("small");this.setSize("small");var launcher=this.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}}else if(this.badgeHasContent())return this.hideBadge().then(function(){(0,_utils.removeCssClass)(_this11.launcher,"onesignal-bell-launcher-inactive");_this11.setSize(_this11.options.size);var launcher=_this11.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}).then(function(){_this11.showBadge()})["catch"](function(e){_loglevel2["default"].error(e)});else{(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-inactive");this.setSize(this.options.size);var launcher=this.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}}},{key:"setSize",value:function setSize(size){(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-sm");(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-md");(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-lg");if("small"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-sm");else if("medium"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-md");else if("large"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-lg");else throw new Error("Invalid OneSignal bell size "+size)}},{key:"container",get:function get(){return document.querySelector("#onesignal-bell-container")}},{key:"launcher",get:function get(){return this.container.querySelector("#onesignal-bell-launcher")}},{key:"launcherButton",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-button")}},{key:"launcherBadge",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-badge")}},{key:"launcherMessage",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-message")}},{key:"launcherMessageBody",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-message-body")}},{key:"launcherDialog",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-dialog")}},{key:"launcherDialogBody",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-dialog-body")}}]);return Bell}();module.exports=Bell}},function(module,exports,__webpack_require__){var content=__webpack_require__(13);if("string"==typeof content)content=[[module.id,content,""]];var update=__webpack_require__(15)(content,{});if(content.locals)module.exports=content.locals;if(false){if(!content.locals)module.hot.accept("!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss",function(){var newContent=require("!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss");if("string"==typeof newContent)newContent=[[module.id,newContent,""]];update(newContent)});module.hot.dispose(function(){update()})}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(14)();exports.push([module.id,'/*!\n* CleanSlate\n*   github.com/premasagar/cleanslate\n*\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:"" "";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ffffff\',endColorstr=\'#dddddd\',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:""}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:right bottom;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}',""]);
},function(module,exports){module.exports=function(){var list=[];list.toString=function toString(){var result=[];for(var i=0;i<this.length;i++){var item=this[i];if(item[2])result.push("@media "+item[2]+"{"+item[1]+"}");else result.push(item[1])}return result.join("")};list.i=function(modules,mediaQuery){if("string"==typeof modules)modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if("number"==typeof id)alreadyImportedModules[id]=true}for(i=0;i<modules.length;i++){var item=modules[i];if("number"!=typeof item[0]||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2])item[2]=mediaQuery;else if(mediaQuery)item[2]="("+item[2]+") and ("+mediaQuery+")";list.push(item)}}};return list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{var parts=[];for(var j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){var styles=[];var newStyles={};for(var i=0;i<list.length;i++){var item=list[i];var id=item[0];var css=item[1];var media=item[2];var sourceMap=item[3];var part={css:css,media:media,sourceMap:sourceMap};if(!newStyles[id])styles.push(newStyles[id]={id:id,parts:[part]});else newStyles[id].parts.push(part)}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement();var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt){if(!lastStyleElementInsertedAtTop)head.insertBefore(styleElement,head.firstChild);else if(lastStyleElementInsertedAtTop.nextSibling)head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);else head.appendChild(styleElement);styleElementsInsertedAtTop.push(styleElement)}else if("bottom"===options.insertAt)head.appendChild(styleElement);else throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);if(idx>=0)styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");styleElement.type="text/css";insertStyleElement(options,styleElement);return styleElement}function createLinkElement(options){var linkElement=document.createElement("link");linkElement.rel="stylesheet";insertStyleElement(options,linkElement);return linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options));update=applyToSingletonTag.bind(null,styleElement,styleIndex,false);remove=applyToSingletonTag.bind(null,styleElement,styleIndex,true)}else if(obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa){styleElement=createLinkElement(options);update=updateLink.bind(null,styleElement);remove=function(){removeStyleElement(styleElement);if(styleElement.href)URL.revokeObjectURL(styleElement.href)}}else{styleElement=createStyleElement(options);update=applyToTag.bind(null,styleElement);remove=function(){removeStyleElement(styleElement)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css);var childNodes=styleElement.childNodes;if(childNodes[index])styleElement.removeChild(childNodes[index]);if(childNodes.length)styleElement.insertBefore(cssNode,childNodes[index]);else styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media)styleElement.setAttribute("media",media);if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(sourceMap)css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */";var blob=new Blob([css],{type:"text/css"});var oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob);if(oldSrc)URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){if("undefined"==typeof memo)memo=fn.apply(this,arguments);return memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if(true)if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{};if("undefined"==typeof options.singleton)options.singleton=isOldIE();if("undefined"==typeof options.insertAt)options.insertAt="bottom";var styles=listToStyles(list);addStylesToDom(styles,options);return function update(newList){var mayRemove=[];for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];domStyle.refs--;mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}()},function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" class="onesignal-bell-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.7px" height="99.7px" viewBox="0 0 99.7 99.7" style="enable-background:new 0 0 99.7 99.7;" xml:space="preserve">\n<g>\n	<circle class="background" cx="49.9" cy="49.9" r="49.9"/>\n	<g id="Layer_2">\n		<g>\n			<path class="foreground" d="M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\n				s6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\n				s1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z"/>\n			<path class="foreground" d="M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z"/>\n			<ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9"/>\n		</g>\n	</g>\n</g>\n</svg>\n'}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vT25lU2lnbmFsU0RLLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxMDZlMmExNGIyNzQwZmE4YTNkNSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50cnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Nkay5qcz9kZmIwIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzIiwid2VicGFjazovLy8uL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpbWl0U3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy1wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLnNjc3M/NmI4YyIsIndlYnBhY2s6Ly8vLi9zcmMvYmVsbC5zY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLnN2ZyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJPbmVTaWduYWwiLCJwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzIiwiX3Byb2Nlc3NfcHVzaGVzIiwiZ2xvYmFsIiwidGhpcyIsImZldGNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3ZhcnMiLCJfYXBpIiwiX2xvZ2xldmVsIiwiX2xvZ2xldmVsMiIsIl9saW1pdFN0b3JlIiwiX2xpbWl0U3RvcmUyIiwiX2V2ZW50cyIsIl9iZWxsIiwiX2JlbGwyIiwiX3V0aWxzIiwiX1ZFUlNJT04iLCJfSE9TVF9VUkwiLCJIT1NUX1VSTCIsIl9hcHBfaWQiLCJfdGFnc1RvU2VuZE9uUmVnaXN0ZXIiLCJfbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrIiwiX2lkc0F2YWlsYWJsZV9jYWxsYmFjayIsIl9kZWZhdWx0TGF1bmNoVVJMIiwiX2luaXRPcHRpb25zIiwiX2h0dHBSZWdpc3RyYXRpb24iLCJfbWFpbl9wYWdlX3BvcnQiLCJfaXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2siLCJfc3Vic2NyaXB0aW9uU2V0IiwiX2luaXRPbmVTaWduYWxIdHRwIiwiX3Nlc3Npb25JZnJhbWVBZGRlZCIsIl91c2VIdHRwTW9kZSIsIl93aW5kb3dXaWR0aCIsIl93aW5kb3dIZWlnaHQiLCJfaXNOZXdWaXNpdG9yIiwiX2lzSW5pdGlhbGl6ZWQiLCJiZWxsIiwiTE9HR0lORyIsIlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCIsIlNFUlZJQ0VfV09SS0VSX1BBVEgiLCJTRVJWSUNFX1dPUktFUl9QQVJBTSIsIl9lbnN1cmVEYkluc3RhbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJfb25lU2lnbmFsX2RiIiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJldmVudCIsImRhdGFiYXNlIiwidGFyZ2V0IiwicmVzdWx0Iiwib25lcnJvciIsImVycm9yIiwib251cGdyYWRlbmVlZGVkIiwiZGVidWciLCJkYiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsIl9nZXREYlZhbHVlIiwidGFibGUiLCJrZXkiLCJ0aGVuIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsIl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZCIsImVycm9yQ29kZSIsImUiLCJfZ2V0RGJWYWx1ZXMiLCJqc29uUmVzdWx0IiwiY3Vyc29yIiwib3BlbkN1cnNvciIsInZhbHVlIiwiX3B1dERiVmFsdWUiLCJwdXQiLCJfdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQiLCJfZGVsZXRlRGJWYWx1ZSIsIl9zZW5kVG9PbmVTaWduYWxBcGkiLCJ1cmwiLCJhY3Rpb24iLCJpbkRhdGEiLCJjYWxsYmFjayIsImZhaWxlZENhbGxiYWNrIiwiY29udGVudHMiLCJtZXRob2QiLCJoZWFkZXJzIiwiQ29udGVudC10eXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJyZXNwb25zZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJqc29uRGF0YSIsIl9nZXRMYW5ndWFnZSIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwiX2dldFBsYXllcklkIiwiX2dldFBsYXllcklkX2dvdFVzZXJJZCIsIl9nZXRCcm93c2VyTmFtZSIsImFwcFZlcnNpb24iLCJtYXRjaCIsInVzZXJBZ2VudCIsIl9yZWdpc3RlcldpdGhPbmVTaWduYWwiLCJhcHBJZCIsInJlZ2lzdHJhdGlvbklkIiwiZGV2aWNlVHlwZSIsIl9yZWdpc3RlcldpdGhPbmVTaWduYWxfR290VXNlcklkIiwidXNlcklkUmVzdWx0IiwiX2dldE5vdGlmaWNhdGlvblR5cGVzIiwibm90aWZfdHlwZXMiLCJyZXF1ZXN0VXJsIiwiYXBwX2lkIiwiZGV2aWNlX3R5cGUiLCJ0aW1lem9uZSIsIkRhdGUiLCJnZXRUaW1lem9uZU9mZnNldCIsImRldmljZV9tb2RlbCIsInBsYXRmb3JtIiwiZGV2aWNlX29zIiwic2RrIiwibm90aWZpY2F0aW9uX3R5cGVzIiwiaWRlbnRpZmllciIsInR5cGUiLCJyZWdpc3RlcmVkQ2FsbGJhY2siLCJyZXNwb25zZUpTT04iLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJfc2VuZFVuc2VudFRhZ3MiLCJ1c2VySWQiLCJjdXJyX2NhbGxiYWNrIiwicG9wIiwiY3JlYXRvciIsIm9wZW5lciIsInBhcmVudCIsIl9zYWZlUG9zdE1lc3NhZ2UiLCJpZHNBdmFpbGFibGUiLCJvcmlnaW4iLCJ3aW5kb3ciLCJjbG9zZSIsInNlbmRUYWdzIiwic2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybCIsInNldERlZmF1bHRJY29uIiwiaWNvbiIsInNldERlZmF1bHRUaXRsZSIsInRpdGxlIiwiX3Zpc2liaWxpdHljaGFuZ2UiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfc2Vzc2lvbkluaXQiLCJvbkN1c3RvbVByb21wdENsaWNrZWQiLCJkZXRhaWwiLCJfY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCIsIm9uTmF0aXZlUHJvbXB0Q2hhbmdlZCIsIl9vblN1YnNjcmlwdGlvbkNoYW5nZWQiLCJ3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzIiwid2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQiLCJ1bmRlZmluZWQiLCJtZXNzYWdlIiwic2VuZE5vdGlmaWNhdGlvbiIsImVuIiwidHJpZ2dlckV2ZW50IiwiX29uRGJWYWx1ZVJldHJpZXZlZCIsIl9vbkRiVmFsdWVTZXQiLCJpbmZvIiwiX29uSW50ZXJuYWxTdWJzY3JpcHRpb25TZXQiLCJuZXdTdWJzY3JpcHRpb25WYWx1ZSIsInBlcm1pc3Npb25zIiwibGFzdFBlcm1pc3Npb24iLCJjdXJyZW50UGVybWlzc2lvbiIsImlkcyIsImxhc3RJZCIsImN1cnJlbnRJZCIsInN1YnNjcmlwdGlvblN0YXRlcyIsImxhc3RTdWJzY3JpcHRpb25TdGF0ZSIsImN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSIsIm5ld1N1YnNjcmlwdGlvblN0YXRlIiwibGFzdFRyaWdnZXJUaW1lcyIsIm5vdyIsImN1cnJlbnRUaW1lIiwibGFzdFRyaWdnZXJUaW1lIiwiZWxhcHNlZFRpbWVTZWNvbmRzIiwibGFzdEV2ZW50U3RhdGVzIiwiY3VycmVudFN0YXRlIiwibGFzdFN0YXRlIiwic2hvdWxkTm90VHJpZ2dlckV2ZW50IiwiX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkIiwiaW5pdCIsIm9wdGlvbnMiLCJ3YXJuIiwiZW5hYmxlQWxsIiwic2V0TGV2ZWwiLCJpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkIiwiaXNCcm93c2VyRmlyZWZveCIsImdldEZpcmVmb3hWZXJzaW9uIiwiX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2siLCJjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbiIsIl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwicXVlcnkiLCJuYW1lIiwicGVybWlzc2lvblN0YXR1cyIsIm9uY2hhbmdlIiwicmVjZW50UGVybWlzc2lvbnMiLCJwZXJtaXNzaW9uQmVmb3JlUHJvbXB0IiwiX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZCIsInN0b3JlVmFsdWUiLCJfZ2V0U3Vic2NyaXB0aW9uIiwiY3VycmVudFN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc1N1cHBvcnRlZFNhZmFyaSIsIl9zdXBwb3J0c0RpcmVjdFBlcm1pc3Npb24iLCJzdWJkb21haW5OYW1lIiwiREVWX0hPU1QiLCJzIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlYWR5U3RhdGUiLCJfaW50ZXJuYWxJbml0IiwiaXNCcm93c2VyRW52Iiwic2l6ZSIsInBvc2l0aW9uIiwidGhlbWUiLCJjcmVhdGUiLCJhbGwiLCJfaW50ZXJuYWxJbml0X0dvdEFwcFJlZ2lzdHJhdGlvblN1YnNjcmlwdGlvbklkcyIsImFwcElkUmVzdWx0IiwicmVnaXN0cmF0aW9uSWRSZXN1bHQiLCJzdWJzY3JpcHRpb25SZXN1bHQiLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJhdXRvUmVnaXN0ZXIiLCJyZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zIiwiZnJvbVJlZ2lzdGVyRm9yIiwiX2luaXRIdHRwIiwiY29udGludWVQcmVzc2VkIiwic2V0U3Vic2NyaXB0aW9uIiwiaXNJZnJhbWUiLCJtZXNzYWdlQ2hhbm5lbCIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJkYXRhIiwiaW5pdE9wdGlvbnMiLCJkZWZhdWx0VXJsIiwiZGVmYXVsdFRpdGxlIiwiZGVmYXVsdEljb24iLCJwYXJlbnRfdXJsIiwicmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9uc19Hb3ROb3RpZmljYXRpb25PcGVuZWQiLCJub3RpZmljYXRpb25PcGVuZWRSZXN1bHQiLCJvcGVuZWROb3RpZmljYXRpb24iLCJnZXROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwiX2dldFN1YmRvbWFpblN0YXRlIiwiY3VyU3RhdGUiLCJzZXRTdWJkb21haW5TdGF0ZSIsIm9uZVNpZ25hbEluaXRQYWdlUmVhZHkiLCJwb3J0MiIsIl9pbml0U2F2ZVN0YXRlIiwibG9jYXRpb24iLCJzZWFyY2giLCJpbmRleE9mIiwicGxheWVyX2lkIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwiX2VuYWJsZU5vdGlmaWNhdGlvbnMiLCJfcmVnaXN0ZXJFcnJvciIsInN0YXRlIiwibm90aWZQZXJtc3Npb24iLCJzdWJzY3JpcHRpb25TZXQiLCJpc1B1c2hFbmFibGVkIiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdFBhZ2VQcm90b2NvbCIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInNjcmVlbiIsImxlZnQiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwidG9wIiwidGhpc1dpZHRoIiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwid2lkdGgiLCJ0aGlzSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJoZWlnaHQiLCJjaGlsZFdpZHRoIiwiY2hpbGRIZWlnaHQiLCJtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzIiwibWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIiLCJtZXNzYWdlX2xvY2FsaXphdGlvbl9wYXJhbXMiLCJpIiwiZW5jb2RlZF92YWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNoaWxkV2luZG93IiwiZm9jdXMiLCJfYWRkU2Vzc2lvbklmcmFtZSIsInNhZmFyaV93ZWJfaWQiLCJub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCIsInNhZmFyaSIsInB1c2hOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsIm5vdGlmaWNhdGlvblBlcm1pc3Npb25BZnRlclJlcXVlc3QiLCJkZXZpY2VUb2tlbiIsInRvTG93ZXJDYXNlIiwibW9kYWxQcm9tcHQiLCJpc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCIsInB1c2hFbmFibGVkIiwiZWxlbWVudCIsImlubmVySFRNTCIsImlmcmFtZVN0eWxlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpZnJhbWVOb2RlIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJjc3NUZXh0Iiwic3JjIiwidG9TdHJpbmciLCJnZXRFbGVtZW50QnlJZCIsIl9yZWdpc3RlckZvclczQ1B1c2giLCJfcmVnaXN0ZXJGb3JXM0NQdXNoX0dvdFJlZ2lzdHJhdGlvbklkIiwiZ2V0UmVnaXN0cmF0aW9uIiwic3dfcGF0aCIsInBhdGgiLCJhY3RpdmUiLCJzY3JpcHRVUkwiLCJ2ZXJzaW9uUmVzdWx0IiwidW5yZWdpc3RlciIsImluc3RhbGxpbmciLCJub2RlIiwiZGlzcGxheSIsImVyciIsImV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsIlNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwcm90b3R5cGUiLCJyZWFkeSIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJfc3Vic2NyaWJlRm9yUHVzaCIsInNhZmFyaVdlYklkIiwiX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkIiwiY2xpY2tSZXN1bHQiLCJmcm9tIiwidG8iLCJfdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0IiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJzdWJzY3JpcHRpb24iLCJfc3Vic2NyaWJlRm9yUHVzaF9Hb3RBcHBJZCIsInN1YnNjcmlwdGlvbklkIiwiZW5kcG9pbnQiLCJyZXBsYWNlIiwiUmVnRXhwIiwiaXNTdXBwb3J0ZWRGaXJlRm94IiwiY29kZSIsInNlbmRUYWciLCJqc29uS2V5VmFsdWUiLCJqc29uUGFpciIsInNlbmRUYWdzX0dvdFVzZXJJZCIsInRhZ3MiLCJyZXN1bHRPYmoiLCJfb2JqIiwiZGVsZXRlVGFnIiwiZGVsZXRlVGFncyIsImtleUFycmF5IiwiX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZCIsIm5vdGlmaWNhdGlvbkRhdGEiLCJwYXJzZSIsIm5vdGlmaWNhdGlvbiIsInRhZyIsIl9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWRfR290QXBwVXNlcklkcyIsInJlc3VsdHMiLCJvcGVuZWQiLCJ3YWl0VW50aWwiLCJjbGllbnRzIiwibWF0Y2hBbGwiLCJjbGllbnRMaXN0IiwibGF1bmNoVVJMIiwicmVnaXN0cmF0aW9uIiwic2NvcGUiLCJjbGllbnQiLCJwb3N0TWVzc2FnZSIsIm9wZW5XaW5kb3ciLCJfZ2V0VGl0bGUiLCJpbmNvbWluZ1RpdGxlIiwiX2dldFRpdGxlX0dvdERlZmF1bHRQYWdlVGl0bGVzIiwiZGVmYXVsdFRpdGxlUmVzdWx0IiwicGFnZVRpdGxlUmVzdWx0IiwiX2hhbmRsZUdDTU1lc3NhZ2UiLCJ0ZXh0IiwiX2hhbmRsZUdDTU1lc3NhZ2VfR290RGVmYXVsdEljb24iLCJkZWZhdWx0SWNvblJlc3VsdCIsIl9nZXRMYXN0Tm90aWZpY2F0aW9ucyIsImN1c3RvbSIsImFsZXJ0IiwiYWRkaXRpb25hbERhdGEiLCJhIiwidSIsInNob3dOb3RpZmljYXRpb24iLCJkZWZhdWx0VXJsUmVzdWx0IiwiaXRlbUNhbGxiYWNrIiwiY29tcGxldGVDYWxsYmFjayIsIl9nZXRMYXN0Tm90aWZpY2F0aW9uc19Hb3RVc2VySWQiLCJfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2UiLCJyZWNlaXZlTWVzc2FnZSIsIlVSTCIsInBvcnRzIiwiZXZlbnREYXRhIiwiX2lmcmFtZVBvcnQiLCJfZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayIsImh0dHBzUHJvbXB0QWNjZXB0ZWQiLCJlbGVtIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaHR0cHNQcm9tcHRDYW5jZWxlZCIsImh0dHBQcm9tcHRBY2NlcHRlZCIsImh0dHBQcm9tcHRDYW5jZWxlZCIsImFkZExpc3RlbmVyRm9yTm90aWZpY2F0aW9uT3BlbmVkIiwiZ2V0SWRzQXZhaWxhYmxlIiwicHVzaCIsImdldElkc0F2YWlsYWJsZV9Hb3RVc2VyUmVnaXN0cmF0aW9uSWRzIiwiZ2V0VGFncyIsImlzQnJvd3NlclNhZmFyaSIsImRiX3N1YnNjcmlwdGlvblNldCIsIm5ld1N1YnNjcmlwdGlvbiIsInNldFN1YnNjcmlwdGlvblNldENhbGxiYWNrIiwidGFyZ2V0T3JpZ2luIiwicmVjZWl2ZXIiLCJ0T3JpZ2luIiwic3RhcnRzV2l0aCIsInF1ZXJ5RGljdCIsInN1YnN0ciIsInNwbGl0IiwiZm9yRWFjaCIsIml0ZW0iLCJ2YWxpZFByZVVSTFJlZ2V4IiwiYXJyYXkiLCJmdW5jdGlvbk5hbWUiLCJzaGlmdCIsImFwcGx5IiwiaW1wb3J0U2NyaXB0cyIsInNlbGYiLCJpc1NXb25TdWJkb21haW4iLCJocmVmIiwicGF0aG5hbWUiLCJjYWNoZXMiLCJjYWNoZSIsImFkZEFsbCIsInJlc3BvbmRXaXRoIiwibm9ybWFsaXplTmFtZSIsIlN0cmluZyIsInRlc3QiLCJUeXBlRXJyb3IiLCJub3JtYWxpemVWYWx1ZSIsIkhlYWRlcnMiLCJtYXAiLCJhcHBlbmQiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5VXNlZCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsIm9ubG9hZCIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0Iiwic3VwcG9ydCIsIkJsb2IiLCJpc1Byb3RvdHlwZU9mIiwiX2JvZHlCbG9iIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsIl9ib2R5Rm9ybURhdGEiLCJhcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwicmVqZWN0ZWQiLCJkZWNvZGUiLCJub3JtYWxpemVNZXRob2QiLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJtZXRob2RzIiwiUmVxdWVzdCIsImlucHV0IiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsImJ5dGVzIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInhociIsInBhaXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiaGVhZGVyIiwiUmVzcG9uc2UiLCJib2R5SW5pdCIsIm9rIiwibGlzdCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImhhc093blByb3BlcnR5Iiwic2V0IiwidGhpc0FyZyIsImNsb25lIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsInJlc3BvbnNlVVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVGV4dCIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicG9seWZpbGwiLCJkZWZpbmVQcm9wZXJ0eSIsIlBST0RfSE9TVCIsImlzRGV2IiwiX3R5cGVvZiIsIlN5bWJvbCIsImNvbnN0cnVjdG9yIiwiaXNBcnJheSIsInZhcmlhYmxlIiwiZ2V0SHVtYW5pemVkVGltZUR1cmF0aW9uIiwidGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMiLCJhZGRQbHVyYWxTdWZmaXgiLCJudW1iZXIiLCJkdXJhdGlvbiIsIk1hdGgiLCJmbG9vciIsInllYXJzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJjaHJvbWVWZXJzaW9uIiwicGFyc2VJbnQiLCJzYWZhcmlWZXJzaW9uIiwiZmlyZUZveFZlcnNpb24iLCJyZW1vdmVEb21FbGVtZW50Iiwic2VsZWN0b3IiLCJlbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRG9tRWxlbWVudCIsInRhcmdldFNlbGVjdG9yT3JFbGVtZW50IiwiYWRkT3JkZXIiLCJlbGVtZW50SHRtbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhZGRDc3NDbGFzcyIsImNzc0NsYXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ3NzQ2xhc3MiLCJyZW1vdmUiLCJvbiIsInRhc2siLCJvbmNlIiwibWFudWFsRGVzdHJveSIsImFyZ3VtZW50cyIsInRhc2tXcmFwcGVyIiwiaW50ZXJuYWxUYXNrRnVuY3Rpb24iLCJkZXN0cm95RXZlbnRMaXN0ZW5lciIsIm9mZiIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwicm9vdCIsImRlZmluaXRpb24iLCJsb2ciLCJyZWFsTWV0aG9kIiwibWV0aG9kTmFtZSIsImNvbnNvbGUiLCJ1bmRlZmluZWRUeXBlIiwiYmluZE1ldGhvZCIsIm5vb3AiLCJiaW5kIiwiRnVuY3Rpb24iLCJlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzIiwibGV2ZWwiLCJsb2dnZXJOYW1lIiwicmVwbGFjZUxvZ2dpbmdNZXRob2RzIiwibG9nTWV0aG9kcyIsIm1ldGhvZEZhY3RvcnkiLCJkZWZhdWx0TWV0aG9kRmFjdG9yeSIsIkxvZ2dlciIsImRlZmF1bHRMZXZlbCIsImZhY3RvcnkiLCJwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlIiwibGV2ZWxOdW0iLCJsZXZlbE5hbWUiLCJsb2NhbFN0b3JhZ2UiLCJzdG9yYWdlS2V5IiwiaWdub3JlIiwiY29va2llIiwiZ2V0UGVyc2lzdGVkTGV2ZWwiLCJzdG9yZWRMZXZlbCIsImV4ZWMiLCJzbGljZSIsImxldmVscyIsImN1cnJlbnRMZXZlbCIsIlRSQUNFIiwiREVCVUciLCJJTkZPIiwiV0FSTiIsIkVSUk9SIiwiU0lMRU5UIiwiZ2V0TGV2ZWwiLCJwZXJzaXN0Iiwic2V0RGVmYXVsdExldmVsIiwiZGlzYWJsZUFsbCIsImluaXRpYWxMZXZlbCIsImRlZmF1bHRMb2dnZXIiLCJfbG9nZ2Vyc0J5TmFtZSIsImdldExvZ2dlciIsImxvZ2dlciIsIl9sb2ciLCJub0NvbmZsaWN0IiwiYXBpQ2FsbCIsInBsYXllcklkcyIsInRpdGxlcyIsInBhcmFtcyIsImhlYWRpbmdzIiwiaW5jbHVkZV9wbGF5ZXJfaWRzIiwiaXNBbnlXZWIiLCJMaW1pdFN0b3JlIiwic3RvcmUiLCJMSU1JVCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWxzIiwiZXZ0IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJFdmVudCIsImV2ZW50TmFtZSIsImRpc3BhdGNoRXZlbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImxvZ29TdmciLCJCZWxsIiwiX3RoaXMiLCJfcmVmIiwiX3JlZiRzaXplIiwiX3JlZiRwb3NpdGlvbiIsIl9yZWYkdGhlbWUiLCJfcmVmJHNob3dMYXVuY2hlckFmdGUiLCJzaG93TGF1bmNoZXJBZnRlciIsIl9yZWYkc2hvd0JhZGdlQWZ0ZXIiLCJzaG93QmFkZ2VBZnRlciIsIl9yZWYkbWVzc2FnZXMiLCJtZXNzYWdlcyIsInVuc3Vic2NyaWJlZCIsInN1YnNjcmliZWQiLCJfcmVmJHByZW5vdGlmeSIsInByZW5vdGlmeSIsInF1ZXVlZCIsInN0YXRlcyIsInVuaW5pdGlhbGl6ZWQiLCJvcmlnaW5hbENhbGwiLCJoaWRlTWVzc2FnZSIsImlzRGlhbG9nT3BlbmVkIiwic2hvd0RpYWxvZyIsIndhc0RpYWxvZ0NsaWNrZWQiLCJsYXVuY2hlckRpYWxvZyIsImNvbnRhaW5zIiwiaGlkZURpYWxvZyIsIndhc0luYWN0aXZlIiwic2V0SW5hY3RpdmUiLCJpc0luYWN0aXZlIiwiaXNNZXNzYWdlT3BlbmVkIiwiZGVxdWV1ZWRNZXNzYWdlIiwiZGVxdWV1ZU1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwic2hvd01lc3NhZ2UiLCJzZXRTdGF0ZSIsImRpc3BsYXlNZXNzYWdlIiwidXBkYXRlU3RhdGUiLCJfdGhpczIiLCJjb250YWluZXIiLCJsYXVuY2hlciIsImxhdW5jaGVyTWVzc2FnZSIsImxhdW5jaGVyRGlhbG9nQm9keSIsImxhdW5jaGVyQnV0dG9uIiwiaXNIb3ZlcmluZ0RhdGEiLCJsYXVuY2hlckJhZGdlIiwic2V0U2l6ZSIsInByb21pc2UiLCJfc2NoZWR1bGVFdmVudCIsInNob3dMYXVuY2hlciIsImVucXVldWVNZXNzYWdlIiwic2hvd0JhZGdlIiwiaW5pdGlhbGl6ZWQiLCJtc0luRnV0dXJlIiwic2V0VGltZW91dCIsIl90aGlzMyIsImlzRW5hYmxlZCIsIm5ld1N0YXRlIiwiX3RoaXM0Iiwibm90aWZ5IiwiaXNCYWRnZU9wZW4iLCJoaWRlQmFkZ2UiLCJpbmNyZW1lbnRCYWRnZSIsIl90aGlzNSIsImRlY3JlbWVudEJhZGdlIiwibmV3QmFkZ2VOdW1iZXIiLCJfdGhpczYiLCJzdG9wUHJvcGFnYXRpb24iLCJfdGhpczciLCJoaWRlTGF1bmNoZXIiLCJsYXVuY2hlck1lc3NhZ2VCb2R5IiwiX3RoaXM4IiwiY29udGVudCIsIl90aGlzOSIsImhpZGVBZnRlciIsInNldEJhZGdlIiwiYmFkZ2VIYXNDb250ZW50IiwiZ2V0QmFkZ2VDb250ZW50IiwiaXNOYU4iLCJiYWRnZU51bWJlciIsIl90aGlzMTAiLCJfdGhpczExIiwidXBkYXRlIiwibG9jYWxzIiwiaG90IiwiYWNjZXB0IiwibmV3Q29udGVudCIsInJlcXVpcmUiLCJkaXNwb3NlIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwic3R5bGVzSW5Eb20iLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInBhcnQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsInJlbW92ZVN0eWxlRWxlbWVudCIsImlkeCIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUxpbmtFbGVtZW50IiwibGlua0VsZW1lbnQiLCJyZWwiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiYnRvYSIsInVwZGF0ZUxpbmsiLCJhcHBseVRvVGFnIiwidXBkYXRlU3R5bGUiLCJuZXdPYmoiLCJpbmRleCIsInN0eWxlU2hlZXQiLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJ1bmVzY2FwZSIsIm9sZFNyYyIsIm1lbW9pemUiLCJmbiIsIm1lbW8iLCJpc09sZElFIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9v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QixHQUFBLEVBQWdCQSxFQUFBOGMsT0FBQXpwQixPQUFtQjJNLElBQUEsQ0FDbkMsR0FBQStJLE1BQUErVCxPQUFBOWMsRUFDQSxJQUFBK2MsVUFBQUMsWUFBQWpVLEtBQUExYyxHQUNBMHdCLFVBQUFFLE1BQ0FtRCxXQUFBcFksS0FBQStVLFVBRUEsR0FBQW9ELFFBQUEsQ0FDQSxHQUFBN0MsV0FBQUQsYUFBQThDLFFBQ0F0RCxnQkFBQVMsVUFBQW5rQixTQUVBLE9BQUE2RyxHQUFBLEVBQWdCQSxFQUFBb2dCLFVBQUEvc0IsT0FBc0IyTSxJQUFBLENBQ3RDLEdBQUErYyxVQUFBcUQsVUFBQXBnQixFQUNBLFFBQUErYyxTQUFBRSxLQUFBLENBQ0EsT0FBQUMsR0FBQSxFQUFrQkEsRUFBQUgsU0FBQUksTUFBQTlwQixPQUEyQjZwQixJQUM3Q0gsU0FBQUksTUFBQUQsV0FDQUYsYUFBQUQsU0FBQTF3QixPQWlJQSxJQUFBb3pCLGFBQUEsV0FDQSxHQUFBWSxhQUVBLGlCQUFBZCxNQUFBZSxhQUNBRCxVQUFBZCxPQUFBZSxXQUNBLE9BQUFELFdBQUFFLE9BQUFDLFNBQUExVCxLQUFBLFdqQnV0R00sU0FBUzFnQixPQUFRRCxTa0JwNUd2QkMsT0FBQUQsUUFBQSIsImZpbGUiOiJPbmVTaWduYWxTREsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0aWYgKHR5cGVvZiBPbmVTaWduYWwgIT09IFwidW5kZWZpbmVkXCIpIHZhciBwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzID0gT25lU2lnbmFsO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdGlmIChwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzKSBPbmVTaWduYWwuX3Byb2Nlc3NfcHVzaGVzKHByZWRlZmluZWRPbmVTaWduYWxQdXNoZXMpO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge21vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiT25lU2lnbmFsXCJdID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGZldGNoKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF92YXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfYXBpID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfbG9nbGV2ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9sb2dsZXZlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dsZXZlbCk7XG5cdFxuXHR2YXIgX2xpbWl0U3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9saW1pdFN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbWl0U3RvcmUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX2JlbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfYmVsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iZWxsKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBPbmVTaWduYWwgPSB7XG5cdCAgX1ZFUlNJT046IDEwOTAxMyxcblx0ICBfSE9TVF9VUkw6IF92YXJzLkhPU1RfVVJMLFxuXHQgIF9hcHBfaWQ6IG51bGwsXG5cdCAgX3RhZ3NUb1NlbmRPblJlZ2lzdGVyOiBudWxsLFxuXHQgIF9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2s6IG51bGwsXG5cdCAgX2lkc0F2YWlsYWJsZV9jYWxsYmFjazogW10sXG5cdCAgX2RlZmF1bHRMYXVuY2hVUkw6IG51bGwsXG5cdCAgX2luaXRPcHRpb25zOiBudWxsLFxuXHQgIF9odHRwUmVnaXN0cmF0aW9uOiBmYWxzZSxcblx0ICBfbWFpbl9wYWdlX3BvcnQ6IG51bGwsXG5cdCAgX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrOiBudWxsLFxuXHQgIF9zdWJzY3JpcHRpb25TZXQ6IHRydWUsXG5cdCAgX2luaXRPbmVTaWduYWxIdHRwOiBudWxsLFxuXHQgIF9zZXNzaW9uSWZyYW1lQWRkZWQ6IGZhbHNlLFxuXHQgIF91c2VIdHRwTW9kZTogbnVsbCxcblx0ICBfd2luZG93V2lkdGg6IDU1MCxcblx0ICBfd2luZG93SGVpZ2h0OiA0ODAsXG5cdCAgX2lzTmV3VmlzaXRvcjogZmFsc2UsXG5cdCAgX2lzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuXHQgIGJlbGw6IG51bGwsXG5cdCAgTE9HR0lORzogdHJ1ZSxcblx0ICBTRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEg6IFwiT25lU2lnbmFsU0RLVXBkYXRlcldvcmtlci5qc1wiLFxuXHQgIFNFUlZJQ0VfV09SS0VSX1BBVEg6IFwiT25lU2lnbmFsU0RLV29ya2VyLmpzXCIsXG5cdCAgU0VSVklDRV9XT1JLRVJfUEFSQU06IHt9LFxuXHRcblx0ICBfZW5zdXJlRGJJbnN0YW5jZTogZnVuY3Rpb24gX2Vuc3VyZURiSW5zdGFuY2UoKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICBpZiAoT25lU2lnbmFsLl9vbmVTaWduYWxfZGIpIHtcblx0ICAgICAgICByZXNvbHZlKE9uZVNpZ25hbC5fb25lU2lnbmFsX2RiKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKFwiT05FX1NJR05BTF9TREtfREJcIiwgMSk7XG5cdCAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIHZhciBkYXRhYmFzZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdCAgICAgICAgICBPbmVTaWduYWwuX29uZVNpZ25hbF9kYiA9IGRhdGFiYXNlO1xuXHQgICAgICAgICAgcmVzb2x2ZShkYXRhYmFzZSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignVW5hYmxlIHRvIG9wZW4gSW5kZXhlZERCLicsIGV2ZW50KTtcblx0ICAgICAgICAgIHJlamVjdChldmVudCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnUmVidWlsZGluZyBzY2hlbWEgaW4gSW5kZXhlZERCLi4uJyk7XG5cdCAgICAgICAgICB2YXIgZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHQgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJJZHNcIiwgeyBrZXlQYXRoOiBcInR5cGVcIiB9KTtcblx0ICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIHsga2V5UGF0aDogXCJ1cmxcIiB9KTtcblx0ICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFwiT3B0aW9uc1wiLCB7IGtleVBhdGg6IFwia2V5XCIgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgX2dldERiVmFsdWU6IGZ1bmN0aW9uIF9nZXREYlZhbHVlKHRhYmxlLCBrZXkpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fZW5zdXJlRGJJbnN0YW5jZSgpLnRoZW4oZnVuY3Rpb24gKGRhdGFiYXNlKSB7XG5cdCAgICAgICAgdmFyIHJlcXVlc3QgPSBkYXRhYmFzZS50cmFuc2FjdGlvbih0YWJsZSkub2JqZWN0U3RvcmUodGFibGUpLmdldChrZXkpO1xuXHQgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAocmVxdWVzdC5yZXN1bHQpIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2RiVmFsdWVSZXRyaWV2ZWQocmVxdWVzdC5yZXN1bHQpO1xuXHQgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yQ29kZSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICA7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfZ2V0RGJWYWx1ZXM6IGZ1bmN0aW9uIF9nZXREYlZhbHVlcyh0YWJsZSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgT25lU2lnbmFsLl9lbnN1cmVEYkluc3RhbmNlKCkudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcblx0ICAgICAgICB2YXIganNvblJlc3VsdCA9IHt9O1xuXHQgICAgICAgIHZhciBjdXJzb3IgPSBkYXRhYmFzZS50cmFuc2FjdGlvbih0YWJsZSkub2JqZWN0U3RvcmUodGFibGUpLm9wZW5DdXJzb3IoKTtcblx0ICAgICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblx0ICAgICAgICAgIGlmIChjdXJzb3IpIHtcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZChjdXJzb3IpO1xuXHQgICAgICAgICAgICBqc29uUmVzdWx0W2N1cnNvci5rZXldID0gY3Vyc29yLnZhbHVlLnZhbHVlO1xuXHQgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcblx0ICAgICAgICAgIH0gZWxzZSByZXNvbHZlKGpzb25SZXN1bHQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgY3Vyc29yLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIHJlamVjdChjdXJzb3IuZXJyb3JDb2RlKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfcHV0RGJWYWx1ZTogZnVuY3Rpb24gX3B1dERiVmFsdWUodGFibGUsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuXHQgICAgICAgIGRhdGFiYXNlLnRyYW5zYWN0aW9uKFt0YWJsZV0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRhYmxlKS5wdXQodmFsdWUpO1xuXHQgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQodmFsdWUpO1xuXHQgICAgICAgIHJlc29sdmUodmFsdWUpO1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfZGVsZXRlRGJWYWx1ZTogZnVuY3Rpb24gX2RlbGV0ZURiVmFsdWUodGFibGUsIGtleSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgT25lU2lnbmFsLl9lbnN1cmVEYkluc3RhbmNlKCkudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcblx0ICAgICAgICBkYXRhYmFzZS50cmFuc2FjdGlvbihbdGFibGVdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZSh0YWJsZSkuZGVsZXRlKGtleSk7XG5cdCAgICAgICAgcmVzb2x2ZShrZXkpO1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIDtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9zZW5kVG9PbmVTaWduYWxBcGk6IGZ1bmN0aW9uIF9zZW5kVG9PbmVTaWduYWxBcGkodXJsLCBhY3Rpb24sIGluRGF0YSwgY2FsbGJhY2ssIGZhaWxlZENhbGxiYWNrKSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0NhbGxpbmcgJyArIGFjdGlvbiArICcgJyArIChPbmVTaWduYWwuX0hPU1RfVVJMICsgdXJsKSArICcgd2l0aCBkYXRhOicsIGluRGF0YSk7XG5cdCAgICB2YXIgY29udGVudHMgPSB7XG5cdCAgICAgIG1ldGhvZDogYWN0aW9uXG5cdCAgICB9O1xuXHRcblx0ICAgIC8vbW9kZTogJ25vLWNvcnMnLCAvLyBuby1jb3JzIGlzIGRpc2FibGVkIGZvciBub24tc2VydmljZXdvcmtlci5cblx0ICAgIGlmIChpbkRhdGEpIHtcblx0ICAgICAgY29udGVudHMuaGVhZGVycyA9IHsgXCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIiB9O1xuXHQgICAgICBjb250ZW50cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoaW5EYXRhKTtcblx0ICAgIH1cblx0XG5cdCAgICBmZXRjaChPbmVTaWduYWwuX0hPU1RfVVJMICsgdXJsLCBjb250ZW50cykudGhlbihmdW5jdGlvbiBzdGF0dXMocmVzcG9uc2UpIHtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtlbHNlIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCkpO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiBzdGF0dXMocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb25EYXRhKSB7XG5cdCAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjayhqc29uRGF0YSk7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoJ09uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKCkgZmFpbGVkOicsIGUpO1xuXHQgICAgICBpZiAoZmFpbGVkQ2FsbGJhY2sgIT0gbnVsbCkgZmFpbGVkQ2FsbGJhY2soKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9nZXRMYW5ndWFnZTogZnVuY3Rpb24gX2dldExhbmd1YWdlKCkge1xuXHQgICAgcmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZSA/IG5hdmlnYXRvci5sYW5ndWFnZS5sZW5ndGggPiAzID8gbmF2aWdhdG9yLmxhbmd1YWdlLnN1YnN0cmluZygwLCAyKSA6IG5hdmlnYXRvci5sYW5ndWFnZSA6ICdlbic7XG5cdCAgfSxcblx0XG5cdCAgX2dldFBsYXllcklkOiBmdW5jdGlvbiBfZ2V0UGxheWVySWQodmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgICBpZiAodmFsdWUpIGNhbGxiYWNrKHZhbHVlKTtlbHNlIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiBfZ2V0UGxheWVySWRfZ290VXNlcklkKHJlc3VsdCkge1xuXHQgICAgICAgIGlmIChyZXN1bHQpIGNhbGxiYWNrKHJlc3VsdC5pZCk7ZWxzZSBjYWxsYmFjayhudWxsKTtcblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICA7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgX2dldEJyb3dzZXJOYW1lOiBmdW5jdGlvbiBfZ2V0QnJvd3Nlck5hbWUoKSB7XG5cdCAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pKSByZXR1cm4gXCJDaHJvbWVcIjtcblx0ICAgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vKC4qKSAoU2FmYXJpKVwiKSkgcmV0dXJuIFwiU2FmYXJpXCI7XG5cdCAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XXsyLH1cXC5bMC05XXsxLH0pLykpIHJldHVybiBcIkZpcmVmb3hcIjtcblx0XG5cdCAgICByZXR1cm4gXCJcIjtcblx0ICB9LFxuXHRcblx0ICBfcmVnaXN0ZXJXaXRoT25lU2lnbmFsOiBmdW5jdGlvbiBfcmVnaXN0ZXJXaXRoT25lU2lnbmFsKGFwcElkLCByZWdpc3RyYXRpb25JZCwgZGV2aWNlVHlwZSkge1xuXHRcblx0ICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpLnRoZW4oZnVuY3Rpb24gX3JlZ2lzdGVyV2l0aE9uZVNpZ25hbF9Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uVHlwZXMoZnVuY3Rpb24gKG5vdGlmX3R5cGVzKSB7XG5cdCAgICAgICAgdmFyIHJlcXVlc3RVcmwgPSAncGxheWVycyc7XG5cdFxuXHQgICAgICAgIHZhciBqc29uRGF0YSA9IHtcblx0ICAgICAgICAgIGFwcF9pZDogYXBwSWQsXG5cdCAgICAgICAgICBkZXZpY2VfdHlwZTogZGV2aWNlVHlwZSxcblx0ICAgICAgICAgIGxhbmd1YWdlOiBPbmVTaWduYWwuX2dldExhbmd1YWdlKCksXG5cdCAgICAgICAgICB0aW1lem9uZTogbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpICogLTYwLFxuXHQgICAgICAgICAgZGV2aWNlX21vZGVsOiBuYXZpZ2F0b3IucGxhdGZvcm0gKyBcIiBcIiArIE9uZVNpZ25hbC5fZ2V0QnJvd3Nlck5hbWUoKSxcblx0ICAgICAgICAgIGRldmljZV9vczogKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oLio/KSAvKSB8fCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vKC4qKSBTYWZhcmlcIikgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XXsyLH1cXC5bMC05XXsxLH0pLykpWzFdLFxuXHQgICAgICAgICAgc2RrOiBPbmVTaWduYWwuX1ZFUlNJT05cblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBpZiAodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgICAgICByZXF1ZXN0VXJsID0gJ3BsYXllcnMvJyArIHVzZXJJZFJlc3VsdC5pZCArICcvb25fc2Vzc2lvbic7XG5cdCAgICAgICAgICBqc29uRGF0YS5ub3RpZmljYXRpb25fdHlwZXMgPSBub3RpZl90eXBlcztcblx0ICAgICAgICB9IGVsc2UgaWYgKG5vdGlmX3R5cGVzICE9IDEpIGpzb25EYXRhLm5vdGlmaWNhdGlvbl90eXBlcyA9IG5vdGlmX3R5cGVzO1xuXHRcblx0ICAgICAgICBpZiAocmVnaXN0cmF0aW9uSWQpIHtcblx0ICAgICAgICAgIGpzb25EYXRhLmlkZW50aWZpZXIgPSByZWdpc3RyYXRpb25JZDtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwicmVnaXN0cmF0aW9uSWRcIiwgaWQ6IHJlZ2lzdHJhdGlvbklkIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkocmVxdWVzdFVybCwgJ1BPU1QnLCBqc29uRGF0YSwgZnVuY3Rpb24gcmVnaXN0ZXJlZENhbGxiYWNrKHJlc3BvbnNlSlNPTikge1xuXHQgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcblx0XG5cdCAgICAgICAgICBpZiAocmVzcG9uc2VKU09OLmlkKSB7XG5cdCAgICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwidXNlcklkXCIsIGlkOiByZXNwb25zZUpTT04uaWQgfSk7XG5cdCAgICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFVuc2VudFRhZ3MoKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBPbmVTaWduYWwuX2dldFBsYXllcklkKHJlc3BvbnNlSlNPTi5pZCwgZnVuY3Rpb24gKHVzZXJJZCkge1xuXHQgICAgICAgICAgICBpZiAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY3Vycl9jYWxsYmFjayA9IE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgY3Vycl9jYWxsYmFjayh7IHVzZXJJZDogdXNlcklkLCByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWQgfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoT25lU2lnbmFsLl9odHRwUmVnaXN0cmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiU2VuZGluZyBwbGF5ZXIgSWQgYW5kIHJlZ2lzdHJhdGlvbklkIGJhY2sgdG8gaG9zdCBwYWdlXCIpO1xuXHQgICAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhPbmVTaWduYWwuX2luaXRPcHRpb25zKTtcblx0ICAgICAgICAgICAgICB2YXIgY3JlYXRvciA9IG9wZW5lciB8fCBwYXJlbnQ7XG5cdCAgICAgICAgICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwge1xuXHQgICAgICAgICAgICAgICAgaWRzQXZhaWxhYmxlOiB7XG5cdCAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuXHQgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWRcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9LCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbiwgbnVsbCk7XG5cdFxuXHQgICAgICAgICAgICAgIGlmIChvcGVuZXIpIHdpbmRvdy5jbG9zZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICBfc2VuZFVuc2VudFRhZ3M6IGZ1bmN0aW9uIF9zZW5kVW5zZW50VGFncygpIHtcblx0ICAgIGlmIChPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyKSB7XG5cdCAgICAgIE9uZVNpZ25hbC5zZW5kVGFncyhPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyKTtcblx0ICAgICAgT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3RlciA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgc2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybDogZnVuY3Rpb24gc2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybCh1cmwpIHtcblx0ICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwgeyBrZXk6IFwiZGVmYXVsdFVybFwiLCB2YWx1ZTogdXJsIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHNldERlZmF1bHRJY29uOiBmdW5jdGlvbiBzZXREZWZhdWx0SWNvbihpY29uKSB7XG5cdCAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJPcHRpb25zXCIsIHsga2V5OiBcImRlZmF1bHRJY29uXCIsIHZhbHVlOiBpY29uIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHNldERlZmF1bHRUaXRsZTogZnVuY3Rpb24gc2V0RGVmYXVsdFRpdGxlKHRpdGxlKSB7XG5cdCAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJPcHRpb25zXCIsIHsga2V5OiBcImRlZmF1bHRUaXRsZVwiLCB2YWx1ZTogdGl0bGUgfSk7XG5cdCAgfSxcblx0XG5cdCAgX3Zpc2liaWxpdHljaGFuZ2U6IGZ1bmN0aW9uIF92aXNpYmlsaXR5Y2hhbmdlKCkge1xuXHQgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PSBcInZpc2libGVcIikge1xuXHQgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBPbmVTaWduYWwuX3Zpc2liaWxpdHljaGFuZ2UpO1xuXHQgICAgICBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KHt9KTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBvbkN1c3RvbVByb21wdENsaWNrZWQ6IGZ1bmN0aW9uIG9uQ3VzdG9tUHJvbXB0Q2xpY2tlZChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkOicsIGV2ZW50LmRldGFpbCk7XG5cdCAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcblx0ICB9LFxuXHRcblx0ICBvbk5hdGl2ZVByb21wdENoYW5nZWQ6IGZ1bmN0aW9uIG9uTmF0aXZlUHJvbXB0Q2hhbmdlZChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwucHJvbXB0Lm5hdGl2ZS5wZXJtaXNzaW9uY2hhbmdlZDonLCBldmVudC5kZXRhaWwpO1xuXHQgICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG5cdCAgfSxcblx0XG5cdCAgX29uU3Vic2NyaXB0aW9uQ2hhbmdlZDogZnVuY3Rpb24gX29uU3Vic2NyaXB0aW9uQ2hhbmdlZChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQ6JywgZXZlbnQuZGV0YWlsKTtcblx0ICAgIGlmIChPbmVTaWduYWwuX2lzTmV3VmlzaXRvciAmJiBldmVudC5kZXRhaWwgPT09IHRydWUpIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgdmFyIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgPSBPbmVTaWduYWwuX2luaXRPcHRpb25zWyd3ZWxjb21lTm90aWZpY2F0aW9uJ107XG5cdCAgICAgICAgdmFyIHdlbGNvbWVfbm90aWZpY2F0aW9uX2Rpc2FibGVkID0gd2VsY29tZV9ub3RpZmljYXRpb25fb3B0cyAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ2Rpc2FibGUnXSA9PT0gdHJ1ZTtcblx0ICAgICAgICB2YXIgdGl0bGUgPSB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1sndGl0bGUnXSAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ3RpdGxlJ10gIT09IG51bGwgPyB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWyd0aXRsZSddIDogJyc7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddICE9PSBudWxsICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ21lc3NhZ2UnXS5sZW5ndGggPiAwID8gd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddIDogJ1RoYW5rcyBmb3Igc3Vic2NyaWJpbmchJztcblx0ICAgICAgICBpZiAoIXdlbGNvbWVfbm90aWZpY2F0aW9uX2Rpc2FibGVkKSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0JlY2F1c2UgdGhpcyB1c2VyIGlzIGEgbmV3IHNpdGUgdmlzaXRvciwgYSB3ZWxjb21lIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHNlbnQuJyk7XG5cdCAgICAgICAgICAoMCwgX2FwaS5zZW5kTm90aWZpY2F0aW9uKShPbmVTaWduYWwuX2FwcF9pZCwgW3Jlc3VsdC5pZF0sIHsgJ2VuJzogdGl0bGUgfSwgeyAnZW4nOiBtZXNzYWdlIH0pO1xuXHQgICAgICAgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmFjdGlvbnMud2VsY29tZW5vdGlmaWNhdGlvbnNlbnQnLCB7IHRpdGxlOiB0aXRsZSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5faXNOZXdWaXNpdG9yID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ3N1YnNjcmlwdGlvbi52YWx1ZScsIGV2ZW50LmRldGFpbCk7XG5cdCAgfSxcblx0XG5cdCAgX29uRGJWYWx1ZVJldHJpZXZlZDogZnVuY3Rpb24gX29uRGJWYWx1ZVJldHJpZXZlZChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwuZGIucmV0cmlldmVkOicsIGV2ZW50LmRldGFpbCk7XG5cdCAgfSxcblx0XG5cdCAgX29uRGJWYWx1ZVNldDogZnVuY3Rpb24gX29uRGJWYWx1ZVNldChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwuZGIudmFsdWVzZXQ6JywgZXZlbnQuZGV0YWlsKTtcblx0ICAgIHZhciBpbmZvID0gZXZlbnQuZGV0YWlsO1xuXHQgICAgaWYgKGluZm8udHlwZSA9PT0gJ3VzZXJJZCcpIHtcblx0ICAgICAgX2xpbWl0U3RvcmUyLmRlZmF1bHQucHV0KCdkYi5pZHMudXNlcklkJywgaW5mby5pZCk7XG5cdCAgICAgIE9uZVNpZ25hbC5fY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIF9vbkludGVybmFsU3Vic2NyaXB0aW9uU2V0OiBmdW5jdGlvbiBfb25JbnRlcm5hbFN1YnNjcmlwdGlvblNldChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdFdmVudCBvbmVzaWduYWwuaW50ZXJuYWwuc3Vic2NyaXB0aW9uc2V0OicsIGV2ZW50LmRldGFpbCk7XG5cdCAgICB2YXIgbmV3U3Vic2NyaXB0aW9uVmFsdWUgPSBldmVudC5kZXRhaWw7XG5cdCAgICBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ3N1YnNjcmlwdGlvbi5pbnRlcm5hbC52YWx1ZScsIG5ld1N1YnNjcmlwdGlvblZhbHVlKTtcblx0ICAgIE9uZVNpZ25hbC5fY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCgpO1xuXHQgIH0sXG5cdFxuXHQgIF9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkOiBmdW5jdGlvbiBfY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCgpIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnQ2FsbGVkIF9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCkuJyk7XG5cdCAgICB2YXIgcGVybWlzc2lvbnMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5nZXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJyk7XG5cdCAgICB2YXIgbGFzdFBlcm1pc3Npb24gPSBwZXJtaXNzaW9uc1twZXJtaXNzaW9ucy5sZW5ndGggLSAyXTtcblx0ICAgIHZhciBjdXJyZW50UGVybWlzc2lvbiA9IHBlcm1pc3Npb25zW3Blcm1pc3Npb25zLmxlbmd0aCAtIDFdO1xuXHRcblx0ICAgIHZhciBpZHMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5nZXQoJ2RiLmlkcy51c2VySWQnKTtcblx0ICAgIHZhciBsYXN0SWQgPSBpZHNbaWRzLmxlbmd0aCAtIDJdO1xuXHQgICAgdmFyIGN1cnJlbnRJZCA9IGlkc1tpZHMubGVuZ3RoIC0gMV07XG5cdFxuXHQgICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlcyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnc3Vic2NyaXB0aW9uLmludGVybmFsLnZhbHVlJyk7XG5cdCAgICB2YXIgbGFzdFN1YnNjcmlwdGlvblN0YXRlID0gc3Vic2NyaXB0aW9uU3RhdGVzW3N1YnNjcmlwdGlvblN0YXRlcy5sZW5ndGggLSAyXTtcblx0ICAgIHZhciBjdXJyZW50U3Vic2NyaXB0aW9uU3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZXNbc3Vic2NyaXB0aW9uU3RhdGVzLmxlbmd0aCAtIDFdO1xuXHRcblx0ICAgIHZhciBuZXdTdWJzY3JpcHRpb25TdGF0ZSA9ICd1bmNoYW5nZWQnO1xuXHRcblx0ICAgIGlmICgobGFzdFBlcm1pc3Npb24gPT09ICdkZWZhdWx0JyB8fCBsYXN0UGVybWlzc2lvbiA9PT0gJ2RlbmllZCcgfHwgbGFzdFBlcm1pc3Npb24gPT09IG51bGwpICYmIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcgJiYgY3VycmVudElkICE9PSBudWxsICYmIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gdHJ1ZSB8fCBsYXN0U3Vic2NyaXB0aW9uU3RhdGUgPT09IGZhbHNlICYmIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gdHJ1ZSAmJiBjdXJyZW50SWQgIT0gbnVsbCAmJiBjdXJyZW50UGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG5cdCAgICAgIG5ld1N1YnNjcmlwdGlvblN0YXRlID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobGFzdFBlcm1pc3Npb24gIT09ICdkZW5pZWQnICYmIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZGVuaWVkJyB8fCBsYXN0UGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnICYmIGN1cnJlbnRQZXJtaXNzaW9uICE9PSAnZ3JhbnRlZCcgfHwgbGFzdElkICE9PSBudWxsICYmIGN1cnJlbnRJZCA9PT0gbnVsbCB8fCBsYXN0U3Vic2NyaXB0aW9uU3RhdGUgIT09IGZhbHNlICYmIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gZmFsc2UpIHtcblx0ICAgICAgbmV3U3Vic2NyaXB0aW9uU3RhdGUgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobmV3U3Vic2NyaXB0aW9uU3RhdGUgIT09IFwidW5jaGFuZ2VkXCIpIHtcblx0ICAgICAgdmFyIGxhc3RUcmlnZ2VyVGltZXMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ2V2ZW50LnN1YnNjcmlwdGlvbmNoYW5nZWQubGFzdHJpZ2dlcmVkJywgRGF0ZS5ub3coKSk7XG5cdCAgICAgIHZhciBjdXJyZW50VGltZSA9IGxhc3RUcmlnZ2VyVGltZXNbbGFzdFRyaWdnZXJUaW1lcy5sZW5ndGggLSAxXTtcblx0ICAgICAgdmFyIGxhc3RUcmlnZ2VyVGltZSA9IGxhc3RUcmlnZ2VyVGltZXNbbGFzdFRyaWdnZXJUaW1lcy5sZW5ndGggLSAyXTtcblx0ICAgICAgdmFyIGVsYXBzZWRUaW1lU2Vjb25kcyA9IChjdXJyZW50VGltZSAtIGxhc3RUcmlnZ2VyVGltZSkgLyAxMDAwO1xuXHRcblx0ICAgICAgdmFyIGxhc3RFdmVudFN0YXRlcyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnZXZlbnQuc3Vic2NyaXB0aW9uY2hhbmdlZC5sYXN0c3RhdGVzJywgbmV3U3Vic2NyaXB0aW9uU3RhdGUpO1xuXHQgICAgICB2YXIgY3VycmVudFN0YXRlID0gbGFzdEV2ZW50U3RhdGVzW2xhc3RFdmVudFN0YXRlcy5sZW5ndGggLSAxXTtcblx0ICAgICAgdmFyIGxhc3RTdGF0ZSA9IGxhc3RFdmVudFN0YXRlc1tsYXN0RXZlbnRTdGF0ZXMubGVuZ3RoIC0gMl07XG5cdFxuXHQgICAgICAvLyBJZiBldmVudCBhbHJlYWR5IHRyaWdnZXJlZCB3aXRoaW4gdGhlIGxhc3Qgc2Vjb25kLCBkb24ndCByZS10cmlnZ2VyLlxuXHQgICAgICB2YXIgc2hvdWxkTm90VHJpZ2dlckV2ZW50ID0gbGFzdFRyaWdnZXJUaW1lICE9IG51bGwgJiYgZWxhcHNlZFRpbWVTZWNvbmRzIDw9IDEgfHwgY3VycmVudFN0YXRlID09PSBsYXN0U3RhdGU7XG5cdCAgICAgIGlmIChzaG91bGROb3RUcmlnZ2VyRXZlbnQgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfc3Vic2NyaXB0aW9uQ2hhbmdlZChuZXdTdWJzY3JpcHRpb25TdGF0ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBpbml0OiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcblx0ICAgIGlmIChPbmVTaWduYWwuX2lzSW5pdGlhbGl6ZWQpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0Lndhcm4oJ09uZVNpZ25hbC5pbml0KCkgd2FzIGNhbGxlZCBhZ2FpbiwgYnV0IHRoZSBTREsgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gU2tpcHBpbmcgaW5pdGlhbGl6YXRpb24uJyk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMgPSBvcHRpb25zO1xuXHRcblx0ICAgIGlmIChPbmVTaWduYWwuTE9HR0lORykgX2xvZ2xldmVsMi5kZWZhdWx0LmVuYWJsZUFsbCgpO2Vsc2UgX2xvZ2xldmVsMi5kZWZhdWx0LnNldExldmVsKCdlcnJvcicpO1xuXHRcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5pbmZvKCdPbmVTaWduYWwgV2ViIFNESyBsb2FkZWQgKHZlcnNpb24gJyArIE9uZVNpZ25hbC5fVkVSU0lPTiArICcpLicpO1xuXHQgICAgaWYgKCEoMCwgX3V0aWxzLmlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQpKCkpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0Lndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwdXNoIG5vdGlmaWNhdGlvbnMuXCIpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAobmF2aWdhdG9yLnBlcm1pc3Npb25zICYmICEoKDAsIF91dGlscy5pc0Jyb3dzZXJGaXJlZm94KSgpICYmICgwLCBfdXRpbHMuZ2V0RmlyZWZveFZlcnNpb24pKCkgPD0gNDUpKSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fdXNpbmdOYXRpdmVQZXJtaXNzaW9uSG9vayA9IHRydWU7XG5cdCAgICAgIHZhciBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbiA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpO1xuXHQgICAgICBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24pO1xuXHQgICAgICAvLyBJZiB0aGUgYnJvd3NlciBuYXRpdmVseSBzdXBwb3J0cyBob29raW5nIHRoZSBzdWJzY3JpcHRpb24gcHJvbXB0IHBlcm1pc3Npb24gY2hhbmdlIGV2ZW50XG5cdCAgICAgIC8vICAgICB1c2UgaXQgaW5zdGVhZCBvZiBvdXIgU0RLIG1ldGhvZFxuXHQgICAgICBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiAnbm90aWZpY2F0aW9ucycgfSkudGhlbihmdW5jdGlvbiAocGVybWlzc2lvblN0YXR1cykge1xuXHQgICAgICAgIHBlcm1pc3Npb25TdGF0dXMub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgcmVjZW50UGVybWlzc2lvbnMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5nZXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJyk7XG5cdCAgICAgICAgICB2YXIgcGVybWlzc2lvbkJlZm9yZVByb21wdCA9IHJlY2VudFBlcm1pc3Npb25zWzBdO1xuXHQgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQocGVybWlzc2lvbkJlZm9yZVByb21wdCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKCk7XG5cdCAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbik7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdmFsdWUgb2YgSWRzOnJlZ2lzdHJhdGlvbklkLCBzbyB0aGF0IHdlIGNhbiBzZWUgaWYgdGhlIHZhbHVlIGNoYW5nZXMgaW4gdGhlIGZ1dHVyZVxuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIE9uZVNpZ25hbC5faXNOZXdWaXNpdG9yID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgc3RvcmVWYWx1ZSA9IHJlc3VsdCA/IHJlc3VsdC5pZCA6IG51bGw7XG5cdCAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnZGIuaWRzLnVzZXJJZCcsIHN0b3JlVmFsdWUpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdmFsdWUgb2Ygc3Vic2NyaXB0aW9uLCBzbyB0aGF0IHdlIGNhbiBzZWUgaWYgdGhlIHZhbHVlIGNoYW5nZXMgaW4gdGhlIGZ1dHVyZVxuXHQgICAgT25lU2lnbmFsLl9nZXRTdWJzY3JpcHRpb24oZnVuY3Rpb24gKGN1cnJlbnRTdWJzY3JpcHRpb24pIHtcblx0ICAgICAgX2xpbWl0U3RvcmUyLmRlZmF1bHQucHV0KCdzdWJzY3JpcHRpb24uaW50ZXJuYWwudmFsdWUnLCBjdXJyZW50U3Vic2NyaXB0aW9uKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkJywgT25lU2lnbmFsLm9uQ3VzdG9tUHJvbXB0Q2xpY2tlZCk7XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLnByb21wdC5uYXRpdmUucGVybWlzc2lvbmNoYW5nZWQnLCBPbmVTaWduYWwub25OYXRpdmVQcm9tcHRDaGFuZ2VkKTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQnLCBPbmVTaWduYWwuX29uU3Vic2NyaXB0aW9uQ2hhbmdlZCk7XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmRiLnZhbHVlcmV0cmlldmVkJywgT25lU2lnbmFsLl9vbkRiVmFsdWVSZXRyaWV2ZWQpO1xuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5kYi52YWx1ZXNldCcsIE9uZVNpZ25hbC5fb25EYlZhbHVlU2V0KTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuZGIudmFsdWVzZXQnLCBPbmVTaWduYWwuX29uRGJWYWx1ZVNldCk7XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmludGVybmFsLnN1YnNjcmlwdGlvbnNldCcsIE9uZVNpZ25hbC5fb25JbnRlcm5hbFN1YnNjcmlwdGlvblNldCk7XG5cdFxuXHQgICAgT25lU2lnbmFsLl91c2VIdHRwTW9kZSA9ICEoMCwgX3V0aWxzLmlzU3VwcG9ydGVkU2FmYXJpKSgpICYmICghT25lU2lnbmFsLl9zdXBwb3J0c0RpcmVjdFBlcm1pc3Npb24oKSB8fCBPbmVTaWduYWwuX2luaXRPcHRpb25zLnN1YmRvbWFpbk5hbWUpO1xuXHRcblx0ICAgIGlmIChPbmVTaWduYWwuX3VzZUh0dHBNb2RlKSBPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwID0gJ2h0dHBzOi8vJyArIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSArICcub25lc2lnbmFsLmNvbS9zZGtzL2luaXRPbmVTaWduYWxIdHRwJztlbHNlIE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgPSAnaHR0cHM6Ly9vbmVzaWduYWwuY29tL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHBzJztcblx0XG5cdCAgICBpZiAodHJ1ZSkgT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCA9IF92YXJzLkRFVl9IT1NUICsgJy9kZXZfc2Rrcy9pbml0T25lU2lnbmFsSHR0cCc7XG5cdFxuXHQgICAgLy8gSWYgU2FmYXJpIC0gYWRkICdmZXRjaCcgcG9sbHlmaWxsIGlmIGl0IGlzbid0IGFscmVhZHkgYWRkZWQuXG5cdCAgICBpZiAoKDAsIF91dGlscy5pc1N1cHBvcnRlZFNhZmFyaSkoKSAmJiB0eXBlb2Ygd2luZG93LmZldGNoID09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0ICAgICAgcy5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZmV0Y2gvMC45LjAvZmV0Y2guanNcIik7XG5cdCAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikgT25lU2lnbmFsLl9pbnRlcm5hbEluaXQoKTtlbHNlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgT25lU2lnbmFsLl9pbnRlcm5hbEluaXQpO1xuXHRcblx0ICAgIGlmICgodHJ1ZSkgJiYgKDAsIF91dGlscy5pc0Jyb3dzZXJFbnYpKCkpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmluZm8oJ1Nob3dpbmcgYmVsbC4nKTtcblx0ICAgICAgT25lU2lnbmFsLmJlbGwgPSBuZXcgX2JlbGwyLmRlZmF1bHQoe1xuXHQgICAgICAgIHNpemU6ICdsYXJnZScsXG5cdCAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnLFxuXHQgICAgICAgIHRoZW1lOiAnZGVmYXVsdCdcblx0ICAgICAgfSk7XG5cdCAgICAgIE9uZVNpZ25hbC5iZWxsLmNyZWF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIE9uZVNpZ25hbC5faXNJbml0aWFsaXplZCA9IHRydWU7XG5cdCAgfSxcblx0XG5cdCAgX2ludGVybmFsSW5pdDogZnVuY3Rpb24gX2ludGVybmFsSW5pdCgpIHtcblx0ICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdhcHBJZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJyldKS50aGVuKGZ1bmN0aW9uIF9pbnRlcm5hbEluaXRfR290QXBwUmVnaXN0cmF0aW9uU3Vic2NyaXB0aW9uSWRzKHJlc3VsdCkge1xuXHQgICAgICB2YXIgYXBwSWRSZXN1bHQgPSByZXN1bHRbMF07XG5cdCAgICAgIHZhciByZWdpc3RyYXRpb25JZFJlc3VsdCA9IHJlc3VsdFsxXTtcblx0ICAgICAgdmFyIHN1YnNjcmlwdGlvblJlc3VsdCA9IHJlc3VsdFsyXTtcblx0XG5cdCAgICAgIC8vIElmIEFwcElkIGNoYW5nZWQgZGVsZXRlIHBsYXllcklkIGFuZCBjb250aW51ZS5cblx0ICAgICAgaWYgKGFwcElkUmVzdWx0ICYmIGFwcElkUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXBwSWQpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX2RlbGV0ZURiVmFsdWUoXCJJZHNcIiwgXCJ1c2VySWRcIik7XG5cdCAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gSFRUUFMgLSBPbmx5IHJlZ2lzdGVyIGZvciBwdXNoIG5vdGlmaWNhdGlvbnMgb25jZSBwZXIgc2Vzc2lvbiBvciBpZiB0aGUgdXNlciBjaGFuZ2VzIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHRvIEFzayBvciBBbGxvdy5cblx0ICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIikgJiYgIU9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSAmJiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT0gXCJkZW5pZWRcIiB8fCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiT05FX1NJR05BTF9OT1RJRklDQVRJT05fUEVSTUlTU0lPTlwiKSA9PSBOb3RpZmljYXRpb24ucGVybWlzc2lvbikpIHJldHVybjtcblx0XG5cdCAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX05PVElGSUNBVElPTl9QRVJNSVNTSU9OXCIsIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTtcblx0XG5cdCAgICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zLmF1dG9SZWdpc3RlciA9PSBmYWxzZSAmJiAhcmVnaXN0cmF0aW9uSWRSZXN1bHQgJiYgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lID09IG51bGwpIHJldHVybjtcblx0XG5cdCAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgIT0gXCJ2aXNpYmxlXCIpIHtcblx0ICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBPbmVTaWduYWwuX3Zpc2liaWxpdHljaGFuZ2UpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgT25lU2lnbmFsLl9zZXNzaW9uSW5pdCh7fSk7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICByZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zOiBmdW5jdGlvbiByZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zKG9wdGlvbnMpIHtcblx0ICAgIGlmICghKDAsIF91dGlscy5pc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKSgpKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zLlwiKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgLy8gV0FSTklORzogRG8gTk9UIGFkZCBjYWxsYmFja3MgdGhhdCBoYXZlIHRvIGZpcmUgdG8gZ2V0IGZyb20gaGVyZSB0byB3aW5kb3cub3BlbiBpbiBfc2Vzc2lvbkluaXQuXG5cdCAgICAvLyAgICAgICAgICBPdGhlcndpc2UgdGhlIHBvcC11cCB0byBhc2sgZm9yIHB1c2ggcGVybWlzc2lvbiBvbiBIVFRQIGNvbm5lY3Rpb25zIHdpbGwgYmUgYmxvY2tlZCBieSBDaHJvbWUuXG5cdCAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblx0ICAgIG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yID0gdHJ1ZTtcblx0ICAgIE9uZVNpZ25hbC5fc2Vzc2lvbkluaXQob3B0aW9ucyk7XG5cdCAgfSxcblx0XG5cdCAgLy8gSHR0cCBvbmx5IC0gT25seSBjYWxsZWQgZnJvbSBpZnJhbWUncyBpbml0LmpzXG5cdCAgX2luaXRIdHRwOiBmdW5jdGlvbiBfaW5pdEh0dHAob3B0aW9ucykge1xuXHQgICAgT25lU2lnbmFsLl9pbml0T3B0aW9ucyA9IG9wdGlvbnM7XG5cdFxuXHQgICAgaWYgKG9wdGlvbnMuY29udGludWVQcmVzc2VkKSB7XG5cdCAgICAgIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24odHJ1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzSWZyYW1lID0gcGFyZW50ICE9IG51bGwgJiYgcGFyZW50ICE9IHdpbmRvdztcblx0ICAgIHZhciBjcmVhdG9yID0gb3BlbmVyIHx8IHBhcmVudDtcblx0XG5cdCAgICBpZiAoIWNyZWF0b3IpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiRVJST1I6X2luaXRIdHRwOiBObyBvcGVuZXIgb3IgcGFyZW50IGZvdW5kIVwiKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgLy8gU2V0dGluZyB1cCBtZXNzYWdlIGNoYW5uZWwgdG8gcmVjZWl2ZSBtZXNzYWdlIGZyb20gaG9zdCBwYWdlLlxuXHQgICAgdmFyIG1lc3NhZ2VDaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG5cdCAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiX2luaXRIdHRwLm1lc3NhZ2VDaGFubmVsLnBvcnQxLm9ubWVzc2FnZVwiLCBldmVudCk7XG5cdFxuXHQgICAgICBpZiAoZXZlbnQuZGF0YS5pbml0T3B0aW9ucykge1xuXHQgICAgICAgIE9uZVNpZ25hbC5zZXREZWZhdWx0Tm90aWZpY2F0aW9uVXJsKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdFVybCk7XG5cdCAgICAgICAgT25lU2lnbmFsLnNldERlZmF1bHRUaXRsZShldmVudC5kYXRhLmluaXRPcHRpb25zLmRlZmF1bHRUaXRsZSk7XG5cdCAgICAgICAgaWYgKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdEljb24pIE9uZVNpZ25hbC5zZXREZWZhdWx0SWNvbihldmVudC5kYXRhLmluaXRPcHRpb25zLmRlZmF1bHRJY29uKTtcblx0XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiZG9jdW1lbnQuVVJMXCIsIGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMucGFyZW50X3VybCk7XG5cdCAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMucGFyZW50X3VybCkudGhlbihmdW5jdGlvbiByZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zX0dvdE5vdGlmaWNhdGlvbk9wZW5lZChub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIl9pbml0SHR0cCBOb3RpZmljYXRpb25PcGVuZWQgZGJcIiwgbm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0KTtcblx0ICAgICAgICAgIGlmIChub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpIHtcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl9kZWxldGVEYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMucGFyZW50X3VybCk7XG5cdCAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIk9uZVNpZ25hbC5fc2FmZVBvc3RNZXNzYWdlOnRhcmdldE9yaWdpbjpcIiwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4pO1xuXHRcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwgeyBvcGVuZWROb3RpZmljYXRpb246IG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdC5kYXRhIH0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBudWxsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIDtcblx0ICAgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmdldE5vdGlmaWNhdGlvblBlcm1pc3Npb24pIHtcblx0ICAgICAgICBPbmVTaWduYWwuX2dldFN1YmRvbWFpblN0YXRlKGZ1bmN0aW9uIChjdXJTdGF0ZSkge1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwgeyBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbjogY3VyU3RhdGUgfSwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4sIG51bGwpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEuc2V0U3ViZG9tYWluU3RhdGUpIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24oZXZlbnQuZGF0YS5zZXRTdWJkb21haW5TdGF0ZS5zZXRTdWJzY3JpcHRpb24pO1xuXHQgICAgfTtcblx0XG5cdCAgICBPbmVTaWduYWwuX2dldFN1YmRvbWFpblN0YXRlKGZ1bmN0aW9uIChjdXJTdGF0ZSkge1xuXHQgICAgICBjdXJTdGF0ZVtcImlzSWZyYW1lXCJdID0gaXNJZnJhbWU7XG5cdCAgICAgIE9uZVNpZ25hbC5fc2FmZVBvc3RNZXNzYWdlKGNyZWF0b3IsIHsgb25lU2lnbmFsSW5pdFBhZ2VSZWFkeTogY3VyU3RhdGUgfSwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4sIFttZXNzYWdlQ2hhbm5lbC5wb3J0Ml0pO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgT25lU2lnbmFsLl9pbml0U2F2ZVN0YXRlKCk7XG5cdCAgICBPbmVTaWduYWwuX2h0dHBSZWdpc3RyYXRpb24gPSB0cnVlO1xuXHQgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKFwiP3Nlc3Npb249dHJ1ZVwiKSA9PSAwKSByZXR1cm47XG5cdFxuXHQgICAgT25lU2lnbmFsLl9nZXRQbGF5ZXJJZChudWxsLCBmdW5jdGlvbiAocGxheWVyX2lkKSB7XG5cdCAgICAgIGlmICghaXNJZnJhbWUgfHwgcGxheWVyX2lkKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiQmVmb3JlIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyXCIpO1xuXHQgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIkFmdGVyIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyXCIpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfZ2V0U3ViZG9tYWluU3RhdGU6IGZ1bmN0aW9uIF9nZXRTdWJkb21haW5TdGF0ZShjYWxsYmFjaykge1xuXHQgICAgdmFyIHN0YXRlID0ge307XG5cdFxuXHQgICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJyldKS50aGVuKGZ1bmN0aW9uIF9pbnRlcm5hbEluaXRfR290QXBwUmVnaXN0cmF0aW9uU3Vic2NyaXB0aW9uSWRzKHJlc3VsdCkge1xuXHQgICAgICB2YXIgdXNlcklkUmVzdWx0ID0gcmVzdWx0WzBdO1xuXHQgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRbMV07XG5cdCAgICAgIHZhciBzdWJzY3JpcHRpb25SZXN1bHQgPSByZXN1bHRbMl07XG5cdFxuXHQgICAgICBjYWxsYmFjayh7XG5cdCAgICAgICAgdXNlcklkOiB1c2VySWRSZXN1bHQgPyB1c2VySWRSZXN1bHQuaWQgOiBudWxsLFxuXHQgICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZFJlc3VsdCA/IHJlZ2lzdHJhdGlvbklkUmVzdWx0LmlkIDogbnVsbCxcblx0ICAgICAgICBub3RpZlBlcm1zc2lvbjogTm90aWZpY2F0aW9uLnBlcm1pc3Npb24sXG5cdCAgICAgICAgc3Vic2NyaXB0aW9uU2V0OiBzdWJzY3JpcHRpb25SZXN1bHQgPyBzdWJzY3JpcHRpb25SZXN1bHQudmFsdWUgOiBudWxsLFxuXHQgICAgICAgIGlzUHVzaEVuYWJsZWQ6IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09IFwiZ3JhbnRlZFwiICYmIHVzZXJJZFJlc3VsdCAmJiByZWdpc3RyYXRpb25JZFJlc3VsdCAmJiAoc3Vic2NyaXB0aW9uUmVzdWx0ICYmIHN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSB8fCBzdWJzY3JpcHRpb25SZXN1bHQgPT0gbnVsbClcblx0ICAgICAgfSk7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICBfaW5pdFNhdmVTdGF0ZTogZnVuY3Rpb24gX2luaXRTYXZlU3RhdGUoKSB7XG5cdCAgICBPbmVTaWduYWwuX2FwcF9pZCA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXBwSWQ7XG5cdCAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcImFwcElkXCIsIGlkOiBPbmVTaWduYWwuX2FwcF9pZCB9KTtcblx0ICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwgeyBrZXk6IFwicGFnZVRpdGxlXCIsIHZhbHVlOiBkb2N1bWVudC50aXRsZSB9KTtcblx0ICB9LFxuXHRcblx0ICBfc3VwcG9ydHNEaXJlY3RQZXJtaXNzaW9uOiBmdW5jdGlvbiBfc3VwcG9ydHNEaXJlY3RQZXJtaXNzaW9uKCkge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbHMuaXNTdXBwb3J0ZWRTYWZhcmkpKCkgfHwgbG9jYXRpb24ucHJvdG9jb2wgPT0gJ2h0dHBzOicgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKFwibG9jYWxob3N0XCIpID09IDAgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKFwiMTI3LjAuMC4xXCIpID09IDA7XG5cdCAgfSxcblx0XG5cdCAgX3Nlc3Npb25Jbml0OiBmdW5jdGlvbiBfc2Vzc2lvbkluaXQob3B0aW9ucykge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiQ2FsbGVkIE9uZVNpZ25hbC5fc2Vzc2lvbkluaXQoKTpcIiwgb3B0aW9ucyk7XG5cdCAgICBPbmVTaWduYWwuX2luaXRTYXZlU3RhdGUoKTtcblx0XG5cdCAgICB2YXIgaG9zdFBhZ2VQcm90b2NvbCA9IGxvY2F0aW9uLm9yaWdpbi5tYXRjaCgvXmh0dHAoc3wpOlxcL1xcLyh3d3dcXC58KS8pWzBdO1xuXHRcblx0ICAgIC8vIElmIEhUVFAgb3IgdXNpbmcgc3ViZG9tYWluIG1vZGVcblx0ICAgIGlmIChPbmVTaWduYWwuX3VzZUh0dHBNb2RlKSB7XG5cdCAgICAgIGlmIChvcHRpb25zLmZyb21SZWdpc3RlckZvcikge1xuXHQgICAgICAgIHZhciBkdWFsU2NyZWVuTGVmdCA9IHdpbmRvdy5zY3JlZW5MZWZ0ICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5MZWZ0IDogc2NyZWVuLmxlZnQ7XG5cdCAgICAgICAgdmFyIGR1YWxTY3JlZW5Ub3AgPSB3aW5kb3cuc2NyZWVuVG9wICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiBzY3JlZW4udG9wO1xuXHRcblx0ICAgICAgICB2YXIgdGhpc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IHNjcmVlbi53aWR0aDtcblx0ICAgICAgICB2YXIgdGhpc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IDogc2NyZWVuLmhlaWdodDtcblx0ICAgICAgICB2YXIgY2hpbGRXaWR0aCA9IE9uZVNpZ25hbC5fd2luZG93V2lkdGg7XG5cdCAgICAgICAgdmFyIGNoaWxkSGVpZ2h0ID0gT25lU2lnbmFsLl93aW5kb3dIZWlnaHQ7XG5cdFxuXHQgICAgICAgIHZhciBsZWZ0ID0gdGhpc1dpZHRoIC8gMiAtIGNoaWxkV2lkdGggLyAyICsgZHVhbFNjcmVlbkxlZnQ7XG5cdCAgICAgICAgdmFyIHRvcCA9IHRoaXNIZWlnaHQgLyAyIC0gY2hpbGRIZWlnaHQgLyAyICsgZHVhbFNjcmVlblRvcDtcblx0XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdPcGVuaW5nIHBvcHVwIHdpbmRvdy4nKTtcblx0ICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0cyA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnNbJ3Byb21wdE9wdGlvbnMnXTtcblx0ICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIgPSAnJztcblx0ICAgICAgICBpZiAobWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0cykge1xuXHQgICAgICAgICAgdmFyIG1lc3NhZ2VfbG9jYWxpemF0aW9uX3BhcmFtcyA9IFsnYWN0aW9uTWVzc2FnZScsICdleGFtcGxlTm90aWZpY2F0aW9uVGl0bGVEZXNrdG9wJywgJ2V4YW1wbGVOb3RpZmljYXRpb25NZXNzYWdlRGVza3RvcCcsICdleGFtcGxlTm90aWZpY2F0aW9uVGl0bGVNb2JpbGUnLCAnZXhhbXBsZU5vdGlmaWNhdGlvbk1lc3NhZ2VNb2JpbGUnLCAnZXhhbXBsZU5vdGlmaWNhdGlvbkNhcHRpb24nLCAnYWNjZXB0QnV0dG9uVGV4dCcsICdjYW5jZWxCdXR0b25UZXh0J107XG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2VfbG9jYWxpemF0aW9uX3BhcmFtcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zW2ldO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzW2tleV07XG5cdCAgICAgICAgICAgIHZhciBlbmNvZGVkX3ZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xuXHQgICAgICAgICAgICAgIG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHNfc3RyICs9ICcmJyArIGtleSArICc9JyArIGVuY29kZWRfdmFsdWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNoaWxkV2luZG93ID0gd2luZG93Lm9wZW4oT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCArIFwiP1wiICsgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIgKyBcIiZob3N0UGFnZVByb3RvY29sPVwiICsgaG9zdFBhZ2VQcm90b2NvbCwgXCJfYmxhbmtcIiwgJ3Njcm9sbGJhcnM9eWVzLCB3aWR0aD0nICsgY2hpbGRXaWR0aCArICcsIGhlaWdodD0nICsgY2hpbGRIZWlnaHQgKyAnLCB0b3A9JyArIHRvcCArICcsIGxlZnQ9JyArIGxlZnQpO1xuXHRcblx0ICAgICAgICBpZiAoY2hpbGRXaW5kb3cpIGNoaWxkV2luZG93LmZvY3VzKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdPcGVuaW5nIGlGcmFtZS4nKTtcblx0ICAgICAgICBPbmVTaWduYWwuX2FkZFNlc3Npb25JZnJhbWUoaG9zdFBhZ2VQcm90b2NvbCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoKDAsIF91dGlscy5pc1N1cHBvcnRlZFNhZmFyaSkoKSkge1xuXHQgICAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKSB7XG5cdCAgICAgICAgdmFyIG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0ID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc2FmYXJpX3dlYl9pZCk7XG5cdCAgICAgICAgd2luZG93LnNhZmFyaS5wdXNoTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKE9uZVNpZ25hbC5fSE9TVF9VUkwgKyAnc2FmYXJpJywgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkLCB7IGFwcF9pZDogT25lU2lnbmFsLl9hcHBfaWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhkYXRhKTtcblx0ICAgICAgICAgIHZhciBub3RpZmljYXRpb25QZXJtaXNzaW9uQWZ0ZXJSZXF1ZXN0ID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc2FmYXJpX3dlYl9pZCk7XG5cdCAgICAgICAgICBpZiAoZGF0YS5kZXZpY2VUb2tlbikge1xuXHQgICAgICAgICAgICBPbmVTaWduYWwuX3JlZ2lzdGVyV2l0aE9uZVNpZ25hbChPbmVTaWduYWwuX2FwcF9pZCwgZGF0YS5kZXZpY2VUb2tlbi50b0xvd2VyQ2FzZSgpLCA3KTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZChub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tb2RhbFByb21wdCAmJiBvcHRpb25zLmZyb21SZWdpc3RlckZvcikge1xuXHQgICAgICAvLyBJZiBIVFRQUyAtIFNob3cgbW9kYWxcblx0ICAgICAgaWYgKCEoMCwgX3V0aWxzLmlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQpKCkpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQud2FybignQW4gYXR0ZW1wdCB3YXMgbWFkZSB0byBvcGVuIHRoZSBIVFRQUyBtb2RhbCBwZXJtaXNzaW9uIHByb21wdCwgYnV0IHB1c2ggbm90aWZpY2F0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIuIE9wZW5pbmcgY2FuY2VsZWQuJyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZChmdW5jdGlvbiAocHVzaEVuYWJsZWQpIHtcblx0ICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsICdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG5cdCAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGRpdiBpZD1cIm5vdGlmLXBlcm1pc3Npb25cIiBzdHlsZT1cImJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IHotaW5kZXg6IDkwMDA7IGRpc3BsYXk6IGJsb2NrXCI+PC9kaXY+Jztcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXHRcblx0ICAgICAgICB2YXIgaWZyYW1lU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHQgICAgICAgIGlmcmFtZVN0eWxlLmlubmVySFRNTCA9IFwiQG1lZGlhIChtYXgtd2lkdGg6IDU2MHB4KSB7IC5PbmVTaWduYWwtcGVybWlzc2lvbi1pZnJhbWUgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO30gfVwiICsgXCJAbWVkaWEgKG1pbi13aWR0aDogNTYxcHgpIHsgLk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZSB7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IG1hcmdpbi1sZWZ0OiAtMjc1cHg7IG1hcmdpbi10b3A6IC0yNDhweDt9IH1cIjtcblx0ICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGlmcmFtZVN0eWxlKTtcblx0XG5cdCAgICAgICAgdmFyIGlmcmFtZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXHQgICAgICAgIGlmcmFtZU5vZGUuY2xhc3NOYW1lID0gXCJPbmVTaWduYWwtcGVybWlzc2lvbi1pZnJhbWVcIjtcblx0ICAgICAgICBpZnJhbWVOb2RlLnN0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7IHBvc2l0aW9uOiBmaXhlZDtcIjtcblx0ICAgICAgICBpZnJhbWVOb2RlLnNyYyA9IE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgKyAnP2lkPScgKyBPbmVTaWduYWwuX2FwcF9pZCArICcmaHR0cHNQcm9tcHQ9dHJ1ZScgKyAnJnB1c2hFbmFibGVkPScgKyBwdXNoRW5hYmxlZCArICcmcGVybWlzc2lvbkJsb2NrZWQ9JyArICh0eXBlb2YgTm90aWZpY2F0aW9uID09PSBcInVuZGVmaW5lZFwiIHx8IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09IFwiZGVuaWVkXCIpICsgJyZob3N0UGFnZVByb3RvY29sPScgKyBob3N0UGFnZVByb3RvY29sO1xuXHQgICAgICAgIGlmcmFtZU5vZGUuc2V0QXR0cmlidXRlKCdmcmFtZWJvcmRlcicsICcwJyk7XG5cdCAgICAgICAgaWZyYW1lTm9kZS53aWR0aCA9IE9uZVNpZ25hbC5fd2luZG93V2lkdGgudG9TdHJpbmcoKTtcblx0ICAgICAgICBpZnJhbWVOb2RlLmhlaWdodCA9IE9uZVNpZ25hbC5fd2luZG93SGVpZ2h0LnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnT3BlbmluZyBIVFRQUyBtb2RhbCBwcm9tcHQuJyk7XG5cdCAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RpZi1wZXJtaXNzaW9uXCIpLmFwcGVuZENoaWxkKGlmcmFtZU5vZGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikgLy8gSWYgSFRUUFMgLSBTaG93IG5hdGl2ZSBwcm9tcHRcblx0ICAgICAgT25lU2lnbmFsLl9yZWdpc3RlckZvclczQ1B1c2gob3B0aW9ucyk7ZWxzZSBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ1NlcnZpY2Ugd29ya2VycyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuJyk7XG5cdFxuXHQgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLnNkay5pbml0aWFsaXplZCcsIG51bGwpO1xuXHQgIH0sXG5cdFxuXHQgIF9yZWdpc3RlckZvclczQ1B1c2g6IGZ1bmN0aW9uIF9yZWdpc3RlckZvclczQ1B1c2gob3B0aW9ucykge1xuXHRcblx0ICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJykudGhlbihmdW5jdGlvbiBfcmVnaXN0ZXJGb3JXM0NQdXNoX0dvdFJlZ2lzdHJhdGlvbklkKHJlZ2lzdHJhdGlvbklkUmVzdWx0KSB7XG5cdCAgICAgIGlmICghcmVnaXN0cmF0aW9uSWRSZXN1bHQgfHwgIW9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yIHx8IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9IFwiZ3JhbnRlZFwiKSB7XG5cdCAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKCkudGhlbihmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIHZhciBzd19wYXRoID0gXCJcIjtcblx0XG5cdCAgICAgICAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5wYXRoKSBzd19wYXRoID0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5wYXRoO1xuXHRcblx0ICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwidW5kZWZpbmVkXCIpIC8vIE5vdGhpbmcgcmVnaXN0ZXJlZCwgdmVyeSBmaXJzdCBydW5cblx0ICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO2Vsc2Uge1xuXHQgICAgICAgICAgICBpZiAoZXZlbnQuYWN0aXZlKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGV2ZW50LmFjdGl2ZS5zY3JpcHRVUkwuaW5kZXhPZihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgpID4gLTEpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdXT1JLRVIxX09ORV9TSUdOQUxfU1dfVkVSU0lPTicpLnRoZW4oZnVuY3Rpb24gKHZlcnNpb25SZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdC5pZCAhPSBPbmVTaWduYWwuX1ZFUlNJT04pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnVucmVnaXN0ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgIDtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICB9IGVsc2UgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICA7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5hY3RpdmUuc2NyaXB0VVJMLmluZGV4T2Yoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgpID4gLTEpIHtcblx0XG5cdCAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdXT1JLRVIxX09ORV9TSUdOQUxfU1dfVkVSU0lPTicpLnRoZW4oZnVuY3Rpb24gKHZlcnNpb25SZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdC5pZCAhPSBPbmVTaWduYWwuX1ZFUlNJT04pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnVucmVnaXN0ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfVVBEQVRFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICB9IGVsc2UgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIDtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuaW5zdGFsbGluZyA9PSBudWxsKSBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdCAgfSxcblx0XG5cdCAgX2FkZFNlc3Npb25JZnJhbWU6IGZ1bmN0aW9uIF9hZGRTZXNzaW9uSWZyYW1lKGhvc3RQYWdlUHJvdG9jb2wpIHtcblx0XG5cdCAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5cdCAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0ICAgIG5vZGUuc3JjID0gT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCArIFwiSWZyYW1lXCI7XG5cdCAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiKSkgbm9kZS5zcmMgKz0gXCI/c2Vzc2lvbj10cnVlXCIgKyBcIiZob3N0UGFnZVByb3RvY29sPVwiICsgaG9zdFBhZ2VQcm90b2NvbDtlbHNlIG5vZGUuc3JjICs9IFwiP2hvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sO1xuXHQgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnQWRkaW5nIHNlc3Npb24gaUZyYW1lLicpO1xuXHRcblx0ICAgIE9uZVNpZ25hbC5fc2Vzc2lvbklmcmFtZUFkZGVkID0gdHJ1ZTtcblx0ICB9LFxuXHRcblx0ICBfcmVnaXN0ZXJFcnJvcjogZnVuY3Rpb24gX3JlZ2lzdGVyRXJyb3IoZXJyKSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcjpFUlJPUjogXCIgKyBlcnIpO1xuXHQgIH0sXG5cdFxuXHQgIF9lbmFibGVOb3RpZmljYXRpb25zOiBmdW5jdGlvbiBfZW5hYmxlTm90aWZpY2F0aW9ucyhleGlzdGluZ1NlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHtcblx0ICAgIC8vIGlzIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gdHlwZVxuXHQgICAgaWYgKGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdUaGVyZSBpcyBhbiBvbGRlciBTZXJ2aWNlV29ya2VyOicsIGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG5cdCAgICBpZiAoISgnUHVzaE1hbmFnZXInIGluIHdpbmRvdykpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiUHVzaCBtZXNzYWdpbmcgaXMgbm90IHN1cHBvcnRlZC4gTm8gUHVzaE1hbmFnZXIuXCIpO1xuXHQgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCEoJ3Nob3dOb3RpZmljYXRpb24nIGluIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHJvdG90eXBlKSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJOb3RpZmljYXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkLiBzaG93Tm90aWZpY2F0aW9uIG5vdCBhdmFpbGFibGUgaW4gU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5cIik7XG5cdCAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC53YXJuKFwiVGhlIHVzZXIgaGFzIGRpc2FibGVkIG5vdGlmaWNhdGlvbnMuXCIpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihmdW5jdGlvbiAoc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuaW5mbygnU2VydmljZSB3b3JrZXIgYWN0aXZlOicsIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pO1xuXHRcblx0ICAgICAgT25lU2lnbmFsLl9zdWJzY3JpYmVGb3JQdXNoKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdCAgfSxcblx0XG5cdCAgLypcblx0ICAgUmV0dXJucyB0aGUgY3VycmVudCBicm93c2VyLWFnbm9zdGljIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIGFzIFwiZGVmYXVsdFwiLCBcImdyYW50ZWRcIiwgXCJkZW5pZWRcIi5cblx0ICAgc2FmYXJpV2ViSWQ6IFVzZWQgb25seSB0byBnZXQgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gc3RhdGUgaW4gU2FmYXJpIChyZXF1aXJlZCBhcyBwYXJ0IG9mIHRoZSBzcGVjKS5cblx0ICAgKi9cblx0ICBfZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbjogZnVuY3Rpb24gX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oc2FmYXJpV2ViSWQpIHtcblx0ICAgIGlmICh3aW5kb3cuc2FmYXJpKSB7XG5cdCAgICAgIC8vIFRoZSB1c2VyIGlzIG9uIFNhZmFyaVxuXHQgICAgICAvLyBBIHdlYiBJRCBpcyByZXF1aXJlZCB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgbm90aWZpY2lhdGlvbiBwZXJtaXNzaW9uXG5cdCAgICAgIGlmIChzYWZhcmlXZWJJZCkge1xuXHQgICAgICAgIHJldHVybiB3aW5kb3cuc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucGVybWlzc2lvbihzYWZhcmlXZWJJZCkucGVybWlzc2lvbjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBUaGUgdXNlciBkaWRuJ3Qgc2V0IHVwIFNhZmFyaSB3ZWIgcHVzaCBwcm9wZXJseTsgbm90aWZpY2F0aW9ucyBhcmUgdW5saWtlbHkgdG8gYmUgZW5hYmxlZFxuXHQgICAgICAgIHJldHVybiBcImRlZmF1bHRcIjtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8gSWRlbnRpY2FsIEFQSSBvbiBGaXJlZm94IGFuZCBDaHJvbWVcblx0ICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIF90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZDogZnVuY3Rpb24gX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKGNsaWNrUmVzdWx0KSB7XG5cdCAgICB2YXIgcmVjZW50UGVybWlzc2lvbnMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgY2xpY2tSZXN1bHQpO1xuXHQgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLnByb21wdC5jdXN0b20uY2xpY2tlZCcsIHtcblx0ICAgICAgcmVzdWx0OiBjbGlja1Jlc3VsdFxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZDogZnVuY3Rpb24gX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZChmcm9tLCB0bykge1xuXHQgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdG8gPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcblx0ICAgIH1cblx0ICAgIGlmIChmcm9tICE9PSB0bykge1xuXHQgICAgICB2YXIgcmVjZW50UGVybWlzc2lvbnMgPSBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgdG8pO1xuXHQgICAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwucHJvbXB0Lm5hdGl2ZS5wZXJtaXNzaW9uY2hhbmdlZCcsIHtcblx0ICAgICAgICBmcm9tOiBmcm9tLFxuXHQgICAgICAgIHRvOiB0b1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBfdHJpZ2dlckV2ZW50X3N1YnNjcmlwdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uIF90cmlnZ2VyRXZlbnRfc3Vic2NyaXB0aW9uQ2hhbmdlZCh0bykge1xuXHQgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLnN1YnNjcmlwdGlvbi5jaGFuZ2VkJywgdG8pO1xuXHQgIH0sXG5cdFxuXHQgIF90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZDogZnVuY3Rpb24gX3RyaWdnZXJFdmVudF9kYlZhbHVlUmV0cmlldmVkKHZhbHVlKSB7XG5cdCAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuZGIudmFsdWVyZXRyaWV2ZWQnLCB2YWx1ZSk7XG5cdCAgfSxcblx0XG5cdCAgX3RyaWdnZXJFdmVudF9kYlZhbHVlU2V0OiBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQodmFsdWUpIHtcblx0ICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5kYi52YWx1ZXNldCcsIHZhbHVlKTtcblx0ICB9LFxuXHRcblx0ICBfdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0OiBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0KHZhbHVlKSB7XG5cdCAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuaW50ZXJuYWwuc3Vic2NyaXB0aW9uc2V0JywgdmFsdWUpO1xuXHQgIH0sXG5cdFxuXHQgIF9zdWJzY3JpYmVGb3JQdXNoOiBmdW5jdGlvbiBfc3Vic2NyaWJlRm9yUHVzaChzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSB7XG5cdCAgICB2YXIgbm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcblx0ICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHsgdXNlclZpc2libGVPbmx5OiB0cnVlIH0pLnRoZW4oZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuXHQgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9OT1RJRklDQVRJT05fUEVSTUlTU0lPTlwiLCBOb3RpZmljYXRpb24ucGVybWlzc2lvbik7XG5cdFxuXHQgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdhcHBJZCcpLnRoZW4oZnVuY3Rpb24gX3N1YnNjcmliZUZvclB1c2hfR290QXBwSWQoYXBwSWRSZXN1bHQpIHtcblx0ICAgICAgICB2YXIgYXBwSWQgPSBhcHBJZFJlc3VsdC5pZDtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJDYWxsZWQgT25lU2lnbmFsLl9zdWJzY3JpYmVGb3JQdXNoKCkgLT4gc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoKS5cIik7XG5cdFxuXHQgICAgICAgIHZhciByZWdpc3RyYXRpb25JZCA9IG51bGw7XG5cdCAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQgIT0gXCJ1bmRlZmluZWRcIikgLy8gQ2hyb21lIDQzICYgNDJcblx0ICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQgPSBzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQ7ZWxzZSAvLyBDaHJvbWUgNDQrIGFuZCBGaXJlRm94XG5cdCAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkID0gc3Vic2NyaXB0aW9uLmVuZHBvaW50LnJlcGxhY2UobmV3IFJlZ0V4cChcIl4oaHR0cHM6Ly9hbmRyb2lkLmdvb2dsZWFwaXMuY29tL2djbS9zZW5kL3xodHRwczovL3VwZGF0ZXMucHVzaC5zZXJ2aWNlcy5tb3ppbGxhLmNvbS9wdXNoLylcIiksIFwiXCIpO1xuXHQgICAgICAgIH0gZWxzZSBfbG9nbGV2ZWwyLmRlZmF1bHQud2FybignQ291bGQgbm90IHN1YnNjcmliZSB5b3VyIGJyb3dzZXIgZm9yIHB1c2ggbm90aWZpY2F0aW9ucy4nKTtcblx0XG5cdCAgICAgICAgT25lU2lnbmFsLl9yZWdpc3RlcldpdGhPbmVTaWduYWwoYXBwSWQsIHJlZ2lzdHJhdGlvbklkLCAoMCwgX3V0aWxzLmlzU3VwcG9ydGVkRmlyZUZveCkoKSA/IDggOiA1KTtcblx0XG5cdCAgICAgICAgaWYgKCFPbmVTaWduYWwuX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2spIHtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignRXJyb3Igd2hpbGUgc3Vic2NyaWJpbmcgZm9yIHB1c2g6JywgZSk7XG5cdFxuXHQgICAgICBpZiAoIU9uZVNpZ25hbC5fdXNpbmdOYXRpdmVQZXJtaXNzaW9uSG9vaykgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQobm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QpO1xuXHRcblx0ICAgICAgaWYgKGUuY29kZSA9PSAyMCAmJiBvcGVuZXIgJiYgT25lU2lnbmFsLl9odHRwUmVnaXN0cmF0aW9uKSB3aW5kb3cuY2xvc2UoKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHNlbmRUYWc6IGZ1bmN0aW9uIHNlbmRUYWcoa2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIGpzb25LZXlWYWx1ZSA9IHt9O1xuXHQgICAganNvbktleVZhbHVlW2tleV0gPSB2YWx1ZTtcblx0ICAgIE9uZVNpZ25hbC5zZW5kVGFncyhqc29uS2V5VmFsdWUpO1xuXHQgIH0sXG5cdFxuXHQgIHNlbmRUYWdzOiBmdW5jdGlvbiBzZW5kVGFncyhqc29uUGFpcikge1xuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiBzZW5kVGFnc19Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgIGlmICh1c2VySWRSZXN1bHQpIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwicGxheWVycy9cIiArIHVzZXJJZFJlc3VsdC5pZCwgXCJQVVRcIiwge1xuXHQgICAgICAgIGFwcF9pZDogT25lU2lnbmFsLl9hcHBfaWQsXG5cdCAgICAgICAgdGFnczoganNvblBhaXJcblx0ICAgICAgfSk7ZWxzZSB7XG5cdCAgICAgICAgaWYgKE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPT0gbnVsbCkgT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3RlciA9IGpzb25QYWlyO2Vsc2Uge1xuXHQgICAgICAgICAgdmFyIHJlc3VsdE9iaiA9IHt9O1xuXHQgICAgICAgICAgZm9yICh2YXIgX29iaiBpbiBPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdE9ialtfb2JqXSA9IE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXJbX29ial07XG5cdCAgICAgICAgICB9Zm9yICh2YXIgX29iaiBpbiBqc29uUGFpcikge1xuXHQgICAgICAgICAgICByZXN1bHRPYmpbX29ial0gPSBqc29uUGFpcltfb2JqXTtcblx0ICAgICAgICAgIH1PbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID0gcmVzdWx0T2JqO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdzZW5kVGFnczonLCBlKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIGRlbGV0ZVRhZzogZnVuY3Rpb24gZGVsZXRlVGFnKGtleSkge1xuXHQgICAgT25lU2lnbmFsLmRlbGV0ZVRhZ3MoW2tleV0pO1xuXHQgIH0sXG5cdFxuXHQgIGRlbGV0ZVRhZ3M6IGZ1bmN0aW9uIGRlbGV0ZVRhZ3Moa2V5QXJyYXkpIHtcblx0ICAgIHZhciBqc29uUGFpciA9IHt9O1xuXHQgICAgdmFyIGxlbmd0aCA9IGtleUFycmF5Lmxlbmd0aDtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAganNvblBhaXJba2V5QXJyYXlbaV1dID0gXCJcIjtcblx0ICAgIH1PbmVTaWduYWwuc2VuZFRhZ3MoanNvblBhaXIpO1xuXHQgIH0sXG5cdFxuXHQgIF9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWQ6IGZ1bmN0aW9uIF9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWQoZXZlbnQpIHtcblx0ICAgIHZhciBub3RpZmljYXRpb25EYXRhID0gSlNPTi5wYXJzZShldmVudC5ub3RpZmljYXRpb24udGFnKTtcblx0ICAgIGV2ZW50Lm5vdGlmaWNhdGlvbi5jbG9zZSgpO1xuXHRcblx0ICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdhcHBJZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKV0pLnRoZW4oZnVuY3Rpb24gX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZF9Hb3RBcHBVc2VySWRzKHJlc3VsdHMpIHtcblx0ICAgICAgdmFyIGFwcElkUmVzdWx0ID0gcmVzdWx0c1swXTtcblx0ICAgICAgdmFyIHVzZXJJZFJlc3VsdCA9IHJlc3VsdHNbMV07XG5cdCAgICAgIGlmIChhcHBJZFJlc3VsdCAmJiB1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcIm5vdGlmaWNhdGlvbnMvXCIgKyBub3RpZmljYXRpb25EYXRhLmlkLCBcIlBVVFwiLCB7XG5cdCAgICAgICAgICBhcHBfaWQ6IGFwcElkUmVzdWx0LmlkLFxuXHQgICAgICAgICAgcGxheWVyX2lkOiB1c2VySWRSZXN1bHQuaWQsXG5cdCAgICAgICAgICBvcGVuZWQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdFxuXHQgICAgZXZlbnQud2FpdFVudGlsKGNsaWVudHMubWF0Y2hBbGwoeyB0eXBlOiBcIndpbmRvd1wiIH0pLnRoZW4oZnVuY3Rpb24gKGNsaWVudExpc3QpIHtcblx0ICAgICAgdmFyIGxhdW5jaFVSTCA9IHJlZ2lzdHJhdGlvbi5zY29wZTtcblx0ICAgICAgaWYgKE9uZVNpZ25hbC5fZGVmYXVsdExhdW5jaFVSTCkgbGF1bmNoVVJMID0gT25lU2lnbmFsLl9kZWZhdWx0TGF1bmNoVVJMO1xuXHQgICAgICBpZiAobm90aWZpY2F0aW9uRGF0YS5sYXVuY2hVUkwpIGxhdW5jaFVSTCA9IG5vdGlmaWNhdGlvbkRhdGEubGF1bmNoVVJMO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGllbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNsaWVudCA9IGNsaWVudExpc3RbaV07XG5cdCAgICAgICAgaWYgKCdmb2N1cycgaW4gY2xpZW50ICYmIGNsaWVudC51cmwgPT0gbGF1bmNoVVJMKSB7XG5cdCAgICAgICAgICBjbGllbnQuZm9jdXMoKTtcblx0XG5cdCAgICAgICAgICAvLyB0YXJnZXRPcmlnaW4gbm90IHZhbGlkIGhlcmUgYXMgdGhlIHNlcnZpY2Ugd29ya2VyIG93bnMgdGhlIHBhZ2UuXG5cdCAgICAgICAgICBjbGllbnQucG9zdE1lc3NhZ2Uobm90aWZpY2F0aW9uRGF0YSk7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAobGF1bmNoVVJMICE9PSAnamF2YXNjcmlwdDp2b2lkKDApOycgJiYgbGF1bmNoVVJMICE9PSAnZG9fbm90X29wZW4nKSB7XG5cdCAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIHsgdXJsOiBsYXVuY2hVUkwsIGRhdGE6IG5vdGlmaWNhdGlvbkRhdGEgfSk7XG5cdCAgICAgICAgY2xpZW50cy5vcGVuV2luZG93KGxhdW5jaFVSTCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAvLyBTaG91bGQgb25seSBmYWxsIGludG8gaGVyZSBpZiBnb2luZyB0byBhbiBleHRlcm5hbCBVUkwgb24gQ2hyb21lIG9sZGVyIHRoYW4gNDMuXG5cdCAgICAgICAgICBjbGllbnRzLm9wZW5XaW5kb3cocmVnaXN0cmF0aW9uLnNjb3BlICsgXCJyZWRpcmVjdG9yLmh0bWw/dXJsPVwiICsgbGF1bmNoVVJMKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSkpO1xuXHQgIH0sXG5cdFxuXHQgIF9nZXRUaXRsZTogZnVuY3Rpb24gX2dldFRpdGxlKGluY29taW5nVGl0bGUsIGNhbGxiYWNrKSB7XG5cdCAgICBpZiAoaW5jb21pbmdUaXRsZSAhPSBudWxsKSB7XG5cdCAgICAgIGNhbGxiYWNrKGluY29taW5nVGl0bGUpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdkZWZhdWx0VGl0bGUnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3BhZ2VUaXRsZScpXSkudGhlbihmdW5jdGlvbiBfZ2V0VGl0bGVfR290RGVmYXVsdFBhZ2VUaXRsZXMocmVzdWx0cykge1xuXHQgICAgICB2YXIgZGVmYXVsdFRpdGxlUmVzdWx0ID0gcmVzdWx0c1swXTtcblx0ICAgICAgdmFyIHBhZ2VUaXRsZVJlc3VsdCA9IHJlc3VsdHNbMV07XG5cdFxuXHQgICAgICBpZiAoZGVmYXVsdFRpdGxlUmVzdWx0KSB7XG5cdCAgICAgICAgY2FsbGJhY2soZGVmYXVsdFRpdGxlUmVzdWx0LnZhbHVlKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH0gZWxzZSBpZiAocGFnZVRpdGxlUmVzdWx0ICYmIHBhZ2VUaXRsZVJlc3VsdC52YWx1ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgY2FsbGJhY2socGFnZVRpdGxlUmVzdWx0LnZhbHVlKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY2FsbGJhY2soJycpO1xuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICAvLyBEaXNwbGF5cyBub3RpZmljYXRpb24gZnJvbSBjb250ZW50IHJlY2VpdmVkIGZyb20gT25lU2lnbmFsLlxuXHQgIC8vIFRoaXMgbWV0aG9kIGlzIG9ubHkgY2FsbGVkIGJ5IFNlcnZpY2VXb3JrZXJcblx0ICBfaGFuZGxlR0NNTWVzc2FnZTogZnVuY3Rpb24gX2hhbmRsZUdDTU1lc3NhZ2Uoc2VydmljZVdvcmtlciwgZXZlbnQpIHtcblx0ICAgIC8vIFRPRE86IFJlYWQgZGF0YSBmcm9tIHRoZSBHQ00gcGF5bG9hZCB3aGVuIENocm9tZSBubyBsb25nZXIgcmVxdWlyZXMgdGhlIGJlbG93IGNvbW1hbmQgbGluZSBwYXJhbWV0ZXIuXG5cdCAgICAvLyAtLWVuYWJsZS1wdXNoLW1lc3NhZ2UtcGF5bG9hZFxuXHQgICAgLy8gVGhlIGNvbW1hbmQgbGluZSBwYXJhbSBpcyByZXF1aXJlZCBldmVuIG9uIENocm9tZSA0MyBuaWdodGx5IGJ1aWxkIDIwMTUvMDMvMTcuXG5cdCAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnRleHQoKVswXSA9PSBcIntcIikge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ1JlY2VpdmVkIGRhdGEudGV4dDogJywgZXZlbnQuZGF0YS50ZXh0KCkpO1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ1JlY2VpdmVkIGRhdGEuanNvbjogJywgZXZlbnQuZGF0YS5qc29uKCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGV2ZW50LndhaXRVbnRpbChuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fZ2V0VGl0bGUobnVsbCwgZnVuY3Rpb24gKHRpdGxlKSB7XG5cdCAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ2RlZmF1bHRJY29uJykudGhlbihmdW5jdGlvbiBfaGFuZGxlR0NNTWVzc2FnZV9Hb3REZWZhdWx0SWNvbihkZWZhdWx0SWNvblJlc3VsdCkge1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9nZXRMYXN0Tm90aWZpY2F0aW9ucyhmdW5jdGlvbiAocmVzcG9uc2UsIGFwcElkKSB7XG5cdCAgICAgICAgICAgIHZhciBub3RpZmljYXRpb25EYXRhID0ge1xuXHQgICAgICAgICAgICAgIGlkOiByZXNwb25zZS5jdXN0b20uaSxcblx0ICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5hbGVydCxcblx0ICAgICAgICAgICAgICBhZGRpdGlvbmFsRGF0YTogcmVzcG9uc2UuY3VzdG9tLmFcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGlmIChyZXNwb25zZS50aXRsZSkgbm90aWZpY2F0aW9uRGF0YS50aXRsZSA9IHJlc3BvbnNlLnRpdGxlO2Vsc2Ugbm90aWZpY2F0aW9uRGF0YS50aXRsZSA9IHRpdGxlO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1c3RvbS51KSBub3RpZmljYXRpb25EYXRhLmxhdW5jaFVSTCA9IHJlc3BvbnNlLmN1c3RvbS51O1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmljb24pIG5vdGlmaWNhdGlvbkRhdGEuaWNvbiA9IHJlc3BvbnNlLmljb247ZWxzZSBpZiAoZGVmYXVsdEljb25SZXN1bHQpIG5vdGlmaWNhdGlvbkRhdGEuaWNvbiA9IGRlZmF1bHRJY29uUmVzdWx0LnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgLy8gTmV2ZXIgbmVzdCB0aGUgZm9sbG93aW5nIGxpbmUgaW4gYSBjYWxsYmFjayBmcm9tIHRoZSBwb2ludCBvZiBlbnRlcmluZyBmcm9tIF9nZXRMYXN0Tm90aWZpY2F0aW9uc1xuXHQgICAgICAgICAgICBzZXJ2aWNlV29ya2VyLnJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkRhdGEudGl0bGUsIHtcblx0ICAgICAgICAgICAgICBib2R5OiByZXNwb25zZS5hbGVydCxcblx0ICAgICAgICAgICAgICBpY29uOiBub3RpZmljYXRpb25EYXRhLmljb24sXG5cdCAgICAgICAgICAgICAgdGFnOiBKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb25EYXRhKVxuXHQgICAgICAgICAgICB9KS50aGVuKHJlc29sdmUpLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdkZWZhdWx0VXJsJykudGhlbihmdW5jdGlvbiAoZGVmYXVsdFVybFJlc3VsdCkge1xuXHQgICAgICAgICAgICAgIGlmIChkZWZhdWx0VXJsUmVzdWx0KSBPbmVTaWduYWwuX2RlZmF1bHRMYXVuY2hVUkwgPSBkZWZhdWx0VXJsUmVzdWx0LnZhbHVlO1xuXHQgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIDtcblx0ICAgICAgICAgIH0sIHJlc29sdmUpO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSkpO1xuXHQgIH0sXG5cdFxuXHQgIF9nZXRMYXN0Tm90aWZpY2F0aW9uczogZnVuY3Rpb24gX2dldExhc3ROb3RpZmljYXRpb25zKGl0ZW1DYWxsYmFjaywgY29tcGxldGVDYWxsYmFjaykge1xuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiBfZ2V0TGFzdE5vdGlmaWNhdGlvbnNfR290VXNlcklkKHVzZXJJZFJlc3VsdCkge1xuXHQgICAgICBpZiAodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkICsgXCIvY2hyb21ld2ViX25vdGlmaWNhdGlvblwiLCBcIkdFVFwiLCBudWxsLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaXRlbUNhbGxiYWNrKEpTT04ucGFyc2UocmVzcG9uc2VbaV0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBjb21wbGV0ZUNhbGxiYWNrKCk7XG5cdCAgICAgICAgfSk7IC8vIEZhaWxlZCBjYWxsYmFja1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiRXJyb3I6IGNvdWxkIG5vdCBnZXQgbm90aWZpY2F0aW9uSWRcIik7XG5cdCAgICAgICAgICBjb21wbGV0ZUNhbGxiYWNrKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdCAgfSxcblx0XG5cdCAgLy8gSFRUUCAmIEhUVFBTIC0gUnVucyBvbiBtYWluIHBhZ2Vcblx0ICBfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2U6IGZ1bmN0aW9uIHJlY2VpdmVNZXNzYWdlKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2U6IFwiLCBldmVudCk7XG5cdFxuXHQgICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMgPT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdFxuXHQgICAgaWYgKGZhbHNlKSByZXR1cm47XG5cdFxuXHQgICAgaWYgKGV2ZW50LmRhdGEub25lU2lnbmFsSW5pdFBhZ2VSZWFkeSkge1xuXHQgICAgICAvLyBPbmx5IGNhbGxlZCBvbiBIVFRQIHBhZ2VzLlxuXHQgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWVzKFwiT3B0aW9uc1wiKS50aGVuKGZ1bmN0aW9uIF9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZShvcHRpb25zKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiY3VycmVudCBvcHRpb25zXCIsIG9wdGlvbnMpO1xuXHQgICAgICAgIGlmICghb3B0aW9ucy5kZWZhdWx0VXJsKSBvcHRpb25zLmRlZmF1bHRVcmwgPSBkb2N1bWVudC5VUkw7XG5cdCAgICAgICAgaWYgKCFvcHRpb25zLmRlZmF1bHRUaXRsZSkgb3B0aW9ucy5kZWZhdWx0VGl0bGUgPSBkb2N1bWVudC50aXRsZTtcblx0XG5cdCAgICAgICAgb3B0aW9ucy5wYXJlbnRfdXJsID0gZG9jdW1lbnQuVVJMO1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIlBvc3RpbmcgbWVzc2FnZSB0byBwb3J0WzBdXCIsIGV2ZW50LnBvcnRzWzBdKTtcblx0ICAgICAgICBldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7IGluaXRPcHRpb25zOiBvcHRpb25zIH0pO1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignX2xpc3RlbmVyX3JlY2VpdmVNZXNzYWdlOicsIGUpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBldmVudERhdGEgPSBldmVudC5kYXRhLm9uZVNpZ25hbEluaXRQYWdlUmVhZHk7XG5cdFxuXHQgICAgICBpZiAoZXZlbnREYXRhLmlzSWZyYW1lKSBPbmVTaWduYWwuX2lmcmFtZVBvcnQgPSBldmVudC5wb3J0c1swXTtcblx0XG5cdCAgICAgIGlmIChldmVudERhdGEudXNlcklkKSBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcInVzZXJJZFwiLCBpZDogZXZlbnREYXRhLnVzZXJJZCB9KTtcblx0ICAgICAgaWYgKGV2ZW50RGF0YS5yZWdpc3RyYXRpb25JZCkgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHsgdHlwZTogXCJyZWdpc3RyYXRpb25JZFwiLCBpZDogZXZlbnREYXRhLnJlZ2lzdHJhdGlvbklkIH0pO1xuXHRcblx0ICAgICAgT25lU2lnbmFsLl9maXJlTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKGV2ZW50RGF0YS5pc1B1c2hFbmFibGVkKTtcblx0ICAgICAgT25lU2lnbmFsLl9zZW5kVW5zZW50VGFncygpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uKSAvLyBTdWJkb21haW4gT25seVxuXHQgICAgICBPbmVTaWduYWwuX2ZpcmVOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2soZXZlbnQuZGF0YS5jdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbi5pc1B1c2hFbmFibGVkKTtlbHNlIGlmIChldmVudC5kYXRhLmlkc0F2YWlsYWJsZSkge1xuXHQgICAgICAvLyBPbmx5IGNhbGxlZCBvbiBIVFRQIHBhZ2VzLlxuXHQgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuXHQgICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcInVzZXJJZFwiLCBpZDogZXZlbnQuZGF0YS5pZHNBdmFpbGFibGUudXNlcklkIH0pO1xuXHQgICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcInJlZ2lzdHJhdGlvbklkXCIsIGlkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS5yZWdpc3RyYXRpb25JZCB9KTtcblx0XG5cdCAgICAgIGlmIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG5cdCAgICAgICAgICBjdXJyX2NhbGxiYWNrKHtcblx0ICAgICAgICAgICAgdXNlcklkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS51c2VySWQsXG5cdCAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS5yZWdpc3RyYXRpb25JZFxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIE9uZVNpZ25hbC5fc2VuZFVuc2VudFRhZ3MoKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS5odHRwc1Byb21wdEFjY2VwdGVkKSB7XG5cdCAgICAgIC8vIEhUVFBTIE9ubHlcblx0ICAgICAgT25lU2lnbmFsLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMoKTtcblx0ICAgICAgT25lU2lnbmFsLnNldFN1YnNjcmlwdGlvbih0cnVlKTtcblx0ICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT25lU2lnbmFsLWlmcmFtZS1tb2RhbCcpO1xuXHQgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG5cdCAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2N1c3RvbVByb21wdENsaWNrZWQoJ2dyYW50ZWQnKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS5odHRwc1Byb21wdENhbmNlbGVkKSB7XG5cdCAgICAgIC8vIEhUVFBTIE9ubHlcblx0ICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT25lU2lnbmFsLWlmcmFtZS1tb2RhbCcpO1xuXHQgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG5cdCAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2N1c3RvbVByb21wdENsaWNrZWQoJ2RlbmllZCcpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBQcm9tcHRBY2NlcHRlZCkge1xuXHQgICAgICAvLyBIVFRQIE9ubHlcblx0ICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZ3JhbnRlZCcpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBQcm9tcHRDYW5jZWxlZCkge1xuXHQgICAgICAvLyBIVFRQIE9ubHlcblx0ICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZGVuaWVkJyk7XG5cdCAgICB9IGVsc2UgaWYgKE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrKSAvLyBIVFRQIGFuZCBIVFRQU1xuXHQgICAgICBPbmVTaWduYWwuX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjayhldmVudC5kYXRhKTtcblx0ICB9LFxuXHRcblx0ICBhZGRMaXN0ZW5lckZvck5vdGlmaWNhdGlvbk9wZW5lZDogZnVuY3Rpb24gYWRkTGlzdGVuZXJGb3JOb3RpZmljYXRpb25PcGVuZWQoY2FsbGJhY2spIHtcblx0ICAgIE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cdCAgICBpZiAod2luZG93KSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBkb2N1bWVudC5VUkwpLnRoZW4oZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuXHQgICAgICAgIGlmIChub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpIHtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fZGVsZXRlRGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBkb2N1bWVudC5VUkwpO1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2sobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0LmRhdGEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICA7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgLy8gU3ViZG9tYWluIC0gRmlyZWQgZnJvbSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gaWZyYW1lLlxuXHQgIF9maXJlTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrOiBmdW5jdGlvbiBfZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayhub3RpZlBlcm1zc2lvbikge1xuXHQgICAgaWYgKE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2spIHtcblx0ICAgICAgT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayhub3RpZlBlcm1zc2lvbik7XG5cdCAgICAgIE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2sgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGdldElkc0F2YWlsYWJsZTogZnVuY3Rpb24gZ2V0SWRzQXZhaWxhYmxlKGNhbGxiYWNrKSB7XG5cdCAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcblx0ICAgIE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLnB1c2goY2FsbGJhY2spO1xuXHRcblx0ICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKV0pLnRoZW4oZnVuY3Rpb24gZ2V0SWRzQXZhaWxhYmxlX0dvdFVzZXJSZWdpc3RyYXRpb25JZHMocmVzdWx0cykge1xuXHQgICAgICB2YXIgdXNlcklkUmVzdWx0ID0gcmVzdWx0c1swXTtcblx0ICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0c1sxXTtcblx0XG5cdCAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICBpZiAocmVnaXN0cmF0aW9uSWRSZXN1bHQpIHtcblx0ICAgICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG5cdCAgICAgICAgICAgIGN1cnJfY2FsbGJhY2soe1xuXHQgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkUmVzdWx0LmlkLFxuXHQgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZFJlc3VsdC5pZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Ugd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG5cdCAgICAgICAgICBjdXJyX2NhbGxiYWNrKHsgdXNlcklkOiB1c2VySWRSZXN1bHQuaWQsIHJlZ2lzdHJhdGlvbklkOiBudWxsIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdCAgfSxcblx0XG5cdCAgZ2V0VGFnczogZnVuY3Rpb24gZ2V0VGFncyhjYWxsYmFjaykge1xuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiAodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcInBsYXllcnMvXCIgKyB1c2VySWRSZXN1bHQuaWQsICdHRVQnLCBudWxsLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLnRhZ3MpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICBpc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZDogZnVuY3Rpb24gaXNQdXNoTm90aWZpY2F0aW9uc0VuYWJsZWQoY2FsbGJhY2spIHtcblx0ICAgIGlmICghKDAsIF91dGlscy5pc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKSgpKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zLlwiKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIElmIFN1YmRvbWFpblxuXHQgICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSAmJiAhKDAsIF91dGlscy5pc0Jyb3dzZXJTYWZhcmkpKCkpIHtcblx0ICAgICAgT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xuXHQgICAgICBpZiAoT25lU2lnbmFsLl9pZnJhbWVQb3J0KSBPbmVTaWduYWwuX2lmcmFtZVBvcnQucG9zdE1lc3NhZ2UoeyBnZXROb3RpZmljYXRpb25QZXJtaXNzaW9uOiB0cnVlIH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gSWYgSFRUUFNcblx0XG5cdCAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3N1YnNjcmlwdGlvbicpXSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuXHQgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRzWzBdO1xuXHQgICAgICB2YXIgc3Vic2NyaXB0aW9uUmVzdWx0ID0gcmVzdWx0c1sxXTtcblx0XG5cdCAgICAgIGlmIChyZWdpc3RyYXRpb25JZFJlc3VsdCkge1xuXHQgICAgICAgIGlmIChzdWJzY3JpcHRpb25SZXN1bHQgJiYgIXN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSkgcmV0dXJuIGNhbGxiYWNrKGZhbHNlKTtcblx0XG5cdCAgICAgICAgY2FsbGJhY2soTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT0gXCJncmFudGVkXCIpO1xuXHQgICAgICB9IGVsc2UgY2FsbGJhY2soZmFsc2UpO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgX2dldE5vdGlmaWNhdGlvblR5cGVzOiBmdW5jdGlvbiBfZ2V0Tm90aWZpY2F0aW9uVHlwZXMoY2FsbGJhY2spIHtcblx0ICAgIE9uZVNpZ25hbC5fZ2V0U3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChkYl9zdWJzY3JpcHRpb25TZXQpIHtcblx0ICAgICAgY2FsbGJhY2soZGJfc3Vic2NyaXB0aW9uU2V0ID8gMSA6IC0yKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHNldFN1YnNjcmlwdGlvbjogZnVuY3Rpb24gc2V0U3Vic2NyaXB0aW9uKG5ld1N1YnNjcmlwdGlvbikge1xuXHQgICAgaWYgKE9uZVNpZ25hbC5faWZyYW1lUG9ydCkgT25lU2lnbmFsLl9pZnJhbWVQb3J0LnBvc3RNZXNzYWdlKHsgc2V0U3ViZG9tYWluU3RhdGU6IHsgc2V0U3Vic2NyaXB0aW9uOiBuZXdTdWJzY3JpcHRpb24gfSB9KTtlbHNlIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXRTdWJzY3JpcHRpb24oZnVuY3Rpb24gKGN1cnJlbnRTdWJzY3JpcHRpb24pIHtcblx0ICAgICAgICBpZiAoY3VycmVudFN1YnNjcmlwdGlvbiAhPSBuZXdTdWJzY3JpcHRpb24pIHtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwgeyBrZXk6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiBuZXdTdWJzY3JpcHRpb24gfSk7XG5cdCAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICAgICAgaWYgKHVzZXJJZFJlc3VsdCkgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkLCBcIlBVVFwiLCB7XG5cdCAgICAgICAgICAgICAgYXBwX2lkOiBPbmVTaWduYWwuX2FwcF9pZCxcblx0ICAgICAgICAgICAgICBub3RpZmljYXRpb25fdHlwZXM6IG5ld1N1YnNjcmlwdGlvbiA/IDEgOiAtMlxuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiBzZXRTdWJzY3JpcHRpb25TZXRDYWxsYmFjaygpIHtcblx0ICAgICAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9pbnRlcm5hbFN1YnNjcmlwdGlvblNldChuZXdTdWJzY3JpcHRpb24pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgX2dldFN1YnNjcmlwdGlvbjogZnVuY3Rpb24gX2dldFN1YnNjcmlwdGlvbihjYWxsYmFjaykge1xuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3N1YnNjcmlwdGlvbicpLnRoZW4oZnVuY3Rpb24gKHN1YnNjcmlwdGlvblJlc3VsdCkge1xuXHQgICAgICBjYWxsYmFjayghKHN1YnNjcmlwdGlvblJlc3VsdCAmJiBzdWJzY3JpcHRpb25SZXN1bHQudmFsdWUgPT0gZmFsc2UpKTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgICAgO1xuXHQgIH0sXG5cdFxuXHQgIF9zYWZlUG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIF9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwgZGF0YSwgdGFyZ2V0T3JpZ2luLCByZWNlaXZlcikge1xuXHQgICAgdmFyIHRPcmlnaW4gPSB0YXJnZXRPcmlnaW4udG9Mb3dlckNhc2UoKTtcblx0XG5cdCAgICAvLyBJZiB3ZSBhcmUgdHJ5aW5nIHRvIHRhcmdldCBhIGh0dHAgc2l0ZSBhbGxvdyB0aGUgaHR0cHMgdmVyc2lvbi4gKHcvIG9yIHcvbyAnd3d3dy4nIHRvbylcblx0ICAgIGlmICh0T3JpZ2luLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpKSB7XG5cdCAgICAgIHZhciBxdWVyeURpY3QgPSB7fTtcblx0ICAgICAgbG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgIHF1ZXJ5RGljdFtpdGVtLnNwbGl0KFwiPVwiKVswXV0gPSBpdGVtLnNwbGl0KFwiPVwiKVsxXTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciB2YWxpZFByZVVSTFJlZ2V4ID0gL15odHRwKHN8KTpcXC9cXC8od3d3XFwufCkvO1xuXHQgICAgICB0T3JpZ2luID0gdE9yaWdpbi5yZXBsYWNlKHZhbGlkUHJlVVJMUmVnZXgsIHF1ZXJ5RGljdFtcImhvc3RQYWdlUHJvdG9jb2xcIl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChyZWNlaXZlcikgY3JlYXRvci5wb3N0TWVzc2FnZShkYXRhLCB0T3JpZ2luLCByZWNlaXZlcik7ZWxzZSBjcmVhdG9yLnBvc3RNZXNzYWdlKGRhdGEsIHRPcmlnaW4pO1xuXHQgIH0sXG5cdFxuXHQgIF9wcm9jZXNzX3B1c2hlczogZnVuY3Rpb24gX3Byb2Nlc3NfcHVzaGVzKGFycmF5KSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIE9uZVNpZ25hbC5wdXNoKGFycmF5W2ldKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBwdXNoOiBmdW5jdGlvbiBwdXNoKGl0ZW0pIHtcblx0ICAgIGlmICh0eXBlb2YgaXRlbSA9PSBcImZ1bmN0aW9uXCIpIGl0ZW0oKTtlbHNlIHtcblx0ICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGl0ZW0uc2hpZnQoKTtcblx0ICAgICAgT25lU2lnbmFsW2Z1bmN0aW9uTmFtZV0uYXBwbHkobnVsbCwgaXRlbSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gSWYgaW1wb3J0ZWQgb24geW91ciBwYWdlLlxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIE9uZVNpZ25hbC5fbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2UsIGZhbHNlKTtlbHNlIHtcblx0ICAvLyBpZiBpbXBvcnRlZCBmcm9tIHRoZSBzZXJ2aWNlIHdvcmtlci5cblx0ICBpbXBvcnRTY3JpcHRzKCdodHRwczovL2Nkbi5vbmVzaWduYWwuY29tL3Nka3Mvc2VydmljZXdvcmtlci1jYWNoZS1wb2x5ZmlsbC5qcycpO1xuXHRcblx0ICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3B1c2gnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIE9uZVNpZ25hbC5faGFuZGxlR0NNTWVzc2FnZShzZWxmLCBldmVudCk7IC8vIENhbiBoYW5kbGUgbWVzc2FnZXMgZnJvbSBhbnkgYnJvd3NlciAoZXhjZXB0IFNhZmFyaSksIHJlbmFtZSBtZXRob2Rcblx0ICB9KTtcblx0ICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ25vdGlmaWNhdGlvbmNsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAvLyBBbHNvIG9ubHkgYnkgU1dcblx0ICAgIE9uZVNpZ25hbC5faGFuZGxlTm90aWZpY2F0aW9uT3BlbmVkKGV2ZW50KTtcblx0ICB9KTtcblx0XG5cdCAgdmFyIGlzU1dvblN1YmRvbWFpbiA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2h0dHBzXFw6XFwvXFwvLipcXC5vbmVzaWduYWwuY29tXFwvc2Rrc1xcLy8pICE9IG51bGw7XG5cdCAgaWYgKHRydWUpIGlzU1dvblN1YmRvbWFpbiA9IHRydWU7XG5cdFxuXHQgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiT25lU2lnbmFsIEluc3RhbGxlZCBzZXJ2aWNlIHdvcmtlcjogXCIgKyBPbmVTaWduYWwuX1ZFUlNJT04pO1xuXHQgICAgaWYgKHNlbGYubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZihcIk9uZVNpZ25hbFNES1dvcmtlci5qc1wiKSA+IC0xKSBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcIldPUktFUjFfT05FX1NJR05BTF9TV19WRVJTSU9OXCIsIGlkOiBPbmVTaWduYWwuX1ZFUlNJT04gfSk7ZWxzZSBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcIldPUktFUjJfT05FX1NJR05BTF9TV19WRVJTSU9OXCIsIGlkOiBPbmVTaWduYWwuX1ZFUlNJT04gfSk7XG5cdFxuXHQgICAgaWYgKGlzU1dvblN1YmRvbWFpbikge1xuXHQgICAgICBldmVudC53YWl0VW50aWwoY2FjaGVzLm9wZW4oXCJPbmVTaWduYWxfXCIgKyBPbmVTaWduYWwuX1ZFUlNJT04pLnRoZW4oZnVuY3Rpb24gKGNhY2hlKSB7XG5cdCAgICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChbJy9zZGtzL2luaXRPbmVTaWduYWxIdHRwSWZyYW1lJywgJy9zZGtzL2luaXRPbmVTaWduYWxIdHRwSWZyYW1lP3Nlc3Npb249KicsICcvc2Rrcy9tYW5pZmVzdF9qc29uJ10pO1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICBpZiAoaXNTV29uU3ViZG9tYWluKSB7XG5cdCAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIGV2ZW50LnJlc3BvbmRXaXRoKGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIC8vIENhY2hlIGhpdCAtIHJldHVybiByZXNwb25zZVxuXHQgICAgICAgIGlmIChyZXNwb25zZSkgcmV0dXJuIHJlc3BvbnNlO1xuXHRcblx0ICAgICAgICByZXR1cm4gZmV0Y2goZXZlbnQucmVxdWVzdCk7XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT25lU2lnbmFsO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzKSkpXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xuXHQoZnVuY3Rpb24oKSB7XG5cdFxuXHQoZnVuY3Rpb24oKSB7XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0ICBpZiAoc2VsZi5mZXRjaCkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcblx0ICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuXHQgICAgfVxuXHQgICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcblx0ICAgIH1cblx0ICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuXHQgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG5cdCAgICB0aGlzLm1hcCA9IHt9XG5cdFxuXHQgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG5cdCAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuXHQgICAgICB9LCB0aGlzKVxuXHRcblx0ICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuXHQgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuXHQgICAgICB9LCB0aGlzKVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG5cdCAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuXHQgICAgdmFyIGxpc3QgPSB0aGlzLm1hcFtuYW1lXVxuXHQgICAgaWYgKCFsaXN0KSB7XG5cdCAgICAgIGxpc3QgPSBbXVxuXHQgICAgICB0aGlzLm1hcFtuYW1lXSA9IGxpc3Rcblx0ICAgIH1cblx0ICAgIGxpc3QucHVzaCh2YWx1ZSlcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgdmFyIHZhbHVlcyA9IHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG5cdCAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldIHx8IFtdXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdCAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0ICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMubWFwKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgdGhpcy5tYXBbbmFtZV0uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9LCB0aGlzKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuXHQgICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcblx0ICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuXHQgICAgfVxuXHQgICAgYm9keS5ib2R5VXNlZCA9IHRydWVcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcblx0ICAgICAgfVxuXHQgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuXHQgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblx0ICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuXHQgICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcblx0ICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgIH1cblx0XG5cdCAgdmFyIHN1cHBvcnQgPSB7XG5cdCAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbmV3IEJsb2IoKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgfSkoKSxcblx0ICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG5cdCAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBCb2R5KCkge1xuXHQgICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cdFxuXHRcblx0ICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuXHQgICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcblx0ICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmICghYm9keSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgLy8gT25seSBzdXBwb3J0IEFycmF5QnVmZmVycyBmb3IgUE9TVCBtZXRob2QuXG5cdCAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuXHQgICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIGlmIChyZWplY3RlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcblx0ICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzXG5cdCAgfVxuXHRcblx0ICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcblx0ICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG5cdCAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG5cdCAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2Rcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdCAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXHQgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpKSB7XG5cdCAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcblx0ICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG5cdCAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG5cdCAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuXHQgICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG5cdCAgICAgIGlmICghYm9keSkge1xuXHQgICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcblx0ICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy51cmwgPSBpbnB1dFxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG5cdCAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcblx0ICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgfVxuXHQgICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG5cdCAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcblx0ICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cdFxuXHQgICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG5cdCAgICB9XG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuXHQgIH1cblx0XG5cdCAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcblx0ICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcblx0ICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuXHQgICAgICBpZiAoYnl0ZXMpIHtcblx0ICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG5cdCAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG5cdCAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG5cdCAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGZvcm1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG5cdCAgICB2YXIgaGVhZCA9IG5ldyBIZWFkZXJzKClcblx0ICAgIHZhciBwYWlycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS50cmltKCkuc3BsaXQoJ1xcbicpXG5cdCAgICBwYWlycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuXHQgICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6Jylcblx0ICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG5cdCAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJzonKS50cmltKClcblx0ICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcblx0ICAgIH0pXG5cdCAgICByZXR1cm4gaGVhZFxuXHQgIH1cblx0XG5cdCAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXHRcblx0ICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuXHQgICAgaWYgKCFvcHRpb25zKSB7XG5cdCAgICAgIG9wdGlvbnMgPSB7fVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuXHQgICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG5cdCAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzXG5cdCAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG5cdCAgICB0aGlzLnN0YXR1c1RleHQgPSBvcHRpb25zLnN0YXR1c1RleHRcblx0ICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyBvcHRpb25zLmhlYWRlcnMgOiBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG5cdCAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXHRcblx0ICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcblx0ICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcblx0ICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuXHQgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuXHQgICAgICB1cmw6IHRoaXMudXJsXG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG5cdCAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuXHQgICAgcmV0dXJuIHJlc3BvbnNlXG5cdCAgfVxuXHRcblx0ICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblx0XG5cdCAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuXHQgICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuXHQgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG5cdCAgfVxuXHRcblx0ICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzO1xuXHQgIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cdCAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXHRcblx0ICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgdmFyIHJlcXVlc3Rcblx0ICAgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpICYmICFpbml0KSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IGlucHV0XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblx0XG5cdCAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuXHQgICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuXHQgICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVVSTFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gQXZvaWQgc2VjdXJpdHkgd2FybmluZ3Mgb24gZ2V0UmVzcG9uc2VIZWFkZXIgd2hlbiBub3QgYWxsb3dlZCBieSBDT1JTXG5cdCAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcblx0ICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9ICh4aHIuc3RhdHVzID09PSAxMjIzKSA/IDIwNCA6IHhoci5zdGF0dXNcblx0ICAgICAgICBpZiAoc3RhdHVzIDwgMTAwIHx8IHN0YXR1cyA+IDU5OSkge1xuXHQgICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgICAgIHJldHVyblxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuXHQgICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG5cdCAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG5cdCAgICAgICAgICB1cmw6IHJlc3BvbnNlVVJMKClcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG5cdCAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXHRcblx0ICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuXHQgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuXHQgICAgICB9KVxuXHRcblx0ICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcblx0ICAgIH0pXG5cdCAgfVxuXHQgIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cdH0pKCk7XG5cdFxuXHRcblx0LyoqKiBFWFBPUlRTIEZST00gZXhwb3J0cy1sb2FkZXIgKioqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5mZXRjaFxuXHR9LmNhbGwoZ2xvYmFsKSk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkhPU1RfVVJMID0gZXhwb3J0cy5QUk9EX0hPU1QgPSBleHBvcnRzLkRFVl9IT1NUID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgREVWX0hPU1QgPSBleHBvcnRzLkRFVl9IT1NUID0gJ2h0dHBzOi8vMTkyLjE2OC4xLjIwNjozMDAwJztcblx0dmFyIFBST0RfSE9TVCA9IGV4cG9ydHMuUFJPRF9IT1NUID0gJ2h0dHBzOi8vb25lc2lnbmFsLmNvbSc7XG5cdHZhciBIT1NUX1VSTCA9IGV4cG9ydHMuSE9TVF9VUkwgPSAoKDAsIF91dGlscy5pc0RldikoKSA/IERFVl9IT1NUIDogUFJPRF9IT1NUKSArICcvYXBpL3YxLyc7XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblx0ZXhwb3J0cy5nZXRIdW1hbml6ZWRUaW1lRHVyYXRpb24gPSBnZXRIdW1hbml6ZWRUaW1lRHVyYXRpb247XG5cdGV4cG9ydHMuaXNCcm93c2VyRW52ID0gaXNCcm93c2VyRW52O1xuXHRleHBvcnRzLmlzRGV2ID0gaXNEZXY7XG5cdGV4cG9ydHMuaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCA9IGlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMuaXNCcm93c2VyU2FmYXJpID0gaXNCcm93c2VyU2FmYXJpO1xuXHRleHBvcnRzLmlzU3VwcG9ydGVkRmlyZUZveCA9IGlzU3VwcG9ydGVkRmlyZUZveDtcblx0ZXhwb3J0cy5pc0Jyb3dzZXJGaXJlZm94ID0gaXNCcm93c2VyRmlyZWZveDtcblx0ZXhwb3J0cy5nZXRGaXJlZm94VmVyc2lvbiA9IGdldEZpcmVmb3hWZXJzaW9uO1xuXHRleHBvcnRzLmlzU3VwcG9ydGVkU2FmYXJpID0gaXNTdXBwb3J0ZWRTYWZhcmk7XG5cdGV4cG9ydHMucmVtb3ZlRG9tRWxlbWVudCA9IHJlbW92ZURvbUVsZW1lbnQ7XG5cdGV4cG9ydHMuYWRkRG9tRWxlbWVudCA9IGFkZERvbUVsZW1lbnQ7XG5cdGV4cG9ydHMuYWRkQ3NzQ2xhc3MgPSBhZGRDc3NDbGFzcztcblx0ZXhwb3J0cy5yZW1vdmVDc3NDbGFzcyA9IHJlbW92ZUNzc0NsYXNzO1xuXHRleHBvcnRzLm9uID0gb247XG5cdGV4cG9ydHMub25jZSA9IG9uY2U7XG5cdGV4cG9ydHMub2ZmID0gb2ZmO1xuXHRcblx0dmFyIF9sb2dsZXZlbCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2xvZ2xldmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2xldmVsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gaXNBcnJheSh2YXJpYWJsZSkge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRIdW1hbml6ZWRUaW1lRHVyYXRpb24odGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMpIHtcblx0ICBmdW5jdGlvbiBhZGRQbHVyYWxTdWZmaXgobnVtYmVyKSB7XG5cdCAgICByZXR1cm4gbnVtYmVyID4gMSA/ICdzJyA6ICcnO1xuXHQgIH1cblx0ICB2YXIgZHVyYXRpb24gPSBNYXRoLmZsb29yKHRpbWVEdXJhdGlvbkluTWlsbGlzZWNvbmRzIC8gMTAwMCk7XG5cdFxuXHQgIHZhciB5ZWFycyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAzMTUzNjAwMCk7XG5cdCAgaWYgKHllYXJzKSByZXR1cm4geWVhcnMgKyAnIHllYXInICsgYWRkUGx1cmFsU3VmZml4KHllYXJzKTtcblx0XG5cdCAgdmFyIGRheXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlPSAzMTUzNjAwMCkgLyA4NjQwMCk7XG5cdCAgaWYgKGRheXMpIHJldHVybiBkYXlzICsgJyBkYXknICsgYWRkUGx1cmFsU3VmZml4KGRheXMpO1xuXHRcblx0ICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlPSA4NjQwMCkgLyAzNjAwKTtcblx0ICBpZiAoaG91cnMpIHJldHVybiBob3VycyArICcgaG91cicgKyBhZGRQbHVyYWxTdWZmaXgoaG91cnMpO1xuXHRcblx0ICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uICU9IDM2MDApIC8gNjApO1xuXHQgIGlmIChtaW51dGVzKSByZXR1cm4gbWludXRlcyArICcgbWludXRlJyArIGFkZFBsdXJhbFN1ZmZpeChtaW51dGVzKTtcblx0XG5cdCAgdmFyIHNlY29uZHMgPSBkdXJhdGlvbiAlIDYwO1xuXHQgIGlmIChzZWNvbmRzKSByZXR1cm4gc2Vjb25kcyArICcgc2Vjb25kJyArIGFkZFBsdXJhbFN1ZmZpeChzZWNvbmRzKTtcblx0XG5cdCAgcmV0dXJuICdqdXN0IG5vdyc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQnJvd3NlckVudigpIHtcblx0ICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEZXYoKSB7XG5cdCAgcmV0dXJuICh0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCgpIHtcblx0ICB2YXIgY2hyb21lVmVyc2lvbiA9IG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oLio/KSAvKTtcblx0XG5cdCAgaWYgKGlzU3VwcG9ydGVkRmlyZUZveCgpKSByZXR1cm4gdHJ1ZTtcblx0XG5cdCAgaWYgKGlzU3VwcG9ydGVkU2FmYXJpKCkpIHJldHVybiB0cnVlO1xuXHRcblx0ICAvLyBDaHJvbWUgaXMgbm90IGZvdW5kIGluIGFwcFZlcnNpb24uXG5cdCAgaWYgKCFjaHJvbWVWZXJzaW9uKSByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIC8vIE1pY3Jvc29mdCBFZGdlXG5cdCAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9FZGdlLykpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgLy8gQW5kcm9pZCBDaHJvbWUgV2ViVmlld1xuXHQgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvIHd2LykpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgLy8gT3BlcmFcblx0ICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09QUlxcLy8pKSByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIC8vIFRoZSB1c2VyIGlzIG9uIGlPU1xuXHQgIGlmICgvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pKSByZXR1cm4gZmFsc2U7XG5cdFxuXHQgIHJldHVybiBwYXJzZUludChjaHJvbWVWZXJzaW9uWzFdLnN1YnN0cmluZygwLCAyKSkgPiA0MTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCcm93c2VyU2FmYXJpKCkge1xuXHQgIHZhciBzYWZhcmlWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyhbMC05XT8pLiogU2FmYXJpXCIpO1xuXHQgIHJldHVybiBzYWZhcmlWZXJzaW9uICE9IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3VwcG9ydGVkRmlyZUZveCgpIHtcblx0ICB2YXIgZmlyZUZveFZlcnNpb24gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oRmlyZWZveFxcLykoWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pO1xuXHQgIGlmIChmaXJlRm94VmVyc2lvbikgcmV0dXJuIHBhcnNlSW50KGZpcmVGb3hWZXJzaW9uWzJdLnN1YnN0cmluZygwLCAyKSkgPiA0Mztcblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQnJvd3NlckZpcmVmb3goKSB7XG5cdCAgdmFyIGZpcmVGb3hWZXJzaW9uID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEZpcmVmb3hcXC8pKFswLTldezIsfVxcLlswLTldezEsfSkvKTtcblx0ICByZXR1cm4gZmlyZUZveFZlcnNpb24gIT0gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RmlyZWZveFZlcnNpb24oKSB7XG5cdCAgdmFyIGZpcmVGb3hWZXJzaW9uID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEZpcmVmb3hcXC8pKFswLTldezIsfVxcLlswLTldezEsfSkvKTtcblx0ICBpZiAoZmlyZUZveFZlcnNpb24pIHJldHVybiBwYXJzZUludChmaXJlRm94VmVyc2lvblsyXS5zdWJzdHJpbmcoMCwgMikpO2Vsc2UgcmV0dXJuIC0xO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1N1cHBvcnRlZFNhZmFyaSgpIHtcblx0ICB2YXIgc2FmYXJpVmVyc2lvbiA9IG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKFwiVmVyc2lvbi8oWzAtOV0/KS4qIFNhZmFyaVwiKTtcblx0ICBpZiAoc2FmYXJpVmVyc2lvbiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdCAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiBwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdKSA+IDY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZURvbUVsZW1lbnQoc2VsZWN0b3IpIHtcblx0ICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgaWYgKGVscy5sZW5ndGggPiAwKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBlbHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbHNbaV0pO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkRG9tRWxlbWVudCh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgYWRkT3JkZXIsIGVsZW1lbnRIdG1sKSB7XG5cdCAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpLmluc2VydEFkamFjZW50SFRNTChhZGRPcmRlciwgZWxlbWVudEh0bWwpO2Vsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkgPT09ICdvYmplY3QnKSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoYWRkT3JkZXIsIGVsZW1lbnRIdG1sKTtlbHNlIHRocm93IG5ldyBFcnJvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCArICcgbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRDc3NDbGFzcyh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgY3NzQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7ZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSA9PT0gJ29iamVjdCcpIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ICsgJyBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUNzc0NsYXNzKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBjc3NDbGFzcykge1xuXHQgIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KS5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzKTtlbHNlIGlmICgodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpID09PSAnb2JqZWN0JykgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzcyk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgKyAnIG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC4nKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb24odGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGV2ZW50LCB0YXNrKSB7XG5cdCAgaWYgKCFldmVudCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdDYW5ub3QgY2FsbCBvbigpIHdpdGggbm8gZXZlbnQ6ICcsIGV2ZW50KTtcblx0ICB9XG5cdCAgaWYgKCF0YXNrKSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyB0YXNrOiAnLCB0YXNrKTtcblx0ICB9XG5cdCAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdEZWJ1ZyBtZSBoZXJlLicpO1xuXHQgIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBvbihlbHNbaV0sIHRhc2spO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc0FycmF5KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5sZW5ndGg7IGkrKykge1xuXHQgICAgICBvbih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudFtpXSwgdGFzayk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmICgodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpID09PSAnb2JqZWN0JykgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGFzayk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgKyAnIG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC4nKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb25jZSh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgZXZlbnQsIHRhc2spIHtcblx0ICB2YXIgbWFudWFsRGVzdHJveSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHRcblx0ICBpZiAoIWV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyBldmVudDogJywgZXZlbnQpO1xuXHQgIH1cblx0ICBpZiAoIXRhc2spIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIHRhc2s6ICcsIHRhc2spO1xuXHQgIH1cblx0ICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFyIGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHQgICAgaWYgKGVscy5sZW5ndGggPiAwKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgb25jZShlbHNbaV0sIHRhc2spO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc0FycmF5KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5sZW5ndGg7IGkrKykge1xuXHQgICAgICBvbmNlKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50W2ldLCB0YXNrKTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICB2YXIgdGFza1dyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgaW50ZXJuYWxUYXNrRnVuY3Rpb24gPSBmdW5jdGlvbiBpbnRlcm5hbFRhc2tGdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIGRlc3Ryb3lFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gZGVzdHJveUV2ZW50TGlzdGVuZXIoKSB7XG5cdCAgICAgICAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUudHlwZSwgdGFza1dyYXBwZXIpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKCFtYW51YWxEZXN0cm95KSB7XG5cdCAgICAgICAgICBkZXN0cm95RXZlbnRMaXN0ZW5lcigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0YXNrKGUsIGRlc3Ryb3lFdmVudExpc3RlbmVyKTtcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIGludGVybmFsVGFza0Z1bmN0aW9uO1xuXHQgICAgfSkoKTtcblx0ICAgIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRhc2tXcmFwcGVyKTtcblx0ICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ICsgJyBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZnJvbSBzZWxlY3Rvci5cblx0ICogQHBhcmFtIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50IFNlbGVjdG9yIHRvIHRhcmdldCBvbmUgb3IgbXVsdGlwbGUgZWxlbWVudHMsIG9yIGEgc2luZ2xlIG9yIGFycmF5IG9mIERPTUVsZW1lbnQuXG5cdCAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gdGFyZ2V0IChlLmcuICd0cmFuc2l0aW9uZW5kJylcblx0ICogQHBhcmFtIHRhc2sgQSBzaW5nbGUgZnVuY3Rpb24gY2FsbGJhY2sgdG8gdW5iaW5kLCBvciBsZWF2ZSBlbXB0eSB0byByZW1vdmUgYWxsIGV2ZW50IGhhbmRsZXJzLlxuXHQgKi9cblx0ZnVuY3Rpb24gb2ZmKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBldmVudCwgdGFzaykge1xuXHQgIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBvZmYoZWxzW2ldLCB0YXNrKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoaXNBcnJheSh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgb2ZmKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50W2ldLCB0YXNrKTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICBpZiAodGFzaykgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGFzayk7ZWxzZSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50KTtcblx0ICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ICsgJyBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuJyk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qXHJcblx0KiBsb2dsZXZlbCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbFxyXG5cdCpcclxuXHQqIENvcHlyaWdodCAoYykgMjAxMyBUaW0gUGVycnlcclxuXHQqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHQqL1xyXG5cdChmdW5jdGlvbiAocm9vdCwgZGVmaW5pdGlvbikge1xyXG5cdCAgICBcInVzZSBzdHJpY3RcIjtcclxuXHQgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICYmIFwiZnVuY3Rpb25cIiA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XHJcblx0ICAgIH0gZWxzZSBpZiAodHJ1ZSkge1xyXG5cdCAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZGVmaW5pdGlvbiksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICByb290LmxvZyA9IGRlZmluaXRpb24oKTtcclxuXHQgICAgfVxyXG5cdH0odGhpcywgZnVuY3Rpb24gKCkge1xyXG5cdCAgICBcInVzZSBzdHJpY3RcIjtcclxuXHQgICAgdmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xyXG5cdCAgICB2YXIgdW5kZWZpbmVkVHlwZSA9IFwidW5kZWZpbmVkXCI7XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBXZSBjYW4ndCBidWlsZCBhIHJlYWwgbWV0aG9kIHdpdGhvdXQgYSBjb25zb2xlIHRvIGxvZyB0b1xyXG5cdCAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlW21ldGhvZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCBtZXRob2ROYW1lKTtcclxuXHQgICAgICAgIH0gZWxzZSBpZiAoY29uc29sZS5sb2cgIT09IHVuZGVmaW5lZCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsICdsb2cnKTtcclxuXHQgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcclxuXHQgICAgICAgIHZhciBtZXRob2QgPSBvYmpbbWV0aG9kTmFtZV07XHJcblx0ICAgICAgICBpZiAodHlwZW9mIG1ldGhvZC5iaW5kID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XHJcblx0ICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHRyeSB7XHJcblx0ICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcclxuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcblx0ICAgICAgICAgICAgICAgIC8vIE1pc3NpbmcgYmluZCBzaGltIG9yIElFOCArIE1vZGVybml6ciwgZmFsbGJhY2sgdG8gd3JhcHBpbmdcclxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShtZXRob2QsIFtvYmosIGFyZ3VtZW50c10pO1xyXG5cdCAgICAgICAgICAgICAgICB9O1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICAvLyB0aGVzZSBwcml2YXRlIGZ1bmN0aW9ucyBhbHdheXMgbmVlZCBgdGhpc2AgdG8gYmUgc2V0IHByb3Blcmx5XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcclxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSB1bmRlZmluZWRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMsIGxldmVsLCBsb2dnZXJOYW1lKTtcclxuXHQgICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH07XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKGxldmVsLCBsb2dnZXJOYW1lKSB7XHJcblx0ICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2dNZXRob2RzLmxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBsb2dNZXRob2RzW2ldO1xyXG5cdCAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSAoaSA8IGxldmVsKSA/XHJcblx0ICAgICAgICAgICAgICAgIG5vb3AgOlxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XHJcblx0ICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG5cdCAgICAgICAgcmV0dXJuIHJlYWxNZXRob2QobWV0aG9kTmFtZSkgfHxcclxuXHQgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIGxvZ01ldGhvZHMgPSBbXHJcblx0ICAgICAgICBcInRyYWNlXCIsXHJcblx0ICAgICAgICBcImRlYnVnXCIsXHJcblx0ICAgICAgICBcImluZm9cIixcclxuXHQgICAgICAgIFwid2FyblwiLFxyXG5cdCAgICAgICAgXCJlcnJvclwiXHJcblx0ICAgIF07XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lLCBkZWZhdWx0TGV2ZWwsIGZhY3RvcnkpIHtcclxuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblx0ICAgICAgdmFyIGN1cnJlbnRMZXZlbDtcclxuXHQgICAgICB2YXIgc3RvcmFnZUtleSA9IFwibG9nbGV2ZWxcIjtcclxuXHQgICAgICBpZiAobmFtZSkge1xyXG5cdCAgICAgICAgc3RvcmFnZUtleSArPSBcIjpcIiArIG5hbWU7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGZ1bmN0aW9uIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWxOdW0pIHtcclxuXHQgICAgICAgICAgdmFyIGxldmVsTmFtZSA9IChsb2dNZXRob2RzW2xldmVsTnVtXSB8fCAnc2lsZW50JykudG9VcHBlckNhc2UoKTtcclxuXHRcclxuXHQgICAgICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcclxuXHQgICAgICAgICAgdHJ5IHtcclxuXHQgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV0gPSBsZXZlbE5hbWU7XHJcblx0ICAgICAgICAgICAgICByZXR1cm47XHJcblx0ICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cclxuXHRcclxuXHQgICAgICAgICAgLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrXHJcblx0ICAgICAgICAgIHRyeSB7XHJcblx0ICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY29va2llID1cclxuXHQgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIgKyBsZXZlbE5hbWUgKyBcIjtcIjtcclxuXHQgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICBmdW5jdGlvbiBnZXRQZXJzaXN0ZWRMZXZlbCgpIHtcclxuXHQgICAgICAgICAgdmFyIHN0b3JlZExldmVsO1xyXG5cdFxyXG5cdCAgICAgICAgICB0cnkge1xyXG5cdCAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldO1xyXG5cdCAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XHJcblx0XHJcblx0ICAgICAgICAgIGlmICh0eXBlb2Ygc3RvcmVkTGV2ZWwgPT09IHVuZGVmaW5lZFR5cGUpIHtcclxuXHQgICAgICAgICAgICAgIHRyeSB7XHJcblx0ICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IHdpbmRvdy5kb2N1bWVudC5jb29raWU7XHJcblx0ICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY29va2llLmluZGV4T2YoXHJcblx0ICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiKTtcclxuXHQgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24pIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSAvXihbXjtdKykvLmV4ZWMoY29va2llLnNsaWNlKGxvY2F0aW9uKSlbMV07XHJcblx0ICAgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cdCAgICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICAgIC8vIElmIHRoZSBzdG9yZWQgbGV2ZWwgaXMgbm90IHZhbGlkLCB0cmVhdCBpdCBhcyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXHJcblx0ICAgICAgICAgIGlmIChzZWxmLmxldmVsc1tzdG9yZWRMZXZlbF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdCAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB1bmRlZmluZWQ7XHJcblx0ICAgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgICAgcmV0dXJuIHN0b3JlZExldmVsO1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICAvKlxyXG5cdCAgICAgICAqXHJcblx0ICAgICAgICogUHVibGljIEFQSVxyXG5cdCAgICAgICAqXHJcblx0ICAgICAgICovXHJcblx0XHJcblx0ICAgICAgc2VsZi5sZXZlbHMgPSB7IFwiVFJBQ0VcIjogMCwgXCJERUJVR1wiOiAxLCBcIklORk9cIjogMiwgXCJXQVJOXCI6IDMsXHJcblx0ICAgICAgICAgIFwiRVJST1JcIjogNCwgXCJTSUxFTlRcIjogNX07XHJcblx0XHJcblx0ICAgICAgc2VsZi5tZXRob2RGYWN0b3J5ID0gZmFjdG9yeSB8fCBkZWZhdWx0TWV0aG9kRmFjdG9yeTtcclxuXHRcclxuXHQgICAgICBzZWxmLmdldExldmVsID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICByZXR1cm4gY3VycmVudExldmVsO1xyXG5cdCAgICAgIH07XHJcblx0XHJcblx0ICAgICAgc2VsZi5zZXRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCwgcGVyc2lzdCkge1xyXG5cdCAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcInN0cmluZ1wiICYmIHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldICE9PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICAgICAgICAgIGxldmVsID0gc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV07XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJudW1iZXJcIiAmJiBsZXZlbCA+PSAwICYmIGxldmVsIDw9IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xyXG5cdCAgICAgICAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XHJcblx0ICAgICAgICAgICAgICBpZiAocGVyc2lzdCAhPT0gZmFsc2UpIHsgIC8vIGRlZmF1bHRzIHRvIHRydWVcclxuXHQgICAgICAgICAgICAgICAgICBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsKTtcclxuXHQgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHNlbGYsIGxldmVsLCBuYW1lKTtcclxuXHQgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSAmJiBsZXZlbCA8IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xyXG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nXCI7XHJcblx0ICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgICAgICB0aHJvdyBcImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6IFwiICsgbGV2ZWw7XHJcblx0ICAgICAgICAgIH1cclxuXHQgICAgICB9O1xyXG5cdFxyXG5cdCAgICAgIHNlbGYuc2V0RGVmYXVsdExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7XHJcblx0ICAgICAgICAgIGlmICghZ2V0UGVyc2lzdGVkTGV2ZWwoKSkge1xyXG5cdCAgICAgICAgICAgICAgc2VsZi5zZXRMZXZlbChsZXZlbCwgZmFsc2UpO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgfTtcclxuXHRcclxuXHQgICAgICBzZWxmLmVuYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcclxuXHQgICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5UUkFDRSwgcGVyc2lzdCk7XHJcblx0ICAgICAgfTtcclxuXHRcclxuXHQgICAgICBzZWxmLmRpc2FibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XHJcblx0ICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoc2VsZi5sZXZlbHMuU0lMRU5ULCBwZXJzaXN0KTtcclxuXHQgICAgICB9O1xyXG5cdFxyXG5cdCAgICAgIC8vIEluaXRpYWxpemUgd2l0aCB0aGUgcmlnaHQgbGV2ZWxcclxuXHQgICAgICB2YXIgaW5pdGlhbExldmVsID0gZ2V0UGVyc2lzdGVkTGV2ZWwoKTtcclxuXHQgICAgICBpZiAoaW5pdGlhbExldmVsID09IG51bGwpIHtcclxuXHQgICAgICAgICAgaW5pdGlhbExldmVsID0gZGVmYXVsdExldmVsID09IG51bGwgPyBcIldBUk5cIiA6IGRlZmF1bHRMZXZlbDtcclxuXHQgICAgICB9XHJcblx0ICAgICAgc2VsZi5zZXRMZXZlbChpbml0aWFsTGV2ZWwsIGZhbHNlKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICAvKlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBQYWNrYWdlLWxldmVsIEFQSVxyXG5cdCAgICAgKlxyXG5cdCAgICAgKi9cclxuXHRcclxuXHQgICAgdmFyIGRlZmF1bHRMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XHJcblx0XHJcblx0ICAgIHZhciBfbG9nZ2Vyc0J5TmFtZSA9IHt9O1xyXG5cdCAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlciA9IGZ1bmN0aW9uIGdldExvZ2dlcihuYW1lKSB7XHJcblx0ICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZSA9PT0gXCJcIikge1xyXG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTtcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIHZhciBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXTtcclxuXHQgICAgICAgIGlmICghbG9nZ2VyKSB7XHJcblx0ICAgICAgICAgIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdID0gbmV3IExvZ2dlcihcclxuXHQgICAgICAgICAgICBuYW1lLCBkZWZhdWx0TG9nZ2VyLmdldExldmVsKCksIGRlZmF1bHRMb2dnZXIubWV0aG9kRmFjdG9yeSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gbG9nZ2VyO1xyXG5cdCAgICB9O1xyXG5cdFxyXG5cdCAgICAvLyBHcmFiIHRoZSBjdXJyZW50IGdsb2JhbCBsb2cgdmFyaWFibGUgaW4gY2FzZSBvZiBvdmVyd3JpdGVcclxuXHQgICAgdmFyIF9sb2cgPSAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSkgPyB3aW5kb3cubG9nIDogdW5kZWZpbmVkO1xyXG5cdCAgICBkZWZhdWx0TG9nZ2VyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlICYmXHJcblx0ICAgICAgICAgICAgICAgd2luZG93LmxvZyA9PT0gZGVmYXVsdExvZ2dlcikge1xyXG5cdCAgICAgICAgICAgIHdpbmRvdy5sb2cgPSBfbG9nO1xyXG5cdCAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgcmV0dXJuIGRlZmF1bHRMb2dnZXI7XHJcblx0ICAgIH07XHJcblx0XHJcblx0ICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xyXG5cdH0pKTtcclxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZmV0Y2gpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5hcGlDYWxsID0gYXBpQ2FsbDtcblx0ZXhwb3J0cy5zZW5kTm90aWZpY2F0aW9uID0gc2VuZE5vdGlmaWNhdGlvbjtcblx0XG5cdHZhciBfdmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2xvZ2xldmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbG9nbGV2ZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nbGV2ZWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGFwaUNhbGwoYWN0aW9uLCBtZXRob2QsIGRhdGEpIHtcblx0ICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cdCAgaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcblx0XG5cdCAgdmFyIGNvbnRlbnRzID0ge1xuXHQgICAgbWV0aG9kOiBtZXRob2QgfHwgJ05PX01FVEhPRF9TUEVDSUZJRUQnLFxuXHQgICAgaGVhZGVyczogaGVhZGVycyxcblx0ICAgIGNhY2hlOiAnbm8tY2FjaGUnLFxuXHQgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgZmV0Y2goX3ZhcnMuSE9TVF9VUkwgKyBhY3Rpb24sIGNvbnRlbnRzKS50aGVuKGZ1bmN0aW9uIHN0YXR1cyhyZXNwb25zZSkge1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHJlc29sdmUocmVzcG9uc2UuanNvbigpKTtlbHNlIHJlamVjdChuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCkpO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgcmVqZWN0KGUpO1xuXHQgICAgfSk7XG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNlbmROb3RpZmljYXRpb24oYXBwSWQsIHBsYXllcklkcywgdGl0bGVzLCBjb250ZW50cykge1xuXHQgIHZhciBwYXJhbXMgPSB7XG5cdCAgICAnYXBwX2lkJzogYXBwSWQsXG5cdCAgICAnaGVhZGluZ3MnOiB0aXRsZXMsXG5cdCAgICAnY29udGVudHMnOiBjb250ZW50cyxcblx0ICAgICdpbmNsdWRlX3BsYXllcl9pZHMnOiBwbGF5ZXJJZHMsXG5cdCAgICAnaXNBbnlXZWInOiB0cnVlLFxuXHQgICAgJ3VybCc6ICdqYXZhc2NyaXB0OnZvaWQoMCk7J1xuXHQgIH07XG5cdCAgcmV0dXJuIGFwaUNhbGwoJ25vdGlmaWNhdGlvbnMnLCAnUE9TVCcsIHBhcmFtcyk7XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykpKVxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Lypcblx0IExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICdyb2NreScpO1xuXHQgW1wicm9ja3lcIl1cblx0IExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICdtb3VudGFpbicpO1xuXHQgW1wicm9ja3lcIiwgXCJtb3VudGFpblwiXVxuXHQgTGltaXRTdG9yZS5wdXQoJ2NvbG9yYWRvJywgJ25hdGlvbmFsJyk7XG5cdCBbXCJtb3VudGFpblwiLCBcIm5hdGlvbmFsXCJdXG5cdCBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAncGFyaycpO1xuXHQgW1wibmF0aW9uYWxcIiwgXCJwYXJrXCJdXG5cdCAqL1xuXHRmdW5jdGlvbiBMaW1pdFN0b3JlKCkge31cblx0XG5cdExpbWl0U3RvcmUuc3RvcmUgPSB7fTtcblx0TGltaXRTdG9yZS5MSU1JVCA9IDI7XG5cdFxuXHRMaW1pdFN0b3JlLnB1dCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdCAgaWYgKExpbWl0U3RvcmUuc3RvcmVba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBMaW1pdFN0b3JlLnN0b3JlW2tleV0gPSBbbnVsbCwgbnVsbF07XG5cdCAgfVxuXHQgIExpbWl0U3RvcmUuc3RvcmVba2V5XS5wdXNoKHZhbHVlKTtcblx0ICBpZiAoTGltaXRTdG9yZS5zdG9yZVtrZXldLmxlbmd0aCA9PSBMaW1pdFN0b3JlLkxJTUlUICsgMSkge1xuXHQgICAgTGltaXRTdG9yZS5zdG9yZVtrZXldLnNoaWZ0KCk7XG5cdCAgfVxuXHQgIHJldHVybiBMaW1pdFN0b3JlLnN0b3JlW2tleV07XG5cdH07XG5cdFxuXHRMaW1pdFN0b3JlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICByZXR1cm4gTGltaXRTdG9yZS5zdG9yZVtrZXldO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGltaXRTdG9yZTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuXHQgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbHM6IHVuZGVmaW5lZCB9O1xuXHQgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cdCAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbHMpO1xuXHQgICAgICByZXR1cm4gZXZ0O1xuXHQgICAgfVxuXHRcblx0ICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cdFxuXHQgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG5cdCAgfSkoKTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnRyaWdnZXJFdmVudCA9IHRyaWdnZXJFdmVudDtcblx0XG5cdHZhciBfbG9nbGV2ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9sb2dsZXZlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dsZXZlbCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gdHJpZ2dlckV2ZW50KGV2ZW50TmFtZSwgZGF0YSkge1xuXHQgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ1NraXBwaW5nIHRyaWdnZXJpbmcgb2YgZXZlbnQ6JywgZXZlbnROYW1lLCAnYmVjYXVzZSB3ZSBhcmUgcnVubmluZyBpbiBhIFNlcnZpY2VXb3JrZXIgY29udGV4dC4nKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuXHQgICAgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSwgZGV0YWlsczogZGF0YVxuXHQgIH0pO1xuXHQgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9saW1pdFN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfbGltaXRTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saW1pdFN0b3JlKTtcblx0XG5cdHZhciBfbG9nbGV2ZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9sb2dsZXZlbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dsZXZlbCk7XG5cdFxuXHR2YXIgX2V2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRpZiAoKDAsIF91dGlscy5pc0Jyb3dzZXJFbnYpKCkpIHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0ICB2YXIgbG9nb1N2ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0ICAvKlxuXHQgICAge1xuXHQgICAgICBzaXplID0gWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSxcblx0ICAgICAgcG9zaXRpb24gPSAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0J10sXG5cdCAgICAgIG9mZnNldCA9ICcxNXB4IDE1cHgnLFxuXHQgICAgICB0aGVtZSA9IFsncmVkLXdoaXRlJywgJ3doaXRlLXJlZCddLFxuXHQgICAgICBpbmFjdGl2ZU9wYWNpdHk6IDAuNzUsXG5cdCAgICAgIHNob3dMYXVuY2hlckFmdGVyOiAxMDAwLFxuXHQgICAgICBtZXNzYWdlczoge1xuXHQgICAgICAgICAgJ3Vuc3Vic2NyaWJlZCc6ICdTdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycsXG5cdCAgICAgICAgICAnc3Vic2NyaWJlZCc6ICdZb3UncmUgc3Vic2NyaWJlZCB0byBub3RpZmljYXRpb25zJ1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgKi9cblx0XG5cdCAgdmFyIEJlbGwgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQmVsbCgpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgICB2YXIgX3JlZiRzaXplID0gX3JlZi5zaXplO1xuXHQgICAgICB2YXIgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdW5kZWZpbmVkID8gJ3NtYWxsJyA6IF9yZWYkc2l6ZTtcblx0ICAgICAgdmFyIF9yZWYkcG9zaXRpb24gPSBfcmVmLnBvc2l0aW9uO1xuXHQgICAgICB2YXIgcG9zaXRpb24gPSBfcmVmJHBvc2l0aW9uID09PSB1bmRlZmluZWQgPyAnYm90dG9tLWxlZnQnIDogX3JlZiRwb3NpdGlvbjtcblx0ICAgICAgdmFyIF9yZWYkdGhlbWUgPSBfcmVmLnRoZW1lO1xuXHQgICAgICB2YXIgdGhlbWUgPSBfcmVmJHRoZW1lID09PSB1bmRlZmluZWQgPyAncmVkLXdoaXRlJyA6IF9yZWYkdGhlbWU7XG5cdCAgICAgIHZhciBfcmVmJHNob3dMYXVuY2hlckFmdGUgPSBfcmVmLnNob3dMYXVuY2hlckFmdGVyO1xuXHQgICAgICB2YXIgc2hvd0xhdW5jaGVyQWZ0ZXIgPSBfcmVmJHNob3dMYXVuY2hlckFmdGUgPT09IHVuZGVmaW5lZCA/IDEwIDogX3JlZiRzaG93TGF1bmNoZXJBZnRlO1xuXHQgICAgICB2YXIgX3JlZiRzaG93QmFkZ2VBZnRlciA9IF9yZWYuc2hvd0JhZGdlQWZ0ZXI7XG5cdCAgICAgIHZhciBzaG93QmFkZ2VBZnRlciA9IF9yZWYkc2hvd0JhZGdlQWZ0ZXIgPT09IHVuZGVmaW5lZCA/IDMwMCA6IF9yZWYkc2hvd0JhZGdlQWZ0ZXI7XG5cdCAgICAgIHZhciBfcmVmJG1lc3NhZ2VzID0gX3JlZi5tZXNzYWdlcztcblx0ICAgICAgdmFyIG1lc3NhZ2VzID0gX3JlZiRtZXNzYWdlcyA9PT0gdW5kZWZpbmVkID8ge1xuXHQgICAgICAgICd1bnN1YnNjcmliZWQnOiAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnLFxuXHQgICAgICAgICdzdWJzY3JpYmVkJzogXCJZb3UncmUgc3Vic2NyaWJlZCB0byBub3RpZmljYXRpb25zXCJcblx0ICAgICAgfSA6IF9yZWYkbWVzc2FnZXM7XG5cdCAgICAgIHZhciBfcmVmJHByZW5vdGlmeSA9IF9yZWYucHJlbm90aWZ5O1xuXHQgICAgICB2YXIgcHJlbm90aWZ5ID0gX3JlZiRwcmVub3RpZnkgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHByZW5vdGlmeTtcblx0XG5cdCAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCZWxsKTtcblx0XG5cdCAgICAgIHRoaXMub3B0aW9ucyA9IHtcblx0ICAgICAgICBzaXplOiBzaXplLFxuXHQgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcblx0ICAgICAgICB0aGVtZTogdGhlbWUsXG5cdCAgICAgICAgc2hvd0xhdW5jaGVyQWZ0ZXI6IHNob3dMYXVuY2hlckFmdGVyLFxuXHQgICAgICAgIHNob3dCYWRnZUFmdGVyOiBzaG93QmFkZ2VBZnRlcixcblx0ICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG5cdCAgICAgICAgcHJlbm90aWZ5OiBwcmVub3RpZnlcblx0ICAgICAgfTtcblx0ICAgICAgdGhpcy5zaXplID0gdGhpcy5vcHRpb25zLnNpemU7XG5cdCAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb247XG5cdCAgICAgIHRoaXMubWVzc2FnZXMgPSB0aGlzLm9wdGlvbnMubWVzc2FnZXM7XG5cdCAgICAgIHRoaXMubWVzc2FnZXMucXVldWVkID0gW107XG5cdCAgICAgIGlmICghdGhpcy5tZXNzYWdlcy51bnN1YnNjcmliZWQpIHtcblx0ICAgICAgICB0aGlzLm1lc3NhZ2VzLnVuc3Vic2NyaWJlZCA9ICdTdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucyc7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VzLnN1YnNjcmliZWQpIHtcblx0ICAgICAgICB0aGlzLm1lc3NhZ2VzLnN1YnNjcmliZWQgPSBcIllvdSdyZSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnN0YXRlcyA9IHtcblx0ICAgICAgICAndW5pbml0aWFsaXplZCc6ICdUaGUgYmVsbCBpcyBsb2FkaW5nLicsXG5cdCAgICAgICAgJ3N1YnNjcmliZWQnOiAnVGhlIHVzZXIgaXMgc3Vic2NyaWJlZCcsXG5cdCAgICAgICAgJ3Vuc3Vic2NyaWJlZCc6ICdUaGUgdXNlciBpcyB1bnN1YnNjcmliZWQnXG5cdCAgICAgIH07XG5cdCAgICAgIHRoaXMuc3RhdGUgPSAndW5pbml0aWFsaXplZCc7XG5cdFxuXHQgICAgICAvLyBJbnN0YWxsIGV2ZW50IGhvb2tzXG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYmVsbC5zdGF0ZS5jaGFuZ2VkJywgZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgY29uc29sZS5pbmZvKCdvbmVzaWduYWwuYmVsbC5zdGF0ZS5jaGFuZ2VkJywgc3RhdGUuZGV0YWlsKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmJlbGwuY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG9yaWdpbmFsQ2FsbCA9IGZ1bmN0aW9uIG9yaWdpbmFsQ2FsbCgpIHtcblx0ICAgICAgICAgIF90aGlzLmhpZGVNZXNzYWdlKCk7XG5cdCAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUgPT09ICd1bnN1YnNjcmliZWQnKSB7XG5cdCAgICAgICAgICAgIE9uZVNpZ25hbC5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zKCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoIV90aGlzLmlzRGlhbG9nT3BlbmVkKCkpIHtcblx0ICAgICAgICAgICAgICBfdGhpcy5zaG93RGlhbG9nKCkudGhlbihmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSBfdGhpcztcblx0ICAgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoZG9jdW1lbnQsICdjbGljaycsIGZ1bmN0aW9uIChlLCBkZXN0cm95RXZlbnRMaXN0ZW5lcikge1xuXHQgICAgICAgICAgICAgICAgICB2YXIgd2FzRGlhbG9nQ2xpY2tlZCA9IHNlbGYubGF1bmNoZXJEaWFsb2cuY29udGFpbnMoZS50YXJnZXQpO1xuXHQgICAgICAgICAgICAgICAgICBpZiAod2FzRGlhbG9nQ2xpY2tlZCkge30gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVzdHJveUV2ZW50TGlzdGVuZXIoKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVEaWFsb2coKS50aGVuKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMud2FzSW5hY3RpdmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0SW5hY3RpdmUodHJ1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLndhc0luYWN0aXZlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuXHQgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIGlmIChfdGhpcy5pc0luYWN0aXZlKCkpIHtcblx0ICAgICAgICAgIF90aGlzLndhc0luYWN0aXZlID0gdHJ1ZTtcblx0ICAgICAgICAgIF90aGlzLnNldEluYWN0aXZlKGZhbHNlKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgb3JpZ2luYWxDYWxsKCk7XG5cdCAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgb3JpZ2luYWxDYWxsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYmVsbC5ob3ZlcmluZycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoX3RoaXMuaXNJbmFjdGl2ZSgpKSB7XG5cdCAgICAgICAgICBfdGhpcy53YXNJbmFjdGl2ZSA9IHRydWU7XG5cdCAgICAgICAgICBfdGhpcy5zZXRJbmFjdGl2ZShmYWxzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIElmIHRoZXJlJ3MgYWxyZWFkeSBhIG1lc3NhZ2UgYmVpbmcgZm9yY2Ugc2hvd24sIGRvIG5vdCBvdmVycmlkZVxuXHQgICAgICAgIGlmIChfdGhpcy5pc01lc3NhZ2VPcGVuZWQoKSB8fCBfdGhpcy5pc0RpYWxvZ09wZW5lZCgpKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmRlYnVnKCdUaGVyZSBpcyBhbHJlYWR5IGEgbWVzc2FnZSBiZWluZyBkaXNwbGF5ZWQ7IHdhaXQgdW50aWwgaXQgaXMgaGlkZGVuIGFnYWluLicpO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWVzc2FnZXMucXVldWVkLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIHZhciBkZXF1ZXVlZE1lc3NhZ2UgPSBfdGhpcy5kZXF1ZXVlTWVzc2FnZSgpO1xuXHQgICAgICAgICAgX3RoaXMuc2V0TWVzc2FnZShkZXF1ZXVlZE1lc3NhZ2UpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy5zZXRNZXNzYWdlKF90aGlzLm1lc3NhZ2VzW190aGlzLnN0YXRlXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF90aGlzLnNob3dNZXNzYWdlKCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLmhvdmVyZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKF90aGlzLmlzTWVzc2FnZU9wZW5lZCgpKSB7XG5cdCAgICAgICAgICBfdGhpcy5oaWRlTWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRNZXNzYWdlKF90aGlzLm1lc3NhZ2VzW190aGlzLnN0YXRlXSk7XG5cdCAgICAgICAgICAgIGlmIChfdGhpcy53YXNJbmFjdGl2ZSAmJiAhX3RoaXMuaXNEaWFsb2dPcGVuZWQoKSkge1xuXHQgICAgICAgICAgICAgIF90aGlzLnNldEluYWN0aXZlKHRydWUpO1xuXHQgICAgICAgICAgICAgIF90aGlzLndhc0luYWN0aXZlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX3RoaXMuc2V0U3RhdGUoZS5kZXRhaWwgPyAnc3Vic2NyaWJlZCcgOiAndW5zdWJzY3JpYmVkJyk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5hY3Rpb25zLndlbGNvbWVub3RpZmljYXRpb25zZW50JywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfdGhpcy5kaXNwbGF5TWVzc2FnZShcIlRoYW5rcyBmb3Igc3Vic2NyaWJpbmchXCIsIDI1MDApLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMuc2V0SW5hY3RpdmUodHJ1ZSk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEJlbGwsIFt7XG5cdCAgICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIGlmICghKDAsIF91dGlscy5pc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKSgpKSByZXR1cm47XG5cdFxuXHQgICAgICAgIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgYmVsbFxuXHQgICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVEb21FbGVtZW50KSgnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyJyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB3aW5kb3cuYWRkRG9tRWxlbWVudCA9IF91dGlscy5hZGREb21FbGVtZW50O1xuXHQgICAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBjb250YWluZXJcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKCdib2R5JywgJ2JlZm9yZWVuZCcsICc8ZGl2IGlkPVwib25lc2lnbmFsLWJlbGwtY29udGFpbmVyXCIgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1jb250YWluZXIgb25lc2lnbmFsLXJlc2V0XCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmNvbnRhaW5lciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGlkPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXJcIiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGJ1dHRvblxuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkRG9tRWxlbWVudCkodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGJhZGdlXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZVwiPjwvZGl2PicpO1xuXHQgICAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBtZXNzYWdlXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5XCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGRpYWxvZ1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkRG9tRWxlbWVudCkodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keVwiPjwvZGl2PicpO1xuXHRcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKHRoaXMubGF1bmNoZXJEaWFsb2dCb2R5LCAnYmVmb3JlZW5kJywgJ1xcbiAgICAgICAgPGgxPk1hbmFnZSBTaXRlIE5vdGlmaWNhdGlvbnM8L2gxPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi1pY29uXCI+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRhaW5lclwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LXNob3J0XCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uLXRleHRcIj48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24tdGV4dFwiPjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb250YWluZXJcIj5cXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJhY3Rpb24tYnV0dG9uXCI+VW5zdWJzY3JpYmU8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIj48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJraWNrYmFja1wiPlBvd2VyZWQgYnkgT25lU2lnbmFsPC9kaXY+XFxuICAgICAgICAnKTtcblx0XG5cdCAgICAgICAgLy8gSW5zdGFsbCBldmVudHNcblx0ICAgICAgICB0aGlzLmxhdW5jaGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHZhciBpc0hvdmVyaW5nRGF0YSA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG5cdCAgICAgICAgICBpZiAoaXNIb3ZlcmluZ0RhdGEgPT09IHVuZGVmaW5lZCB8fCBpc0hvdmVyaW5nRGF0YVtpc0hvdmVyaW5nRGF0YS5sZW5ndGggLSAxXSA9PT0gJ291dCcpIHtcblx0ICAgICAgICAgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmJlbGwuaG92ZXJpbmcnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdXQnKTtcblx0ICAgICAgICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5iZWxsLmhvdmVyZWQnKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZURvbUVsZW1lbnQpKCcucHVsc2UtcmluZycpO1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KShfdGhpczIubGF1bmNoZXJCdXR0b24sICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cInB1bHNlLXJpbmdcIj48L2Rpdj4nKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJ1dHRvbiwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUnKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJ1dHRvbiwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUnKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuYmVsbC5idXR0b24uY2xpY2snKTtcblx0ICAgICAgICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5iZWxsLmNsaWNrJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIC8vIEFkZCB2aXN1YWwgZWxlbWVudHNcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKHRoaXMubGF1bmNoZXJCdXR0b24sICdiZWZvcmVFbmQnLCBsb2dvU3ZnKTtcblx0XG5cdCAgICAgICAgLy8gQWRkIGRlZmF1bHQgY2xhc3Nlc1xuXHQgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdib3R0b20tbGVmdCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1sZWZ0Jyk7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQnKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbS1yaWdodCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1yaWdodCcpO1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCcpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgcG9zaXRpb24gJyArIHRoaXMub3B0aW9ucy5wb3NpdGlvbik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRoZW1lID09PSAnZGVmYXVsdCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0Jyk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudGhlbWUgPT09ICdpbnZlcnNlJykge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE9uZVNpZ25hbCBiZWxsIHRoZW1lICcgKyB0aGlzLm9wdGlvbnMudGhlbWUpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgT25lU2lnbmFsLmlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkKGZ1bmN0aW9uIChpc1B1c2hFbmFibGVkKSB7XG5cdCAgICAgICAgICBpZiAoaXNQdXNoRW5hYmxlZCkge1xuXHQgICAgICAgICAgICBjb25zb2xlLmxvZygnaXNQdXNoRW5hYmxlZCcsIGlzUHVzaEVuYWJsZWQpO1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IF90aGlzMi5zZXRJbmFjdGl2ZSh0cnVlKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIERvIG5vdGhpbmcsIHJldHVybnMgYSBwcm9taXNlIHRoYXQgZXhlY3V0ZXMgaW1tZWRpYXRlbHlcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczIuX3NjaGVkdWxlRXZlbnQoX3RoaXMyLm9wdGlvbnMuc2hvd0xhdW5jaGVyQWZ0ZXIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICBfdGhpczIuc2hvd0xhdW5jaGVyKCk7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3NjaGVkdWxlRXZlbnQoX3RoaXMyLm9wdGlvbnMuc2hvd0JhZGdlQWZ0ZXIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChfdGhpczIub3B0aW9ucy5wcmVub3RpZnkpIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKCFpc1B1c2hFbmFibGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVucXVldWVNZXNzYWdlKCdDbGljayB0byBzdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycpO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgX3RoaXMyLmluaXRpYWxpemVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnX3NjaGVkdWxlRXZlbnQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gX3NjaGVkdWxlRXZlbnQobXNJbkZ1dHVyZSwgdGFzaykge1xuXHQgICAgICAgIGlmICh0eXBlb2YgdGFzayAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRvIGJlIHNjaGVkdWxlZCBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICAgICAgaWYgKG1zSW5GdXR1cmUgPD0gMCkge1xuXHQgICAgICAgICAgdGFzaygpO1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRhc2soKTtcblx0ICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgfSwgbXNJbkZ1dHVyZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjb3JyZWN0IG5ldyBjdXJyZW50IHN0YXRlLiBSZXR1cm5zIGEgcHJvbWlzZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICd1cGRhdGVTdGF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGF0ZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgICAgT25lU2lnbmFsLmlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkKGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcblx0ICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZShpc0VuYWJsZWQgPyAnc3Vic2NyaWJlZCcgOiAndW5zdWJzY3JpYmVkJyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBzcGVjaWZpZWQgbmV3IHN0YXRlLlxuXHQgICAgICAgKiBAcGFyYW0gbmV3U3RhdGUgT25lIG9mIFsnc3Vic2NyaWJlZCcsICd1bnN1YnNjcmliZWQnXS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRTdGF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuZXdTdGF0ZSkpIHtcblx0ICAgICAgICAgIHZhciBsYXN0U3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuXHQgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAhPT0gbmV3U3RhdGUpIHtcblx0ICAgICAgICAgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHsgZnJvbTogbGFzdFN0YXRlLCB0bzogbmV3U3RhdGUgfSk7XG5cdCAgICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkIGhlcmUgaW4gdGhlIG5ldyBzdGF0ZVxuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSByZXNldCB0byB0aGUgc2FtZSBzdGF0ZVxuXHQgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKHRoaXMubWVzc2FnZXNbbmV3U3RhdGVdKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdDYW5ub3QgdXBkYXRlIHRvIGludmFsaWQgbmV3IHN0YXRlJywgbmV3U3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdlbnF1ZXVlTWVzc2FnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbnF1ZXVlTWVzc2FnZShtZXNzYWdlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBub3RpZnkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgdGhpcy5tZXNzYWdlcy5xdWV1ZWQucHVzaChtZXNzYWdlKTtcblx0ICAgICAgICBpZiAodGhpcy5pc0JhZGdlT3BlbigpKSB7XG5cdCAgICAgICAgICB0aGlzLmhpZGVCYWRnZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczQuaW5jcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgICAgX3RoaXM0LnNob3dCYWRnZSgpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMuaW5jcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzbyB0aGUgYmFkZ2UgZG9lc24ndCBpbW1lZGlhdGVseSByZW5kZXJcblx0ICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2RlcXVldWVNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlcXVldWVNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGRlcXVldWVkTWVzc2FnZSA9IHRoaXMubWVzc2FnZXMucXVldWVkLnBvcChtZXNzYWdlKTtcblx0ICAgICAgICBpZiAodGhpcy5pc0JhZGdlT3BlbigpKSB7XG5cdCAgICAgICAgICB0aGlzLmhpZGVCYWRnZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczUuZGVjcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgICAgX3RoaXM1LnNob3dCYWRnZSgpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBuZXdCYWRnZU51bWJlciA9IHRoaXMuZGVjcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgIGlmIChuZXdCYWRnZU51bWJlciA8PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZUJhZGdlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkZXF1ZXVlZE1lc3NhZ2U7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc2hvd0RpYWxvZycsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93RGlhbG9nKCkge1xuXHQgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZCcpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzNi5sYXVuY2hlckRpYWxvZywgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzNi5sYXVuY2hlckRpYWxvZykge1xuXHQgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2hpZGVEaWFsb2cnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZURpYWxvZygpIHtcblx0ICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblx0XG5cdCAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlckRpYWxvZywgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5vbmNlKShfdGhpczcubGF1bmNoZXJEaWFsb2csICd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczcubGF1bmNoZXJEaWFsb2cpIHtcblx0ICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdpc0RpYWxvZ09wZW5lZCcsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0RpYWxvZ09wZW5lZCgpIHtcblx0ICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzaG93TGF1bmNoZXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0xhdW5jaGVyKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdoaWRlTGF1bmNoZXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUxhdW5jaGVyKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuXHQgICAgICAgIHRoaXMubGF1bmNoZXJNZXNzYWdlQm9keS5pbm5lckhUTUwgPSBtZXNzYWdlO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3Nob3dNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dNZXNzYWdlKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXJNZXNzYWdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdoaWRlTWVzc2FnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlTWVzc2FnZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblx0XG5cdCAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlck1lc3NhZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLW9wZW5lZCcpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzOC5sYXVuY2hlck1lc3NhZ2UsICd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczgubGF1bmNoZXJNZXNzYWdlKSB7XG5cdCAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNNZXNzYWdlT3BlbmVkJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzTWVzc2FnZU9wZW5lZCgpIHtcblx0ICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZGlzcGxheU1lc3NhZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheU1lc3NhZ2UoY29udGVudCkge1xuXHQgICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgaGlkZUFmdGVyID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgIGlmIChfdGhpczkuaXNNZXNzYWdlT3BlbmVkKCkpIHtcblx0ICAgICAgICAgICAgX3RoaXM5LmhpZGVNZXNzYWdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXM5LnNldE1lc3NhZ2UoY29udGVudCk7XG5cdCAgICAgICAgICAgICAgX3RoaXM5LnNob3dNZXNzYWdlKCk7XG5cdCAgICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuXHQgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgIF90aGlzOS5oaWRlTWVzc2FnZSgpO1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSwgaGlkZUFmdGVyKTtcblx0ICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF90aGlzOS5zZXRNZXNzYWdlKGNvbnRlbnQpO1xuXHQgICAgICAgICAgICBfdGhpczkuc2hvd01lc3NhZ2UoKTtcblx0ICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuXHQgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXM5LmhpZGVNZXNzYWdlKCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgIH0sIGhpZGVBZnRlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3NldEJhZGdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJhZGdlKGNvbnRlbnQpIHtcblx0ICAgICAgICB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MID0gY29udGVudDtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzaG93QmFkZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0JhZGdlKCkge1xuXHQgICAgICAgIGlmICh0aGlzLmJhZGdlSGFzQ29udGVudCgpKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyQmFkZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWQnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNCYWRnZU9wZW4nLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNCYWRnZU9wZW4oKSB7XG5cdCAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1iYWRnZS1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdiYWRnZUhhc0NvbnRlbnQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gYmFkZ2VIYXNDb250ZW50KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MLmxlbmd0aCA+IDA7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZ2V0QmFkZ2VDb250ZW50Jyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJhZGdlQ29udGVudCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlckJhZGdlLmlubmVySFRNTDtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdpbmNyZW1lbnRCYWRnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbmNyZW1lbnRCYWRnZSgpIHtcblx0ICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0QmFkZ2VDb250ZW50KCk7XG5cdCAgICAgICAgLy8gSWYgaXQgSVMgYSBudW1iZXIgKGlzIG5vdCBub3QgYSBudW1iZXIpXG5cdCAgICAgICAgaWYgKCFpc05hTihjb250ZW50KSkge1xuXHQgICAgICAgICAgdmFyIGJhZGdlTnVtYmVyID0gK2NvbnRlbnQ7IC8vIENvZXJjZSB0byBpbnRcblx0ICAgICAgICAgIGJhZGdlTnVtYmVyICs9IDE7XG5cdCAgICAgICAgICB0aGlzLnNldEJhZGdlKGJhZGdlTnVtYmVyKTtcblx0ICAgICAgICAgIHJldHVybiBiYWRnZU51bWJlcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZGVjcmVtZW50QmFkZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVjcmVtZW50QmFkZ2UoKSB7XG5cdCAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldEJhZGdlQ29udGVudCgpO1xuXHQgICAgICAgIC8vIElmIGl0IElTIGEgbnVtYmVyIChpcyBub3Qgbm90IGEgbnVtYmVyKVxuXHQgICAgICAgIGlmICghaXNOYU4oY29udGVudCkpIHtcblx0ICAgICAgICAgIHZhciBiYWRnZU51bWJlciA9ICtjb250ZW50OyAvLyBDb2VyY2UgdG8gaW50XG5cdCAgICAgICAgICBiYWRnZU51bWJlciAtPSAxO1xuXHQgICAgICAgICAgdGhpcy5zZXRCYWRnZShiYWRnZU51bWJlcik7XG5cdCAgICAgICAgICByZXR1cm4gYmFkZ2VOdW1iZXI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2hpZGVCYWRnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQmFkZ2UoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykoX3RoaXMxMC5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Utb3BlbmVkJyk7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzMTAubGF1bmNoZXJCYWRnZSwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTAubGF1bmNoZXJCYWRnZSkge1xuXHQgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNJbmFjdGl2ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0luYWN0aXZlKCkge1xuXHQgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRJbmFjdGl2ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJbmFjdGl2ZShpc0luYWN0aXZlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXHRcblx0ICAgICAgICBpZiAoaXNJbmFjdGl2ZSkge1xuXHQgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuXHQgICAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUJhZGdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykoX3RoaXMxMS5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zZXRTaXplKCdzbWFsbCcpOztcblx0ICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSBfdGhpczExLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cblx0ICAgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSgnc21hbGwnKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTaXplKCdzbWFsbCcpO1xuXHQgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgIC8vIE9uY2UgdGhlIGxhdW5jaGVyIGhhcyBmaW5pc2hlZCBzaHJpbmtpbmcgZG93blxuXHQgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczExLmxhdW5jaGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUJhZGdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykoX3RoaXMxMS5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zZXRTaXplKF90aGlzMTEub3B0aW9ucy5zaXplKTtcblx0ICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSBfdGhpczExLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cblx0ICAgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG5cdCAgICAgICAgICAgIHZhciBsYXVuY2hlciA9IHRoaXMubGF1bmNoZXI7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgLy8gT25jZSB0aGUgbGF1bmNoZXIgaGFzIGZpbmlzaGVkIHNocmlua2luZyBkb3duXG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5vbmNlKShfdGhpczExLmxhdW5jaGVyLCAndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRTaXplJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNpemUoc2l6ZSkge1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbScpO1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCcpO1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuXHQgICAgICAgIGlmIChzaXplID09PSAnc21hbGwnKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20nKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT09ICdtZWRpdW0nKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQnKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT09ICdsYXJnZScpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgc2l6ZSAnICsgc2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2NvbnRhaW5lcicsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXInLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJCdXR0b24nLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJCYWRnZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZScpO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2xhdW5jaGVyTWVzc2FnZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJNZXNzYWdlQm9keScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHknKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdsYXVuY2hlckRpYWxvZycsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdsYXVuY2hlckRpYWxvZ0JvZHknLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHknKTtcblx0ICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCZWxsO1xuXHQgIH0pKCk7XG5cdFxuXHQgIG1vZHVsZS5leHBvcnRzID0gQmVsbDtcblx0fVxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9iZWxsLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2JlbGwuc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiogQ2xlYW5TbGF0ZVxcbiogICBnaXRodWIuY29tL3ByZW1hc2FnYXIvY2xlYW5zbGF0ZVxcbipcXG4qLy5vbmVzaWduYWwtcmVzZXQsLm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYWJiciwub25lc2lnbmFsLXJlc2V0IGFjcm9ueW0sLm9uZXNpZ25hbC1yZXNldCBhZGRyZXNzLC5vbmVzaWduYWwtcmVzZXQgYXBwbGV0LC5vbmVzaWduYWwtcmVzZXQgYXJlYSwub25lc2lnbmFsLXJlc2V0IGFydGljbGUsLm9uZXNpZ25hbC1yZXNldCBhc2lkZSwub25lc2lnbmFsLXJlc2V0IGF1ZGlvLC5vbmVzaWduYWwtcmVzZXQgYiwub25lc2lnbmFsLXJlc2V0IGJpZywub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBidXR0b24sLm9uZXNpZ25hbC1yZXNldCBjYW52YXMsLm9uZXNpZ25hbC1yZXNldCBjYXB0aW9uLC5vbmVzaWduYWwtcmVzZXQgY2l0ZSwub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBjb2wsLm9uZXNpZ25hbC1yZXNldCBjb2xncm91cCwub25lc2lnbmFsLXJlc2V0IGRhdGFsaXN0LC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkZWwsLm9uZXNpZ25hbC1yZXNldCBkZm4sLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZW0sLm9uZXNpZ25hbC1yZXNldCBmaWVsZHNldCwub25lc2lnbmFsLXJlc2V0IGZpZ2NhcHRpb24sLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBpLC5vbmVzaWduYWwtcmVzZXQgaWZyYW1lLC5vbmVzaWduYWwtcmVzZXQgaW1nLC5vbmVzaWduYWwtcmVzZXQgaW5wdXQsLm9uZXNpZ25hbC1yZXNldCBpbnMsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBsYWJlbCwub25lc2lnbmFsLXJlc2V0IGxlZ2VuZCwub25lc2lnbmFsLXJlc2V0IGxpLC5vbmVzaWduYWwtcmVzZXQgbWFpbiwub25lc2lnbmFsLXJlc2V0IG1hcCwub25lc2lnbmFsLXJlc2V0IG1hcmssLm9uZXNpZ25hbC1yZXNldCBtZW51LC5vbmVzaWduYWwtcmVzZXQgbWV0YSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9iamVjdCwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0Z3JvdXAsLm9uZXNpZ25hbC1yZXNldCBvcHRpb24sLm9uZXNpZ25hbC1yZXNldCBvdXRwdXQsLm9uZXNpZ25hbC1yZXNldCBwLC5vbmVzaWduYWwtcmVzZXQgcHJlLC5vbmVzaWduYWwtcmVzZXQgcHJvZ3Jlc3MsLm9uZXNpZ25hbC1yZXNldCBxLC5vbmVzaWduYWwtcmVzZXQgc2FtcCwub25lc2lnbmFsLXJlc2V0IHNlY3Rpb24sLm9uZXNpZ25hbC1yZXNldCBzZWxlY3QsLm9uZXNpZ25hbC1yZXNldCBzbWFsbCwub25lc2lnbmFsLXJlc2V0IHNwYW4sLm9uZXNpZ25hbC1yZXNldCBzdHJpa2UsLm9uZXNpZ25hbC1yZXNldCBzdHJvbmcsLm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdW1tYXJ5LC5vbmVzaWduYWwtcmVzZXQgc3VwLC5vbmVzaWduYWwtcmVzZXQgdGFibGUsLm9uZXNpZ25hbC1yZXNldCB0Ym9keSwub25lc2lnbmFsLXJlc2V0IHRkLC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWEsLm9uZXNpZ25hbC1yZXNldCB0Zm9vdCwub25lc2lnbmFsLXJlc2V0IHRoLC5vbmVzaWduYWwtcmVzZXQgdGhlYWQsLm9uZXNpZ25hbC1yZXNldCB0aW1lLC5vbmVzaWduYWwtcmVzZXQgdHIsLm9uZXNpZ25hbC1yZXNldCB0dCwub25lc2lnbmFsLXJlc2V0IHVsLC5vbmVzaWduYWwtcmVzZXQgdmFyLC5vbmVzaWduYWwtcmVzZXQgdmlkZW97YmFja2dyb3VuZC1hdHRhY2htZW50OnNjcm9sbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMDtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQ7Ym9yZGVyLWNvbG9yOiMwMDA7Ym9yZGVyOm1lZGl1bSBub25lIGN1cnJlbnRDb2xvcjtib3R0b206YXV0bztjbGVhcjpub25lO2NsaXA6YXV0bztjb2xvcjppbmhlcml0O2NvdW50ZXItaW5jcmVtZW50Om5vbmU7Y291bnRlci1yZXNldDpub25lO2N1cnNvcjphdXRvO2RpcmVjdGlvbjppbmhlcml0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0Om5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDppbmhlcml0O2hlaWdodDphdXRvO2xlZnQ6YXV0bztsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6aW5oZXJpdDtsaXN0LXN0eWxlLXR5cGU6aW5oZXJpdDtsaXN0LXN0eWxlLXBvc2l0aW9uOm91dHNpZGU7bGlzdC1zdHlsZS1pbWFnZTpub25lO21hcmdpbjowO21heC1oZWlnaHQ6bm9uZTttYXgtd2lkdGg6bm9uZTttaW4taGVpZ2h0OjA7bWluLXdpZHRoOjA7b3BhY2l0eToxO291dGxpbmU6bWVkaXVtIG5vbmUgaW52ZXJ0O292ZXJmbG93OnZpc2libGU7cGFkZGluZzowO3Bvc2l0aW9uOnN0YXRpYztxdW90ZXM6XFxcIlxcXCIgXFxcIlxcXCI7cmlnaHQ6YXV0bzt0YWJsZS1sYXlvdXQ6YXV0bzt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3RvcDphdXRvO3VuaWNvZGUtYmlkaTpub3JtYWw7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7dmlzaWJpbGl0eTppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDt3aWR0aDphdXRvO3dvcmQtc3BhY2luZzpub3JtYWw7ei1pbmRleDphdXRvO2JhY2tncm91bmQtb3JpZ2luOnBhZGRpbmctYm94O2JhY2tncm91bmQtY2xpcDpib3JkZXItYm94O2JhY2tncm91bmQtc2l6ZTphdXRvOy13ZWJraXQtYm9yZGVyLWltYWdlOm5vbmU7LW8tYm9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLXJhZGl1czowO2JveC1zaGFkb3c6bm9uZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtY29sdW1uLWNvdW50OmF1dG87LW1vei1jb2x1bW4tY291bnQ6YXV0bztjb2x1bW4tY291bnQ6YXV0bzstd2Via2l0LWNvbHVtbi1nYXA6bm9ybWFsOy1tb3otY29sdW1uLWdhcDpub3JtYWw7Y29sdW1uLWdhcDpub3JtYWw7LXdlYmtpdC1jb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy1tb3otY29sdW1uLXJ1bGU6bWVkaXVtIG5vbmUgIzAwMDtjb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy13ZWJraXQtY29sdW1uLXNwYW46MTstbW96LWNvbHVtbi1zcGFuOjE7Y29sdW1uLXNwYW46MTstd2Via2l0LWNvbHVtbi13aWR0aDphdXRvOy1tb3otY29sdW1uLXdpZHRoOmF1dG87Y29sdW1uLXdpZHRoOmF1dG87Zm9udC1mZWF0dXJlLXNldHRpbmdzOm5vcm1hbDtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlOy13ZWJraXQtaHlwaGVuczptYW51YWw7LW1vei1oeXBoZW5zOm1hbnVhbDtoeXBoZW5zOm1hbnVhbDstd2Via2l0LXBlcnNwZWN0aXZlOm5vbmU7LW1zLXBlcnNwZWN0aXZlOm5vbmU7LW8tcGVyc3BlY3RpdmU6bm9uZTtwZXJzcGVjdGl2ZTpub25lOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7LW1zLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy1vLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LXNoYWRvdzpub25lOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMHMgZWFzZSAwczt0cmFuc2l0aW9uOmFsbCAwcyBlYXNlIDBzOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7LW1zLXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOmZsYXQ7dHJhbnNmb3JtLXN0eWxlOmZsYXQ7d29yZC1icmVhazpub3JtYWx9Lm9uZXNpZ25hbC1yZXNldCwub25lc2lnbmFsLXJlc2V0IGFkZHJlc3MsLm9uZXNpZ25hbC1yZXNldCBhcnRpY2xlLC5vbmVzaWduYWwtcmVzZXQgYXVkaW8sLm9uZXNpZ25hbC1yZXNldCBibG9ja3F1b3RlLC5vbmVzaWduYWwtcmVzZXQgY2FwdGlvbiwub25lc2lnbmFsLXJlc2V0IGNvbGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkaWFsb2csLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZmllbGRzZXQsLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBtYWluLC5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0aW9uLC5vbmVzaWduYWwtcmVzZXQgcCwub25lc2lnbmFsLXJlc2V0IHByZSwub25lc2lnbmFsLXJlc2V0IHByb2dyZXNzLC5vbmVzaWduYWwtcmVzZXQgc2VjdGlvbiwub25lc2lnbmFsLXJlc2V0IHN1bW1hcnksLm9uZXNpZ25hbC1yZXNldCB1bCwub25lc2lnbmFsLXJlc2V0IHZpZGVve2Rpc3BsYXk6YmxvY2t9Lm9uZXNpZ25hbC1yZXNldCBoMSwub25lc2lnbmFsLXJlc2V0IGgyLC5vbmVzaWduYWwtcmVzZXQgaDMsLm9uZXNpZ25hbC1yZXNldCBoNCwub25lc2lnbmFsLXJlc2V0IGg1LC5vbmVzaWduYWwtcmVzZXQgaDZ7Zm9udC13ZWlnaHQ6NzAwfS5vbmVzaWduYWwtcmVzZXQgaDF7Zm9udC1zaXplOjJlbTtwYWRkaW5nOi42N2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoMntmb250LXNpemU6MS41ZW07cGFkZGluZzouODNlbSAwfS5vbmVzaWduYWwtcmVzZXQgaDN7Zm9udC1zaXplOjEuMTdlbTtwYWRkaW5nOi44M2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoNHtmb250LXNpemU6MWVtfS5vbmVzaWduYWwtcmVzZXQgaDV7Zm9udC1zaXplOi44M2VtfS5vbmVzaWduYWwtcmVzZXQgcHttYXJnaW46MWVtIDB9Lm9uZXNpZ25hbC1yZXNldCB0YWJsZXtkaXNwbGF5OnRhYmxlfS5vbmVzaWduYWwtcmVzZXQgdGhlYWR7ZGlzcGxheTp0YWJsZS1oZWFkZXItZ3JvdXB9Lm9uZXNpZ25hbC1yZXNldCB0Ym9keXtkaXNwbGF5OnRhYmxlLXJvdy1ncm91cH0ub25lc2lnbmFsLXJlc2V0IHRmb290e2Rpc3BsYXk6dGFibGUtZm9vdGVyLWdyb3VwfS5vbmVzaWduYWwtcmVzZXQgdHJ7ZGlzcGxheTp0YWJsZS1yb3d9Lm9uZXNpZ25hbC1yZXNldCB0ZCwub25lc2lnbmFsLXJlc2V0IHRoe2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjJweH0ub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgdWx7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgb2wgbGksLm9uZXNpZ25hbC1yZXNldCBvbCBvbCBsaSwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgdWwgbGksLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgb2wgbGksLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIHVsIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWwgbGl7bGlzdC1zdHlsZS1wb3NpdGlvbjppbnNpZGU7bWFyZ2luLXRvcDouMDhlbX0ub25lc2lnbmFsLXJlc2V0IG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgb2wsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIHVsIHVse3BhZGRpbmctbGVmdDo0MHB4O21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgbmF2IG9sLC5vbmVzaWduYWwtcmVzZXQgbmF2IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lfS5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjfS5vbmVzaWduYWwtcmVzZXQgb2x7bGlzdC1zdHlsZS10eXBlOmRlY2ltYWx9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgdWwgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIHVse2xpc3Qtc3R5bGUtdHlwZTpjaXJjbGV9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSBtZW51LC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWx7bGlzdC1zdHlsZS10eXBlOnNxdWFyZX0ub25lc2lnbmFsLXJlc2V0IGxpe2Rpc3BsYXk6bGlzdC1pdGVtO21pbi1oZWlnaHQ6YXV0bzttaW4td2lkdGg6YXV0bztwYWRkaW5nLWxlZnQ6MjBweH0ub25lc2lnbmFsLXJlc2V0IHN0cm9uZ3tmb250LXdlaWdodDo3MDB9Lm9uZXNpZ25hbC1yZXNldCBlbXtmb250LXN0eWxlOml0YWxpY30ub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBwcmUsLm9uZXNpZ25hbC1yZXNldCBzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZX0ub25lc2lnbmFsLXJlc2V0IGF7Y29sb3I6Ymx1ZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5vbmVzaWduYWwtcmVzZXQgYTp2aXNpdGVke2NvbG9yOiM1Mjl9Lm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYSAqLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1jaGVja2JveF0sLm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXJhZGlvXSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XSwub25lc2lnbmFsLXJlc2V0IHNlbGVjdHtjdXJzb3I6cG9pbnRlcn0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbiwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XXt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjJweCA2cHggM3B4O2JvcmRlci1yYWRpdXM6NHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtZmFtaWx5OmFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTpzbWFsbDstd2Via2l0LWFwcGVhcmFuY2U6cHVzaC1idXR0b247Y29sb3I6YnV0dG9udGV4dDtib3JkZXI6MXB4IHNvbGlkICNhNmE2YTY7YmFja2dyb3VuZDojZDNkM2QzO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjZmZmKSxjb2xvci1zdG9wKDEwMCUsI2RkZCksY29sb3Itc3RvcCgxMDAlLCNkMWQxZDEpLGNvbG9yLXN0b3AoMTAwJSwjZGRkKSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLGVuZENvbG9yc3RyPScjZGRkZGRkJyxHcmFkaWVudFR5cGU9MCk7LW8tYm94LXNoYWRvdzoxcHggMXB4IDAgI2VlZTtib3gtc2hhZG93OjFweCAxcHggMCAjZWVlO291dGxpbmU6aW5pdGlhbH0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbntwYWRkaW5nOjFweCA2cHggMnB4O21hcmdpbi1yaWdodDo1cHh9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPWhpZGRlbl17ZGlzcGxheTpub25lfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRhcmVhO2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjJweDttYXJnaW4tbGVmdDo0cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6cHJlLXdyYXA7Zm9udC1zaXplOjExcHg7Zm9udC1mYW1pbHk6YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MTNweDtyZXNpemU6Ym90aH0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0LC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7Ym9yZGVyOjFweCBzb2xpZCAjY2NjfS5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e2ZvbnQtc2l6ZToxMXB4O2ZvbnQtZmFtaWx5OmhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5vbmVzaWduYWwtcmVzZXQgaW5wdXQ6Zm9jdXMsLm9uZXNpZ25hbC1yZXNldCB0ZXh0YXJlYTpmb2N1c3tvdXRsaW5lOjVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtvdXRsaW5lOmluaXRpYWx9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXRleHRde2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjFweDtmb250LWZhbWlseTppbml0aWFsO2ZvbnQtc2l6ZTpzbWFsbH0ub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9Y2hlY2tib3hdLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117Ym9yZGVyOjFweCBzb2xpZCAjMmIyYjJiO2JvcmRlci1yYWRpdXM6NHB4O291dGxpbmU6aW50aWFsfS5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117bWFyZ2luOjJweCAycHggM3B4fS5vbmVzaWduYWwtcmVzZXQgYnV0dG9uOmFjdGl2ZSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XTphY3RpdmV7YmFja2dyb3VuZDojM2I2NzllO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCMzYjY3OWUpLGNvbG9yLXN0b3AoNTAlLCMyYjg4ZDkpLGNvbG9yLXN0b3AoNTElLCMyMDdjY2EpLGNvbG9yLXN0b3AoMTAwJSwjN2RiOWU4KSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzNiNjc5ZSAwLCMyYjg4ZDkgNTAlLCMyMDdjY2EgNTElLCM3ZGI5ZTggMTAwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCMzYjY3OWUgMCwjMmI4OGQ5IDUwJSwjMjA3Y2NhIDUxJSwjN2RiOWU4IDEwMCUpO2JvcmRlci1jb2xvcjojNTI1OWIwfS5vbmVzaWduYWwtcmVzZXQgYWJiclt0aXRsZV0sLm9uZXNpZ25hbC1yZXNldCBhY3JvbnltW3RpdGxlXSwub25lc2lnbmFsLXJlc2V0IGRmblt0aXRsZV17Y3Vyc29yOmhlbHA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBpbnN7YmFja2dyb3VuZC1jb2xvcjojZmY5O2NvbG9yOiMwMDB9Lm9uZXNpZ25hbC1yZXNldCBkZWx7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0ub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBxe3F1b3Rlczpub25lfS5vbmVzaWduYWwtcmVzZXQgYmxvY2txdW90ZTphZnRlciwub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGU6YmVmb3JlLC5vbmVzaWduYWwtcmVzZXQgbGk6YWZ0ZXIsLm9uZXNpZ25hbC1yZXNldCBsaTpiZWZvcmUsLm9uZXNpZ25hbC1yZXNldCBxOmFmdGVyLC5vbmVzaWduYWwtcmVzZXQgcTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIn0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0ub25lc2lnbmFsLXJlc2V0IHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfS5vbmVzaWduYWwtcmVzZXQgaHJ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgW2Rpcj1ydGxde2RpcmVjdGlvbjpydGx9Lm9uZXNpZ25hbC1yZXNldCBtYXJre2JhY2tncm91bmQtY29sb3I6I2ZmOTtjb2xvcjojMDAwO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OjcwMH0ub25lc2lnbmFsLXJlc2V0IG1lbnV7cGFkZGluZy1sZWZ0OjQwcHg7cGFkZGluZy10b3A6OHB4fS5vbmVzaWduYWwtcmVzZXQgW2hpZGRlbl0sLm9uZXNpZ25hbC1yZXNldCB0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9Lm9uZXNpZ25hbC1yZXNldCBhYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfS5vbmVzaWduYWwtcmVzZXQgc3Vwe3RvcDotLjVlbX0ub25lc2lnbmFsLXJlc2V0IHN1Yntib3R0b206LS4yNWVtfS5vbmVzaWduYWwtcmVzZXQgaW1ne2JvcmRlcjowfS5vbmVzaWduYWwtcmVzZXQgZmlndXJle21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7b3ZlcmZsb3c6YXV0bzt2ZXJ0aWNhbC1hbGlnbjp0b3B9Lm9uZXNpZ25hbC1yZXNldHtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0OjE7ZGlyZWN0aW9uOmx0cjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1hbGlnbjpzdGFydDtmb250LWZhbWlseTpUaW1lcyBOZXcgUm9tYW4sVGltZXMsc2VyaWY7Y29sb3I6IzAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGlzdC1zdHlsZS10eXBlOmRpc2N9Lm9uZXNpZ25hbC1yZXNldCBwcmV7d2hpdGUtc3BhY2U6cHJlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0e3otaW5kZXg6MjE0NzQ4MzAwMDtwb3NpdGlvbjpmaXhlZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldC5vbmVzaWduYWwtYmVsbC1jb250YWluZXItYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0Lm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXJ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjE0NzQ4MzAwMDtmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0cmFuc2Zvcm06c2NhbGUoLjAxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3dpZHRoOjMzMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdHtib3R0b206MjBweDtsZWZ0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MTZweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206MzlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6NXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWR7dHJhbnNmb3JtLW9yaWdpbjoyNHB4IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7bGVmdDo2MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2JvdHRvbTo1OHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxne3RyYW5zZm9ybS1vcmlnaW46MzJweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6ODFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoyMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7bGVmdDo0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle3RyYW5zZm9ybS1vcmlnaW46bGVmdCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye3JpZ2h0OjEwMCU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHR7Ym90dG9tOjIwcHg7cmlnaHQ6MjBweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MzE0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjM5cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1ke3RyYW5zZm9ybS1vcmlnaW46MzA2cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NjFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7dHJhbnNmb3JtLW9yaWdpbjoyOThweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtyaWdodDo4MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3JpZ2h0OjE4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cmlnaHQ6NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntsZWZ0OjEwMCU7Ym9yZGVyLWxlZnQtY29sb3I6IzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtib3JkZXItcmFkaXVzOjUwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxib3JkZXIgMTc1bXMgZWFzZS1pbi1vdXQsd2lkdGggMTc1bXMgZWFzZS1pbi1vdXQsaGVpZ2h0IDE3NW1zIGVhc2UtaW4tb3V0O2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MjE0NzQ4MzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LWZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwuMzUpKTtmaWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsLjM1KSl9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWhvdmVye2N1cnNvcjpwb2ludGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjA7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsMCkpO2ZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwwKSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsYm9yZGVyIDE3NW1zIGVhc2UtaW4tb3V0LG9wYWNpdHkgLjIxcyBlYXNlLWluLW91dCx3aWR0aCAuMjFzIGVhc2UtaW4tb3V0LGhlaWdodCAuMjFzIGVhc2UtaW4tb3V0LHBvc2l0aW9uIC4yMXMgZWFzZS1pbi1vdXQscmlnaHQgLjIxcyBlYXNlLWluLW91dCx0b3AgLjIxcyBlYXNlLWluLW91dCxib3R0b20gLjIxcyBlYXNlLWluLW91dCxsZWZ0IC4yMXMgZWFzZS1pbi1vdXQ7ei1pbmRleDoyMTQ3NDgzNDAwO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjAxKTtwb2ludGVyLWV2ZW50czpub25lfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Uub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtaG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWR7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cG9zaXRpb246YWJzb2x1dGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo1cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGVYKDApIHRyYW5zbGF0ZVooMCk7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsb3BhY2l0eSAxNzVtcyBlYXNlLWluLW91dDt0b3A6NTAlO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7dG9wOjUwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7Y29udGVudDpcXFwiIFxcXCI7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVke3BvaW50ZXItZXZlbnRzOmF1dG87b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHNjYWxlWCgxKSB0cmFuc2xhdGVaKDApfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMSk7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggMnB4IHJnYmEoMzQsMzYsMzgsLjE1KSk7ZmlsdGVyOmRyb3Atc2hhZG93KDAgMnB4IDJweCByZ2JhKDM0LDM2LDM4LC4xNSkpO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMCkgdHJhbnNsYXRlWigwKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlciwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7dG9wOjEwMCU7Ym9yZGVyOnNvbGlkIHRyYW5zcGFyZW50O2NvbnRlbnQ6XFxcIiBcXFwiO2hlaWdodDowO3dpZHRoOjA7cG9zaXRpb246YWJzb2x1dGV9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5e3otaW5kZXg6MjE0NzQ4MjAwMDttYXgtd2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctb3BlbmVke3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc217aGVpZ2h0OjMycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6MzJweDtoZWlnaHQ6MzJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZTo4cHg7d2lkdGg6MTJweDtoZWlnaHQ6MTJweDtsaW5lLWhlaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjkuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntib3JkZXItd2lkdGg6Ni42cHg7bWFyZ2luLXRvcDotNi42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHl7Zm9udC1zaXplOjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7cGFkZGluZzozLjJweCA5LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntib3JkZXItdG9wLWNvbG9yOiNmZmY7Ym9yZGVyLXdpZHRoOjYuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDo4LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZHtoZWlnaHQ6NDhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbnt3aWR0aDo0OHB4O2hlaWdodDo0OHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Zm9udC1zaXplOjEycHg7d2lkdGg6MThweDtoZWlnaHQ6MThweDtsaW5lLWhlaWdodDoxOHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjE0LjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjkuOXB4O21hcmdpbi10b3A6LTkuOXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6NC44cHggMTQuNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye2JvcmRlci10b3AtY29sb3I6I2ZmZjtib3JkZXItd2lkdGg6OS45cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle2JvcmRlci10b3AtY29sb3I6cmdiYSgwLDAsMCwuMSk7Ym9yZGVyLXdpZHRoOjExLjlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZ3toZWlnaHQ6NjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbnt3aWR0aDo2NHB4O2hlaWdodDo2NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Zm9udC1zaXplOjEycHg7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtsaW5lLWhlaWdodDoyNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjE5LjJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjEzLjJweDttYXJnaW4tdG9wOi0xMy4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHl7Zm9udC1zaXplOjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7cGFkZGluZzo2LjRweCAxOS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO2JvcmRlci13aWR0aDoxMy4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle2JvcmRlci10b3AtY29sb3I6cmdiYSgwLDAsMCwuMSk7Ym9yZGVyLXdpZHRoOjE1LjJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2U1NGI0ZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuZm9yZWdyb3VuZHtmaWxsOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLnN0cm9rZXtmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2UtbWl0ZXJsaW1pdDoxMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZSBzdmcgLmJhY2tncm91bmQsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNkZDIwMjIhaW1wb3J0YW50fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtib3JkZXI6MXB4IHNvbGlkICNmZmY7YmFja2dyb3VuZDojMDAwO2NvbG9yOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLmJhY2tncm91bmR7ZmlsbDojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5mb3JlZ3JvdW5ke2ZpbGw6I2U1NGI0ZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuc3Ryb2tle2ZpbGw6bm9uZTtzdHJva2U6I2U1NGI0ZDtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZS1taXRlcmxpbWl0OjEwfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlIHN2ZyAuYmFja2dyb3VuZCwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUgc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2YyZjJmMiFpbXBvcnRhbnR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2JvcmRlcjoxcHggc29saWQgI2ZmZjtiYWNrZ3JvdW5kOiNlNTRiNGQ7Y29sb3I6I2ZmZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYWN0aXZlLCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1lbmFibGVke3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpc2FibGVke3Zpc2liaWxpdHk6aGlkZGVufSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZXtvcGFjaXR5Oi42fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5wdWxzZS1yaW5ne2JvcmRlcjo3cHggc29saWQgaHNsYSgwLDAlLDEwMCUsLjQpO2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtib3R0b206MDtyaWdodDowOy13ZWJraXQtYW5pbWF0aW9uOnB1bHNlIC4zNXMgZWFzZS1pbi1vdXQ7YW5pbWF0aW9uOnB1bHNlIC4zNXMgZWFzZS1pbi1vdXQ7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OjE7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxO29wYWNpdHk6MDt6LWluZGV4OjEwMDA7cG9pbnRlci1ldmVudHM6bm9uZX1AbWVkaWEgcHJpbnR7I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lcntkaXNwbGF5Om5vbmV9fUAtd2Via2l0LWtleWZyYW1lcyBwdWxzZXswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguMSk7b3BhY2l0eTowO2JvcmRlci13aWR0aDoxMHB4fTUwJXtvcGFjaXR5OjE7Ym9yZGVyLXdpZHRoOjVweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjIpO29wYWNpdHk6MDtib3JkZXItd2lkdGg6MXB4fX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IFtdO1xyXG5cdFxyXG5cdFx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHRcdH07XHJcblx0XHJcblx0XHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdFx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGxpc3Q7XHJcblx0fTtcclxuXG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHR2YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0XHR2YXIgbWVtbztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHRcdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0XHR9KSxcclxuXHRcdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHRcdH0pLFxyXG5cdFx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0XHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0XHRpZih0cnVlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihtZWRpYSkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0XHR9XHJcblx0XHJcblx0XHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cdFxyXG5cdFx0aWYoc291cmNlTWFwKSB7XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHRcdH1cclxuXHRcclxuXHRcdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cdFxyXG5cdFx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblx0XHJcblx0XHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcclxuXHRcdGlmKG9sZFNyYylcclxuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG5cdH1cclxuXG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcInV0Zi04XFxcIj8+XFxuPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPlxcbjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBjbGFzcz1cXFwib25lc2lnbmFsLWJlbGwtc3ZnXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4PVxcXCIwcHhcXFwiIHk9XFxcIjBweFxcXCJcXG5cXHQgd2lkdGg9XFxcIjk5LjdweFxcXCIgaGVpZ2h0PVxcXCI5OS43cHhcXFwiIHZpZXdCb3g9XFxcIjAgMCA5OS43IDk5LjdcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDk5LjcgOTkuNztcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcbjxnPlxcblxcdDxjaXJjbGUgY2xhc3M9XFxcImJhY2tncm91bmRcXFwiIGN4PVxcXCI0OS45XFxcIiBjeT1cXFwiNDkuOVxcXCIgcj1cXFwiNDkuOVxcXCIvPlxcblxcdDxnIGlkPVxcXCJMYXllcl8yXFxcIj5cXG5cXHRcXHQ8Zz5cXG5cXHRcXHRcXHQ8cGF0aCBjbGFzcz1cXFwiZm9yZWdyb3VuZFxcXCIgZD1cXFwiTTUwLjEsNjYuMkgyNy43YzAsMC0yLTAuMi0yLTIuMWMwLTEuOSwxLjctMiwxLjctMnM2LjctMy4yLDYuNy01LjVjMC0yLjMtMS4xLTMuOS0xLjEtMTMuM1xcblxcdFxcdFxcdFxcdHM2LTE2LjYsMTMuMi0xNi42YzAsMCwxLTIuNCwzLjktMi40YzIuOCwwLDMuOCwyLjQsMy44LDIuNGM3LjIsMCwxMy4yLDcuMiwxMy4yLDE2LjZzLTEsMTEtMSwxMy4zYzAsMi4zLDYuNyw1LjUsNi43LDUuNVxcblxcdFxcdFxcdFxcdHMxLjcsMC4xLDEuNywyYzAsMS44LTIuMSwyLjEtMi4xLDIuMUg1MC4xelxcXCIvPlxcblxcdFxcdFxcdDxwYXRoIGNsYXNzPVxcXCJmb3JlZ3JvdW5kXFxcIiBkPVxcXCJNNDIuOSw2OC41aDE0LjVjMCwwLTEsNi4zLTcuMiw2LjNTNDIuOSw2OC41LDQyLjksNjguNXpcXFwiLz5cXG5cXHRcXHRcXHQ8ZWxsaXBzZSBjbGFzcz1cXFwic3Ryb2tlXFxcIiBjeD1cXFwiNDkuOVxcXCIgY3k9XFxcIjQ5LjlcXFwiIHJ4PVxcXCIzNy40XFxcIiByeT1cXFwiMzYuOVxcXCIvPlxcblxcdFxcdDwvZz5cXG5cXHQ8L2c+XFxuPC9nPlxcbjwvc3ZnPlxcblwiXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIE9uZVNpZ25hbFNESy5qc1xuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgMTA2ZTJhMTRiMjc0MGZhOGEzZDVcbiAqKi8iLCJpZiAodHlwZW9mIE9uZVNpZ25hbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgdmFyIHByZWRlZmluZWRPbmVTaWduYWxQdXNoZXMgPSBPbmVTaWduYWw7XG5cbnJlcXVpcmUoXCJleHBvc2U/T25lU2lnbmFsIS4vc2RrLmpzXCIpO1xuXG5pZiAocHJlZGVmaW5lZE9uZVNpZ25hbFB1c2hlcylcbiAgT25lU2lnbmFsLl9wcm9jZXNzX3B1c2hlcyhwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2VudHJ5LmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJPbmVTaWduYWxcIl0gPSByZXF1aXJlKFwiLSEvVXNlcnMvanBhbmcvY29kZS9PbmVTaWduYWwtV2Vic2l0ZS1TREsvbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9pbmRleC5qcz97XFxcInByZXNldHNcXFwiOltcXFwiZXMyMDE1XFxcIl0sXFxcImNhY2hlRGlyZWN0b3J5XFxcIjp0cnVlfSEvVXNlcnMvanBhbmcvY29kZS9PbmVTaWduYWwtV2Vic2l0ZS1TREsvc3JjL3Nkay5qc1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9leHBvc2UtbG9hZGVyP09uZVNpZ25hbCEuL3NyYy9zZGsuanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBERVZfSE9TVCwgUFJPRF9IT1NULCBIT1NUX1VSTCB9IGZyb20gJy4vdmFycy5qcyc7XG5pbXBvcnQgeyBzZW5kTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9hcGkuanMnO1xuaW1wb3J0IGxvZyBmcm9tICdsb2dsZXZlbCc7XG5pbXBvcnQgTGltaXRTdG9yZSBmcm9tICcuL2xpbWl0U3RvcmUuanMnO1xuaW1wb3J0IFwiLi9ldmVudHMtcG9seWZpbGwuanNcIjtcbmltcG9ydCB7IHRyaWdnZXJFdmVudCB9IGZyb20gXCIuL2V2ZW50cy5qc1wiO1xuaW1wb3J0IEJlbGwgZnJvbSBcIi4vYmVsbC5qc1wiO1xuaW1wb3J0IHsgaXNCcm93c2VyRW52LCBpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkLCBpc0Jyb3dzZXJTYWZhcmksIGlzU3VwcG9ydGVkRmlyZUZveCwgaXNCcm93c2VyRmlyZWZveCwgZ2V0RmlyZWZveFZlcnNpb24sIGlzU3VwcG9ydGVkU2FmYXJpIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbnZhciBPbmVTaWduYWwgPSB7XG4gIF9WRVJTSU9OOiAxMDkwMTMsXG4gIF9IT1NUX1VSTDogSE9TVF9VUkwsXG4gIF9hcHBfaWQ6IG51bGwsXG4gIF90YWdzVG9TZW5kT25SZWdpc3RlcjogbnVsbCxcbiAgX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjazogbnVsbCxcbiAgX2lkc0F2YWlsYWJsZV9jYWxsYmFjazogW10sXG4gIF9kZWZhdWx0TGF1bmNoVVJMOiBudWxsLFxuICBfaW5pdE9wdGlvbnM6IG51bGwsXG4gIF9odHRwUmVnaXN0cmF0aW9uOiBmYWxzZSxcbiAgX21haW5fcGFnZV9wb3J0OiBudWxsLFxuICBfaXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2s6IG51bGwsXG4gIF9zdWJzY3JpcHRpb25TZXQ6IHRydWUsXG4gIF9pbml0T25lU2lnbmFsSHR0cDogbnVsbCxcbiAgX3Nlc3Npb25JZnJhbWVBZGRlZDogZmFsc2UsXG4gIF91c2VIdHRwTW9kZTogbnVsbCxcbiAgX3dpbmRvd1dpZHRoOiA1NTAsXG4gIF93aW5kb3dIZWlnaHQ6IDQ4MCxcbiAgX2lzTmV3VmlzaXRvcjogZmFsc2UsXG4gIF9pc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgYmVsbDogbnVsbCxcbiAgTE9HR0lORzogdHJ1ZSxcbiAgU0VSVklDRV9XT1JLRVJfVVBEQVRFUl9QQVRIOiBcIk9uZVNpZ25hbFNES1VwZGF0ZXJXb3JrZXIuanNcIixcbiAgU0VSVklDRV9XT1JLRVJfUEFUSDogXCJPbmVTaWduYWxTREtXb3JrZXIuanNcIixcbiAgU0VSVklDRV9XT1JLRVJfUEFSQU06IHt9LFxuXG4gIF9lbnN1cmVEYkluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmIChPbmVTaWduYWwuX29uZVNpZ25hbF9kYikge1xuICAgICAgICByZXNvbHZlKE9uZVNpZ25hbC5fb25lU2lnbmFsX2RiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKFwiT05FX1NJR05BTF9TREtfREJcIiwgMSk7XG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGRhdGFiYXNlID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBPbmVTaWduYWwuX29uZVNpZ25hbF9kYiA9IGRhdGFiYXNlO1xuICAgICAgICAgIHJlc29sdmUoZGF0YWJhc2UpO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoJ1VuYWJsZSB0byBvcGVuIEluZGV4ZWREQi4nLCBldmVudCk7XG4gICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGxvZy5kZWJ1ZygnUmVidWlsZGluZyBzY2hlbWEgaW4gSW5kZXhlZERCLi4uJyk7XG4gICAgICAgICAgdmFyIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShcIklkc1wiLCB7a2V5UGF0aDogXCJ0eXBlXCJ9KTtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCB7a2V5UGF0aDogXCJ1cmxcIn0pO1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFwiT3B0aW9uc1wiLCB7a2V5UGF0aDogXCJrZXlcIn0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF9nZXREYlZhbHVlOiBmdW5jdGlvbiAodGFibGUsIGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcbiAgICAgICAgICB2YXIgcmVxdWVzdCA9IGRhdGFiYXNlLnRyYW5zYWN0aW9uKHRhYmxlKS5vYmplY3RTdG9yZSh0YWJsZSkuZ2V0KGtleSk7XG4gICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlc3VsdClcbiAgICAgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZChyZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3JDb2RlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgO1xuICAgIH0pO1xuICB9LFxuXG4gIF9nZXREYlZhbHVlczogZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE9uZVNpZ25hbC5fZW5zdXJlRGJJbnN0YW5jZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuICAgICAgICAgIHZhciBqc29uUmVzdWx0ID0ge307XG4gICAgICAgICAgdmFyIGN1cnNvciA9IGRhdGFiYXNlLnRyYW5zYWN0aW9uKHRhYmxlKS5vYmplY3RTdG9yZSh0YWJsZSkub3BlbkN1cnNvcigpO1xuICAgICAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9kYlZhbHVlUmV0cmlldmVkKGN1cnNvcik7XG4gICAgICAgICAgICAgIGpzb25SZXN1bHRbY3Vyc29yLmtleV0gPSBjdXJzb3IudmFsdWUudmFsdWU7XG4gICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICByZXNvbHZlKGpzb25SZXN1bHQpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgY3Vyc29yLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJlamVjdChjdXJzb3IuZXJyb3JDb2RlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIF9wdXREYlZhbHVlOiBmdW5jdGlvbiAodGFibGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE9uZVNpZ25hbC5fZW5zdXJlRGJJbnN0YW5jZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuICAgICAgICAgIGRhdGFiYXNlLnRyYW5zYWN0aW9uKFt0YWJsZV0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRhYmxlKS5wdXQodmFsdWUpO1xuICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQodmFsdWUpO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIF9kZWxldGVEYlZhbHVlOiBmdW5jdGlvbiAodGFibGUsIGtleSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcbiAgICAgICAgICBkYXRhYmFzZS50cmFuc2FjdGlvbihbdGFibGVdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZSh0YWJsZSkuZGVsZXRlKGtleSk7XG4gICAgICAgICAgcmVzb2x2ZShrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgO1xuICAgIH0pO1xuICB9LFxuXG4gIF9zZW5kVG9PbmVTaWduYWxBcGk6IGZ1bmN0aW9uICh1cmwsIGFjdGlvbiwgaW5EYXRhLCBjYWxsYmFjaywgZmFpbGVkQ2FsbGJhY2spIHtcbiAgICBsb2cuZGVidWcoYENhbGxpbmcgJHthY3Rpb259ICR7T25lU2lnbmFsLl9IT1NUX1VSTCArIHVybH0gd2l0aCBkYXRhOmAsIGluRGF0YSk7XG4gICAgdmFyIGNvbnRlbnRzID0ge1xuICAgICAgbWV0aG9kOiBhY3Rpb24sXG4gICAgICAvL21vZGU6ICduby1jb3JzJywgLy8gbm8tY29ycyBpcyBkaXNhYmxlZCBmb3Igbm9uLXNlcnZpY2V3b3JrZXIuXG4gICAgfTtcblxuICAgIGlmIChpbkRhdGEpIHtcbiAgICAgIGNvbnRlbnRzLmhlYWRlcnMgPSB7XCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIn07XG4gICAgICBjb250ZW50cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoaW5EYXRhKTtcbiAgICB9XG5cbiAgICBmZXRjaChPbmVTaWduYWwuX0hPU1RfVVJMICsgdXJsLCBjb250ZW50cylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHN0YXR1cyhyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiBzdGF0dXMocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoanNvbkRhdGEpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpXG4gICAgICAgICAgY2FsbGJhY2soanNvbkRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoJ09uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKCkgZmFpbGVkOicsIGUpO1xuICAgICAgICBpZiAoZmFpbGVkQ2FsbGJhY2sgIT0gbnVsbClcbiAgICAgICAgICBmYWlsZWRDYWxsYmFjaygpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgX2dldExhbmd1YWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZSA/IChuYXZpZ2F0b3IubGFuZ3VhZ2UubGVuZ3RoID4gMyA/IG5hdmlnYXRvci5sYW5ndWFnZS5zdWJzdHJpbmcoMCwgMikgOiBuYXZpZ2F0b3IubGFuZ3VhZ2UpIDogJ2VuJztcbiAgfSxcblxuICBfZ2V0UGxheWVySWQ6IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodmFsdWUpXG4gICAgICBjYWxsYmFjayh2YWx1ZSlcbiAgICBlbHNlIHtcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIF9nZXRQbGF5ZXJJZF9nb3RVc2VySWQocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdC5pZCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgfSk7XG4gICAgICA7XG4gICAgfVxuICB9LFxuXG4gIF9nZXRCcm93c2VyTmFtZTogZnVuY3Rpb24gKCkge1xuICAgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKC4qPykgLykpXG4gICAgICByZXR1cm4gXCJDaHJvbWVcIjtcbiAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyguKikgKFNhZmFyaSlcIikpXG4gICAgICByZXR1cm4gXCJTYWZhcmlcIjtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XXsyLH1cXC5bMC05XXsxLH0pLykpXG4gICAgICByZXR1cm4gXCJGaXJlZm94XCI7XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcblxuICBfcmVnaXN0ZXJXaXRoT25lU2lnbmFsOiBmdW5jdGlvbiAoYXBwSWQsIHJlZ2lzdHJhdGlvbklkLCBkZXZpY2VUeXBlKSB7XG5cbiAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gX3JlZ2lzdGVyV2l0aE9uZVNpZ25hbF9Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG4gICAgICAgIE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uVHlwZXMoZnVuY3Rpb24gKG5vdGlmX3R5cGVzKSB7XG4gICAgICAgICAgdmFyIHJlcXVlc3RVcmwgPSAncGxheWVycyc7XG5cbiAgICAgICAgICB2YXIganNvbkRhdGEgPSB7XG4gICAgICAgICAgICBhcHBfaWQ6IGFwcElkLFxuICAgICAgICAgICAgZGV2aWNlX3R5cGU6IGRldmljZVR5cGUsXG4gICAgICAgICAgICBsYW5ndWFnZTogT25lU2lnbmFsLl9nZXRMYW5ndWFnZSgpLFxuICAgICAgICAgICAgdGltZXpvbmU6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIC02MCxcbiAgICAgICAgICAgIGRldmljZV9tb2RlbDogbmF2aWdhdG9yLnBsYXRmb3JtICsgXCIgXCIgKyBPbmVTaWduYWwuX2dldEJyb3dzZXJOYW1lKCksXG4gICAgICAgICAgICBkZXZpY2Vfb3M6IChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKC4qPykgLykgfHwgbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyguKikgU2FmYXJpXCIpIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pKVsxXSxcbiAgICAgICAgICAgIHNkazogT25lU2lnbmFsLl9WRVJTSU9OXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHJlcXVlc3RVcmwgPSAncGxheWVycy8nICsgdXNlcklkUmVzdWx0LmlkICsgJy9vbl9zZXNzaW9uJztcbiAgICAgICAgICAgIGpzb25EYXRhLm5vdGlmaWNhdGlvbl90eXBlcyA9IG5vdGlmX3R5cGVzXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5vdGlmX3R5cGVzICE9IDEpXG4gICAgICAgICAgICBqc29uRGF0YS5ub3RpZmljYXRpb25fdHlwZXMgPSBub3RpZl90eXBlc1xuXG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbklkKSB7XG4gICAgICAgICAgICBqc29uRGF0YS5pZGVudGlmaWVyID0gcmVnaXN0cmF0aW9uSWQ7XG4gICAgICAgICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwge3R5cGU6IFwicmVnaXN0cmF0aW9uSWRcIiwgaWQ6IHJlZ2lzdHJhdGlvbklkfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkocmVxdWVzdFVybCwgJ1BPU1QnLCBqc29uRGF0YSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyZWRDYWxsYmFjayhyZXNwb25zZUpTT04pIHtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcblxuICAgICAgICAgICAgICBpZiAocmVzcG9uc2VKU09OLmlkKSB7XG4gICAgICAgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInVzZXJJZFwiLCBpZDogcmVzcG9uc2VKU09OLmlkfSk7XG4gICAgICAgICAgICAgICAgT25lU2lnbmFsLl9zZW5kVW5zZW50VGFncygpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgT25lU2lnbmFsLl9nZXRQbGF5ZXJJZChyZXNwb25zZUpTT04uaWQsIGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY3Vycl9jYWxsYmFjayh7dXNlcklkOiB1c2VySWQsIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChPbmVTaWduYWwuX2h0dHBSZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRpbmcgcGxheWVyIElkIGFuZCByZWdpc3RyYXRpb25JZCBiYWNrIHRvIGhvc3QgcGFnZVwiKTtcbiAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhPbmVTaWduYWwuX2luaXRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgIHZhciBjcmVhdG9yID0gb3BlbmVyIHx8IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fc2FmZVBvc3RNZXNzYWdlKGNyZWF0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzQXZhaWxhYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IHJlZ2lzdHJhdGlvbklkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKG9wZW5lcilcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgX3NlbmRVbnNlbnRUYWdzOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIpIHtcbiAgICAgIE9uZVNpZ25hbC5zZW5kVGFncyhPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyKTtcbiAgICAgIE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPSBudWxsO1xuICAgIH1cbiAgfSxcblxuICBzZXREZWZhdWx0Tm90aWZpY2F0aW9uVXJsOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7a2V5OiBcImRlZmF1bHRVcmxcIiwgdmFsdWU6IHVybH0pO1xuICB9LFxuXG4gIHNldERlZmF1bHRJY29uOiBmdW5jdGlvbiAoaWNvbikge1xuICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwge2tleTogXCJkZWZhdWx0SWNvblwiLCB2YWx1ZTogaWNvbn0pO1xuICB9LFxuXG4gIHNldERlZmF1bHRUaXRsZTogZnVuY3Rpb24gKHRpdGxlKSB7XG4gICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7a2V5OiBcImRlZmF1bHRUaXRsZVwiLCB2YWx1ZTogdGl0bGV9KTtcbiAgfSxcblxuICBfdmlzaWJpbGl0eWNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIE9uZVNpZ25hbC5fdmlzaWJpbGl0eWNoYW5nZSk7XG4gICAgICBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KHt9KTtcbiAgICB9XG4gIH0sXG5cbiAgb25DdXN0b21Qcm9tcHRDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5wcm9tcHQuY3VzdG9tLmNsaWNrZWQ6JywgZXZlbnQuZGV0YWlsKTtcbiAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcbiAgfSxcblxuICBvbk5hdGl2ZVByb21wdENoYW5nZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGxvZy5kZWJ1ZygnRXZlbnQgb25lc2lnbmFsLnByb21wdC5uYXRpdmUucGVybWlzc2lvbmNoYW5nZWQ6JywgZXZlbnQuZGV0YWlsKTtcbiAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcbiAgfSxcblxuICBfb25TdWJzY3JpcHRpb25DaGFuZ2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZDonLCBldmVudC5kZXRhaWwpO1xuICAgIGlmIChPbmVTaWduYWwuX2lzTmV3VmlzaXRvciAmJiBldmVudC5kZXRhaWwgPT09IHRydWUpIHtcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBsZXQgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0cyA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnNbJ3dlbGNvbWVOb3RpZmljYXRpb24nXTtcbiAgICAgICAgICBsZXQgd2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQgPSAod2VsY29tZV9ub3RpZmljYXRpb25fb3B0cyAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ2Rpc2FibGUnXSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgbGV0IHRpdGxlID0gKHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWyd0aXRsZSddICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1sndGl0bGUnXSAhPT0gbnVsbCkgPyB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWyd0aXRsZSddIDogJyc7XG4gICAgICAgICAgbGV0IG1lc3NhZ2UgPSAod2VsY29tZV9ub3RpZmljYXRpb25fb3B0cyAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ21lc3NhZ2UnXSAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ21lc3NhZ2UnXSAhPT0gbnVsbCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10ubGVuZ3RoID4gMCkgPyB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gOiAnVGhhbmtzIGZvciBzdWJzY3JpYmluZyEnO1xuICAgICAgICAgIGlmICghd2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygnQmVjYXVzZSB0aGlzIHVzZXIgaXMgYSBuZXcgc2l0ZSB2aXNpdG9yLCBhIHdlbGNvbWUgbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudC4nKTtcbiAgICAgICAgICAgIHNlbmROb3RpZmljYXRpb24oT25lU2lnbmFsLl9hcHBfaWQsIFtyZXN1bHQuaWRdLCB7J2VuJzogdGl0bGV9LCB7J2VuJzogbWVzc2FnZX0pXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQoJ29uZXNpZ25hbC5hY3Rpb25zLndlbGNvbWVub3RpZmljYXRpb25zZW50Jywge3RpdGxlOiB0aXRsZSwgbWVzc2FnZTogbWVzc2FnZX0pO1xuICAgICAgICAgICAgT25lU2lnbmFsLl9pc05ld1Zpc2l0b3IgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIExpbWl0U3RvcmUucHV0KCdzdWJzY3JpcHRpb24udmFsdWUnLCBldmVudC5kZXRhaWwpO1xuICB9LFxuXG4gIF9vbkRiVmFsdWVSZXRyaWV2ZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGxvZy5kZWJ1ZygnRXZlbnQgb25lc2lnbmFsLmRiLnJldHJpZXZlZDonLCBldmVudC5kZXRhaWwpO1xuICB9LFxuXG4gIF9vbkRiVmFsdWVTZXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGxvZy5kZWJ1ZygnRXZlbnQgb25lc2lnbmFsLmRiLnZhbHVlc2V0OicsIGV2ZW50LmRldGFpbCk7XG4gICAgdmFyIGluZm8gPSBldmVudC5kZXRhaWw7XG4gICAgaWYgKGluZm8udHlwZSA9PT0gJ3VzZXJJZCcpIHtcbiAgICAgIExpbWl0U3RvcmUucHV0KCdkYi5pZHMudXNlcklkJywgaW5mby5pZCk7XG4gICAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcbiAgICB9XG4gIH0sXG5cbiAgX29uSW50ZXJuYWxTdWJzY3JpcHRpb25TZXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGxvZy5kZWJ1ZygnRXZlbnQgb25lc2lnbmFsLmludGVybmFsLnN1YnNjcmlwdGlvbnNldDonLCBldmVudC5kZXRhaWwpO1xuICAgIHZhciBuZXdTdWJzY3JpcHRpb25WYWx1ZSA9IGV2ZW50LmRldGFpbDtcbiAgICBMaW1pdFN0b3JlLnB1dCgnc3Vic2NyaXB0aW9uLmludGVybmFsLnZhbHVlJywgbmV3U3Vic2NyaXB0aW9uVmFsdWUpO1xuICAgIE9uZVNpZ25hbC5fY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCgpO1xuICB9LFxuXG4gIF9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgbG9nLmRlYnVnKCdDYWxsZWQgX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKS4nKTtcbiAgICB2YXIgcGVybWlzc2lvbnMgPSBMaW1pdFN0b3JlLmdldCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nKTtcbiAgICB2YXIgbGFzdFBlcm1pc3Npb24gPSBwZXJtaXNzaW9uc1twZXJtaXNzaW9ucy5sZW5ndGggLSAyXTtcbiAgICB2YXIgY3VycmVudFBlcm1pc3Npb24gPSBwZXJtaXNzaW9uc1twZXJtaXNzaW9ucy5sZW5ndGggLSAxXTtcblxuICAgIHZhciBpZHMgPSBMaW1pdFN0b3JlLmdldCgnZGIuaWRzLnVzZXJJZCcpO1xuICAgIHZhciBsYXN0SWQgPSBpZHNbaWRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBjdXJyZW50SWQgPSBpZHNbaWRzLmxlbmd0aCAtIDFdO1xuXG4gICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlcyA9IExpbWl0U3RvcmUuZ2V0KCdzdWJzY3JpcHRpb24uaW50ZXJuYWwudmFsdWUnKTtcbiAgICB2YXIgbGFzdFN1YnNjcmlwdGlvblN0YXRlID0gc3Vic2NyaXB0aW9uU3RhdGVzW3N1YnNjcmlwdGlvblN0YXRlcy5sZW5ndGggLSAyXTtcbiAgICB2YXIgY3VycmVudFN1YnNjcmlwdGlvblN0YXRlID0gc3Vic2NyaXB0aW9uU3RhdGVzW3N1YnNjcmlwdGlvblN0YXRlcy5sZW5ndGggLSAxXTtcblxuXG4gICAgdmFyIG5ld1N1YnNjcmlwdGlvblN0YXRlID0gJ3VuY2hhbmdlZCc7XG5cbiAgICBpZiAoKChsYXN0UGVybWlzc2lvbiA9PT0gJ2RlZmF1bHQnIHx8IGxhc3RQZXJtaXNzaW9uID09PSAnZGVuaWVkJyB8fCBsYXN0UGVybWlzc2lvbiA9PT0gbnVsbCkgJiYgY3VycmVudFBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJlxuICAgICAgICBjdXJyZW50SWQgIT09IG51bGwgJiZcbiAgICAgICAgY3VycmVudFN1YnNjcmlwdGlvblN0YXRlID09PSB0cnVlXG4gICAgICApIHx8XG4gICAgICAoXG4gICAgICAgIChsYXN0U3Vic2NyaXB0aW9uU3RhdGUgPT09IGZhbHNlICYmIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gdHJ1ZSkgJiZcbiAgICAgICAgY3VycmVudElkICE9IG51bGwgJiZcbiAgICAgICAgY3VycmVudFBlcm1pc3Npb24gPT09ICdncmFudGVkJ1xuICAgICAgKSkge1xuICAgICAgbmV3U3Vic2NyaXB0aW9uU3RhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgobGFzdFBlcm1pc3Npb24gIT09ICdkZW5pZWQnICYmIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZGVuaWVkJykgfHxcbiAgICAgIChsYXN0UGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnICYmIGN1cnJlbnRQZXJtaXNzaW9uICE9PSAnZ3JhbnRlZCcpIHx8XG4gICAgICAobGFzdElkICE9PSBudWxsICYmIGN1cnJlbnRJZCA9PT0gbnVsbCkgfHxcbiAgICAgIChsYXN0U3Vic2NyaXB0aW9uU3RhdGUgIT09IGZhbHNlICYmIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gZmFsc2UpKSB7XG4gICAgICBuZXdTdWJzY3JpcHRpb25TdGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChuZXdTdWJzY3JpcHRpb25TdGF0ZSAhPT0gXCJ1bmNoYW5nZWRcIikge1xuICAgICAgdmFyIGxhc3RUcmlnZ2VyVGltZXMgPSBMaW1pdFN0b3JlLnB1dCgnZXZlbnQuc3Vic2NyaXB0aW9uY2hhbmdlZC5sYXN0cmlnZ2VyZWQnLCBEYXRlLm5vdygpKTtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGxhc3RUcmlnZ2VyVGltZXNbbGFzdFRyaWdnZXJUaW1lcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBsYXN0VHJpZ2dlclRpbWUgPSBsYXN0VHJpZ2dlclRpbWVzW2xhc3RUcmlnZ2VyVGltZXMubGVuZ3RoIC0gMl07XG4gICAgICB2YXIgZWxhcHNlZFRpbWVTZWNvbmRzID0gKGN1cnJlbnRUaW1lIC0gbGFzdFRyaWdnZXJUaW1lKSAvIDEwMDA7XG5cbiAgICAgIHZhciBsYXN0RXZlbnRTdGF0ZXMgPSBMaW1pdFN0b3JlLnB1dCgnZXZlbnQuc3Vic2NyaXB0aW9uY2hhbmdlZC5sYXN0c3RhdGVzJywgbmV3U3Vic2NyaXB0aW9uU3RhdGUpO1xuICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGxhc3RFdmVudFN0YXRlc1tsYXN0RXZlbnRTdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgbGFzdFN0YXRlID0gbGFzdEV2ZW50U3RhdGVzW2xhc3RFdmVudFN0YXRlcy5sZW5ndGggLSAyXTtcblxuICAgICAgLy8gSWYgZXZlbnQgYWxyZWFkeSB0cmlnZ2VyZWQgd2l0aGluIHRoZSBsYXN0IHNlY29uZCwgZG9uJ3QgcmUtdHJpZ2dlci5cbiAgICAgIHZhciBzaG91bGROb3RUcmlnZ2VyRXZlbnQgPSAobGFzdFRyaWdnZXJUaW1lICE9IG51bGwgJiYgKGVsYXBzZWRUaW1lU2Vjb25kcyA8PSAxKSkgfHwgKGN1cnJlbnRTdGF0ZSA9PT0gbGFzdFN0YXRlKTtcbiAgICAgIGlmIChzaG91bGROb3RUcmlnZ2VyRXZlbnQgPT09IGZhbHNlKSB7XG4gICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X3N1YnNjcmlwdGlvbkNoYW5nZWQobmV3U3Vic2NyaXB0aW9uU3RhdGUpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKE9uZVNpZ25hbC5faXNJbml0aWFsaXplZCkge1xuICAgICAgbG9nLndhcm4oJ09uZVNpZ25hbC5pbml0KCkgd2FzIGNhbGxlZCBhZ2FpbiwgYnV0IHRoZSBTREsgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gU2tpcHBpbmcgaW5pdGlhbGl6YXRpb24uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgaWYgKE9uZVNpZ25hbC5MT0dHSU5HKVxuICAgICAgbG9nLmVuYWJsZUFsbCgpO1xuICAgIGVsc2VcbiAgICAgIGxvZy5zZXRMZXZlbCgnZXJyb3InKTtcblxuICAgIGxvZy5pbmZvKGBPbmVTaWduYWwgV2ViIFNESyBsb2FkZWQgKHZlcnNpb24gJHtPbmVTaWduYWwuX1ZFUlNJT059KS5gKTtcbiAgICBpZiAoIWlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQoKSkge1xuICAgICAgbG9nLndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwdXNoIG5vdGlmaWNhdGlvbnMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmF2aWdhdG9yLnBlcm1pc3Npb25zICYmICEoaXNCcm93c2VyRmlyZWZveCgpICYmIGdldEZpcmVmb3hWZXJzaW9uKCkgPD0gNDUpKSB7XG4gICAgICBPbmVTaWduYWwuX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2sgPSB0cnVlO1xuICAgICAgdmFyIGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKCk7XG4gICAgICBMaW1pdFN0b3JlLnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbik7XG4gICAgICAvLyBJZiB0aGUgYnJvd3NlciBuYXRpdmVseSBzdXBwb3J0cyBob29raW5nIHRoZSBzdWJzY3JpcHRpb24gcHJvbXB0IHBlcm1pc3Npb24gY2hhbmdlIGV2ZW50XG4gICAgICAvLyAgICAgdXNlIGl0IGluc3RlYWQgb2Ygb3VyIFNESyBtZXRob2RcbiAgICAgIG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZTogJ25vdGlmaWNhdGlvbnMnfSkudGhlbihmdW5jdGlvbiAocGVybWlzc2lvblN0YXR1cykge1xuICAgICAgICBwZXJtaXNzaW9uU3RhdHVzLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IExpbWl0U3RvcmUuZ2V0KCdub3RpZmljYXRpb24ucGVybWlzc2lvbicpO1xuICAgICAgICAgIHZhciBwZXJtaXNzaW9uQmVmb3JlUHJvbXB0ID0gcmVjZW50UGVybWlzc2lvbnNbMF07XG4gICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQocGVybWlzc2lvbkJlZm9yZVByb21wdCk7XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbiA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpO1xuICAgICAgTGltaXRTdG9yZS5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24pO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHZhbHVlIG9mIElkczpyZWdpc3RyYXRpb25JZCwgc28gdGhhdCB3ZSBjYW4gc2VlIGlmIHRoZSB2YWx1ZSBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX2lzTmV3VmlzaXRvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0b3JlVmFsdWUgPSByZXN1bHQgPyByZXN1bHQuaWQgOiBudWxsO1xuICAgICAgICBMaW1pdFN0b3JlLnB1dCgnZGIuaWRzLnVzZXJJZCcsIHN0b3JlVmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAvLyBTdG9yZSB0aGUgY3VycmVudCB2YWx1ZSBvZiBzdWJzY3JpcHRpb24sIHNvIHRoYXQgd2UgY2FuIHNlZSBpZiB0aGUgdmFsdWUgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG4gICAgT25lU2lnbmFsLl9nZXRTdWJzY3JpcHRpb24oZnVuY3Rpb24gKGN1cnJlbnRTdWJzY3JpcHRpb24pIHtcbiAgICAgIExpbWl0U3RvcmUucHV0KCdzdWJzY3JpcHRpb24uaW50ZXJuYWwudmFsdWUnLCBjdXJyZW50U3Vic2NyaXB0aW9uKTtcbiAgICB9KTtcblxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5wcm9tcHQuY3VzdG9tLmNsaWNrZWQnLCBPbmVTaWduYWwub25DdXN0b21Qcm9tcHRDbGlja2VkKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLnByb21wdC5uYXRpdmUucGVybWlzc2lvbmNoYW5nZWQnLCBPbmVTaWduYWwub25OYXRpdmVQcm9tcHRDaGFuZ2VkKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLnN1YnNjcmlwdGlvbi5jaGFuZ2VkJywgT25lU2lnbmFsLl9vblN1YnNjcmlwdGlvbkNoYW5nZWQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuZGIudmFsdWVyZXRyaWV2ZWQnLCBPbmVTaWduYWwuX29uRGJWYWx1ZVJldHJpZXZlZCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5kYi52YWx1ZXNldCcsIE9uZVNpZ25hbC5fb25EYlZhbHVlU2V0KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmRiLnZhbHVlc2V0JywgT25lU2lnbmFsLl9vbkRiVmFsdWVTZXQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuaW50ZXJuYWwuc3Vic2NyaXB0aW9uc2V0JywgT25lU2lnbmFsLl9vbkludGVybmFsU3Vic2NyaXB0aW9uU2V0KTtcblxuICAgIE9uZVNpZ25hbC5fdXNlSHR0cE1vZGUgPSAhaXNTdXBwb3J0ZWRTYWZhcmkoKSAmJiAoIU9uZVNpZ25hbC5fc3VwcG9ydHNEaXJlY3RQZXJtaXNzaW9uKCkgfHwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lKTtcblxuICAgIGlmIChPbmVTaWduYWwuX3VzZUh0dHBNb2RlKVxuICAgICAgT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCA9ICdodHRwczovLycgKyBPbmVTaWduYWwuX2luaXRPcHRpb25zLnN1YmRvbWFpbk5hbWUgKyAnLm9uZXNpZ25hbC5jb20vc2Rrcy9pbml0T25lU2lnbmFsSHR0cCc7XG4gICAgZWxzZVxuICAgICAgT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCA9ICdodHRwczovL29uZXNpZ25hbC5jb20vc2Rrcy9pbml0T25lU2lnbmFsSHR0cHMnO1xuXG4gICAgaWYgKF9fREVWX18pXG4gICAgICBPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwID0gREVWX0hPU1QgKyAnL2Rldl9zZGtzL2luaXRPbmVTaWduYWxIdHRwJztcblxuICAgIC8vIElmIFNhZmFyaSAtIGFkZCAnZmV0Y2gnIHBvbGx5ZmlsbCBpZiBpdCBpc24ndCBhbHJlYWR5IGFkZGVkLlxuICAgIGlmIChpc1N1cHBvcnRlZFNhZmFyaSgpICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHMuc2V0QXR0cmlidXRlKCdzcmMnLCBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZldGNoLzAuOS4wL2ZldGNoLmpzXCIpO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKTtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKVxuICAgICAgT25lU2lnbmFsLl9pbnRlcm5hbEluaXQoKTtcbiAgICBlbHNlXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIE9uZVNpZ25hbC5faW50ZXJuYWxJbml0KTtcblxuXG4gICAgaWYgKF9fREVWX18gJiYgaXNCcm93c2VyRW52KCkpIHtcbiAgICAgIGxvZy5pbmZvKCdTaG93aW5nIGJlbGwuJyk7XG4gICAgICBPbmVTaWduYWwuYmVsbCA9IG5ldyBCZWxsKHtcbiAgICAgICAgc2l6ZTogJ2xhcmdlJyxcbiAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnLFxuICAgICAgICB0aGVtZTogJ2RlZmF1bHQnXG4gICAgICB9KTtcbiAgICAgIE9uZVNpZ25hbC5iZWxsLmNyZWF0ZSgpO1xuICAgIH1cblxuICAgIE9uZVNpZ25hbC5faXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH0sXG5cbiAgX2ludGVybmFsSW5pdDogZnVuY3Rpb24gKCkge1xuICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdhcHBJZCcpLFxuICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKSxcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdzdWJzY3JpcHRpb24nKV0pXG4gICAgICAudGhlbihmdW5jdGlvbiBfaW50ZXJuYWxJbml0X0dvdEFwcFJlZ2lzdHJhdGlvblN1YnNjcmlwdGlvbklkcyhyZXN1bHQpIHtcbiAgICAgICAgdmFyIGFwcElkUmVzdWx0ID0gcmVzdWx0WzBdO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRbMV07XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25SZXN1bHQgPSByZXN1bHRbMl07XG5cbiAgICAgICAgLy8gSWYgQXBwSWQgY2hhbmdlZCBkZWxldGUgcGxheWVySWQgYW5kIGNvbnRpbnVlLlxuICAgICAgICBpZiAoYXBwSWRSZXN1bHQgJiYgYXBwSWRSZXN1bHQuaWQgIT0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5hcHBJZCkge1xuICAgICAgICAgIE9uZVNpZ25hbC5fZGVsZXRlRGJWYWx1ZShcIklkc1wiLCBcInVzZXJJZFwiKTtcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSFRUUFMgLSBPbmx5IHJlZ2lzdGVyIGZvciBwdXNoIG5vdGlmaWNhdGlvbnMgb25jZSBwZXIgc2Vzc2lvbiBvciBpZiB0aGUgdXNlciBjaGFuZ2VzIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHRvIEFzayBvciBBbGxvdy5cbiAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIilcbiAgICAgICAgICAmJiAhT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lXG4gICAgICAgICAgJiYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09IFwiZGVuaWVkXCJcbiAgICAgICAgICB8fCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiT05FX1NJR05BTF9OT1RJRklDQVRJT05fUEVSTUlTU0lPTlwiKSA9PSBOb3RpZmljYXRpb24ucGVybWlzc2lvbikpXG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX05PVElGSUNBVElPTl9QRVJNSVNTSU9OXCIsIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTtcblxuICAgICAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5hdXRvUmVnaXN0ZXIgPT0gZmFsc2UgJiYgIXJlZ2lzdHJhdGlvbklkUmVzdWx0ICYmIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSA9PSBudWxsKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlICE9IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgT25lU2lnbmFsLl92aXNpYmlsaXR5Y2hhbmdlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KHt9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgcmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIWlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQoKSkge1xuICAgICAgbG9nLndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwdXNoIG5vdGlmaWNhdGlvbnMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBXQVJOSU5HOiBEbyBOT1QgYWRkIGNhbGxiYWNrcyB0aGF0IGhhdmUgdG8gZmlyZSB0byBnZXQgZnJvbSBoZXJlIHRvIHdpbmRvdy5vcGVuIGluIF9zZXNzaW9uSW5pdC5cbiAgICAvLyAgICAgICAgICBPdGhlcndpc2UgdGhlIHBvcC11cCB0byBhc2sgZm9yIHB1c2ggcGVybWlzc2lvbiBvbiBIVFRQIGNvbm5lY3Rpb25zIHdpbGwgYmUgYmxvY2tlZCBieSBDaHJvbWUuXG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yID0gdHJ1ZTtcbiAgICBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KG9wdGlvbnMpO1xuICB9LFxuXG4gIC8vIEh0dHAgb25seSAtIE9ubHkgY2FsbGVkIGZyb20gaWZyYW1lJ3MgaW5pdC5qc1xuICBfaW5pdEh0dHA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgT25lU2lnbmFsLl9pbml0T3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICBpZiAob3B0aW9ucy5jb250aW51ZVByZXNzZWQpIHtcbiAgICAgIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24odHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGlzSWZyYW1lID0gKHBhcmVudCAhPSBudWxsICYmIHBhcmVudCAhPSB3aW5kb3cpO1xuICAgIHZhciBjcmVhdG9yID0gb3BlbmVyIHx8IHBhcmVudDtcblxuICAgIGlmICghY3JlYXRvcikge1xuICAgICAgbG9nLmRlYnVnKFwiRVJST1I6X2luaXRIdHRwOiBObyBvcGVuZXIgb3IgcGFyZW50IGZvdW5kIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2V0dGluZyB1cCBtZXNzYWdlIGNoYW5uZWwgdG8gcmVjZWl2ZSBtZXNzYWdlIGZyb20gaG9zdCBwYWdlLlxuICAgIHZhciBtZXNzYWdlQ2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIG1lc3NhZ2VDaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgbG9nLmRlYnVnKFwiX2luaXRIdHRwLm1lc3NhZ2VDaGFubmVsLnBvcnQxLm9ubWVzc2FnZVwiLCBldmVudCk7XG5cbiAgICAgIGlmIChldmVudC5kYXRhLmluaXRPcHRpb25zKSB7XG4gICAgICAgIE9uZVNpZ25hbC5zZXREZWZhdWx0Tm90aWZpY2F0aW9uVXJsKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdFVybCk7XG4gICAgICAgIE9uZVNpZ25hbC5zZXREZWZhdWx0VGl0bGUoZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5kZWZhdWx0VGl0bGUpO1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5kZWZhdWx0SWNvbilcbiAgICAgICAgICBPbmVTaWduYWwuc2V0RGVmYXVsdEljb24oZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5kZWZhdWx0SWNvbik7XG5cbiAgICAgICAgbG9nLmRlYnVnKFwiZG9jdW1lbnQuVVJMXCIsIGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMucGFyZW50X3VybCk7XG4gICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBldmVudC5kYXRhLmluaXRPcHRpb25zLnBhcmVudF91cmwpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gcmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9uc19Hb3ROb3RpZmljYXRpb25PcGVuZWQobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0KSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJfaW5pdEh0dHAgTm90aWZpY2F0aW9uT3BlbmVkIGRiXCIsIG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCk7XG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgIE9uZVNpZ25hbC5fZGVsZXRlRGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBldmVudC5kYXRhLmluaXRPcHRpb25zLnBhcmVudF91cmwpO1xuICAgICAgICAgICAgICBsb2cuZGVidWcoXCJPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZTp0YXJnZXRPcmlnaW46XCIsIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luKTtcblxuICAgICAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7b3BlbmVkTm90aWZpY2F0aW9uOiBub3RpZmljYXRpb25PcGVuZWRSZXN1bHQuZGF0YX0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChldmVudC5kYXRhLmdldE5vdGlmaWNhdGlvblBlcm1pc3Npb24pIHtcbiAgICAgICAgT25lU2lnbmFsLl9nZXRTdWJkb21haW5TdGF0ZShmdW5jdGlvbiAoY3VyU3RhdGUpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7Y3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb246IGN1clN0YXRlfSwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4sIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuc2V0U3ViZG9tYWluU3RhdGUpXG4gICAgICAgIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24oZXZlbnQuZGF0YS5zZXRTdWJkb21haW5TdGF0ZS5zZXRTdWJzY3JpcHRpb24pO1xuICAgIH07XG5cbiAgICBPbmVTaWduYWwuX2dldFN1YmRvbWFpblN0YXRlKGZ1bmN0aW9uIChjdXJTdGF0ZSkge1xuICAgICAgY3VyU3RhdGVbXCJpc0lmcmFtZVwiXSA9IGlzSWZyYW1lO1xuICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwge29uZVNpZ25hbEluaXRQYWdlUmVhZHk6IGN1clN0YXRlfSwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4sIFttZXNzYWdlQ2hhbm5lbC5wb3J0Ml0pO1xuICAgIH0pO1xuXG4gICAgT25lU2lnbmFsLl9pbml0U2F2ZVN0YXRlKCk7XG4gICAgT25lU2lnbmFsLl9odHRwUmVnaXN0cmF0aW9uID0gdHJ1ZTtcbiAgICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoXCI/c2Vzc2lvbj10cnVlXCIpID09IDApXG4gICAgICByZXR1cm47XG5cbiAgICBPbmVTaWduYWwuX2dldFBsYXllcklkKG51bGwsIGZ1bmN0aW9uIChwbGF5ZXJfaWQpIHtcbiAgICAgIGlmICghaXNJZnJhbWUgfHwgcGxheWVyX2lkKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkJlZm9yZSBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlclwiKTtcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkFmdGVyIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF9nZXRTdWJkb21haW5TdGF0ZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0YXRlID0ge307XG5cbiAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJyksXG4gICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpLFxuICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3N1YnNjcmlwdGlvbicpXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9pbnRlcm5hbEluaXRfR290QXBwUmVnaXN0cmF0aW9uU3Vic2NyaXB0aW9uSWRzKHJlc3VsdCkge1xuICAgICAgICB2YXIgdXNlcklkUmVzdWx0ID0gcmVzdWx0WzBdO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRbMV07XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25SZXN1bHQgPSByZXN1bHRbMl07XG5cbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHVzZXJJZDogdXNlcklkUmVzdWx0ID8gdXNlcklkUmVzdWx0LmlkIDogbnVsbCxcbiAgICAgICAgICByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWRSZXN1bHQgPyByZWdpc3RyYXRpb25JZFJlc3VsdC5pZCA6IG51bGwsXG4gICAgICAgICAgbm90aWZQZXJtc3Npb246IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uLFxuICAgICAgICAgIHN1YnNjcmlwdGlvblNldDogc3Vic2NyaXB0aW9uUmVzdWx0ID8gc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlIDogbnVsbCxcbiAgICAgICAgICBpc1B1c2hFbmFibGVkOiAoIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09IFwiZ3JhbnRlZFwiXG4gICAgICAgICAgJiYgdXNlcklkUmVzdWx0XG4gICAgICAgICAgJiYgcmVnaXN0cmF0aW9uSWRSZXN1bHRcbiAgICAgICAgICAmJiAoKHN1YnNjcmlwdGlvblJlc3VsdCAmJiBzdWJzY3JpcHRpb25SZXN1bHQudmFsdWUpIHx8IHN1YnNjcmlwdGlvblJlc3VsdCA9PSBudWxsKSlcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgIDtcbiAgfSxcblxuICBfaW5pdFNhdmVTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIE9uZVNpZ25hbC5fYXBwX2lkID0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5hcHBJZDtcbiAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwge3R5cGU6IFwiYXBwSWRcIiwgaWQ6IE9uZVNpZ25hbC5fYXBwX2lkfSk7XG4gICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7a2V5OiBcInBhZ2VUaXRsZVwiLCB2YWx1ZTogZG9jdW1lbnQudGl0bGV9KTtcbiAgfSxcblxuICBfc3VwcG9ydHNEaXJlY3RQZXJtaXNzaW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzU3VwcG9ydGVkU2FmYXJpKClcbiAgICAgIHx8IGxvY2F0aW9uLnByb3RvY29sID09ICdodHRwczonXG4gICAgICB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoXCJsb2NhbGhvc3RcIikgPT0gMFxuICAgICAgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKFwiMTI3LjAuMC4xXCIpID09IDA7XG4gIH0sXG5cblxuICBfc2Vzc2lvbkluaXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgbG9nLmRlYnVnKFwiQ2FsbGVkIE9uZVNpZ25hbC5fc2Vzc2lvbkluaXQoKTpcIiwgb3B0aW9ucyk7XG4gICAgT25lU2lnbmFsLl9pbml0U2F2ZVN0YXRlKCk7XG5cbiAgICB2YXIgaG9zdFBhZ2VQcm90b2NvbCA9IGxvY2F0aW9uLm9yaWdpbi5tYXRjaCgvXmh0dHAoc3wpOlxcL1xcLyh3d3dcXC58KS8pWzBdO1xuXG4gICAgLy8gSWYgSFRUUCBvciB1c2luZyBzdWJkb21haW4gbW9kZVxuICAgIGlmIChPbmVTaWduYWwuX3VzZUh0dHBNb2RlKSB7XG4gICAgICBpZiAob3B0aW9ucy5mcm9tUmVnaXN0ZXJGb3IpIHtcbiAgICAgICAgdmFyIGR1YWxTY3JlZW5MZWZ0ID0gd2luZG93LnNjcmVlbkxlZnQgIT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiBzY3JlZW4ubGVmdDtcbiAgICAgICAgdmFyIGR1YWxTY3JlZW5Ub3AgPSB3aW5kb3cuc2NyZWVuVG9wICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiBzY3JlZW4udG9wO1xuXG4gICAgICAgIHZhciB0aGlzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogc2NyZWVuLndpZHRoO1xuICAgICAgICB2YXIgdGhpc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IDogc2NyZWVuLmhlaWdodDtcbiAgICAgICAgdmFyIGNoaWxkV2lkdGggPSBPbmVTaWduYWwuX3dpbmRvd1dpZHRoO1xuICAgICAgICB2YXIgY2hpbGRIZWlnaHQgPSBPbmVTaWduYWwuX3dpbmRvd0hlaWdodDtcblxuICAgICAgICB2YXIgbGVmdCA9ICgodGhpc1dpZHRoIC8gMikgLSAoY2hpbGRXaWR0aCAvIDIpKSArIGR1YWxTY3JlZW5MZWZ0O1xuICAgICAgICB2YXIgdG9wID0gKCh0aGlzSGVpZ2h0IC8gMikgLSAoY2hpbGRIZWlnaHQgLyAyKSkgKyBkdWFsU2NyZWVuVG9wO1xuXG4gICAgICAgIGxvZy5kZWJ1ZygnT3BlbmluZyBwb3B1cCB3aW5kb3cuJyk7XG4gICAgICAgIHZhciBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzID0gT25lU2lnbmFsLl9pbml0T3B0aW9uc1sncHJvbXB0T3B0aW9ucyddO1xuICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIgPSAnJztcbiAgICAgICAgaWYgKG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHMpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zID0gWydhY3Rpb25NZXNzYWdlJyxcbiAgICAgICAgICAgICdleGFtcGxlTm90aWZpY2F0aW9uVGl0bGVEZXNrdG9wJyxcbiAgICAgICAgICAgICdleGFtcGxlTm90aWZpY2F0aW9uTWVzc2FnZURlc2t0b3AnLFxuICAgICAgICAgICAgJ2V4YW1wbGVOb3RpZmljYXRpb25UaXRsZU1vYmlsZScsXG4gICAgICAgICAgICAnZXhhbXBsZU5vdGlmaWNhdGlvbk1lc3NhZ2VNb2JpbGUnLFxuICAgICAgICAgICAgJ2V4YW1wbGVOb3RpZmljYXRpb25DYXB0aW9uJyxcbiAgICAgICAgICAgICdhY2NlcHRCdXR0b25UZXh0JyxcbiAgICAgICAgICAgICdjYW5jZWxCdXR0b25UZXh0J107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlX2xvY2FsaXphdGlvbl9wYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBtZXNzYWdlX2xvY2FsaXphdGlvbl9wYXJhbXNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzW2tleV07XG4gICAgICAgICAgICB2YXIgZW5jb2RlZF92YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHNfc3RyICs9ICcmJyArIGtleSArICc9JyArIGVuY29kZWRfdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZFdpbmRvdyA9IHdpbmRvdy5vcGVuKE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgKyBcIj9cIiArIG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHNfc3RyICsgXCImaG9zdFBhZ2VQcm90b2NvbD1cIiArIGhvc3RQYWdlUHJvdG9jb2wsIFwiX2JsYW5rXCIsICdzY3JvbGxiYXJzPXllcywgd2lkdGg9JyArIGNoaWxkV2lkdGggKyAnLCBoZWlnaHQ9JyArIGNoaWxkSGVpZ2h0ICsgJywgdG9wPScgKyB0b3AgKyAnLCBsZWZ0PScgKyBsZWZ0KTtcblxuICAgICAgICBpZiAoY2hpbGRXaW5kb3cpXG4gICAgICAgICAgY2hpbGRXaW5kb3cuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb2cuZGVidWcoJ09wZW5pbmcgaUZyYW1lLicpO1xuICAgICAgICBPbmVTaWduYWwuX2FkZFNlc3Npb25JZnJhbWUoaG9zdFBhZ2VQcm90b2NvbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNTdXBwb3J0ZWRTYWZhcmkoKSkge1xuICAgICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc2FmYXJpX3dlYl9pZCkge1xuICAgICAgICB2YXIgbm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcbiAgICAgICAgd2luZG93LnNhZmFyaS5wdXNoTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKFxuICAgICAgICAgIE9uZVNpZ25hbC5fSE9TVF9VUkwgKyAnc2FmYXJpJyxcbiAgICAgICAgICBPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQsXG4gICAgICAgICAge2FwcF9pZDogT25lU2lnbmFsLl9hcHBfaWR9LFxuICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uUGVybWlzc2lvbkFmdGVyUmVxdWVzdCA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGV2aWNlVG9rZW4pIHtcbiAgICAgICAgICAgICAgT25lU2lnbmFsLl9yZWdpc3RlcldpdGhPbmVTaWduYWwoT25lU2lnbmFsLl9hcHBfaWQsIGRhdGEuZGV2aWNlVG9rZW4udG9Mb3dlckNhc2UoKSwgNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMubW9kYWxQcm9tcHQgJiYgb3B0aW9ucy5mcm9tUmVnaXN0ZXJGb3IpIHsgLy8gSWYgSFRUUFMgLSBTaG93IG1vZGFsXG4gICAgICBpZiAoIWlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQoKSkge1xuICAgICAgICBsb2cud2FybignQW4gYXR0ZW1wdCB3YXMgbWFkZSB0byBvcGVuIHRoZSBIVFRQUyBtb2RhbCBwZXJtaXNzaW9uIHByb21wdCwgYnV0IHB1c2ggbm90aWZpY2F0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIuIE9wZW5pbmcgY2FuY2VsZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZChmdW5jdGlvbiAocHVzaEVuYWJsZWQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ09uZVNpZ25hbC1pZnJhbWUtbW9kYWwnKTtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGRpdiBpZD1cIm5vdGlmLXBlcm1pc3Npb25cIiBzdHlsZT1cImJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IHotaW5kZXg6IDkwMDA7IGRpc3BsYXk6IGJsb2NrXCI+PC9kaXY+JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgICB2YXIgaWZyYW1lU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBpZnJhbWVTdHlsZS5pbm5lckhUTUwgPSBcIkBtZWRpYSAobWF4LXdpZHRoOiA1NjBweCkgeyAuT25lU2lnbmFsLXBlcm1pc3Npb24taWZyYW1lIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTt9IH1cIlxuICAgICAgICAgICsgXCJAbWVkaWEgKG1pbi13aWR0aDogNTYxcHgpIHsgLk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZSB7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IG1hcmdpbi1sZWZ0OiAtMjc1cHg7IG1hcmdpbi10b3A6IC0yNDhweDt9IH1cIjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChpZnJhbWVTdHlsZSk7XG5cbiAgICAgICAgdmFyIGlmcmFtZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBpZnJhbWVOb2RlLmNsYXNzTmFtZSA9IFwiT25lU2lnbmFsLXBlcm1pc3Npb24taWZyYW1lXCJcbiAgICAgICAgaWZyYW1lTm9kZS5zdHlsZS5jc3NUZXh0ID0gXCJiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpOyBwb3NpdGlvbjogZml4ZWQ7XCI7XG4gICAgICAgIGlmcmFtZU5vZGUuc3JjID0gT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cFxuICAgICAgICAgICsgJz9pZD0nICsgT25lU2lnbmFsLl9hcHBfaWRcbiAgICAgICAgICArICcmaHR0cHNQcm9tcHQ9dHJ1ZSdcbiAgICAgICAgICArICcmcHVzaEVuYWJsZWQ9JyArIHB1c2hFbmFibGVkXG4gICAgICAgICAgKyAnJnBlcm1pc3Npb25CbG9ja2VkPScgKyAodHlwZW9mIE5vdGlmaWNhdGlvbiA9PT0gXCJ1bmRlZmluZWRcIiB8fCBOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImRlbmllZFwiKVxuICAgICAgICAgICsgJyZob3N0UGFnZVByb3RvY29sPScgKyBob3N0UGFnZVByb3RvY29sO1xuICAgICAgICBpZnJhbWVOb2RlLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAnMCcpO1xuICAgICAgICBpZnJhbWVOb2RlLndpZHRoID0gT25lU2lnbmFsLl93aW5kb3dXaWR0aC50b1N0cmluZygpO1xuICAgICAgICBpZnJhbWVOb2RlLmhlaWdodCA9IE9uZVNpZ25hbC5fd2luZG93SGVpZ2h0LnRvU3RyaW5nKCk7XG5cbiAgICAgICAgbG9nLmRlYnVnKCdPcGVuaW5nIEhUVFBTIG1vZGFsIHByb21wdC4nKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RpZi1wZXJtaXNzaW9uXCIpLmFwcGVuZENoaWxkKGlmcmFtZU5vZGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIC8vIElmIEhUVFBTIC0gU2hvdyBuYXRpdmUgcHJvbXB0XG4gICAgICBPbmVTaWduYWwuX3JlZ2lzdGVyRm9yVzNDUHVzaChvcHRpb25zKTtcbiAgICBlbHNlXG4gICAgICBsb2cuZGVidWcoJ1NlcnZpY2Ugd29ya2VycyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuJyk7XG5cbiAgICB0cmlnZ2VyRXZlbnQoJ29uZXNpZ25hbC5zZGsuaW5pdGlhbGl6ZWQnLCBudWxsKTtcbiAgfSxcblxuICBfcmVnaXN0ZXJGb3JXM0NQdXNoOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gX3JlZ2lzdGVyRm9yVzNDUHVzaF9Hb3RSZWdpc3RyYXRpb25JZChyZWdpc3RyYXRpb25JZFJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbklkUmVzdWx0IHx8ICFvcHRpb25zLmZyb21SZWdpc3RlckZvciB8fCBOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPSBcImdyYW50ZWRcIikge1xuICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbigpLnRoZW4oZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc3dfcGF0aCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zLnBhdGgpXG4gICAgICAgICAgICAgIHN3X3BhdGggPSBPbmVTaWduYWwuX2luaXRPcHRpb25zLnBhdGg7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09IFwidW5kZWZpbmVkXCIpIC8vIE5vdGhpbmcgcmVnaXN0ZXJlZCwgdmVyeSBmaXJzdCBydW5cbiAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChldmVudC5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYWN0aXZlLnNjcmlwdFVSTC5pbmRleE9mKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFUSCkgPiAtMSkge1xuXG4gICAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdXT1JLRVIxX09ORV9TSUdOQUxfU1dfVkVSU0lPTicpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2ZXJzaW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5fVkVSU0lPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC51bnJlZ2lzdGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuYWN0aXZlLnNjcmlwdFVSTC5pbmRleE9mKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfVVBEQVRFUl9QQVRIKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ1dPUktFUjFfT05FX1NJR05BTF9TV19WRVJTSU9OJylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZlcnNpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZXN1bHQuaWQgIT0gT25lU2lnbmFsLl9WRVJTSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnVucmVnaXN0ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50Lmluc3RhbGxpbmcgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgX2FkZFNlc3Npb25JZnJhbWU6IGZ1bmN0aW9uIChob3N0UGFnZVByb3RvY29sKSB7XG5cbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgbm9kZS5zcmMgPSBPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwICsgXCJJZnJhbWVcIjtcbiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiKSlcbiAgICAgIG5vZGUuc3JjICs9IFwiP3Nlc3Npb249dHJ1ZVwiXG4gICAgICAgICsgXCImaG9zdFBhZ2VQcm90b2NvbD1cIiArIGhvc3RQYWdlUHJvdG9jb2w7XG4gICAgZWxzZVxuICAgICAgbm9kZS5zcmMgKz0gXCI/aG9zdFBhZ2VQcm90b2NvbD1cIiArIGhvc3RQYWdlUHJvdG9jb2xcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIGxvZy5kZWJ1ZygnQWRkaW5nIHNlc3Npb24gaUZyYW1lLicpO1xuXG4gICAgT25lU2lnbmFsLl9zZXNzaW9uSWZyYW1lQWRkZWQgPSB0cnVlO1xuICB9LFxuXG4gIF9yZWdpc3RlckVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgbG9nLmRlYnVnKFwibmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXI6RVJST1I6IFwiICsgZXJyKTtcbiAgfSxcblxuICBfZW5hYmxlTm90aWZpY2F0aW9uczogZnVuY3Rpb24gKGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikgeyAvLyBpcyBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIHR5cGVcbiAgICBpZiAoZXhpc3RpbmdTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKVxuICAgICAgbG9nLmRlYnVnKCdUaGVyZSBpcyBhbiBvbGRlciBTZXJ2aWNlV29ya2VyOicsIGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG4gICAgaWYgKCEoJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpKSB7XG4gICAgICBsb2cuZGVidWcoXCJQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLiBObyBQdXNoTWFuYWdlci5cIik7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKCdzaG93Tm90aWZpY2F0aW9uJyBpbiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIGxvZy5kZWJ1ZyhcIk5vdGlmaWNhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQuIHNob3dOb3RpZmljYXRpb24gbm90IGF2YWlsYWJsZSBpbiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLlwiKTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgICAgbG9nLndhcm4oXCJUaGUgdXNlciBoYXMgZGlzYWJsZWQgbm90aWZpY2F0aW9ucy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihmdW5jdGlvbiAoc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikge1xuICAgICAgbG9nLmluZm8oJ1NlcnZpY2Ugd29ya2VyIGFjdGl2ZTonLCBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKTtcblxuICAgICAgT25lU2lnbmFsLl9zdWJzY3JpYmVGb3JQdXNoKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pO1xuICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIC8qXG4gICBSZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXItYWdub3N0aWMgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gYXMgXCJkZWZhdWx0XCIsIFwiZ3JhbnRlZFwiLCBcImRlbmllZFwiLlxuICAgc2FmYXJpV2ViSWQ6IFVzZWQgb25seSB0byBnZXQgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gc3RhdGUgaW4gU2FmYXJpIChyZXF1aXJlZCBhcyBwYXJ0IG9mIHRoZSBzcGVjKS5cbiAgICovXG4gIF9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uOiBmdW5jdGlvbiAoc2FmYXJpV2ViSWQpIHtcbiAgICBpZiAod2luZG93LnNhZmFyaSkge1xuICAgICAgLy8gVGhlIHVzZXIgaXMgb24gU2FmYXJpXG4gICAgICAvLyBBIHdlYiBJRCBpcyByZXF1aXJlZCB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgbm90aWZpY2lhdGlvbiBwZXJtaXNzaW9uXG4gICAgICBpZiAoc2FmYXJpV2ViSWQpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKHNhZmFyaVdlYklkKS5wZXJtaXNzaW9uO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZSB1c2VyIGRpZG4ndCBzZXQgdXAgU2FmYXJpIHdlYiBwdXNoIHByb3Blcmx5OyBub3RpZmljYXRpb25zIGFyZSB1bmxpa2VseSB0byBiZSBlbmFibGVkXG4gICAgICAgIHJldHVybiBcImRlZmF1bHRcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBJZGVudGljYWwgQVBJIG9uIEZpcmVmb3ggYW5kIENocm9tZVxuICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uO1xuICAgIH1cbiAgfSxcblxuICBfdHJpZ2dlckV2ZW50X2N1c3RvbVByb21wdENsaWNrZWQ6IGZ1bmN0aW9uIChjbGlja1Jlc3VsdCkge1xuICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IExpbWl0U3RvcmUucHV0KCdub3RpZmljYXRpb24ucGVybWlzc2lvbicsIGNsaWNrUmVzdWx0KTtcbiAgICB0cmlnZ2VyRXZlbnQoJ29uZXNpZ25hbC5wcm9tcHQuY3VzdG9tLmNsaWNrZWQnLCB7XG4gICAgICByZXN1bHQ6IGNsaWNrUmVzdWx0XG4gICAgfSk7XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZDogZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRvID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc2FmYXJpX3dlYl9pZCk7XG4gICAgfVxuICAgIGlmIChmcm9tICE9PSB0bykge1xuICAgICAgdmFyIHJlY2VudFBlcm1pc3Npb25zID0gTGltaXRTdG9yZS5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgdG8pO1xuICAgICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwucHJvbXB0Lm5hdGl2ZS5wZXJtaXNzaW9uY2hhbmdlZCcsIHtcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdG86IHRvXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkOiBmdW5jdGlvbiAodG8pIHtcbiAgICB0cmlnZ2VyRXZlbnQoJ29uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZCcsIHRvKTtcbiAgfSxcblxuICBfdHJpZ2dlckV2ZW50X2RiVmFsdWVSZXRyaWV2ZWQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmRiLnZhbHVlcmV0cmlldmVkJywgdmFsdWUpO1xuICB9LFxuXG4gIF90cmlnZ2VyRXZlbnRfZGJWYWx1ZVNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuZGIudmFsdWVzZXQnLCB2YWx1ZSk7XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudF9pbnRlcm5hbFN1YnNjcmlwdGlvblNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuaW50ZXJuYWwuc3Vic2NyaXB0aW9uc2V0JywgdmFsdWUpO1xuICB9LFxuXG4gIF9zdWJzY3JpYmVGb3JQdXNoOiBmdW5jdGlvbiAoc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikge1xuICAgIHZhciBub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpO1xuICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHt1c2VyVmlzaWJsZU9ubHk6IHRydWV9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9OT1RJRklDQVRJT05fUEVSTUlTU0lPTlwiLCBOb3RpZmljYXRpb24ucGVybWlzc2lvbik7XG5cbiAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAnYXBwSWQnKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIF9zdWJzY3JpYmVGb3JQdXNoX0dvdEFwcElkKGFwcElkUmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgYXBwSWQgPSBhcHBJZFJlc3VsdC5pZDtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIkNhbGxlZCBPbmVTaWduYWwuX3N1YnNjcmliZUZvclB1c2goKSAtPiBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSgpLlwiKTtcblxuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQgIT0gXCJ1bmRlZmluZWRcIikgLy8gQ2hyb21lIDQzICYgNDJcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25JZCA9IHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZDtcbiAgICAgICAgICAgICAgZWxzZSAgLy8gQ2hyb21lIDQ0KyBhbmQgRmlyZUZveFxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkID0gc3Vic2NyaXB0aW9uLmVuZHBvaW50LnJlcGxhY2UobmV3IFJlZ0V4cChcIl4oaHR0cHM6Ly9hbmRyb2lkLmdvb2dsZWFwaXMuY29tL2djbS9zZW5kL3xodHRwczovL3VwZGF0ZXMucHVzaC5zZXJ2aWNlcy5tb3ppbGxhLmNvbS9wdXNoLylcIiksIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBsb2cud2FybignQ291bGQgbm90IHN1YnNjcmliZSB5b3VyIGJyb3dzZXIgZm9yIHB1c2ggbm90aWZpY2F0aW9ucy4nKTtcblxuICAgICAgICAgICAgT25lU2lnbmFsLl9yZWdpc3RlcldpdGhPbmVTaWduYWwoYXBwSWQsIHJlZ2lzdHJhdGlvbklkLCBpc1N1cHBvcnRlZEZpcmVGb3goKSA/IDggOiA1KTtcblxuICAgICAgICAgICAgaWYgKCFPbmVTaWduYWwuX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2spIHtcbiAgICAgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQobm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcignRXJyb3Igd2hpbGUgc3Vic2NyaWJpbmcgZm9yIHB1c2g6JywgZSk7XG5cbiAgICAgICAgaWYgKCFPbmVTaWduYWwuX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2spXG4gICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQobm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QpO1xuXG4gICAgICAgIGlmIChlLmNvZGUgPT0gMjAgJiYgb3BlbmVyICYmIE9uZVNpZ25hbC5faHR0cFJlZ2lzdHJhdGlvbilcbiAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIHNlbmRUYWc6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGpzb25LZXlWYWx1ZSA9IHt9O1xuICAgIGpzb25LZXlWYWx1ZVtrZXldID0gdmFsdWU7XG4gICAgT25lU2lnbmFsLnNlbmRUYWdzKGpzb25LZXlWYWx1ZSk7XG4gIH0sXG5cbiAgc2VuZFRhZ3M6IGZ1bmN0aW9uIChqc29uUGFpcikge1xuICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXG4gICAgICAudGhlbihmdW5jdGlvbiBzZW5kVGFnc19Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG4gICAgICAgIGlmICh1c2VySWRSZXN1bHQpXG4gICAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkLCBcIlBVVFwiLCB7XG4gICAgICAgICAgICBhcHBfaWQ6IE9uZVNpZ25hbC5fYXBwX2lkLFxuICAgICAgICAgICAgdGFnczoganNvblBhaXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPT0gbnVsbClcbiAgICAgICAgICAgIE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPSBqc29uUGFpcjtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRPYmogPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIF9vYmogaW4gT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3RlcikgcmVzdWx0T2JqW19vYmpdID0gT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3Rlcltfb2JqXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9vYmogaW4ganNvblBhaXIpIHJlc3VsdE9ialtfb2JqXSA9IGpzb25QYWlyW19vYmpdO1xuICAgICAgICAgICAgT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3RlciA9IHJlc3VsdE9iajtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKCdzZW5kVGFnczonLCBlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIGRlbGV0ZVRhZzogZnVuY3Rpb24gKGtleSkge1xuICAgIE9uZVNpZ25hbC5kZWxldGVUYWdzKFtrZXldKTtcbiAgfSxcblxuICBkZWxldGVUYWdzOiBmdW5jdGlvbiAoa2V5QXJyYXkpIHtcbiAgICB2YXIganNvblBhaXIgPSB7fTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5QXJyYXkubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICBqc29uUGFpcltrZXlBcnJheVtpXV0gPSBcIlwiO1xuXG4gICAgT25lU2lnbmFsLnNlbmRUYWdzKGpzb25QYWlyKTtcbiAgfSxcblxuICBfaGFuZGxlTm90aWZpY2F0aW9uT3BlbmVkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgbm90aWZpY2F0aW9uRGF0YSA9IEpTT04ucGFyc2UoZXZlbnQubm90aWZpY2F0aW9uLnRhZyk7XG4gICAgZXZlbnQubm90aWZpY2F0aW9uLmNsb3NlKCk7XG5cbiAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAnYXBwSWQnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJyldKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZF9Hb3RBcHBVc2VySWRzKHJlc3VsdHMpIHtcbiAgICAgICAgdmFyIGFwcElkUmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgICAgdmFyIHVzZXJJZFJlc3VsdCA9IHJlc3VsdHNbMV07XG4gICAgICAgIGlmIChhcHBJZFJlc3VsdCAmJiB1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcIm5vdGlmaWNhdGlvbnMvXCIgKyBub3RpZmljYXRpb25EYXRhLmlkLCBcIlBVVFwiLCB7XG4gICAgICAgICAgICBhcHBfaWQ6IGFwcElkUmVzdWx0LmlkLFxuICAgICAgICAgICAgcGxheWVyX2lkOiB1c2VySWRSZXN1bHQuaWQsXG4gICAgICAgICAgICBvcGVuZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG5cbiAgICBldmVudC53YWl0VW50aWwoXG4gICAgICBjbGllbnRzLm1hdGNoQWxsKHt0eXBlOiBcIndpbmRvd1wifSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsaWVudExpc3QpIHtcbiAgICAgICAgICB2YXIgbGF1bmNoVVJMID0gcmVnaXN0cmF0aW9uLnNjb3BlO1xuICAgICAgICAgIGlmIChPbmVTaWduYWwuX2RlZmF1bHRMYXVuY2hVUkwpXG4gICAgICAgICAgICBsYXVuY2hVUkwgPSBPbmVTaWduYWwuX2RlZmF1bHRMYXVuY2hVUkw7XG4gICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkRhdGEubGF1bmNoVVJMKVxuICAgICAgICAgICAgbGF1bmNoVVJMID0gbm90aWZpY2F0aW9uRGF0YS5sYXVuY2hVUkw7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsaWVudExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjbGllbnQgPSBjbGllbnRMaXN0W2ldO1xuICAgICAgICAgICAgaWYgKCdmb2N1cycgaW4gY2xpZW50ICYmIGNsaWVudC51cmwgPT0gbGF1bmNoVVJMKSB7XG4gICAgICAgICAgICAgIGNsaWVudC5mb2N1cygpO1xuXG4gICAgICAgICAgICAgIC8vIHRhcmdldE9yaWdpbiBub3QgdmFsaWQgaGVyZSBhcyB0aGUgc2VydmljZSB3b3JrZXIgb3ducyB0aGUgcGFnZS5cbiAgICAgICAgICAgICAgY2xpZW50LnBvc3RNZXNzYWdlKG5vdGlmaWNhdGlvbkRhdGEpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGxhdW5jaFVSTCAhPT0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnICYmIGxhdW5jaFVSTCAhPT0gJ2RvX25vdF9vcGVuJykge1xuICAgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIHt1cmw6IGxhdW5jaFVSTCwgZGF0YTogbm90aWZpY2F0aW9uRGF0YX0pO1xuICAgICAgICAgICAgY2xpZW50cy5vcGVuV2luZG93KGxhdW5jaFVSTCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIC8vIFNob3VsZCBvbmx5IGZhbGwgaW50byBoZXJlIGlmIGdvaW5nIHRvIGFuIGV4dGVybmFsIFVSTCBvbiBDaHJvbWUgb2xkZXIgdGhhbiA0My5cbiAgICAgICAgICAgICAgY2xpZW50cy5vcGVuV2luZG93KHJlZ2lzdHJhdGlvbi5zY29wZSArIFwicmVkaXJlY3Rvci5odG1sP3VybD1cIiArIGxhdW5jaFVSTCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgfSlcbiAgICApO1xuICB9LFxuXG4gIF9nZXRUaXRsZTogZnVuY3Rpb24gKGluY29taW5nVGl0bGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGluY29taW5nVGl0bGUgIT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2soaW5jb21pbmdUaXRsZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdkZWZhdWx0VGl0bGUnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3BhZ2VUaXRsZScpXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9nZXRUaXRsZV9Hb3REZWZhdWx0UGFnZVRpdGxlcyhyZXN1bHRzKSB7XG4gICAgICAgIHZhciBkZWZhdWx0VGl0bGVSZXN1bHQgPSByZXN1bHRzWzBdO1xuICAgICAgICB2YXIgcGFnZVRpdGxlUmVzdWx0ID0gcmVzdWx0c1sxXTtcblxuICAgICAgICBpZiAoZGVmYXVsdFRpdGxlUmVzdWx0KSB7XG4gICAgICAgICAgY2FsbGJhY2soZGVmYXVsdFRpdGxlUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFnZVRpdGxlUmVzdWx0ICYmIHBhZ2VUaXRsZVJlc3VsdC52YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY2FsbGJhY2socGFnZVRpdGxlUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soJycpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIC8vIERpc3BsYXlzIG5vdGlmaWNhdGlvbiBmcm9tIGNvbnRlbnQgcmVjZWl2ZWQgZnJvbSBPbmVTaWduYWwuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIG9ubHkgY2FsbGVkIGJ5IFNlcnZpY2VXb3JrZXJcbiAgX2hhbmRsZUdDTU1lc3NhZ2U6IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyLCBldmVudCkge1xuICAgIC8vIFRPRE86IFJlYWQgZGF0YSBmcm9tIHRoZSBHQ00gcGF5bG9hZCB3aGVuIENocm9tZSBubyBsb25nZXIgcmVxdWlyZXMgdGhlIGJlbG93IGNvbW1hbmQgbGluZSBwYXJhbWV0ZXIuXG4gICAgLy8gLS1lbmFibGUtcHVzaC1tZXNzYWdlLXBheWxvYWRcbiAgICAvLyBUaGUgY29tbWFuZCBsaW5lIHBhcmFtIGlzIHJlcXVpcmVkIGV2ZW4gb24gQ2hyb21lIDQzIG5pZ2h0bHkgYnVpbGQgMjAxNS8wMy8xNy5cbiAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnRleHQoKVswXSA9PSBcIntcIikge1xuICAgICAgbG9nLmRlYnVnKCdSZWNlaXZlZCBkYXRhLnRleHQ6ICcsIGV2ZW50LmRhdGEudGV4dCgpKTtcbiAgICAgIGxvZy5kZWJ1ZygnUmVjZWl2ZWQgZGF0YS5qc29uOiAnLCBldmVudC5kYXRhLmpzb24oKSk7XG4gICAgfVxuXG4gICAgZXZlbnQud2FpdFVudGlsKG5ldyBQcm9taXNlKFxuICAgICAgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBPbmVTaWduYWwuX2dldFRpdGxlKG51bGwsIGZ1bmN0aW9uICh0aXRsZSkge1xuICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdkZWZhdWx0SWNvbicpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBfaGFuZGxlR0NNTWVzc2FnZV9Hb3REZWZhdWx0SWNvbihkZWZhdWx0SWNvblJlc3VsdCkge1xuICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldExhc3ROb3RpZmljYXRpb25zKGZ1bmN0aW9uIChyZXNwb25zZSwgYXBwSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiByZXNwb25zZS5jdXN0b20uaSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmFsZXJ0LFxuICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbERhdGE6IHJlc3BvbnNlLmN1c3RvbS5hXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50aXRsZSlcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRhdGEudGl0bGUgPSByZXNwb25zZS50aXRsZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EYXRhLnRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3VzdG9tLnUpXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EYXRhLmxhdW5jaFVSTCA9IHJlc3BvbnNlLmN1c3RvbS51O1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmljb24pXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EYXRhLmljb24gPSByZXNwb25zZS5pY29uO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlZmF1bHRJY29uUmVzdWx0KVxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRGF0YS5pY29uID0gZGVmYXVsdEljb25SZXN1bHQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBOZXZlciBuZXN0IHRoZSBmb2xsb3dpbmcgbGluZSBpbiBhIGNhbGxiYWNrIGZyb20gdGhlIHBvaW50IG9mIGVudGVyaW5nIGZyb20gX2dldExhc3ROb3RpZmljYXRpb25zXG4gICAgICAgICAgICAgICAgc2VydmljZVdvcmtlci5yZWdpc3RyYXRpb24uc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb25EYXRhLnRpdGxlLCB7XG4gICAgICAgICAgICAgICAgICBib2R5OiByZXNwb25zZS5hbGVydCxcbiAgICAgICAgICAgICAgICAgIGljb246IG5vdGlmaWNhdGlvbkRhdGEuaWNvbixcbiAgICAgICAgICAgICAgICAgIHRhZzogSlNPTi5zdHJpbmdpZnkobm90aWZpY2F0aW9uRGF0YSlcbiAgICAgICAgICAgICAgICB9KS50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnZGVmYXVsdFVybCcpXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGVmYXVsdFVybFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFVybFJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2RlZmF1bHRMYXVuY2hVUkwgPSBkZWZhdWx0VXJsUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIH0sIHJlc29sdmUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSlcbiAgfSxcblxuICBfZ2V0TGFzdE5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIChpdGVtQ2FsbGJhY2ssIGNvbXBsZXRlQ2FsbGJhY2spIHtcbiAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gX2dldExhc3ROb3RpZmljYXRpb25zX0dvdFVzZXJJZCh1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgaWYgKHVzZXJJZFJlc3VsdCkge1xuICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwicGxheWVycy9cIiArIHVzZXJJZFJlc3VsdC5pZCArIFwiL2Nocm9tZXdlYl9ub3RpZmljYXRpb25cIiwgXCJHRVRcIiwgbnVsbCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICBpdGVtQ2FsbGJhY2soSlNPTi5wYXJzZShyZXNwb25zZVtpXSkpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2soKTtcbiAgICAgICAgICB9KTsgIC8vIEZhaWxlZCBjYWxsYmFja1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvZy5kZWJ1ZyhcIkVycm9yOiBjb3VsZCBub3QgZ2V0IG5vdGlmaWNhdGlvbklkXCIpO1xuICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgLy8gSFRUUCAmIEhUVFBTIC0gUnVucyBvbiBtYWluIHBhZ2VcbiAgX2xpc3RlbmVyX3JlY2VpdmVNZXNzYWdlOiBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZShldmVudCkge1xuICAgIGxvZy5kZWJ1ZyhcIl9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZTogXCIsIGV2ZW50KTtcblxuICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zID09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybjtcblxuICAgIGlmICghX19ERVZfXyAmJiBldmVudC5vcmlnaW4gIT09IFwiXCIgJiYgZXZlbnQub3JpZ2luICE9PSBcImh0dHBzOi8vb25lc2lnbmFsLmNvbVwiICYmIGV2ZW50Lm9yaWdpbiAhPT0gXCJodHRwczovL1wiICsgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICsgXCIub25lc2lnbmFsLmNvbVwiKVxuICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKGV2ZW50LmRhdGEub25lU2lnbmFsSW5pdFBhZ2VSZWFkeSkgeyAvLyBPbmx5IGNhbGxlZCBvbiBIVFRQIHBhZ2VzLlxuICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlcyhcIk9wdGlvbnNcIilcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gX2xpc3RlbmVyX3JlY2VpdmVNZXNzYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgICBsb2cuZGVidWcoXCJjdXJyZW50IG9wdGlvbnNcIiwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLmRlZmF1bHRVcmwpXG4gICAgICAgICAgICBvcHRpb25zLmRlZmF1bHRVcmwgPSBkb2N1bWVudC5VUkw7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLmRlZmF1bHRUaXRsZSlcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmYXVsdFRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG5cbiAgICAgICAgICBvcHRpb25zLnBhcmVudF91cmwgPSBkb2N1bWVudC5VUkw7XG4gICAgICAgICAgbG9nLmRlYnVnKFwiUG9zdGluZyBtZXNzYWdlIHRvIHBvcnRbMF1cIiwgZXZlbnQucG9ydHNbMF0pO1xuICAgICAgICAgIGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtpbml0T3B0aW9uczogb3B0aW9uc30pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoJ19saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZTonLCBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHZhciBldmVudERhdGEgPSBldmVudC5kYXRhLm9uZVNpZ25hbEluaXRQYWdlUmVhZHk7XG5cbiAgICAgIGlmIChldmVudERhdGEuaXNJZnJhbWUpXG4gICAgICAgIE9uZVNpZ25hbC5faWZyYW1lUG9ydCA9IGV2ZW50LnBvcnRzWzBdO1xuXG4gICAgICBpZiAoZXZlbnREYXRhLnVzZXJJZClcbiAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInVzZXJJZFwiLCBpZDogZXZlbnREYXRhLnVzZXJJZH0pO1xuICAgICAgaWYgKGV2ZW50RGF0YS5yZWdpc3RyYXRpb25JZClcbiAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInJlZ2lzdHJhdGlvbklkXCIsIGlkOiBldmVudERhdGEucmVnaXN0cmF0aW9uSWR9KTtcblxuICAgICAgT25lU2lnbmFsLl9maXJlTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKGV2ZW50RGF0YS5pc1B1c2hFbmFibGVkKTtcbiAgICAgIE9uZVNpZ25hbC5fc2VuZFVuc2VudFRhZ3MoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnQuZGF0YS5jdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbikgLy8gU3ViZG9tYWluIE9ubHlcbiAgICAgIE9uZVNpZ25hbC5fZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayhldmVudC5kYXRhLmN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uLmlzUHVzaEVuYWJsZWQpO1xuICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlKSB7IC8vIE9ubHkgY2FsbGVkIG9uIEhUVFAgcGFnZXMuXG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInVzZXJJZFwiLCBpZDogZXZlbnQuZGF0YS5pZHNBdmFpbGFibGUudXNlcklkfSk7XG4gICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwge3R5cGU6IFwicmVnaXN0cmF0aW9uSWRcIiwgaWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnJlZ2lzdHJhdGlvbklkfSk7XG5cbiAgICAgIGlmIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKVxuICAgICAgICAgIGN1cnJfY2FsbGJhY2soe1xuICAgICAgICAgICAgdXNlcklkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS51c2VySWQsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25JZDogZXZlbnQuZGF0YS5pZHNBdmFpbGFibGUucmVnaXN0cmF0aW9uSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgT25lU2lnbmFsLl9zZW5kVW5zZW50VGFncygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBzUHJvbXB0QWNjZXB0ZWQpIHsgLy8gSFRUUFMgT25seVxuICAgICAgT25lU2lnbmFsLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24odHJ1ZSk7XG4gICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG4gICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKCdncmFudGVkJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuaHR0cHNQcm9tcHRDYW5jZWxlZCkgeyAvLyBIVFRQUyBPbmx5XG4gICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG4gICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKCdkZW5pZWQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnQuZGF0YS5odHRwUHJvbXB0QWNjZXB0ZWQpIHsgLy8gSFRUUCBPbmx5XG4gICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKCdncmFudGVkJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuaHR0cFByb21wdENhbmNlbGVkKSB7IC8vIEhUVFAgT25seVxuICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZGVuaWVkJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrKSAvLyBIVFRQIGFuZCBIVFRQU1xuICAgICAgT25lU2lnbmFsLl9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2soZXZlbnQuZGF0YSk7XG4gIH0sXG5cbiAgYWRkTGlzdGVuZXJGb3JOb3RpZmljYXRpb25PcGVuZWQ6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIGRvY3VtZW50LlVSTClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuICAgICAgICAgIGlmIChub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIE9uZVNpZ25hbC5fZGVsZXRlRGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBkb2N1bWVudC5VUkwpO1xuICAgICAgICAgICAgT25lU2lnbmFsLl9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2sobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0LmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICAgIDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3ViZG9tYWluIC0gRmlyZWQgZnJvbSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gaWZyYW1lLlxuICBfZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjazogZnVuY3Rpb24gKG5vdGlmUGVybXNzaW9uKSB7XG4gICAgaWYgKE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2spIHtcbiAgICAgIE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2sobm90aWZQZXJtc3Npb24pO1xuICAgICAgT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIGdldElkc0F2YWlsYWJsZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm47XG5cbiAgICBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wdXNoKGNhbGxiYWNrKTtcblxuICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKV0pXG4gICAgICAudGhlbihmdW5jdGlvbiBnZXRJZHNBdmFpbGFibGVfR290VXNlclJlZ2lzdHJhdGlvbklkcyhyZXN1bHRzKSB7XG4gICAgICAgIHZhciB1c2VySWRSZXN1bHQgPSByZXN1bHRzWzBdO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRzWzFdO1xuXG4gICAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uSWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG4gICAgICAgICAgICAgIGN1cnJfY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkUmVzdWx0LmlkLFxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZFJlc3VsdC5pZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKTtcbiAgICAgICAgICAgICAgY3Vycl9jYWxsYmFjayh7dXNlcklkOiB1c2VySWRSZXN1bHQuaWQsIHJlZ2lzdHJhdGlvbklkOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIGdldFRhZ3M6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXG4gICAgICAudGhlbihmdW5jdGlvbiAodXNlcklkUmVzdWx0KSB7XG4gICAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcInBsYXllcnMvXCIgKyB1c2VySWRSZXN1bHQuaWQsICdHRVQnLCBudWxsLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLnRhZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgIDtcbiAgfSxcblxuICBpc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxvZy53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBTdWJkb21haW5cbiAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICYmICFpc0Jyb3dzZXJTYWZhcmkoKSkge1xuICAgICAgT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgaWYgKE9uZVNpZ25hbC5faWZyYW1lUG9ydClcbiAgICAgICAgT25lU2lnbmFsLl9pZnJhbWVQb3J0LnBvc3RNZXNzYWdlKHtnZXROb3RpZmljYXRpb25QZXJtaXNzaW9uOiB0cnVlfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgSFRUUFNcblxuICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJyldKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvblJlc3VsdCA9IHJlc3VsdHNbMV07XG5cbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbklkUmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblJlc3VsdCAmJiAhc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZhbHNlKTtcblxuICAgICAgICAgIGNhbGxiYWNrKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09IFwiZ3JhbnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICBfZ2V0Tm90aWZpY2F0aW9uVHlwZXM6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIE9uZVNpZ25hbC5fZ2V0U3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChkYl9zdWJzY3JpcHRpb25TZXQpIHtcbiAgICAgIGNhbGxiYWNrKGRiX3N1YnNjcmlwdGlvblNldCA/IDEgOiAtMik7XG4gICAgfSk7XG4gIH0sXG5cbiAgc2V0U3Vic2NyaXB0aW9uOiBmdW5jdGlvbiAobmV3U3Vic2NyaXB0aW9uKSB7XG4gICAgaWYgKE9uZVNpZ25hbC5faWZyYW1lUG9ydClcbiAgICAgIE9uZVNpZ25hbC5faWZyYW1lUG9ydC5wb3N0TWVzc2FnZSh7c2V0U3ViZG9tYWluU3RhdGU6IHtzZXRTdWJzY3JpcHRpb246IG5ld1N1YnNjcmlwdGlvbn19KTtcbiAgICBlbHNlIHtcbiAgICAgIE9uZVNpZ25hbC5fZ2V0U3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChjdXJyZW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChjdXJyZW50U3Vic2NyaXB0aW9uICE9IG5ld1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwge2tleTogXCJzdWJzY3JpcHRpb25cIiwgdmFsdWU6IG5ld1N1YnNjcmlwdGlvbn0pO1xuICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcklkUmVzdWx0KSB7XG4gICAgICAgICAgICAgIGlmICh1c2VySWRSZXN1bHQpXG4gICAgICAgICAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkLCBcIlBVVFwiLCB7XG4gICAgICAgICAgICAgICAgICBhcHBfaWQ6IE9uZVNpZ25hbC5fYXBwX2lkLFxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uX3R5cGVzOiBuZXdTdWJzY3JpcHRpb24gPyAxIDogLTJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBzZXRTdWJzY3JpcHRpb25TZXRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0KG5ld1N1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgX2dldFN1YnNjcmlwdGlvbjogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3N1YnNjcmlwdGlvbicpXG4gICAgICAudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uUmVzdWx0KSB7XG4gICAgICAgIGNhbGxiYWNrKCEoc3Vic2NyaXB0aW9uUmVzdWx0ICYmIHN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSA9PSBmYWxzZSkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgX3NhZmVQb3N0TWVzc2FnZTogZnVuY3Rpb24gKGNyZWF0b3IsIGRhdGEsIHRhcmdldE9yaWdpbiwgcmVjZWl2ZXIpIHtcbiAgICB2YXIgdE9yaWdpbiA9IHRhcmdldE9yaWdpbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gSWYgd2UgYXJlIHRyeWluZyB0byB0YXJnZXQgYSBodHRwIHNpdGUgYWxsb3cgdGhlIGh0dHBzIHZlcnNpb24uICh3LyBvciB3L28gJ3d3d3cuJyB0b28pXG4gICAgaWYgKHRPcmlnaW4uc3RhcnRzV2l0aChcImh0dHA6Ly9cIikpIHtcbiAgICAgIHZhciBxdWVyeURpY3QgPSB7fTtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoXCImXCIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcXVlcnlEaWN0W2l0ZW0uc3BsaXQoXCI9XCIpWzBdXSA9IGl0ZW0uc3BsaXQoXCI9XCIpWzFdXG4gICAgICB9KTtcbiAgICAgIHZhciB2YWxpZFByZVVSTFJlZ2V4ID0gL15odHRwKHN8KTpcXC9cXC8od3d3XFwufCkvO1xuICAgICAgdE9yaWdpbiA9IHRPcmlnaW4ucmVwbGFjZSh2YWxpZFByZVVSTFJlZ2V4LCBxdWVyeURpY3RbXCJob3N0UGFnZVByb3RvY29sXCJdKTtcbiAgICB9XG5cbiAgICBpZiAocmVjZWl2ZXIpXG4gICAgICBjcmVhdG9yLnBvc3RNZXNzYWdlKGRhdGEsIHRPcmlnaW4sIHJlY2VpdmVyKTtcbiAgICBlbHNlXG4gICAgICBjcmVhdG9yLnBvc3RNZXNzYWdlKGRhdGEsIHRPcmlnaW4pO1xuICB9LFxuXG4gIF9wcm9jZXNzX3B1c2hlczogZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICAgIE9uZVNpZ25hbC5wdXNoKGFycmF5W2ldKTtcbiAgfSxcblxuICBwdXNoOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmICh0eXBlb2YoaXRlbSkgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgaXRlbSgpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGl0ZW0uc2hpZnQoKTtcbiAgICAgIE9uZVNpZ25hbFtmdW5jdGlvbk5hbWVdLmFwcGx5KG51bGwsIGl0ZW0pO1xuICAgIH1cbiAgfVxufTtcblxuLy8gSWYgaW1wb3J0ZWQgb24geW91ciBwYWdlLlxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBPbmVTaWduYWwuX2xpc3RlbmVyX3JlY2VpdmVNZXNzYWdlLCBmYWxzZSk7XG5lbHNlIHsgLy8gaWYgaW1wb3J0ZWQgZnJvbSB0aGUgc2VydmljZSB3b3JrZXIuXG4gIGltcG9ydFNjcmlwdHMoJ2h0dHBzOi8vY2RuLm9uZXNpZ25hbC5jb20vc2Rrcy9zZXJ2aWNld29ya2VyLWNhY2hlLXBvbHlmaWxsLmpzJyk7XG5cbiAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdwdXNoJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgT25lU2lnbmFsLl9oYW5kbGVHQ01NZXNzYWdlKHNlbGYsIGV2ZW50KTsgLy8gQ2FuIGhhbmRsZSBtZXNzYWdlcyBmcm9tIGFueSBicm93c2VyIChleGNlcHQgU2FmYXJpKSwgcmVuYW1lIG1ldGhvZFxuICB9KTtcbiAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdub3RpZmljYXRpb25jbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIEFsc28gb25seSBieSBTV1xuICAgIE9uZVNpZ25hbC5faGFuZGxlTm90aWZpY2F0aW9uT3BlbmVkKGV2ZW50KTtcbiAgfSk7XG5cbiAgdmFyIGlzU1dvblN1YmRvbWFpbiA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2h0dHBzXFw6XFwvXFwvLipcXC5vbmVzaWduYWwuY29tXFwvc2Rrc1xcLy8pICE9IG51bGw7XG4gIGlmIChfX0RFVl9fKVxuICAgIGlzU1dvblN1YmRvbWFpbiA9IHRydWU7XG5cbiAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbG9nLmRlYnVnKFwiT25lU2lnbmFsIEluc3RhbGxlZCBzZXJ2aWNlIHdvcmtlcjogXCIgKyBPbmVTaWduYWwuX1ZFUlNJT04pO1xuICAgIGlmIChzZWxmLmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoXCJPbmVTaWduYWxTREtXb3JrZXIuanNcIikgPiAtMSlcbiAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJXT1JLRVIxX09ORV9TSUdOQUxfU1dfVkVSU0lPTlwiLCBpZDogT25lU2lnbmFsLl9WRVJTSU9OfSk7XG4gICAgZWxzZVxuICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcIldPUktFUjJfT05FX1NJR05BTF9TV19WRVJTSU9OXCIsIGlkOiBPbmVTaWduYWwuX1ZFUlNJT059KTtcblxuICAgIGlmIChpc1NXb25TdWJkb21haW4pIHtcbiAgICAgIGV2ZW50LndhaXRVbnRpbChcbiAgICAgICAgY2FjaGVzLm9wZW4oXCJPbmVTaWduYWxfXCIgKyBPbmVTaWduYWwuX1ZFUlNJT04pLnRoZW4oZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChbXG4gICAgICAgICAgICAnL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHBJZnJhbWUnLFxuICAgICAgICAgICAgJy9zZGtzL2luaXRPbmVTaWduYWxIdHRwSWZyYW1lP3Nlc3Npb249KicsXG4gICAgICAgICAgICAnL3Nka3MvbWFuaWZlc3RfanNvbiddKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChpc1NXb25TdWJkb21haW4pIHtcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5yZXNwb25kV2l0aChcbiAgICAgICAgY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBDYWNoZSBoaXQgLSByZXR1cm4gcmVzcG9uc2VcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSlcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goZXZlbnQucmVxdWVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBPbmVTaWduYWw7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2RrLmpzXG4gKiovIiwiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xuKGZ1bmN0aW9uKCkge1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIGxpc3QgPSB0aGlzLm1hcFtuYW1lXVxuICAgIGlmICghbGlzdCkge1xuICAgICAgbGlzdCA9IFtdXG4gICAgICB0aGlzLm1hcFtuYW1lXSA9IGxpc3RcbiAgICB9XG4gICAgbGlzdC5wdXNoKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldIHx8IFtdXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gW25vcm1hbGl6ZVZhbHVlKHZhbHVlKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMubWFwKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMubWFwW25hbWVdLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcylcbiAgICAgIH0sIHRoaXMpXG4gICAgfSwgdGhpcylcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKCk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cbiAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZCA6IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcbiAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBpbnB1dFxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzKVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBoZWFkZXJzKHhocikge1xuICAgIHZhciBoZWFkID0gbmV3IEhlYWRlcnMoKVxuICAgIHZhciBwYWlycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS50cmltKCkuc3BsaXQoJ1xcbicpXG4gICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHZhciBzcGxpdCA9IGhlYWRlci50cmltKCkuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG4gICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1c1xuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBvcHRpb25zLnN0YXR1c1RleHRcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gb3B0aW9ucy5oZWFkZXJzIDogbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3Q7XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZTtcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdFxuICAgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpICYmICFpbml0KSB7XG4gICAgICAgIHJlcXVlc3QgPSBpbnB1dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgfVxuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgZnVuY3Rpb24gcmVzcG9uc2VVUkwoKSB7XG4gICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VVUkxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF2b2lkIHNlY3VyaXR5IHdhcm5pbmdzIG9uIGdldFJlc3BvbnNlSGVhZGVyIHdoZW4gbm90IGFsbG93ZWQgYnkgQ09SU1xuICAgICAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSAoeGhyLnN0YXR1cyA9PT0gMTIyMykgPyAyMDQgOiB4aHIuc3RhdHVzXG4gICAgICAgIGlmIChzdGF0dXMgPCAxMDAgfHwgc3RhdHVzID4gNTk5KSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkoKTtcblxuXG4vKioqIEVYUE9SVFMgRlJPTSBleHBvcnRzLWxvYWRlciAqKiovXG5tb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5mZXRjaFxufS5jYWxsKGdsb2JhbCkpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2ltcG9ydHMtbG9hZGVyP3RoaXM9Pmdsb2JhbCEuL34vZXhwb3J0cy1sb2FkZXI/Z2xvYmFsLmZldGNoIS4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBpc0RldiB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5leHBvcnQgY29uc3QgREVWX0hPU1QgPSAnaHR0cHM6Ly8xOTIuMTY4LjEuMjA2OjMwMDAnO1xuZXhwb3J0IGNvbnN0IFBST0RfSE9TVCA9ICdodHRwczovL29uZXNpZ25hbC5jb20nO1xuZXhwb3J0IGNvbnN0IEhPU1RfVVJMID0gKGlzRGV2KCkgPyBERVZfSE9TVCA6IFBST0RfSE9TVCkgKyAnL2FwaS92MS8nO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3ZhcnMuanNcbiAqKi8iLCJpbXBvcnQgbG9nIGZyb20gJ2xvZ2xldmVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodmFyaWFibGUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggdmFyaWFibGUgKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEh1bWFuaXplZFRpbWVEdXJhdGlvbih0aW1lRHVyYXRpb25Jbk1pbGxpc2Vjb25kcykge1xuICBmdW5jdGlvbiBhZGRQbHVyYWxTdWZmaXgobnVtYmVyKSB7XG4gICAgcmV0dXJuIChudW1iZXIgPiAxKSA/ICdzJyA6ICcnO1xuICB9XG4gIHZhciBkdXJhdGlvbiA9IE1hdGguZmxvb3IodGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMgLyAxMDAwKTtcblxuICB2YXIgeWVhcnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gMzE1MzYwMDApO1xuICBpZiAoeWVhcnMpXG4gICAgcmV0dXJuIHllYXJzICsgJyB5ZWFyJyArIGFkZFBsdXJhbFN1ZmZpeCh5ZWFycyk7XG5cbiAgdmFyIGRheXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlPSAzMTUzNjAwMCkgLyA4NjQwMCk7XG4gIGlmIChkYXlzKVxuICAgIHJldHVybiBkYXlzICsgJyBkYXknICsgYWRkUGx1cmFsU3VmZml4KGRheXMpO1xuXG4gIHZhciBob3VycyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uICU9IDg2NDAwKSAvIDM2MDApO1xuICBpZiAoaG91cnMpXG4gICAgcmV0dXJuIGhvdXJzICsgJyBob3VyJyArIGFkZFBsdXJhbFN1ZmZpeChob3Vycyk7XG5cbiAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlPSAzNjAwKSAvIDYwKTtcbiAgaWYgKG1pbnV0ZXMpXG4gICAgcmV0dXJuIG1pbnV0ZXMgKyAnIG1pbnV0ZScgKyBhZGRQbHVyYWxTdWZmaXgobWludXRlcyk7XG5cbiAgdmFyIHNlY29uZHMgPSBkdXJhdGlvbiAlIDYwO1xuICBpZiAoc2Vjb25kcylcbiAgICByZXR1cm4gc2Vjb25kcyArICcgc2Vjb25kJyArIGFkZFBsdXJhbFN1ZmZpeChzZWNvbmRzKTtcblxuICByZXR1cm4gJ2p1c3Qgbm93Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlckVudigpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RldigpIHtcbiAgcmV0dXJuIF9fREVWX187XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkICgpIHtcbiAgdmFyIGNocm9tZVZlcnNpb24gPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKC4qPykgLyk7XG5cbiAgaWYgKGlzU3VwcG9ydGVkRmlyZUZveCgpKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIGlmIChpc1N1cHBvcnRlZFNhZmFyaSgpKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIC8vIENocm9tZSBpcyBub3QgZm91bmQgaW4gYXBwVmVyc2lvbi5cbiAgaWYgKCFjaHJvbWVWZXJzaW9uKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBNaWNyb3NvZnQgRWRnZVxuICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0VkZ2UvKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQW5kcm9pZCBDaHJvbWUgV2ViVmlld1xuICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goLyB3di8pKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBPcGVyYVxuICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09QUlxcLy8pKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBUaGUgdXNlciBpcyBvbiBpT1NcbiAgaWYgKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiBwYXJzZUludChjaHJvbWVWZXJzaW9uWzFdLnN1YnN0cmluZygwLCAyKSkgPiA0MTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlclNhZmFyaSgpIHtcbiAgdmFyIHNhZmFyaVZlcnNpb24gPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vKFswLTldPykuKiBTYWZhcmlcIik7XG4gIHJldHVybiBzYWZhcmlWZXJzaW9uICE9IG51bGwgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBwb3J0ZWRGaXJlRm94KCkge1xuICB2YXIgZmlyZUZveFZlcnNpb24gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oRmlyZWZveFxcLykoWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pO1xuICBpZiAoZmlyZUZveFZlcnNpb24pXG4gICAgcmV0dXJuIHBhcnNlSW50KGZpcmVGb3hWZXJzaW9uWzJdLnN1YnN0cmluZygwLCAyKSkgPiA0MztcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRmlyZWZveCgpIHtcbiAgdmFyIGZpcmVGb3hWZXJzaW9uID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEZpcmVmb3hcXC8pKFswLTldezIsfVxcLlswLTldezEsfSkvKTtcbiAgcmV0dXJuIGZpcmVGb3hWZXJzaW9uICE9IG51bGwgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlyZWZveFZlcnNpb24oKSB7XG4gIHZhciBmaXJlRm94VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhGaXJlZm94XFwvKShbMC05XXsyLH1cXC5bMC05XXsxLH0pLyk7XG4gIGlmIChmaXJlRm94VmVyc2lvbilcbiAgICByZXR1cm4gcGFyc2VJbnQoZmlyZUZveFZlcnNpb25bMl0uc3Vic3RyaW5nKDAsIDIpKTtcbiAgZWxzZSByZXR1cm4gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1cHBvcnRlZFNhZmFyaSgpIHtcbiAgdmFyIHNhZmFyaVZlcnNpb24gPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vKFswLTldPykuKiBTYWZhcmlcIik7XG4gIGlmIChzYWZhcmlWZXJzaW9uID09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIChwYXJzZUludChzYWZhcmlWZXJzaW9uWzFdKSA+IDYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9tRWxlbWVudChzZWxlY3Rvcikge1xuICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIGlmIChlbHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgZWxzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxzW2ldKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRG9tRWxlbWVudCh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgYWRkT3JkZXIsIGVsZW1lbnRIdG1sKSB7XG4gIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpLmluc2VydEFkamFjZW50SFRNTChhZGRPcmRlciwgZWxlbWVudEh0bWwpO1xuICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdvYmplY3QnKVxuICAgIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChhZGRPcmRlciwgZWxlbWVudEh0bWwpO1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3RhcmdldFNlbGVjdG9yT3JFbGVtZW50fSBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuYCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDc3NDbGFzcyh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgY3NzQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG4gIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ29iamVjdCcpXG4gICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0U2VsZWN0b3JPckVsZW1lbnR9IG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNzc0NsYXNzKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBjc3NDbGFzcykge1xuICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJylcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KS5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzKTtcbiAgZWxzZSBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnb2JqZWN0JylcbiAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzKTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRTZWxlY3Rvck9yRWxlbWVudH0gbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LmApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb24odGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGV2ZW50LCB0YXNrKSB7XG4gIGlmICghZXZlbnQpIHtcbiAgICBsb2cuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyBldmVudDogJywgZXZlbnQpO1xuICB9XG4gIGlmICghdGFzaykge1xuICAgIGxvZy5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIHRhc2s6ICcsIHRhc2spXG4gIH1cbiAgbG9nLmRlYnVnKCdEZWJ1ZyBtZSBoZXJlLicpO1xuICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGxldCBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgICBvbihlbHNbaV0sIHRhc2spO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmIChpc0FycmF5KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQubGVuZ3RoOyBpKyspXG4gICAgICBvbih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudFtpXSwgdGFzayk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnb2JqZWN0JylcbiAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0YXNrKTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRTZWxlY3Rvck9yRWxlbWVudH0gbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LmApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25jZSh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgZXZlbnQsIHRhc2ssIG1hbnVhbERlc3Ryb3k9ZmFsc2UpIHtcbiAgaWYgKCFldmVudCkge1xuICAgIGxvZy5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIGV2ZW50OiAnLCBldmVudCk7XG4gIH1cbiAgaWYgKCF0YXNrKSB7XG4gICAgbG9nLmVycm9yKCdDYW5ub3QgY2FsbCBvbigpIHdpdGggbm8gdGFzazogJywgdGFzaylcbiAgfVxuICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGxldCBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgICBvbmNlKGVsc1tpXSwgdGFzayk7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGlzQXJyYXkodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5sZW5ndGg7IGkrKylcbiAgICAgIG9uY2UodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnRbaV0sIHRhc2spO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgdGFza1dyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGVybmFsVGFza0Z1bmN0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGRlc3Ryb3lFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIHRhc2tXcmFwcGVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFtYW51YWxEZXN0cm95KSB7XG4gICAgICAgICAgZGVzdHJveUV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0YXNrKGUsIGRlc3Ryb3lFdmVudExpc3RlbmVyKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaW50ZXJuYWxUYXNrRnVuY3Rpb247XG4gICAgfSkoKTtcbiAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0YXNrV3JhcHBlcik7XG4gIH1cbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRTZWxlY3Rvck9yRWxlbWVudH0gbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LmApO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmcm9tIHNlbGVjdG9yLlxuICogQHBhcmFtIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50IFNlbGVjdG9yIHRvIHRhcmdldCBvbmUgb3IgbXVsdGlwbGUgZWxlbWVudHMsIG9yIGEgc2luZ2xlIG9yIGFycmF5IG9mIERPTUVsZW1lbnQuXG4gKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIHRhcmdldCAoZS5nLiAndHJhbnNpdGlvbmVuZCcpXG4gKiBAcGFyYW0gdGFzayBBIHNpbmdsZSBmdW5jdGlvbiBjYWxsYmFjayB0byB1bmJpbmQsIG9yIGxlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwgZXZlbnQgaGFuZGxlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZmYodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGV2ZW50LCB0YXNrKSB7XG4gIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgbGV0IGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIGlmIChlbHMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIG9mZihlbHNbaV0sIHRhc2spO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmIChpc0FycmF5KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQubGVuZ3RoOyBpKyspXG4gICAgICBvZmYodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnRbaV0sIHRhc2spO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ29iamVjdCcpXG4gICAgaWYgKHRhc2spXG4gICAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0YXNrKTtcbiAgICBlbHNlXG4gICAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50KTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRTZWxlY3Rvck9yRWxlbWVudH0gbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LmApO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWxzLmpzXG4gKiovIiwiLypcclxuKiBsb2dsZXZlbCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbFxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeVxyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuKi9cclxuKGZ1bmN0aW9uIChyb290LCBkZWZpbml0aW9uKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm9vdC5sb2cgPSBkZWZpbml0aW9uKCk7XHJcbiAgICB9XHJcbn0odGhpcywgZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XHJcbiAgICB2YXIgdW5kZWZpbmVkVHlwZSA9IFwidW5kZWZpbmVkXCI7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gV2UgY2FuJ3QgYnVpbGQgYSByZWFsIG1ldGhvZCB3aXRob3V0IGEgY29uc29sZSB0byBsb2cgdG9cclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGVbbWV0aG9kTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCBtZXRob2ROYW1lKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGUubG9nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgJ2xvZycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiaW5kTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSkge1xyXG4gICAgICAgIHZhciBtZXRob2QgPSBvYmpbbWV0aG9kTmFtZV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmJpbmQob2JqKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwobWV0aG9kLCBvYmopO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShtZXRob2QsIFtvYmosIGFyZ3VtZW50c10pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGVzZSBwcml2YXRlIGZ1bmN0aW9ucyBhbHdheXMgbmVlZCBgdGhpc2AgdG8gYmUgc2V0IHByb3Blcmx5XHJcblxyXG4gICAgZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcywgbGV2ZWwsIGxvZ2dlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlTG9nZ2luZ01ldGhvZHMobGV2ZWwsIGxvZ2dlck5hbWUpIHtcclxuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9nTWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IGxvZ01ldGhvZHNbaV07XHJcbiAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSAoaSA8IGxldmVsKSA/XHJcbiAgICAgICAgICAgICAgICBub29wIDpcclxuICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XHJcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICByZXR1cm4gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB8fFxyXG4gICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGxvZ01ldGhvZHMgPSBbXHJcbiAgICAgICAgXCJ0cmFjZVwiLFxyXG4gICAgICAgIFwiZGVidWdcIixcclxuICAgICAgICBcImluZm9cIixcclxuICAgICAgICBcIndhcm5cIixcclxuICAgICAgICBcImVycm9yXCJcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gTG9nZ2VyKG5hbWUsIGRlZmF1bHRMZXZlbCwgZmFjdG9yeSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBjdXJyZW50TGV2ZWw7XHJcbiAgICAgIHZhciBzdG9yYWdlS2V5ID0gXCJsb2dsZXZlbFwiO1xyXG4gICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgIHN0b3JhZ2VLZXkgKz0gXCI6XCIgKyBuYW1lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsTnVtKSB7XHJcbiAgICAgICAgICB2YXIgbGV2ZWxOYW1lID0gKGxvZ01ldGhvZHNbbGV2ZWxOdW1dIHx8ICdzaWxlbnQnKS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgIC8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV0gPSBsZXZlbE5hbWU7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cclxuICAgICAgICAgIC8vIFVzZSBzZXNzaW9uIGNvb2tpZSBhcyBmYWxsYmFja1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY29va2llID1cclxuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiICsgbGV2ZWxOYW1lICsgXCI7XCI7XHJcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCkge1xyXG4gICAgICAgICAgdmFyIHN0b3JlZExldmVsO1xyXG5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldO1xyXG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2Ygc3RvcmVkTGV2ZWwgPT09IHVuZGVmaW5lZFR5cGUpIHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgY29va2llID0gd2luZG93LmRvY3VtZW50LmNvb2tpZTtcclxuICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY29va2llLmluZGV4T2YoXHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIik7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSAvXihbXjtdKykvLmV4ZWMoY29va2llLnNsaWNlKGxvY2F0aW9uKSlbMV07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIHN0b3JlZCBsZXZlbCBpcyBub3QgdmFsaWQsIHRyZWF0IGl0IGFzIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cclxuICAgICAgICAgIGlmIChzZWxmLmxldmVsc1tzdG9yZWRMZXZlbF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBzdG9yZWRMZXZlbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLypcclxuICAgICAgICpcclxuICAgICAgICogUHVibGljIEFQSVxyXG4gICAgICAgKlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIHNlbGYubGV2ZWxzID0geyBcIlRSQUNFXCI6IDAsIFwiREVCVUdcIjogMSwgXCJJTkZPXCI6IDIsIFwiV0FSTlwiOiAzLFxyXG4gICAgICAgICAgXCJFUlJPUlwiOiA0LCBcIlNJTEVOVFwiOiA1fTtcclxuXHJcbiAgICAgIHNlbGYubWV0aG9kRmFjdG9yeSA9IGZhY3RvcnkgfHwgZGVmYXVsdE1ldGhvZEZhY3Rvcnk7XHJcblxyXG4gICAgICBzZWxmLmdldExldmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRMZXZlbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNlbGYuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwsIHBlcnNpc3QpIHtcclxuICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwic3RyaW5nXCIgJiYgc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIGxldmVsID0gc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcIm51bWJlclwiICYmIGxldmVsID49IDAgJiYgbGV2ZWwgPD0gc2VsZi5sZXZlbHMuU0lMRU5UKSB7XHJcbiAgICAgICAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgICAgICAgaWYgKHBlcnNpc3QgIT09IGZhbHNlKSB7ICAvLyBkZWZhdWx0cyB0byB0cnVlXHJcbiAgICAgICAgICAgICAgICAgIHBlcnNpc3RMZXZlbElmUG9zc2libGUobGV2ZWwpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzZWxmLCBsZXZlbCwgbmFtZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlICYmIGxldmVsIDwgc2VsZi5sZXZlbHMuU0lMRU5UKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nXCI7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHJvdyBcImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6IFwiICsgbGV2ZWw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZWxmLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgICAgICAgaWYgKCFnZXRQZXJzaXN0ZWRMZXZlbCgpKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5zZXRMZXZlbChsZXZlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2VsZi5lbmFibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XHJcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlRSQUNFLCBwZXJzaXN0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNlbGYuZGlzYWJsZUFsbCA9IGZ1bmN0aW9uKHBlcnNpc3QpIHtcclxuICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoc2VsZi5sZXZlbHMuU0lMRU5ULCBwZXJzaXN0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIEluaXRpYWxpemUgd2l0aCB0aGUgcmlnaHQgbGV2ZWxcclxuICAgICAgdmFyIGluaXRpYWxMZXZlbCA9IGdldFBlcnNpc3RlZExldmVsKCk7XHJcbiAgICAgIGlmIChpbml0aWFsTGV2ZWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgaW5pdGlhbExldmVsID0gZGVmYXVsdExldmVsID09IG51bGwgPyBcIldBUk5cIiA6IGRlZmF1bHRMZXZlbDtcclxuICAgICAgfVxyXG4gICAgICBzZWxmLnNldExldmVsKGluaXRpYWxMZXZlbCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKlxyXG4gICAgICogUGFja2FnZS1sZXZlbCBBUElcclxuICAgICAqXHJcbiAgICAgKi9cclxuXHJcbiAgICB2YXIgZGVmYXVsdExvZ2dlciA9IG5ldyBMb2dnZXIoKTtcclxuXHJcbiAgICB2YXIgX2xvZ2dlcnNCeU5hbWUgPSB7fTtcclxuICAgIGRlZmF1bHRMb2dnZXIuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gZ2V0TG9nZ2VyKG5hbWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIgfHwgbmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG9nZ2VyID0gX2xvZ2dlcnNCeU5hbWVbbmFtZV07XHJcbiAgICAgICAgaWYgKCFsb2dnZXIpIHtcclxuICAgICAgICAgIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdID0gbmV3IExvZ2dlcihcclxuICAgICAgICAgICAgbmFtZSwgZGVmYXVsdExvZ2dlci5nZXRMZXZlbCgpLCBkZWZhdWx0TG9nZ2VyLm1ldGhvZEZhY3RvcnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9nZ2VyO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHcmFiIHRoZSBjdXJyZW50IGdsb2JhbCBsb2cgdmFyaWFibGUgaW4gY2FzZSBvZiBvdmVyd3JpdGVcclxuICAgIHZhciBfbG9nID0gKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUpID8gd2luZG93LmxvZyA6IHVuZGVmaW5lZDtcclxuICAgIGRlZmF1bHRMb2dnZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlICYmXHJcbiAgICAgICAgICAgICAgIHdpbmRvdy5sb2cgPT09IGRlZmF1bHRMb2dnZXIpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvZyA9IF9sb2c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXI7XHJcbn0pKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgSE9TVF9VUkwgfSBmcm9tICcuL3ZhcnMuanMnXG5pbXBvcnQgbG9nIGZyb20gJ2xvZ2xldmVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwaUNhbGwoYWN0aW9uLCBtZXRob2QsIGRhdGEpIHtcbiAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcpO1xuXG4gIGxldCBjb250ZW50cyA9IHtcbiAgICBtZXRob2Q6IG1ldGhvZCB8fCAnTk9fTUVUSE9EX1NQRUNJRklFRCcsXG4gICAgaGVhZGVyczogaGVhZGVycyxcbiAgICBjYWNoZTogJ25vLWNhY2hlJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICB9O1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZmV0Y2goSE9TVF9VUkwgKyBhY3Rpb24sIGNvbnRlbnRzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3RhdHVzKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMClcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZE5vdGlmaWNhdGlvbihhcHBJZCwgcGxheWVySWRzLCB0aXRsZXMsIGNvbnRlbnRzKSB7XG4gIHZhciBwYXJhbXMgPSB7XG4gICAgJ2FwcF9pZCc6IGFwcElkLFxuICAgICdoZWFkaW5ncyc6IHRpdGxlcyxcbiAgICAnY29udGVudHMnOiBjb250ZW50cyxcbiAgICAnaW5jbHVkZV9wbGF5ZXJfaWRzJzogcGxheWVySWRzLFxuICAgICdpc0FueVdlYic6IHRydWUsXG4gICAgJ3VybCc6ICdqYXZhc2NyaXB0OnZvaWQoMCk7J1xuICB9O1xuICByZXR1cm4gYXBpQ2FsbCgnbm90aWZpY2F0aW9ucycsICdQT1NUJywgcGFyYW1zKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcGkuanNcbiAqKi8iLCIvKlxuIExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICdyb2NreScpO1xuIFtcInJvY2t5XCJdXG4gTGltaXRTdG9yZS5wdXQoJ2NvbG9yYWRvJywgJ21vdW50YWluJyk7XG4gW1wicm9ja3lcIiwgXCJtb3VudGFpblwiXVxuIExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICduYXRpb25hbCcpO1xuIFtcIm1vdW50YWluXCIsIFwibmF0aW9uYWxcIl1cbiBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAncGFyaycpO1xuIFtcIm5hdGlvbmFsXCIsIFwicGFya1wiXVxuICovXG5mdW5jdGlvbiBMaW1pdFN0b3JlKCkge1xufVxuXG5MaW1pdFN0b3JlLnN0b3JlID0ge307XG5MaW1pdFN0b3JlLkxJTUlUID0gMjtcblxuTGltaXRTdG9yZS5wdXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICBpZiAoTGltaXRTdG9yZS5zdG9yZVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICBMaW1pdFN0b3JlLnN0b3JlW2tleV0gPSBbbnVsbCwgbnVsbF07XG4gIH1cbiAgTGltaXRTdG9yZS5zdG9yZVtrZXldLnB1c2godmFsdWUpO1xuICBpZiAoTGltaXRTdG9yZS5zdG9yZVtrZXldLmxlbmd0aCA9PSBMaW1pdFN0b3JlLkxJTUlUICsgMSkge1xuICAgIExpbWl0U3RvcmUuc3RvcmVba2V5XS5zaGlmdCgpO1xuICB9XG4gIHJldHVybiBMaW1pdFN0b3JlLnN0b3JlW2tleV07XG59O1xuXG5MaW1pdFN0b3JlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIExpbWl0U3RvcmUuc3RvcmVba2V5XTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpbWl0U3RvcmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbGltaXRTdG9yZS5qc1xuICoqLyIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbHM6IHVuZGVmaW5lZH07XG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWxzKTtcbiAgICAgIHJldHVybiBldnQ7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcblxuICAgIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xuICB9KSgpO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2V2ZW50cy1wb2x5ZmlsbC5qc1xuICoqLyIsImltcG9ydCBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckV2ZW50IChldmVudE5hbWUsIGRhdGEpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBsb2cuZGVidWcoJ1NraXBwaW5nIHRyaWdnZXJpbmcgb2YgZXZlbnQ6JywgZXZlbnROYW1lLCAnYmVjYXVzZSB3ZSBhcmUgcnVubmluZyBpbiBhIFNlcnZpY2VXb3JrZXIgY29udGV4dC4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgIGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbHM6IGRhdGFcbiAgfSk7XG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9ldmVudHMuanNcbiAqKi8iLCJpbXBvcnQgeyBpc0Jyb3dzZXJFbnYsIGlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQsIHJlbW92ZURvbUVsZW1lbnQsIGFkZERvbUVsZW1lbnQsIGFkZENzc0NsYXNzLCByZW1vdmVDc3NDbGFzcywgb25jZSwgb24sIG9mZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IExpbWl0U3RvcmUgZnJvbSAnLi9saW1pdFN0b3JlLmpzJztcbmltcG9ydCBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuaW1wb3J0IHsgdHJpZ2dlckV2ZW50IH0gZnJvbSAnLi9ldmVudHMuanMnXG5cbmlmIChpc0Jyb3dzZXJFbnYoKSkge1xuICByZXF1aXJlKFwiLi9iZWxsLnNjc3NcIik7XG4gIHZhciBsb2dvU3ZnID0gcmVxdWlyZSgncmF3IS4vYmVsbC5zdmcnKTtcblxuICAvKlxuICAgIHtcbiAgICAgIHNpemUgPSBbJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZSddLFxuICAgICAgcG9zaXRpb24gPSAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0J10sXG4gICAgICBvZmZzZXQgPSAnMTVweCAxNXB4JyxcbiAgICAgIHRoZW1lID0gWydyZWQtd2hpdGUnLCAnd2hpdGUtcmVkJ10sXG4gICAgICBpbmFjdGl2ZU9wYWNpdHk6IDAuNzUsXG4gICAgICBzaG93TGF1bmNoZXJBZnRlcjogMTAwMCxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgJ3Vuc3Vic2NyaWJlZCc6ICdTdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycsXG4gICAgICAgICAgJ3N1YnNjcmliZWQnOiAnWW91J3JlIHN1YnNjcmliZWQgdG8gbm90aWZpY2F0aW9ucydcbiAgICAgICAgfVxuICAgIH1cbiAgICovXG4gIGNsYXNzIEJlbGwge1xuICAgIGNvbnN0cnVjdG9yKHtcbiAgICAgICAgc2l6ZSA9ICdzbWFsbCcsXG4gICAgICAgIHBvc2l0aW9uID0gJ2JvdHRvbS1sZWZ0JyxcbiAgICAgICAgdGhlbWUgPSAncmVkLXdoaXRlJyxcbiAgICAgICAgc2hvd0xhdW5jaGVyQWZ0ZXIgPSAxMCxcbiAgICAgICAgc2hvd0JhZGdlQWZ0ZXIgPSAzMDAsXG4gICAgICAgIG1lc3NhZ2VzID0ge1xuICAgICAgICAgICAgJ3Vuc3Vic2NyaWJlZCc6ICdTdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycsXG4gICAgICAgICAgICAnc3Vic2NyaWJlZCc6IFwiWW91J3JlIHN1YnNjcmliZWQgdG8gbm90aWZpY2F0aW9uc1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgcHJlbm90aWZ5ID0gdHJ1ZVxuICAgICAgfSA9IHt9KSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgICBzaG93TGF1bmNoZXJBZnRlcjogc2hvd0xhdW5jaGVyQWZ0ZXIsXG4gICAgICAgIHNob3dCYWRnZUFmdGVyOiBzaG93QmFkZ2VBZnRlcixcbiAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgICBwcmVub3RpZnk6IHByZW5vdGlmeVxuICAgICAgfTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMub3B0aW9ucy5zaXplO1xuICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgIHRoaXMubWVzc2FnZXMgPSB0aGlzLm9wdGlvbnMubWVzc2FnZXM7XG4gICAgICB0aGlzLm1lc3NhZ2VzLnF1ZXVlZCA9IFtdO1xuICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VzLnVuc3Vic2NyaWJlZCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnVuc3Vic2NyaWJlZCA9ICdTdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucydcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5tZXNzYWdlcy5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZXMuc3Vic2NyaWJlZCA9IFwiWW91J3JlIHN1YnNjcmliZWQgdG8gbm90aWZpY2F0aW9uc1wiXG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlcyA9IHtcbiAgICAgICAgJ3VuaW5pdGlhbGl6ZWQnOiAnVGhlIGJlbGwgaXMgbG9hZGluZy4nLFxuICAgICAgICAnc3Vic2NyaWJlZCc6ICdUaGUgdXNlciBpcyBzdWJzY3JpYmVkJyxcbiAgICAgICAgJ3Vuc3Vic2NyaWJlZCc6ICdUaGUgdXNlciBpcyB1bnN1YnNjcmliZWQnXG4gICAgICB9O1xuICAgICAgdGhpcy5zdGF0ZSA9ICd1bmluaXRpYWxpemVkJztcblxuICAgICAgLy8gSW5zdGFsbCBldmVudCBob29rc1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLnN0YXRlLmNoYW5nZWQnLCAoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc29sZS5pbmZvKCdvbmVzaWduYWwuYmVsbC5zdGF0ZS5jaGFuZ2VkJywgc3RhdGUuZGV0YWlsKTtcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmJlbGwuY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHZhciBvcmlnaW5hbENhbGwgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAndW5zdWJzY3JpYmVkJykge1xuICAgICAgICAgICAgT25lU2lnbmFsLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlhbG9nT3BlbmVkKCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93RGlhbG9nKClcbiAgICAgICAgICAgICAgICAudGhlbigoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgb25jZShkb2N1bWVudCwgJ2NsaWNrJywgKGUsIGRlc3Ryb3lFdmVudExpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3YXNEaWFsb2dDbGlja2VkID0gc2VsZi5sYXVuY2hlckRpYWxvZy5jb250YWlucyhlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXNEaWFsb2dDbGlja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVzdHJveUV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVEaWFsb2coKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2FzSW5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FzSW5hY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5pc0luYWN0aXZlKCkpIHtcbiAgICAgICAgICB0aGlzLndhc0luYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKGZhbHNlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBvcmlnaW5hbENhbGwoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcmlnaW5hbENhbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYmVsbC5ob3ZlcmluZycsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNJbmFjdGl2ZSgpKSB7XG4gICAgICAgICAgdGhpcy53YXNJbmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5zZXRJbmFjdGl2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgbWVzc2FnZSBiZWluZyBmb3JjZSBzaG93biwgZG8gbm90IG92ZXJyaWRlXG4gICAgICAgIGlmICh0aGlzLmlzTWVzc2FnZU9wZW5lZCgpIHx8IHRoaXMuaXNEaWFsb2dPcGVuZWQoKSkge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1RoZXJlIGlzIGFscmVhZHkgYSBtZXNzYWdlIGJlaW5nIGRpc3BsYXllZDsgd2FpdCB1bnRpbCBpdCBpcyBoaWRkZW4gYWdhaW4uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlcy5xdWV1ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBkZXF1ZXVlZE1lc3NhZ2UgPSB0aGlzLmRlcXVldWVNZXNzYWdlKCk7XG4gICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKGRlcXVldWVkTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKHRoaXMubWVzc2FnZXNbdGhpcy5zdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmJlbGwuaG92ZXJlZCcsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNNZXNzYWdlT3BlbmVkKCkpIHtcbiAgICAgICAgICB0aGlzLmhpZGVNZXNzYWdlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKHRoaXMubWVzc2FnZXNbdGhpcy5zdGF0ZV0pO1xuICAgICAgICAgICAgICBpZiAodGhpcy53YXNJbmFjdGl2ZSAmJiAhdGhpcy5pc0RpYWxvZ09wZW5lZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbmFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLndhc0luYWN0aXZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQnLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKGUuZGV0YWlsID8gJ3N1YnNjcmliZWQnIDogJ3Vuc3Vic2NyaWJlZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYWN0aW9ucy53ZWxjb21lbm90aWZpY2F0aW9uc2VudCcsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcGxheU1lc3NhZ2UoXCJUaGFua3MgZm9yIHN1YnNjcmliaW5nIVwiLCAyNTAwKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICBpZiAoIWlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQoKSlcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGJlbGxcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICByZW1vdmVEb21FbGVtZW50KCdvbmVzaWduYWwtYmVsbC1jb250YWluZXInKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmFkZERvbUVsZW1lbnQgPSBhZGREb21FbGVtZW50O1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGNvbnRhaW5lclxuICAgICAgYWRkRG9tRWxlbWVudCgnYm9keScsICdiZWZvcmVlbmQnLCAnPGRpdiBpZD1cIm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lclwiIGNsYXNzPVwib25lc2lnbmFsLWJlbGwtY29udGFpbmVyIG9uZXNpZ25hbC1yZXNldFwiPjwvZGl2PicpO1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMuY29udGFpbmVyLCAnYmVmb3JlZW5kJywgJzxkaXYgaWQ9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlclwiIGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXJcIj48L2Rpdj4nKTtcbiAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBidXR0b25cbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uXCI+PC9kaXY+Jyk7XG4gICAgICAvLyBJbnNlcnQgdGhlIGJlbGwgbGF1bmNoZXIgYmFkZ2VcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2VcIj48L2Rpdj4nKTtcbiAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBtZXNzYWdlXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMubGF1bmNoZXIsICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2VcIj48L2Rpdj4nKTtcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlck1lc3NhZ2UsICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keVwiPjwvZGl2PicpO1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGRpYWxvZ1xuICAgICAgYWRkRG9tRWxlbWVudCh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2dcIj48L2Rpdj4nKTtcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlckRpYWxvZywgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHlcIj48L2Rpdj4nKTtcblxuICAgICAgYWRkRG9tRWxlbWVudCh0aGlzLmxhdW5jaGVyRGlhbG9nQm9keSwgJ2JlZm9yZWVuZCcsXG4gICAgICAgIGBcbiAgICAgICAgPGgxPk1hbmFnZSBTaXRlIE5vdGlmaWNhdGlvbnM8L2gxPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24taWNvblwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uLXRleHQtc2hvcnRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24tdGV4dFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cImFjdGlvbi1idXR0b25cIj5VbnN1YnNjcmliZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImtpY2tiYWNrXCI+UG93ZXJlZCBieSBPbmVTaWduYWw8L2Rpdj5cbiAgICAgICAgYFxuICAgICAgKTtcblxuICAgICAgLy8gSW5zdGFsbCBldmVudHNcbiAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICB2YXIgaXNIb3ZlcmluZ0RhdGEgPSBMaW1pdFN0b3JlLmdldCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG4gICAgICAgIGlmIChpc0hvdmVyaW5nRGF0YSA9PT0gdW5kZWZpbmVkIHx8IGlzSG92ZXJpbmdEYXRhW2lzSG92ZXJpbmdEYXRhLmxlbmd0aCAtIDFdID09PSAnb3V0Jykge1xuICAgICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuaG92ZXJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBMaW1pdFN0b3JlLnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICBMaW1pdFN0b3JlLnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdXQnKTtcbiAgICAgICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuYmVsbC5ob3ZlcmVkJyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZURvbUVsZW1lbnQoJy5wdWxzZS1yaW5nJyk7XG4gICAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlckJ1dHRvbiwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwicHVsc2UtcmluZ1wiPjwvZGl2PicpO1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyQnV0dG9uLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWFjdGl2ZScpO1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyQmFkZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1hY3RpdmUnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxhdW5jaGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXJCdXR0b24sICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXJCYWRnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuYnV0dG9uLmNsaWNrJyk7XG4gICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuY2xpY2snKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgdmlzdWFsIGVsZW1lbnRzXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMubGF1bmNoZXJCdXR0b24sICdiZWZvcmVFbmQnLCBsb2dvU3ZnKTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgY2xhc3Nlc1xuICAgICAgdGhpcy5zZXRTaXplKHRoaXMub3B0aW9ucy5zaXplKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbS1sZWZ0Jykge1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tbGVmdCcpXG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdib3R0b20tcmlnaHQnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1yaWdodCcpXG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQnKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBPbmVTaWduYWwgYmVsbCBwb3NpdGlvbiAnICsgdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50aGVtZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0JylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy50aGVtZSA9PT0gJ2ludmVyc2UnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlJylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgdGhlbWUgJyArIHRoaXMub3B0aW9ucy50aGVtZSk7XG4gICAgICB9XG5cbiAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCgoaXNQdXNoRW5hYmxlZCkgPT4ge1xuICAgICAgICBpZiAoaXNQdXNoRW5hYmxlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdpc1B1c2hFbmFibGVkJywgaXNQdXNoRW5hYmxlZCk7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIERvIG5vdGhpbmcsIHJldHVybnMgYSBwcm9taXNlIHRoYXQgZXhlY3V0ZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgfVxuXG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVFdmVudCh0aGlzLm9wdGlvbnMuc2hvd0xhdW5jaGVyQWZ0ZXIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xhdW5jaGVyKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlRXZlbnQodGhpcy5vcHRpb25zLnNob3dCYWRnZUFmdGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVub3RpZnkpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghaXNQdXNoRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVucXVldWVNZXNzYWdlKCdDbGljayB0byBzdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCYWRnZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zY2hlZHVsZUV2ZW50KG1zSW5GdXR1cmUsIHRhc2spIHtcbiAgICAgIGlmICh0eXBlb2YgdGFzayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRvIGJlIHNjaGVkdWxlZCBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICBpZiAobXNJbkZ1dHVyZSA8PSAwKSB7XG4gICAgICAgIHRhc2soKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGFzaygpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgbXNJbkZ1dHVyZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjb3JyZWN0IG5ldyBjdXJyZW50IHN0YXRlLiBSZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICB1cGRhdGVTdGF0ZSgpIHtcbiAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCgoaXNFbmFibGVkKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoaXNFbmFibGVkID8gJ3N1YnNjcmliZWQnIDogJ3Vuc3Vic2NyaWJlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgc3BlY2lmaWVkIG5ldyBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gbmV3U3RhdGUgT25lIG9mIFsnc3Vic2NyaWJlZCcsICd1bnN1YnNjcmliZWQnXS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGVzLmhhc093blByb3BlcnR5KG5ld1N0YXRlKSkge1xuICAgICAgICBsZXQgbGFzdFN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBpZiAobGFzdFN0YXRlICE9PSBuZXdTdGF0ZSkge1xuICAgICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHtmcm9tOiBsYXN0U3RhdGUsIHRvOiBuZXdTdGF0ZX0pO1xuICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkIGhlcmUgaW4gdGhlIG5ldyBzdGF0ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGFueXRoaW5nIHRoYXQgc2hvdWxkIGJlIHJlc2V0IHRvIHRoZSBzYW1lIHN0YXRlXG4gICAgICAgIHRoaXMuc2V0TWVzc2FnZSh0aGlzLm1lc3NhZ2VzW25ld1N0YXRlXSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9nLmVycm9yKCdDYW5ub3QgdXBkYXRlIHRvIGludmFsaWQgbmV3IHN0YXRlJywgbmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVucXVldWVNZXNzYWdlKG1lc3NhZ2UsIG5vdGlmeSA9IGZhbHNlKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VzLnF1ZXVlZC5wdXNoKG1lc3NhZ2UpO1xuICAgICAgaWYgKHRoaXMuaXNCYWRnZU9wZW4oKSkge1xuICAgICAgICB0aGlzLmhpZGVCYWRnZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50QmFkZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluY3JlbWVudEJhZGdlKCk7XG4gICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzbyB0aGUgYmFkZ2UgZG9lc24ndCBpbW1lZGlhdGVseSByZW5kZXJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLnNob3dCYWRnZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVxdWV1ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgbGV0IGRlcXVldWVkTWVzc2FnZSA9IHRoaXMubWVzc2FnZXMucXVldWVkLnBvcChtZXNzYWdlKTtcbiAgICAgIGlmICh0aGlzLmlzQmFkZ2VPcGVuKCkpIHtcbiAgICAgICAgdGhpcy5oaWRlQmFkZ2UoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50QmFkZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbmV3QmFkZ2VOdW1iZXIgPSB0aGlzLmRlY3JlbWVudEJhZGdlKCk7XG4gICAgICAgIGlmIChuZXdCYWRnZU51bWJlciA8PSAwKSB7XG4gICAgICAgICAgdGhpcy5oaWRlQmFkZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlcXVldWVkTWVzc2FnZTtcbiAgICB9XG5cbiAgICBzaG93RGlhbG9nKCkge1xuICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlckRpYWxvZywgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIG9uY2UodGhpcy5sYXVuY2hlckRpYWxvZywgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5sYXVuY2hlckRpYWxvZykge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGhpZGVEaWFsb2coKSB7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZCcpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgb25jZSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyRGlhbG9nKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaXNEaWFsb2dPcGVuZWQoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBzaG93TGF1bmNoZXIoKSB7XG4gICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaGlkZUxhdW5jaGVyKCkge1xuICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWFjdGl2ZScpO1xuICAgIH1cblxuICAgIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgdGhpcy5sYXVuY2hlck1lc3NhZ2VCb2R5LmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgc2hvd01lc3NhZ2UoKSB7XG4gICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG4gICAgfVxuXG4gICAgaGlkZU1lc3NhZ2UoKSB7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXJNZXNzYWdlLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyTWVzc2FnZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzTWVzc2FnZU9wZW5lZCgpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5TWVzc2FnZShjb250ZW50LCBoaWRlQWZ0ZXIgPSAwKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc01lc3NhZ2VPcGVuZWQoKSkge1xuICAgICAgICAgIHRoaXMuaGlkZU1lc3NhZ2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UoY29udGVudCk7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBoaWRlQWZ0ZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKGNvbnRlbnQpO1xuICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoKTtcbiAgICAgICAgICBpZiAoaGlkZUFmdGVyKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgaGlkZUFmdGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEJhZGdlKGNvbnRlbnQpIHtcbiAgICAgIHRoaXMubGF1bmNoZXJCYWRnZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIH1cblxuICAgIHNob3dCYWRnZSgpIHtcbiAgICAgIGlmICh0aGlzLmJhZGdlSGFzQ29udGVudCgpKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXJCYWRnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLW9wZW5lZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlzQmFkZ2VPcGVuKCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1iYWRnZS1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBiYWRnZUhhc0NvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlckJhZGdlLmlubmVySFRNTC5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGdldEJhZGdlQ29udGVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIGluY3JlbWVudEJhZGdlKCkge1xuICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLmdldEJhZGdlQ29udGVudCgpO1xuICAgICAgLy8gSWYgaXQgSVMgYSBudW1iZXIgKGlzIG5vdCBub3QgYSBudW1iZXIpXG4gICAgICBpZiAoIWlzTmFOKGNvbnRlbnQpKSB7XG4gICAgICAgIGxldCBiYWRnZU51bWJlciA9ICtjb250ZW50OyAvLyBDb2VyY2UgdG8gaW50XG4gICAgICAgIGJhZGdlTnVtYmVyICs9IDE7XG4gICAgICAgIHRoaXMuc2V0QmFkZ2UoYmFkZ2VOdW1iZXIpXG4gICAgICAgIHJldHVybiBiYWRnZU51bWJlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWNyZW1lbnRCYWRnZSgpIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5nZXRCYWRnZUNvbnRlbnQoKTtcbiAgICAgIC8vIElmIGl0IElTIGEgbnVtYmVyIChpcyBub3Qgbm90IGEgbnVtYmVyKVxuICAgICAgaWYgKCFpc05hTihjb250ZW50KSkge1xuICAgICAgICBsZXQgYmFkZ2VOdW1iZXIgPSArY29udGVudDsgLy8gQ29lcmNlIHRvIGludFxuICAgICAgICBiYWRnZU51bWJlciAtPSAxO1xuICAgICAgICB0aGlzLnNldEJhZGdlKGJhZGdlTnVtYmVyKVxuICAgICAgICByZXR1cm4gYmFkZ2VOdW1iZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUJhZGdlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Utb3BlbmVkJyk7XG4gICAgICAgIG9uY2UodGhpcy5sYXVuY2hlckJhZGdlLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyQmFkZ2UpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzSW5hY3RpdmUoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgc2V0SW5hY3RpdmUoaXNJbmFjdGl2ZSkge1xuICAgICAgaWYgKGlzSW5hY3RpdmUpIHtcbiAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICBpZiAodGhpcy5iYWRnZUhhc0NvbnRlbnQoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVCYWRnZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZScpO1xuICAgICAgICAgICAgICB0aGlzLnNldFNpemUoJ3NtYWxsJyk7O1xuICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE9uY2UgdGhlIGxhdW5jaGVyIGhhcyBmaW5pc2hlZCBzaHJpbmtpbmcgZG93blxuICAgICAgICAgICAgICAgIG9uY2UodGhpcy5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93QmFkZ2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5zZXRTaXplKCdzbWFsbCcpO1xuICAgICAgICAgIHRoaXMuc2V0U2l6ZSgnc21hbGwnKTtcbiAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cbiAgICAgICAgICAgIG9uY2UodGhpcy5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMubGF1bmNoZXIpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlQmFkZ2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTaXplKHRoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgdmFyIGxhdW5jaGVyID0gdGhpcy5sYXVuY2hlcjtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cbiAgICAgICAgICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXIsICd0cmFuc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5sYXVuY2hlcikge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgdmFyIGxhdW5jaGVyID0gdGhpcy5sYXVuY2hlcjtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgbGF1bmNoZXIgaGFzIGZpbmlzaGVkIHNocmlua2luZyBkb3duXG4gICAgICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXIsICd0cmFuc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFNpemUoc2l6ZSkge1xuICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtJyk7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQnKTtcbiAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuICAgICAgaWYgKHNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtJylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNpemUgPT09ICdtZWRpdW0nKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzaXplID09PSAnbGFyZ2UnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE9uZVNpZ25hbCBiZWxsIHNpemUgJyArIHNpemUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjb250YWluZXIoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lcicpO1xuICAgIH1cblxuICAgIGdldCBsYXVuY2hlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjb25lc2lnbmFsLWJlbGwtbGF1bmNoZXInKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJCdXR0b24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uJyk7XG4gICAgfVxuXG4gICAgZ2V0IGxhdW5jaGVyQmFkZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UnKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJNZXNzYWdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGF1bmNoZXIucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UnKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJNZXNzYWdlQm9keSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHknKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJEaWFsb2coKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nJyk7XG4gICAgfVxuXG4gICAgZ2V0IGxhdW5jaGVyRGlhbG9nQm9keSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keScpO1xuICAgIH1cbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gQmVsbDtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9iZWxsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9iZWxsLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vYmVsbC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vYmVsbC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2JlbGwuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiogQ2xlYW5TbGF0ZVxcbiogICBnaXRodWIuY29tL3ByZW1hc2FnYXIvY2xlYW5zbGF0ZVxcbipcXG4qLy5vbmVzaWduYWwtcmVzZXQsLm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYWJiciwub25lc2lnbmFsLXJlc2V0IGFjcm9ueW0sLm9uZXNpZ25hbC1yZXNldCBhZGRyZXNzLC5vbmVzaWduYWwtcmVzZXQgYXBwbGV0LC5vbmVzaWduYWwtcmVzZXQgYXJlYSwub25lc2lnbmFsLXJlc2V0IGFydGljbGUsLm9uZXNpZ25hbC1yZXNldCBhc2lkZSwub25lc2lnbmFsLXJlc2V0IGF1ZGlvLC5vbmVzaWduYWwtcmVzZXQgYiwub25lc2lnbmFsLXJlc2V0IGJpZywub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBidXR0b24sLm9uZXNpZ25hbC1yZXNldCBjYW52YXMsLm9uZXNpZ25hbC1yZXNldCBjYXB0aW9uLC5vbmVzaWduYWwtcmVzZXQgY2l0ZSwub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBjb2wsLm9uZXNpZ25hbC1yZXNldCBjb2xncm91cCwub25lc2lnbmFsLXJlc2V0IGRhdGFsaXN0LC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkZWwsLm9uZXNpZ25hbC1yZXNldCBkZm4sLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZW0sLm9uZXNpZ25hbC1yZXNldCBmaWVsZHNldCwub25lc2lnbmFsLXJlc2V0IGZpZ2NhcHRpb24sLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBpLC5vbmVzaWduYWwtcmVzZXQgaWZyYW1lLC5vbmVzaWduYWwtcmVzZXQgaW1nLC5vbmVzaWduYWwtcmVzZXQgaW5wdXQsLm9uZXNpZ25hbC1yZXNldCBpbnMsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBsYWJlbCwub25lc2lnbmFsLXJlc2V0IGxlZ2VuZCwub25lc2lnbmFsLXJlc2V0IGxpLC5vbmVzaWduYWwtcmVzZXQgbWFpbiwub25lc2lnbmFsLXJlc2V0IG1hcCwub25lc2lnbmFsLXJlc2V0IG1hcmssLm9uZXNpZ25hbC1yZXNldCBtZW51LC5vbmVzaWduYWwtcmVzZXQgbWV0YSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9iamVjdCwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0Z3JvdXAsLm9uZXNpZ25hbC1yZXNldCBvcHRpb24sLm9uZXNpZ25hbC1yZXNldCBvdXRwdXQsLm9uZXNpZ25hbC1yZXNldCBwLC5vbmVzaWduYWwtcmVzZXQgcHJlLC5vbmVzaWduYWwtcmVzZXQgcHJvZ3Jlc3MsLm9uZXNpZ25hbC1yZXNldCBxLC5vbmVzaWduYWwtcmVzZXQgc2FtcCwub25lc2lnbmFsLXJlc2V0IHNlY3Rpb24sLm9uZXNpZ25hbC1yZXNldCBzZWxlY3QsLm9uZXNpZ25hbC1yZXNldCBzbWFsbCwub25lc2lnbmFsLXJlc2V0IHNwYW4sLm9uZXNpZ25hbC1yZXNldCBzdHJpa2UsLm9uZXNpZ25hbC1yZXNldCBzdHJvbmcsLm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdW1tYXJ5LC5vbmVzaWduYWwtcmVzZXQgc3VwLC5vbmVzaWduYWwtcmVzZXQgdGFibGUsLm9uZXNpZ25hbC1yZXNldCB0Ym9keSwub25lc2lnbmFsLXJlc2V0IHRkLC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWEsLm9uZXNpZ25hbC1yZXNldCB0Zm9vdCwub25lc2lnbmFsLXJlc2V0IHRoLC5vbmVzaWduYWwtcmVzZXQgdGhlYWQsLm9uZXNpZ25hbC1yZXNldCB0aW1lLC5vbmVzaWduYWwtcmVzZXQgdHIsLm9uZXNpZ25hbC1yZXNldCB0dCwub25lc2lnbmFsLXJlc2V0IHVsLC5vbmVzaWduYWwtcmVzZXQgdmFyLC5vbmVzaWduYWwtcmVzZXQgdmlkZW97YmFja2dyb3VuZC1hdHRhY2htZW50OnNjcm9sbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMDtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQ7Ym9yZGVyLWNvbG9yOiMwMDA7Ym9yZGVyOm1lZGl1bSBub25lIGN1cnJlbnRDb2xvcjtib3R0b206YXV0bztjbGVhcjpub25lO2NsaXA6YXV0bztjb2xvcjppbmhlcml0O2NvdW50ZXItaW5jcmVtZW50Om5vbmU7Y291bnRlci1yZXNldDpub25lO2N1cnNvcjphdXRvO2RpcmVjdGlvbjppbmhlcml0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0Om5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDppbmhlcml0O2hlaWdodDphdXRvO2xlZnQ6YXV0bztsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6aW5oZXJpdDtsaXN0LXN0eWxlLXR5cGU6aW5oZXJpdDtsaXN0LXN0eWxlLXBvc2l0aW9uOm91dHNpZGU7bGlzdC1zdHlsZS1pbWFnZTpub25lO21hcmdpbjowO21heC1oZWlnaHQ6bm9uZTttYXgtd2lkdGg6bm9uZTttaW4taGVpZ2h0OjA7bWluLXdpZHRoOjA7b3BhY2l0eToxO291dGxpbmU6bWVkaXVtIG5vbmUgaW52ZXJ0O292ZXJmbG93OnZpc2libGU7cGFkZGluZzowO3Bvc2l0aW9uOnN0YXRpYztxdW90ZXM6XFxcIlxcXCIgXFxcIlxcXCI7cmlnaHQ6YXV0bzt0YWJsZS1sYXlvdXQ6YXV0bzt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3RvcDphdXRvO3VuaWNvZGUtYmlkaTpub3JtYWw7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7dmlzaWJpbGl0eTppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDt3aWR0aDphdXRvO3dvcmQtc3BhY2luZzpub3JtYWw7ei1pbmRleDphdXRvO2JhY2tncm91bmQtb3JpZ2luOnBhZGRpbmctYm94O2JhY2tncm91bmQtY2xpcDpib3JkZXItYm94O2JhY2tncm91bmQtc2l6ZTphdXRvOy13ZWJraXQtYm9yZGVyLWltYWdlOm5vbmU7LW8tYm9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLXJhZGl1czowO2JveC1zaGFkb3c6bm9uZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtY29sdW1uLWNvdW50OmF1dG87LW1vei1jb2x1bW4tY291bnQ6YXV0bztjb2x1bW4tY291bnQ6YXV0bzstd2Via2l0LWNvbHVtbi1nYXA6bm9ybWFsOy1tb3otY29sdW1uLWdhcDpub3JtYWw7Y29sdW1uLWdhcDpub3JtYWw7LXdlYmtpdC1jb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy1tb3otY29sdW1uLXJ1bGU6bWVkaXVtIG5vbmUgIzAwMDtjb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy13ZWJraXQtY29sdW1uLXNwYW46MTstbW96LWNvbHVtbi1zcGFuOjE7Y29sdW1uLXNwYW46MTstd2Via2l0LWNvbHVtbi13aWR0aDphdXRvOy1tb3otY29sdW1uLXdpZHRoOmF1dG87Y29sdW1uLXdpZHRoOmF1dG87Zm9udC1mZWF0dXJlLXNldHRpbmdzOm5vcm1hbDtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlOy13ZWJraXQtaHlwaGVuczptYW51YWw7LW1vei1oeXBoZW5zOm1hbnVhbDtoeXBoZW5zOm1hbnVhbDstd2Via2l0LXBlcnNwZWN0aXZlOm5vbmU7LW1zLXBlcnNwZWN0aXZlOm5vbmU7LW8tcGVyc3BlY3RpdmU6bm9uZTtwZXJzcGVjdGl2ZTpub25lOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7LW1zLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy1vLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LXNoYWRvdzpub25lOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMHMgZWFzZSAwczt0cmFuc2l0aW9uOmFsbCAwcyBlYXNlIDBzOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7LW1zLXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOmZsYXQ7dHJhbnNmb3JtLXN0eWxlOmZsYXQ7d29yZC1icmVhazpub3JtYWx9Lm9uZXNpZ25hbC1yZXNldCwub25lc2lnbmFsLXJlc2V0IGFkZHJlc3MsLm9uZXNpZ25hbC1yZXNldCBhcnRpY2xlLC5vbmVzaWduYWwtcmVzZXQgYXVkaW8sLm9uZXNpZ25hbC1yZXNldCBibG9ja3F1b3RlLC5vbmVzaWduYWwtcmVzZXQgY2FwdGlvbiwub25lc2lnbmFsLXJlc2V0IGNvbGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkaWFsb2csLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZmllbGRzZXQsLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBtYWluLC5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0aW9uLC5vbmVzaWduYWwtcmVzZXQgcCwub25lc2lnbmFsLXJlc2V0IHByZSwub25lc2lnbmFsLXJlc2V0IHByb2dyZXNzLC5vbmVzaWduYWwtcmVzZXQgc2VjdGlvbiwub25lc2lnbmFsLXJlc2V0IHN1bW1hcnksLm9uZXNpZ25hbC1yZXNldCB1bCwub25lc2lnbmFsLXJlc2V0IHZpZGVve2Rpc3BsYXk6YmxvY2t9Lm9uZXNpZ25hbC1yZXNldCBoMSwub25lc2lnbmFsLXJlc2V0IGgyLC5vbmVzaWduYWwtcmVzZXQgaDMsLm9uZXNpZ25hbC1yZXNldCBoNCwub25lc2lnbmFsLXJlc2V0IGg1LC5vbmVzaWduYWwtcmVzZXQgaDZ7Zm9udC13ZWlnaHQ6NzAwfS5vbmVzaWduYWwtcmVzZXQgaDF7Zm9udC1zaXplOjJlbTtwYWRkaW5nOi42N2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoMntmb250LXNpemU6MS41ZW07cGFkZGluZzouODNlbSAwfS5vbmVzaWduYWwtcmVzZXQgaDN7Zm9udC1zaXplOjEuMTdlbTtwYWRkaW5nOi44M2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoNHtmb250LXNpemU6MWVtfS5vbmVzaWduYWwtcmVzZXQgaDV7Zm9udC1zaXplOi44M2VtfS5vbmVzaWduYWwtcmVzZXQgcHttYXJnaW46MWVtIDB9Lm9uZXNpZ25hbC1yZXNldCB0YWJsZXtkaXNwbGF5OnRhYmxlfS5vbmVzaWduYWwtcmVzZXQgdGhlYWR7ZGlzcGxheTp0YWJsZS1oZWFkZXItZ3JvdXB9Lm9uZXNpZ25hbC1yZXNldCB0Ym9keXtkaXNwbGF5OnRhYmxlLXJvdy1ncm91cH0ub25lc2lnbmFsLXJlc2V0IHRmb290e2Rpc3BsYXk6dGFibGUtZm9vdGVyLWdyb3VwfS5vbmVzaWduYWwtcmVzZXQgdHJ7ZGlzcGxheTp0YWJsZS1yb3d9Lm9uZXNpZ25hbC1yZXNldCB0ZCwub25lc2lnbmFsLXJlc2V0IHRoe2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjJweH0ub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgdWx7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgb2wgbGksLm9uZXNpZ25hbC1yZXNldCBvbCBvbCBsaSwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgdWwgbGksLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgb2wgbGksLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIHVsIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWwgbGl7bGlzdC1zdHlsZS1wb3NpdGlvbjppbnNpZGU7bWFyZ2luLXRvcDouMDhlbX0ub25lc2lnbmFsLXJlc2V0IG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgb2wsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIHVsIHVse3BhZGRpbmctbGVmdDo0MHB4O21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgbmF2IG9sLC5vbmVzaWduYWwtcmVzZXQgbmF2IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lfS5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjfS5vbmVzaWduYWwtcmVzZXQgb2x7bGlzdC1zdHlsZS10eXBlOmRlY2ltYWx9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgdWwgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIHVse2xpc3Qtc3R5bGUtdHlwZTpjaXJjbGV9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSBtZW51LC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWx7bGlzdC1zdHlsZS10eXBlOnNxdWFyZX0ub25lc2lnbmFsLXJlc2V0IGxpe2Rpc3BsYXk6bGlzdC1pdGVtO21pbi1oZWlnaHQ6YXV0bzttaW4td2lkdGg6YXV0bztwYWRkaW5nLWxlZnQ6MjBweH0ub25lc2lnbmFsLXJlc2V0IHN0cm9uZ3tmb250LXdlaWdodDo3MDB9Lm9uZXNpZ25hbC1yZXNldCBlbXtmb250LXN0eWxlOml0YWxpY30ub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBwcmUsLm9uZXNpZ25hbC1yZXNldCBzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZX0ub25lc2lnbmFsLXJlc2V0IGF7Y29sb3I6Ymx1ZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5vbmVzaWduYWwtcmVzZXQgYTp2aXNpdGVke2NvbG9yOiM1Mjl9Lm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYSAqLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1jaGVja2JveF0sLm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXJhZGlvXSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XSwub25lc2lnbmFsLXJlc2V0IHNlbGVjdHtjdXJzb3I6cG9pbnRlcn0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbiwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XXt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjJweCA2cHggM3B4O2JvcmRlci1yYWRpdXM6NHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtZmFtaWx5OmFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTpzbWFsbDstd2Via2l0LWFwcGVhcmFuY2U6cHVzaC1idXR0b247Y29sb3I6YnV0dG9udGV4dDtib3JkZXI6MXB4IHNvbGlkICNhNmE2YTY7YmFja2dyb3VuZDojZDNkM2QzO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjZmZmKSxjb2xvci1zdG9wKDEwMCUsI2RkZCksY29sb3Itc3RvcCgxMDAlLCNkMWQxZDEpLGNvbG9yLXN0b3AoMTAwJSwjZGRkKSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLGVuZENvbG9yc3RyPScjZGRkZGRkJyxHcmFkaWVudFR5cGU9MCk7LW8tYm94LXNoYWRvdzoxcHggMXB4IDAgI2VlZTtib3gtc2hhZG93OjFweCAxcHggMCAjZWVlO291dGxpbmU6aW5pdGlhbH0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbntwYWRkaW5nOjFweCA2cHggMnB4O21hcmdpbi1yaWdodDo1cHh9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPWhpZGRlbl17ZGlzcGxheTpub25lfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRhcmVhO2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjJweDttYXJnaW4tbGVmdDo0cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6cHJlLXdyYXA7Zm9udC1zaXplOjExcHg7Zm9udC1mYW1pbHk6YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MTNweDtyZXNpemU6Ym90aH0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0LC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7Ym9yZGVyOjFweCBzb2xpZCAjY2NjfS5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e2ZvbnQtc2l6ZToxMXB4O2ZvbnQtZmFtaWx5OmhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5vbmVzaWduYWwtcmVzZXQgaW5wdXQ6Zm9jdXMsLm9uZXNpZ25hbC1yZXNldCB0ZXh0YXJlYTpmb2N1c3tvdXRsaW5lOjVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtvdXRsaW5lOmluaXRpYWx9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXRleHRde2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjFweDtmb250LWZhbWlseTppbml0aWFsO2ZvbnQtc2l6ZTpzbWFsbH0ub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9Y2hlY2tib3hdLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117Ym9yZGVyOjFweCBzb2xpZCAjMmIyYjJiO2JvcmRlci1yYWRpdXM6NHB4O291dGxpbmU6aW50aWFsfS5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117bWFyZ2luOjJweCAycHggM3B4fS5vbmVzaWduYWwtcmVzZXQgYnV0dG9uOmFjdGl2ZSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XTphY3RpdmV7YmFja2dyb3VuZDojM2I2NzllO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCMzYjY3OWUpLGNvbG9yLXN0b3AoNTAlLCMyYjg4ZDkpLGNvbG9yLXN0b3AoNTElLCMyMDdjY2EpLGNvbG9yLXN0b3AoMTAwJSwjN2RiOWU4KSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzNiNjc5ZSAwLCMyYjg4ZDkgNTAlLCMyMDdjY2EgNTElLCM3ZGI5ZTggMTAwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCMzYjY3OWUgMCwjMmI4OGQ5IDUwJSwjMjA3Y2NhIDUxJSwjN2RiOWU4IDEwMCUpO2JvcmRlci1jb2xvcjojNTI1OWIwfS5vbmVzaWduYWwtcmVzZXQgYWJiclt0aXRsZV0sLm9uZXNpZ25hbC1yZXNldCBhY3JvbnltW3RpdGxlXSwub25lc2lnbmFsLXJlc2V0IGRmblt0aXRsZV17Y3Vyc29yOmhlbHA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBpbnN7YmFja2dyb3VuZC1jb2xvcjojZmY5O2NvbG9yOiMwMDB9Lm9uZXNpZ25hbC1yZXNldCBkZWx7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0ub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBxe3F1b3Rlczpub25lfS5vbmVzaWduYWwtcmVzZXQgYmxvY2txdW90ZTphZnRlciwub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGU6YmVmb3JlLC5vbmVzaWduYWwtcmVzZXQgbGk6YWZ0ZXIsLm9uZXNpZ25hbC1yZXNldCBsaTpiZWZvcmUsLm9uZXNpZ25hbC1yZXNldCBxOmFmdGVyLC5vbmVzaWduYWwtcmVzZXQgcTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIn0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0ub25lc2lnbmFsLXJlc2V0IHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfS5vbmVzaWduYWwtcmVzZXQgaHJ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgW2Rpcj1ydGxde2RpcmVjdGlvbjpydGx9Lm9uZXNpZ25hbC1yZXNldCBtYXJre2JhY2tncm91bmQtY29sb3I6I2ZmOTtjb2xvcjojMDAwO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OjcwMH0ub25lc2lnbmFsLXJlc2V0IG1lbnV7cGFkZGluZy1sZWZ0OjQwcHg7cGFkZGluZy10b3A6OHB4fS5vbmVzaWduYWwtcmVzZXQgW2hpZGRlbl0sLm9uZXNpZ25hbC1yZXNldCB0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9Lm9uZXNpZ25hbC1yZXNldCBhYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfS5vbmVzaWduYWwtcmVzZXQgc3Vwe3RvcDotLjVlbX0ub25lc2lnbmFsLXJlc2V0IHN1Yntib3R0b206LS4yNWVtfS5vbmVzaWduYWwtcmVzZXQgaW1ne2JvcmRlcjowfS5vbmVzaWduYWwtcmVzZXQgZmlndXJle21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7b3ZlcmZsb3c6YXV0bzt2ZXJ0aWNhbC1hbGlnbjp0b3B9Lm9uZXNpZ25hbC1yZXNldHtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0OjE7ZGlyZWN0aW9uOmx0cjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1hbGlnbjpzdGFydDtmb250LWZhbWlseTpUaW1lcyBOZXcgUm9tYW4sVGltZXMsc2VyaWY7Y29sb3I6IzAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGlzdC1zdHlsZS10eXBlOmRpc2N9Lm9uZXNpZ25hbC1yZXNldCBwcmV7d2hpdGUtc3BhY2U6cHJlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0e3otaW5kZXg6MjE0NzQ4MzAwMDtwb3NpdGlvbjpmaXhlZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldC5vbmVzaWduYWwtYmVsbC1jb250YWluZXItYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0Lm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXJ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjE0NzQ4MzAwMDtmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0cmFuc2Zvcm06c2NhbGUoLjAxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3dpZHRoOjMzMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdHtib3R0b206MjBweDtsZWZ0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MTZweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206MzlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6NXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWR7dHJhbnNmb3JtLW9yaWdpbjoyNHB4IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7bGVmdDo2MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2JvdHRvbTo1OHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxne3RyYW5zZm9ybS1vcmlnaW46MzJweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6ODFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoyMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7bGVmdDo0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle3RyYW5zZm9ybS1vcmlnaW46bGVmdCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye3JpZ2h0OjEwMCU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHR7Ym90dG9tOjIwcHg7cmlnaHQ6MjBweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MzE0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjM5cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1ke3RyYW5zZm9ybS1vcmlnaW46MzA2cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NjFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7dHJhbnNmb3JtLW9yaWdpbjoyOThweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtyaWdodDo4MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3JpZ2h0OjE4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cmlnaHQ6NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntsZWZ0OjEwMCU7Ym9yZGVyLWxlZnQtY29sb3I6IzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtib3JkZXItcmFkaXVzOjUwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxib3JkZXIgMTc1bXMgZWFzZS1pbi1vdXQsd2lkdGggMTc1bXMgZWFzZS1pbi1vdXQsaGVpZ2h0IDE3NW1zIGVhc2UtaW4tb3V0O2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MjE0NzQ4MzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LWZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwuMzUpKTtmaWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsLjM1KSl9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWhvdmVye2N1cnNvcjpwb2ludGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjA7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsMCkpO2ZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwwKSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsYm9yZGVyIDE3NW1zIGVhc2UtaW4tb3V0LG9wYWNpdHkgLjIxcyBlYXNlLWluLW91dCx3aWR0aCAuMjFzIGVhc2UtaW4tb3V0LGhlaWdodCAuMjFzIGVhc2UtaW4tb3V0LHBvc2l0aW9uIC4yMXMgZWFzZS1pbi1vdXQscmlnaHQgLjIxcyBlYXNlLWluLW91dCx0b3AgLjIxcyBlYXNlLWluLW91dCxib3R0b20gLjIxcyBlYXNlLWluLW91dCxsZWZ0IC4yMXMgZWFzZS1pbi1vdXQ7ei1pbmRleDoyMTQ3NDgzNDAwO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjAxKTtwb2ludGVyLWV2ZW50czpub25lfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Uub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtaG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWR7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cG9zaXRpb246YWJzb2x1dGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo1cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGVYKDApIHRyYW5zbGF0ZVooMCk7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsb3BhY2l0eSAxNzVtcyBlYXNlLWluLW91dDt0b3A6NTAlO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7dG9wOjUwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7Y29udGVudDpcXFwiIFxcXCI7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVke3BvaW50ZXItZXZlbnRzOmF1dG87b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHNjYWxlWCgxKSB0cmFuc2xhdGVaKDApfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMSk7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggMnB4IHJnYmEoMzQsMzYsMzgsLjE1KSk7ZmlsdGVyOmRyb3Atc2hhZG93KDAgMnB4IDJweCByZ2JhKDM0LDM2LDM4LC4xNSkpO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMCkgdHJhbnNsYXRlWigwKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlciwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7dG9wOjEwMCU7Ym9yZGVyOnNvbGlkIHRyYW5zcGFyZW50O2NvbnRlbnQ6XFxcIiBcXFwiO2hlaWdodDowO3dpZHRoOjA7cG9zaXRpb246YWJzb2x1dGV9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5e3otaW5kZXg6MjE0NzQ4MjAwMDttYXgtd2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctb3BlbmVke3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc217aGVpZ2h0OjMycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6MzJweDtoZWlnaHQ6MzJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZTo4cHg7d2lkdGg6MTJweDtoZWlnaHQ6MTJweDtsaW5lLWhlaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjkuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntib3JkZXItd2lkdGg6Ni42cHg7bWFyZ2luLXRvcDotNi42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHl7Zm9udC1zaXplOjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7cGFkZGluZzozLjJweCA5LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntib3JkZXItdG9wLWNvbG9yOiNmZmY7Ym9yZGVyLXdpZHRoOjYuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDo4LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZHtoZWlnaHQ6NDhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbnt3aWR0aDo0OHB4O2hlaWdodDo0OHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Zm9udC1zaXplOjEycHg7d2lkdGg6MThweDtoZWlnaHQ6MThweDtsaW5lLWhlaWdodDoxOHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjE0LjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjkuOXB4O21hcmdpbi10b3A6LTkuOXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6NC44cHggMTQuNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye2JvcmRlci10b3AtY29sb3I6I2ZmZjtib3JkZXItd2lkdGg6OS45cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle2JvcmRlci10b3AtY29sb3I6cmdiYSgwLDAsMCwuMSk7Ym9yZGVyLXdpZHRoOjExLjlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZ3toZWlnaHQ6NjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbnt3aWR0aDo2NHB4O2hlaWdodDo2NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Zm9udC1zaXplOjEycHg7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtsaW5lLWhlaWdodDoyNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtwYWRkaW5nOjE5LjJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjEzLjJweDttYXJnaW4tdG9wOi0xMy4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHl7Zm9udC1zaXplOjE0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7cGFkZGluZzo2LjRweCAxOS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO2JvcmRlci13aWR0aDoxMy4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle2JvcmRlci10b3AtY29sb3I6cmdiYSgwLDAsMCwuMSk7Ym9yZGVyLXdpZHRoOjE1LjJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHksI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5IGgxe2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2U1NGI0ZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuZm9yZWdyb3VuZHtmaWxsOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLnN0cm9rZXtmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2UtbWl0ZXJsaW1pdDoxMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZSBzdmcgLmJhY2tncm91bmQsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNkZDIwMjIhaW1wb3J0YW50fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtib3JkZXI6MXB4IHNvbGlkICNmZmY7YmFja2dyb3VuZDojMDAwO2NvbG9yOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLmJhY2tncm91bmR7ZmlsbDojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5mb3JlZ3JvdW5ke2ZpbGw6I2U1NGI0ZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuc3Ryb2tle2ZpbGw6bm9uZTtzdHJva2U6I2U1NGI0ZDtzdHJva2Utd2lkdGg6M3B4O3N0cm9rZS1taXRlcmxpbWl0OjEwfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlIHN2ZyAuYmFja2dyb3VuZCwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUgc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2YyZjJmMiFpbXBvcnRhbnR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2JvcmRlcjoxcHggc29saWQgI2ZmZjtiYWNrZ3JvdW5kOiNlNTRiNGQ7Y29sb3I6I2ZmZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYWN0aXZlLCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1lbmFibGVke3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpc2FibGVke3Zpc2liaWxpdHk6aGlkZGVufSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZXtvcGFjaXR5Oi42fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5wdWxzZS1yaW5ne2JvcmRlcjo3cHggc29saWQgaHNsYSgwLDAlLDEwMCUsLjQpO2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtib3R0b206MDtyaWdodDowOy13ZWJraXQtYW5pbWF0aW9uOnB1bHNlIC4zNXMgZWFzZS1pbi1vdXQ7YW5pbWF0aW9uOnB1bHNlIC4zNXMgZWFzZS1pbi1vdXQ7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OjE7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxO29wYWNpdHk6MDt6LWluZGV4OjEwMDA7cG9pbnRlci1ldmVudHM6bm9uZX1AbWVkaWEgcHJpbnR7I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lcntkaXNwbGF5Om5vbmV9fUAtd2Via2l0LWtleWZyYW1lcyBwdWxzZXswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguMSk7b3BhY2l0eTowO2JvcmRlci13aWR0aDoxMHB4fTUwJXtvcGFjaXR5OjE7Ym9yZGVyLXdpZHRoOjVweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjIpO29wYWNpdHk6MDtib3JkZXItd2lkdGg6MXB4fX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3NyYy9iZWxsLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcclxuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdH1cclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcInV0Zi04XFxcIj8+XFxuPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPlxcbjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBjbGFzcz1cXFwib25lc2lnbmFsLWJlbGwtc3ZnXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4PVxcXCIwcHhcXFwiIHk9XFxcIjBweFxcXCJcXG5cXHQgd2lkdGg9XFxcIjk5LjdweFxcXCIgaGVpZ2h0PVxcXCI5OS43cHhcXFwiIHZpZXdCb3g9XFxcIjAgMCA5OS43IDk5LjdcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDk5LjcgOTkuNztcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcbjxnPlxcblxcdDxjaXJjbGUgY2xhc3M9XFxcImJhY2tncm91bmRcXFwiIGN4PVxcXCI0OS45XFxcIiBjeT1cXFwiNDkuOVxcXCIgcj1cXFwiNDkuOVxcXCIvPlxcblxcdDxnIGlkPVxcXCJMYXllcl8yXFxcIj5cXG5cXHRcXHQ8Zz5cXG5cXHRcXHRcXHQ8cGF0aCBjbGFzcz1cXFwiZm9yZWdyb3VuZFxcXCIgZD1cXFwiTTUwLjEsNjYuMkgyNy43YzAsMC0yLTAuMi0yLTIuMWMwLTEuOSwxLjctMiwxLjctMnM2LjctMy4yLDYuNy01LjVjMC0yLjMtMS4xLTMuOS0xLjEtMTMuM1xcblxcdFxcdFxcdFxcdHM2LTE2LjYsMTMuMi0xNi42YzAsMCwxLTIuNCwzLjktMi40YzIuOCwwLDMuOCwyLjQsMy44LDIuNGM3LjIsMCwxMy4yLDcuMiwxMy4yLDE2LjZzLTEsMTEtMSwxMy4zYzAsMi4zLDYuNyw1LjUsNi43LDUuNVxcblxcdFxcdFxcdFxcdHMxLjcsMC4xLDEuNywyYzAsMS44LTIuMSwyLjEtMi4xLDIuMUg1MC4xelxcXCIvPlxcblxcdFxcdFxcdDxwYXRoIGNsYXNzPVxcXCJmb3JlZ3JvdW5kXFxcIiBkPVxcXCJNNDIuOSw2OC41aDE0LjVjMCwwLTEsNi4zLTcuMiw2LjNTNDIuOSw2OC41LDQyLjksNjguNXpcXFwiLz5cXG5cXHRcXHRcXHQ8ZWxsaXBzZSBjbGFzcz1cXFwic3Ryb2tlXFxcIiBjeD1cXFwiNDkuOVxcXCIgY3k9XFxcIjQ5LjlcXFwiIHJ4PVxcXCIzNy40XFxcIiByeT1cXFwiMzYuOVxcXCIvPlxcblxcdFxcdDwvZz5cXG5cXHQ8L2c+XFxuPC9nPlxcbjwvc3ZnPlxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmF3LWxvYWRlciEuL3NyYy9iZWxsLnN2Z1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9