!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";if("undefined"!=typeof OneSignal)var predefinedOneSignalPushes=OneSignal;__webpack_require__(1);if(predefinedOneSignalPushes)OneSignal._process_pushes(predefinedOneSignalPushes)},function(module,exports,__webpack_require__){(function(global){module.exports=global.OneSignal=__webpack_require__(2)}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(fetch){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vars=__webpack_require__(4);var _api=__webpack_require__(7);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel);var _limitStore=__webpack_require__(8);var _limitStore2=_interopRequireDefault(_limitStore);__webpack_require__(9);var _events=__webpack_require__(10);var _bell=__webpack_require__(11);var _bell2=_interopRequireDefault(_bell);var _utils=__webpack_require__(5);var OneSignal={_VERSION:109013,_HOST_URL:_vars.HOST_URL,_app_id:null,_tagsToSendOnRegister:null,_notificationOpened_callback:null,_idsAvailable_callback:[],_defaultLaunchURL:null,_initOptions:null,_httpRegistration:false,_main_page_port:null,_isNotificationEnabledCallback:null,_subscriptionSet:true,_initOneSignalHttp:null,_sessionIframeAdded:false,_useHttpMode:null,_windowWidth:550,_windowHeight:480,_isNewVisitor:false,_isInitialized:false,bell:null,LOGGING:true,SERVICE_WORKER_UPDATER_PATH:"OneSignalSDKUpdaterWorker.js",SERVICE_WORKER_PATH:"OneSignalSDKWorker.js",SERVICE_WORKER_PARAM:{},_ensureDbInstance:function _ensureDbInstance(){return new Promise(function(resolve,reject){if(OneSignal._oneSignal_db)resolve(OneSignal._oneSignal_db);else{var request=indexedDB.open("ONE_SIGNAL_SDK_DB",1);request.onsuccess=function(event){var database=event.target.result;OneSignal._oneSignal_db=database;resolve(database)};request.onerror=function(event){_loglevel2["default"].error("Unable to open IndexedDB.",event);reject(event)};request.onupgradeneeded=function(event){_loglevel2["default"].debug("Rebuilding schema in IndexedDB...");var db=event.target.result;db.createObjectStore("Ids",{keyPath:"type"});db.createObjectStore("NotificationOpened",{keyPath:"url"});db.createObjectStore("Options",{keyPath:"key"})}}})},_getDbValue:function _getDbValue(table,key){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){var request=database.transaction(table).objectStore(table).get(key);request.onsuccess=function(event){if(request.result)OneSignal._triggerEvent_dbValueRetrieved(request.result);resolve(request.result)};request.onerror=function(event){reject(request.errorCode)}})["catch"](function(e){_loglevel2["default"].error(e)})})},_getDbValues:function _getDbValues(table){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){var jsonResult={};var cursor=database.transaction(table).objectStore(table).openCursor();cursor.onsuccess=function(event){var cursor=event.target.result;if(cursor){OneSignal._triggerEvent_dbValueRetrieved(cursor);jsonResult[cursor.key]=cursor.value.value;cursor["continue"]()}else resolve(jsonResult)};cursor.onerror=function(event){reject(cursor.errorCode)}})["catch"](function(e){_loglevel2["default"].error(e)})})},_putDbValue:function _putDbValue(table,value){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){database.transaction([table],"readwrite").objectStore(table).put(value);OneSignal._triggerEvent_dbValueSet(value);resolve(value)})["catch"](function(e){_loglevel2["default"].error(e)})})},_deleteDbValue:function _deleteDbValue(table,key){return new Promise(function(resolve,reject){OneSignal._ensureDbInstance().then(function(database){database.transaction([table],"readwrite").objectStore(table)["delete"](key);resolve(key)})["catch"](function(e){_loglevel2["default"].error(e)})})},_sendToOneSignalApi:function _sendToOneSignalApi(url,action,inData,callback,failedCallback){_loglevel2["default"].debug("Calling "+action+" "+(OneSignal._HOST_URL+url)+" with data:",inData);var contents={method:action};if(inData){contents.headers={"Content-type":"application/json;charset=UTF-8"};contents.body=JSON.stringify(inData)}fetch(OneSignal._HOST_URL+url,contents).then(function status(response){if(response.status>=200&&response.status<300)return Promise.resolve(response);else return Promise.reject(new Error(response.statusText))}).then(function status(response){return response.json()}).then(function(jsonData){if(null!=callback)callback(jsonData)})["catch"](function(e){_loglevel2["default"].error("OneSignal._sendToOneSignalApi() failed:",e);if(null!=failedCallback)failedCallback()})},_getLanguage:function _getLanguage(){return navigator.language?navigator.language.length>3?navigator.language.substring(0,2):navigator.language:"en"},_getPlayerId:function _getPlayerId(value,callback){if(value)callback(value);else OneSignal._getDbValue("Ids","userId").then(function _getPlayerId_gotUserId(result){if(result)callback(result.id);else callback(null)})["catch"](function(e){_loglevel2["default"].error(e)})},_getBrowserName:function _getBrowserName(){if(navigator.appVersion.match(/Chrome\/(.*?) /))return"Chrome";if(navigator.appVersion.match("Version/(.*) (Safari)"))return"Safari";if(navigator.userAgent.match(/Firefox\/([0-9]{2,}\.[0-9]{1,})/))return"Firefox";return""},_registerWithOneSignal:function _registerWithOneSignal(appId,registrationId,deviceType){OneSignal._getDbValue("Ids","userId").then(function _registerWithOneSignal_GotUserId(userIdResult){OneSignal._getNotificationTypes(function(notif_types){var requestUrl="players";var jsonData={app_id:appId,device_type:deviceType,language:OneSignal._getLanguage(),timezone:-60*(new Date).getTimezoneOffset(),device_model:navigator.platform+" "+OneSignal._getBrowserName(),device_os:(navigator.appVersion.match(/Chrome\/(.*?) /)||navigator.appVersion.match("Version/(.*) Safari")||navigator.userAgent.match(/Firefox\/([0-9]{2,}\.[0-9]{1,})/))[1],sdk:OneSignal._VERSION};if(userIdResult){requestUrl="players/"+userIdResult.id+"/on_session";jsonData.notification_types=notif_types}else if(1!=notif_types)jsonData.notification_types=notif_types;if(registrationId){jsonData.identifier=registrationId;OneSignal._putDbValue("Ids",{type:"registrationId",id:registrationId})}OneSignal._sendToOneSignalApi(requestUrl,"POST",jsonData,function registeredCallback(responseJSON){sessionStorage.setItem("ONE_SIGNAL_SESSION",true);if(responseJSON.id){OneSignal._putDbValue("Ids",{type:"userId",id:responseJSON.id});OneSignal._sendUnsentTags()}OneSignal._getPlayerId(responseJSON.id,function(userId){if(OneSignal._idsAvailable_callback.length>0)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userId,registrationId:registrationId})}if(OneSignal._httpRegistration){_loglevel2["default"].debug("Sending player Id and registrationId back to host page");_loglevel2["default"].debug(OneSignal._initOptions);var creator=opener||parent;OneSignal._safePostMessage(creator,{idsAvailable:{userId:userId,registrationId:registrationId}},OneSignal._initOptions.origin,null);if(opener)window.close()}})})})})["catch"](function(e){_loglevel2["default"].error(e)})},_sendUnsentTags:function _sendUnsentTags(){if(OneSignal._tagsToSendOnRegister){OneSignal.sendTags(OneSignal._tagsToSendOnRegister);OneSignal._tagsToSendOnRegister=null}},setDefaultNotificationUrl:function setDefaultNotificationUrl(url){OneSignal._putDbValue("Options",{key:"defaultUrl",value:url})},setDefaultIcon:function setDefaultIcon(icon){OneSignal._putDbValue("Options",{key:"defaultIcon",value:icon})},setDefaultTitle:function setDefaultTitle(title){OneSignal._putDbValue("Options",{key:"defaultTitle",value:title})},_visibilitychange:function _visibilitychange(){if("visible"==document.visibilityState){document.removeEventListener("visibilitychange",OneSignal._visibilitychange);OneSignal._sessionInit({})}},onCustomPromptClicked:function onCustomPromptClicked(event){_loglevel2["default"].debug("Event onesignal.prompt.custom.clicked:",event.detail);OneSignal._checkTrigger_eventSubscriptionChanged()},onNativePromptChanged:function onNativePromptChanged(event){_loglevel2["default"].debug("Event onesignal.prompt.native.permissionchanged:",event.detail);OneSignal._checkTrigger_eventSubscriptionChanged()},_onSubscriptionChanged:function _onSubscriptionChanged(event){_loglevel2["default"].debug("Event onesignal.subscription.changed:",event.detail);if(OneSignal._isNewVisitor&&true===event.detail)OneSignal._getDbValue("Ids","userId").then(function(result){var welcome_notification_opts=OneSignal._initOptions.welcomeNotification;var welcome_notification_disabled=void 0!==welcome_notification_opts&&true===welcome_notification_opts.disable;var title=void 0!==welcome_notification_opts&&void 0!==welcome_notification_opts.title&&null!==welcome_notification_opts.title?welcome_notification_opts.title:"";var message=void 0!==welcome_notification_opts&&void 0!==welcome_notification_opts.message&&null!==welcome_notification_opts.message&&welcome_notification_opts.message.length>0?welcome_notification_opts.message:"Thanks for subscribing!";if(!welcome_notification_disabled){_loglevel2["default"].debug("Because this user is a new site visitor, a welcome notification will be sent.");(0,_api.sendNotification)(OneSignal._app_id,[result.id],{en:title},{en:message});(0,_events.triggerEvent)("onesignal.actions.welcomenotificationsent",{title:title,message:message});OneSignal._isNewVisitor=false}})["catch"](function(e){_loglevel2["default"].error(e)});_limitStore2["default"].put("subscription.value",event.detail)},_onDbValueRetrieved:function _onDbValueRetrieved(event){_loglevel2["default"].debug("Event onesignal.db.retrieved:",event.detail)},_onDbValueSet:function _onDbValueSet(event){_loglevel2["default"].debug("Event onesignal.db.valueset:",event.detail);var info=event.detail;if("userId"===info.type){_limitStore2["default"].put("db.ids.userId",info.id);OneSignal._checkTrigger_eventSubscriptionChanged()}},_onInternalSubscriptionSet:function _onInternalSubscriptionSet(event){_loglevel2["default"].debug("Event onesignal.internal.subscriptionset:",event.detail);var newSubscriptionValue=event.detail;_limitStore2["default"].put("subscription.internal.value",newSubscriptionValue);OneSignal._checkTrigger_eventSubscriptionChanged()},_checkTrigger_eventSubscriptionChanged:function _checkTrigger_eventSubscriptionChanged(){_loglevel2["default"].debug("Called _checkTrigger_eventSubscriptionChanged().");var permissions=_limitStore2["default"].get("notification.permission");var lastPermission=permissions[permissions.length-2];var currentPermission=permissions[permissions.length-1];var ids=_limitStore2["default"].get("db.ids.userId");var lastId=ids[ids.length-2];var currentId=ids[ids.length-1];var subscriptionStates=_limitStore2["default"].get("subscription.internal.value");var lastSubscriptionState=subscriptionStates[subscriptionStates.length-2];var currentSubscriptionState=subscriptionStates[subscriptionStates.length-1];var newSubscriptionState="unchanged";if(("default"===lastPermission||"denied"===lastPermission||null===lastPermission)&&"granted"===currentPermission&&null!==currentId&&true===currentSubscriptionState||false===lastSubscriptionState&&true===currentSubscriptionState&&null!=currentId&&"granted"===currentPermission)newSubscriptionState=true;if("denied"!==lastPermission&&"denied"===currentPermission||"granted"===lastPermission&&"granted"!==currentPermission||null!==lastId&&null===currentId||false!==lastSubscriptionState&&false===currentSubscriptionState)newSubscriptionState=false;if("unchanged"!==newSubscriptionState){var lastTriggerTimes=_limitStore2["default"].put("event.subscriptionchanged.lastriggered",Date.now());var currentTime=lastTriggerTimes[lastTriggerTimes.length-1];var lastTriggerTime=lastTriggerTimes[lastTriggerTimes.length-2];var elapsedTimeSeconds=(currentTime-lastTriggerTime)/1e3;var lastEventStates=_limitStore2["default"].put("event.subscriptionchanged.laststates",newSubscriptionState);var currentState=lastEventStates[lastEventStates.length-1];var lastState=lastEventStates[lastEventStates.length-2];var shouldNotTriggerEvent=null!=lastTriggerTime&&1>=elapsedTimeSeconds||currentState===lastState;if(false===shouldNotTriggerEvent)OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)}},init:function init(options){if(OneSignal._isInitialized){_loglevel2["default"].warn("OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.");return}OneSignal._initOptions=options;if(OneSignal.LOGGING)_loglevel2["default"].enableAll();else _loglevel2["default"].setLevel("error");_loglevel2["default"].info("OneSignal Web SDK loaded (version "+OneSignal._VERSION+").");if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(navigator.permissions&&!((0,_utils.isBrowserFirefox)()&&(0,_utils.getFirefoxVersion)()<=45)){OneSignal._usingNativePermissionHook=true;var currentNotificationPermission=OneSignal._getNotificationPermission();_limitStore2["default"].put("notification.permission",currentNotificationPermission);navigator.permissions.query({name:"notifications"}).then(function(permissionStatus){permissionStatus.onchange=function(){var recentPermissions=_limitStore2["default"].get("notification.permission");var permissionBeforePrompt=recentPermissions[0];OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt)}})["catch"](function(e){_loglevel2["default"].error(e)})}else{var currentNotificationPermission=OneSignal._getNotificationPermission();_limitStore2["default"].put("notification.permission",currentNotificationPermission)}OneSignal._getDbValue("Ids","userId").then(function(result){if(void 0===result)OneSignal._isNewVisitor=true;var storeValue=result?result.id:null;_limitStore2["default"].put("db.ids.userId",storeValue)});OneSignal._getSubscription(function(currentSubscription){_limitStore2["default"].put("subscription.internal.value",currentSubscription)});window.addEventListener("onesignal.prompt.custom.clicked",OneSignal.onCustomPromptClicked);window.addEventListener("onesignal.prompt.native.permissionchanged",OneSignal.onNativePromptChanged);window.addEventListener("onesignal.subscription.changed",OneSignal._onSubscriptionChanged);window.addEventListener("onesignal.db.valueretrieved",OneSignal._onDbValueRetrieved);window.addEventListener("onesignal.db.valueset",OneSignal._onDbValueSet);window.addEventListener("onesignal.db.valueset",OneSignal._onDbValueSet);window.addEventListener("onesignal.internal.subscriptionset",OneSignal._onInternalSubscriptionSet);OneSignal._useHttpMode=!(0,_utils.isSupportedSafari)()&&(!OneSignal._supportsDirectPermission()||OneSignal._initOptions.subdomainName);if(OneSignal._useHttpMode)OneSignal._initOneSignalHttp="https://"+OneSignal._initOptions.subdomainName+".onesignal.com/sdks/initOneSignalHttp";else OneSignal._initOneSignalHttp="https://onesignal.com/sdks/initOneSignalHttps";if(true)OneSignal._initOneSignalHttp=_vars.DEV_HOST+"/dev_sdks/initOneSignalHttp";if((0,_utils.isSupportedSafari)()&&"undefined"==typeof window.fetch){var s=document.createElement("script");s.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js");document.head.appendChild(s)}if("complete"===document.readyState)OneSignal._internalInit();else window.addEventListener("load",OneSignal._internalInit);if(true&&(0,_utils.isBrowserEnv)()){_loglevel2["default"].info("Showing bell.");OneSignal.bell=new _bell2["default"]({size:"large",position:"bottom-right",theme:"default"});OneSignal.bell.create()}OneSignal._isInitialized=true},_internalInit:function _internalInit(){Promise.all([OneSignal._getDbValue("Ids","appId"),OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result){var appIdResult=result[0];var registrationIdResult=result[1];var subscriptionResult=result[2];if(appIdResult&&appIdResult.id!=OneSignal._initOptions.appId){OneSignal._deleteDbValue("Ids","userId");sessionStorage.removeItem("ONE_SIGNAL_SESSION")}if(sessionStorage.getItem("ONE_SIGNAL_SESSION")&&!OneSignal._initOptions.subdomainName&&("denied"==Notification.permission||sessionStorage.getItem("ONE_SIGNAL_NOTIFICATION_PERMISSION")==Notification.permission))return;sessionStorage.setItem("ONE_SIGNAL_NOTIFICATION_PERMISSION",Notification.permission);if(false==OneSignal._initOptions.autoRegister&&!registrationIdResult&&null==OneSignal._initOptions.subdomainName)return;if("visible"!=document.visibilityState){document.addEventListener("visibilitychange",OneSignal._visibilitychange);return}OneSignal._sessionInit({})})["catch"](function(e){_loglevel2["default"].error(e)})},registerForPushNotifications:function registerForPushNotifications(options){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(!options)options={};options.fromRegisterFor=true;OneSignal._sessionInit(options)},_initHttp:function _initHttp(options){OneSignal._initOptions=options;if(options.continuePressed)OneSignal.setSubscription(true);var isIframe=null!=parent&&parent!=window;var creator=opener||parent;if(!creator){_loglevel2["default"].debug("ERROR:_initHttp: No opener or parent found!");return}var messageChannel=new MessageChannel;messageChannel.port1.onmessage=function(event){_loglevel2["default"].debug("_initHttp.messageChannel.port1.onmessage",event);if(event.data.initOptions){OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);if(event.data.initOptions.defaultIcon)OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);_loglevel2["default"].debug("document.URL",event.data.initOptions.parent_url);OneSignal._getDbValue("NotificationOpened",event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult){_loglevel2["default"].debug("_initHttp NotificationOpened db",notificationOpenedResult);if(notificationOpenedResult){OneSignal._deleteDbValue("NotificationOpened",event.data.initOptions.parent_url);_loglevel2["default"].debug("OneSignal._safePostMessage:targetOrigin:",OneSignal._initOptions.origin);OneSignal._safePostMessage(creator,{openedNotification:notificationOpenedResult.data},OneSignal._initOptions.origin,null)}})["catch"](function(e){_loglevel2["default"].error(e)})}else if(event.data.getNotificationPermission)OneSignal._getSubdomainState(function(curState){OneSignal._safePostMessage(creator,{currentNotificationPermission:curState},OneSignal._initOptions.origin,null)});else if(event.data.setSubdomainState)OneSignal.setSubscription(event.data.setSubdomainState.setSubscription)};OneSignal._getSubdomainState(function(curState){curState.isIframe=isIframe;OneSignal._safePostMessage(creator,{oneSignalInitPageReady:curState},OneSignal._initOptions.origin,[messageChannel.port2])});OneSignal._initSaveState();OneSignal._httpRegistration=true;if(0==location.search.indexOf("?session=true"))return;OneSignal._getPlayerId(null,function(player_id){if(!isIframe||player_id){_loglevel2["default"].debug("Before navigator.serviceWorker.register");navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);_loglevel2["default"].debug("After navigator.serviceWorker.register")}})},_getSubdomainState:function _getSubdomainState(callback){var state={};Promise.all([OneSignal._getDbValue("Ids","userId"),OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result){var userIdResult=result[0];var registrationIdResult=result[1];var subscriptionResult=result[2];callback({userId:userIdResult?userIdResult.id:null,registrationId:registrationIdResult?registrationIdResult.id:null,notifPermssion:Notification.permission,subscriptionSet:subscriptionResult?subscriptionResult.value:null,isPushEnabled:"granted"==Notification.permission&&userIdResult&&registrationIdResult&&(subscriptionResult&&subscriptionResult.value||null==subscriptionResult)})})["catch"](function(e){_loglevel2["default"].error(e)})},_initSaveState:function _initSaveState(){OneSignal._app_id=OneSignal._initOptions.appId;OneSignal._putDbValue("Ids",{type:"appId",id:OneSignal._app_id});OneSignal._putDbValue("Options",{key:"pageTitle",value:document.title})},_supportsDirectPermission:function _supportsDirectPermission(){return(0,_utils.isSupportedSafari)()||"https:"==location.protocol||0==location.host.indexOf("localhost")||0==location.host.indexOf("127.0.0.1")},_sessionInit:function _sessionInit(options){_loglevel2["default"].debug("Called OneSignal._sessionInit():",options);OneSignal._initSaveState();var hostPageProtocol=location.origin.match(/^http(s|):\/\/(www\.|)/)[0];if(OneSignal._useHttpMode){if(options.fromRegisterFor){var dualScreenLeft=void 0!=window.screenLeft?window.screenLeft:screen.left;var dualScreenTop=void 0!=window.screenTop?window.screenTop:screen.top;var thisWidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var thisHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var childWidth=OneSignal._windowWidth;var childHeight=OneSignal._windowHeight;var left=thisWidth/2-childWidth/2+dualScreenLeft;var top=thisHeight/2-childHeight/2+dualScreenTop;_loglevel2["default"].debug("Opening popup window.");var message_localization_opts=OneSignal._initOptions.promptOptions;var message_localization_opts_str="";if(message_localization_opts){var message_localization_params=["actionMessage","exampleNotificationTitleDesktop","exampleNotificationMessageDesktop","exampleNotificationTitleMobile","exampleNotificationMessageMobile","exampleNotificationCaption","acceptButtonText","cancelButtonText"];for(var i=0;i<message_localization_params.length;i++){var key=message_localization_params[i];var value=message_localization_opts[key];var encoded_value=encodeURIComponent(value);if(value||""===value)message_localization_opts_str+="&"+key+"="+encoded_value}}var childWindow=window.open(OneSignal._initOneSignalHttp+"?"+message_localization_opts_str+"&hostPageProtocol="+hostPageProtocol,"_blank","scrollbars=yes, width="+childWidth+", height="+childHeight+", top="+top+", left="+left);if(childWindow)childWindow.focus()}else{_loglevel2["default"].debug("Opening iFrame.");OneSignal._addSessionIframe(hostPageProtocol)}return}if((0,_utils.isSupportedSafari)()){if(OneSignal._initOptions.safari_web_id){var notificationPermissionBeforeRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);window.safari.pushNotification.requestPermission(OneSignal._HOST_URL+"safari",OneSignal._initOptions.safari_web_id,{app_id:OneSignal._app_id},function(data){_loglevel2["default"].debug(data);var notificationPermissionAfterRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);if(data.deviceToken)OneSignal._registerWithOneSignal(OneSignal._app_id,data.deviceToken.toLowerCase(),7);else sessionStorage.setItem("ONE_SIGNAL_SESSION",true);OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest)})}}else if(options.modalPrompt&&options.fromRegisterFor){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.");return}OneSignal.isPushNotificationsEnabled(function(pushEnabled){var element=document.createElement("div");element.setAttribute("id","OneSignal-iframe-modal");element.innerHTML='<div id="notif-permission" style="background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block"></div>';document.body.appendChild(element);var iframeStyle=document.createElement("style");iframeStyle.innerHTML="@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }";document.getElementsByTagName("head")[0].appendChild(iframeStyle);var iframeNode=document.createElement("iframe");iframeNode.className="OneSignal-permission-iframe";iframeNode.style.cssText="background: rgba(255, 255, 255, 1); position: fixed;";iframeNode.src=OneSignal._initOneSignalHttp+"?id="+OneSignal._app_id+"&httpsPrompt=true&pushEnabled="+pushEnabled+"&permissionBlocked="+("undefined"==typeof Notification||"denied"==Notification.permission)+"&hostPageProtocol="+hostPageProtocol;iframeNode.setAttribute("frameborder","0");iframeNode.width=OneSignal._windowWidth.toString();iframeNode.height=OneSignal._windowHeight.toString();_loglevel2["default"].debug("Opening HTTPS modal prompt.");document.getElementById("notif-permission").appendChild(iframeNode)})}else if("serviceWorker"in navigator)OneSignal._registerForW3CPush(options);else _loglevel2["default"].debug("Service workers are not supported in this browser.");(0,_events.triggerEvent)("onesignal.sdk.initialized",null)},_registerForW3CPush:function _registerForW3CPush(options){OneSignal._getDbValue("Ids","registrationId").then(function _registerForW3CPush_GotRegistrationId(registrationIdResult){if(!registrationIdResult||!options.fromRegisterFor||"granted"!=Notification.permission)navigator.serviceWorker.getRegistration().then(function(event){var sw_path="";if(OneSignal._initOptions.path)sw_path=OneSignal._initOptions.path;if("undefined"==typeof event)navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else if(event.active){if(event.active.scriptURL.indexOf(sw_path+OneSignal.SERVICE_WORKER_PATH)>-1)OneSignal._getDbValue("Ids","WORKER1_ONE_SIGNAL_SW_VERSION").then(function(versionResult){if(versionResult)if(versionResult.id!=OneSignal._VERSION)event.unregister().then(function(){navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)});else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)});else if(event.active.scriptURL.indexOf(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH)>-1)OneSignal._getDbValue("Ids","WORKER1_ONE_SIGNAL_SW_VERSION").then(function(versionResult){if(versionResult)if(versionResult.id!=OneSignal._VERSION)event.unregister().then(function(){navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)});else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError);else navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_UPDATER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)})}else if(null==event.installing)navigator.serviceWorker.register(sw_path+OneSignal.SERVICE_WORKER_PATH,OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications,OneSignal._registerError)})["catch"](function(e){_loglevel2["default"].error(e)})})["catch"](function(e){_loglevel2["default"].error(e)})},_addSessionIframe:function _addSessionIframe(hostPageProtocol){var node=document.createElement("iframe");node.style.display="none";node.src=OneSignal._initOneSignalHttp+"Iframe";if(sessionStorage.getItem("ONE_SIGNAL_SESSION"))node.src+="?session=true&hostPageProtocol="+hostPageProtocol;else node.src+="?hostPageProtocol="+hostPageProtocol;document.body.appendChild(node);_loglevel2["default"].debug("Adding session iFrame.");OneSignal._sessionIframeAdded=true},_registerError:function _registerError(err){_loglevel2["default"].debug("navigator.serviceWorker.register:ERROR: "+err)},_enableNotifications:function _enableNotifications(existingServiceWorkerRegistration){if(existingServiceWorkerRegistration)_loglevel2["default"].debug("There is an older ServiceWorker:",existingServiceWorkerRegistration);if(!("PushManager"in window)){_loglevel2["default"].debug("Push messaging is not supported. No PushManager.");sessionStorage.setItem("ONE_SIGNAL_SESSION",true);return}if(!("showNotification"in ServiceWorkerRegistration.prototype)){_loglevel2["default"].debug("Notifications are not supported. showNotification not available in ServiceWorkerRegistration.");sessionStorage.setItem("ONE_SIGNAL_SESSION",true);return}if("denied"===Notification.permission){_loglevel2["default"].warn("The user has disabled notifications.");return}navigator.serviceWorker.ready.then(function(serviceWorkerRegistration){_loglevel2["default"].info("Service worker active:",serviceWorkerRegistration);OneSignal._subscribeForPush(serviceWorkerRegistration)})["catch"](function(e){_loglevel2["default"].error(e)})},_getNotificationPermission:function _getNotificationPermission(safariWebId){if(window.safari)if(safariWebId)return window.safari.pushNotification.permission(safariWebId).permission;else return"default";else return Notification.permission},_triggerEvent_customPromptClicked:function _triggerEvent_customPromptClicked(clickResult){var recentPermissions=_limitStore2["default"].put("notification.permission",clickResult);(0,_events.triggerEvent)("onesignal.prompt.custom.clicked",{result:clickResult})},_triggerEvent_nativePromptPermissionChanged:function _triggerEvent_nativePromptPermissionChanged(from,to){if(void 0===to)to=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);if(from!==to){var recentPermissions=_limitStore2["default"].put("notification.permission",to);(0,_events.triggerEvent)("onesignal.prompt.native.permissionchanged",{from:from,to:to})}},_triggerEvent_subscriptionChanged:function _triggerEvent_subscriptionChanged(to){(0,_events.triggerEvent)("onesignal.subscription.changed",to)},_triggerEvent_dbValueRetrieved:function _triggerEvent_dbValueRetrieved(value){(0,_events.triggerEvent)("onesignal.db.valueretrieved",value)},_triggerEvent_dbValueSet:function _triggerEvent_dbValueSet(value){(0,_events.triggerEvent)("onesignal.db.valueset",value)},_triggerEvent_internalSubscriptionSet:function _triggerEvent_internalSubscriptionSet(value){(0,_events.triggerEvent)("onesignal.internal.subscriptionset",value)},_subscribeForPush:function _subscribeForPush(serviceWorkerRegistration){var notificationPermissionBeforeRequest=OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);serviceWorkerRegistration.pushManager.subscribe({
userVisibleOnly:true}).then(function(subscription){sessionStorage.setItem("ONE_SIGNAL_NOTIFICATION_PERMISSION",Notification.permission);OneSignal._getDbValue("Ids","appId").then(function _subscribeForPush_GotAppId(appIdResult){var appId=appIdResult.id;_loglevel2["default"].debug("Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().");var registrationId=null;if(subscription)if("undefined"!=typeof subscription.subscriptionId)registrationId=subscription.subscriptionId;else registrationId=subscription.endpoint.replace(new RegExp("^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)"),"");else _loglevel2["default"].warn("Could not subscribe your browser for push notifications.");OneSignal._registerWithOneSignal(appId,registrationId,(0,_utils.isSupportedFireFox)()?8:5);if(!OneSignal._usingNativePermissionHook)OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest)})["catch"](function(e){_loglevel2["default"].error(e)})})["catch"](function(e){_loglevel2["default"].error("Error while subscribing for push:",e);if(!OneSignal._usingNativePermissionHook)OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);if(20==e.code&&opener&&OneSignal._httpRegistration)window.close()})},sendTag:function sendTag(key,value){var jsonKeyValue={};jsonKeyValue[key]=value;OneSignal.sendTags(jsonKeyValue)},sendTags:function sendTags(jsonPair){OneSignal._getDbValue("Ids","userId").then(function sendTags_GotUserId(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"PUT",{app_id:OneSignal._app_id,tags:jsonPair});else if(null==OneSignal._tagsToSendOnRegister)OneSignal._tagsToSendOnRegister=jsonPair;else{var resultObj={};for(var _obj in OneSignal._tagsToSendOnRegister)resultObj[_obj]=OneSignal._tagsToSendOnRegister[_obj];for(var _obj in jsonPair)resultObj[_obj]=jsonPair[_obj];OneSignal._tagsToSendOnRegister=resultObj}})["catch"](function(e){_loglevel2["default"].error("sendTags:",e)})},deleteTag:function deleteTag(key){OneSignal.deleteTags([key])},deleteTags:function deleteTags(keyArray){var jsonPair={};var length=keyArray.length;for(var i=0;length>i;i++)jsonPair[keyArray[i]]="";OneSignal.sendTags(jsonPair)},_handleNotificationOpened:function _handleNotificationOpened(event){var notificationData=JSON.parse(event.notification.tag);event.notification.close();Promise.all([OneSignal._getDbValue("Ids","appId"),OneSignal._getDbValue("Ids","userId")]).then(function _handleNotificationOpened_GotAppUserIds(results){var appIdResult=results[0];var userIdResult=results[1];if(appIdResult&&userIdResult)OneSignal._sendToOneSignalApi("notifications/"+notificationData.id,"PUT",{app_id:appIdResult.id,player_id:userIdResult.id,opened:true})})["catch"](function(e){_loglevel2["default"].error(e)});event.waitUntil(clients.matchAll({type:"window"}).then(function(clientList){var launchURL=registration.scope;if(OneSignal._defaultLaunchURL)launchURL=OneSignal._defaultLaunchURL;if(notificationData.launchURL)launchURL=notificationData.launchURL;for(var i=0;i<clientList.length;i++){var client=clientList[i];if("focus"in client&&client.url==launchURL){client.focus();client.postMessage(notificationData);return}}if("javascript:void(0);"!==launchURL&&"do_not_open"!==launchURL){OneSignal._putDbValue("NotificationOpened",{url:launchURL,data:notificationData});clients.openWindow(launchURL)["catch"](function(error){clients.openWindow(registration.scope+"redirector.html?url="+launchURL)})}})["catch"](function(e){_loglevel2["default"].error(e)}))},_getTitle:function _getTitle(incomingTitle,callback){if(null!=incomingTitle){callback(incomingTitle);return}Promise.all([OneSignal._getDbValue("Options","defaultTitle"),OneSignal._getDbValue("Options","pageTitle")]).then(function _getTitle_GotDefaultPageTitles(results){var defaultTitleResult=results[0];var pageTitleResult=results[1];if(defaultTitleResult){callback(defaultTitleResult.value);return}else if(pageTitleResult&&null!=pageTitleResult.value){callback(pageTitleResult.value);return}else callback("")})["catch"](function(e){_loglevel2["default"].error(e)})},_handleGCMMessage:function _handleGCMMessage(serviceWorker,event){if(event.data&&"{"==event.data.text()[0]){_loglevel2["default"].debug("Received data.text: ",event.data.text());_loglevel2["default"].debug("Received data.json: ",event.data.json())}event.waitUntil(new Promise(function(resolve,reject){OneSignal._getTitle(null,function(title){OneSignal._getDbValue("Options","defaultIcon").then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult){OneSignal._getLastNotifications(function(response,appId){var notificationData={id:response.custom.i,message:response.alert,additionalData:response.custom.a};if(response.title)notificationData.title=response.title;else notificationData.title=title;if(response.custom.u)notificationData.launchURL=response.custom.u;if(response.icon)notificationData.icon=response.icon;else if(defaultIconResult)notificationData.icon=defaultIconResult.value;serviceWorker.registration.showNotification(notificationData.title,{body:response.alert,icon:notificationData.icon,tag:JSON.stringify(notificationData)}).then(resolve)["catch"](function(e){_loglevel2["default"].error(e)});OneSignal._getDbValue("Options","defaultUrl").then(function(defaultUrlResult){if(defaultUrlResult)OneSignal._defaultLaunchURL=defaultUrlResult.value})["catch"](function(e){_loglevel2["default"].error(e)})},resolve)})["catch"](function(e){_loglevel2["default"].error(e)})})}))},_getLastNotifications:function _getLastNotifications(itemCallback,completeCallback){OneSignal._getDbValue("Ids","userId").then(function _getLastNotifications_GotUserId(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id+"/chromeweb_notification","GET",null,function(response){for(var i=0;i<response.length;i++)itemCallback(JSON.parse(response[i]))},function(){completeCallback()});else{_loglevel2["default"].debug("Error: could not get notificationId");completeCallback()}})["catch"](function(e){_loglevel2["default"].error(e)})},_listener_receiveMessage:function receiveMessage(event){_loglevel2["default"].debug("_listener_receiveMessage: ",event);if(void 0==OneSignal._initOptions)return;if(false)return;if(event.data.oneSignalInitPageReady){OneSignal._getDbValues("Options").then(function _listener_receiveMessage(options){_loglevel2["default"].debug("current options",options);if(!options.defaultUrl)options.defaultUrl=document.URL;if(!options.defaultTitle)options.defaultTitle=document.title;options.parent_url=document.URL;_loglevel2["default"].debug("Posting message to port[0]",event.ports[0]);event.ports[0].postMessage({initOptions:options})})["catch"](function(e){_loglevel2["default"].error("_listener_receiveMessage:",e)});var eventData=event.data.oneSignalInitPageReady;if(eventData.isIframe)OneSignal._iframePort=event.ports[0];if(eventData.userId)OneSignal._putDbValue("Ids",{type:"userId",id:eventData.userId});if(eventData.registrationId)OneSignal._putDbValue("Ids",{type:"registrationId",id:eventData.registrationId});OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);OneSignal._sendUnsentTags()}else if(event.data.currentNotificationPermission)OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);else if(event.data.idsAvailable){sessionStorage.setItem("ONE_SIGNAL_SESSION",true);OneSignal._putDbValue("Ids",{type:"userId",id:event.data.idsAvailable.userId});OneSignal._putDbValue("Ids",{type:"registrationId",id:event.data.idsAvailable.registrationId});if(OneSignal._idsAvailable_callback.length>0)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:event.data.idsAvailable.userId,registrationId:event.data.idsAvailable.registrationId})}OneSignal._sendUnsentTags()}else if(event.data.httpsPromptAccepted){OneSignal.registerForPushNotifications();OneSignal.setSubscription(true);var elem=document.getElementById("OneSignal-iframe-modal");elem.parentNode.removeChild(elem);OneSignal._triggerEvent_customPromptClicked("granted")}else if(event.data.httpsPromptCanceled){var elem=document.getElementById("OneSignal-iframe-modal");elem.parentNode.removeChild(elem);OneSignal._triggerEvent_customPromptClicked("denied")}else if(event.data.httpPromptAccepted)OneSignal._triggerEvent_customPromptClicked("granted");else if(event.data.httpPromptCanceled)OneSignal._triggerEvent_customPromptClicked("denied");else if(OneSignal._notificationOpened_callback)OneSignal._notificationOpened_callback(event.data)},addListenerForNotificationOpened:function addListenerForNotificationOpened(callback){OneSignal._notificationOpened_callback=callback;if(window)OneSignal._getDbValue("NotificationOpened",document.URL).then(function(notificationOpenedResult){if(notificationOpenedResult){OneSignal._deleteDbValue("NotificationOpened",document.URL);OneSignal._notificationOpened_callback(notificationOpenedResult.data)}})["catch"](function(e){_loglevel2["default"].error(e)})},_fireNotificationEnabledCallback:function _fireNotificationEnabledCallback(notifPermssion){if(OneSignal._isNotificationEnabledCallback){OneSignal._isNotificationEnabledCallback(notifPermssion);OneSignal._isNotificationEnabledCallback=null}},getIdsAvailable:function getIdsAvailable(callback){if(void 0===callback)return;OneSignal._idsAvailable_callback.push(callback);Promise.all([OneSignal._getDbValue("Ids","userId"),OneSignal._getDbValue("Ids","registrationId")]).then(function getIdsAvailable_GotUserRegistrationIds(results){var userIdResult=results[0];var registrationIdResult=results[1];if(userIdResult)if(registrationIdResult)for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userIdResult.id,registrationId:registrationIdResult.id})}else for(;OneSignal._idsAvailable_callback.length>0;){var curr_callback=OneSignal._idsAvailable_callback.pop();curr_callback({userId:userIdResult.id,registrationId:null})}})["catch"](function(e){_loglevel2["default"].error(e)})},getTags:function getTags(callback){OneSignal._getDbValue("Ids","userId").then(function(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"GET",null,function(response){callback(response.tags)})})["catch"](function(e){_loglevel2["default"].error(e)})},isPushNotificationsEnabled:function isPushNotificationsEnabled(callback){if(!(0,_utils.isPushNotificationsSupported)()){_loglevel2["default"].warn("Your browser does not support push notifications.");return}if(OneSignal._initOptions.subdomainName&&!(0,_utils.isBrowserSafari)()){OneSignal._isNotificationEnabledCallback=callback;if(OneSignal._iframePort)OneSignal._iframePort.postMessage({getNotificationPermission:true});return}Promise.all([OneSignal._getDbValue("Ids","registrationId"),OneSignal._getDbValue("Options","subscription")]).then(function(results){var registrationIdResult=results[0];var subscriptionResult=results[1];if(registrationIdResult){if(subscriptionResult&&!subscriptionResult.value)return callback(false);callback("granted"==Notification.permission)}else callback(false)})["catch"](function(e){_loglevel2["default"].error(e)})},_getNotificationTypes:function _getNotificationTypes(callback){OneSignal._getSubscription(function(db_subscriptionSet){callback(db_subscriptionSet?1:-2)})},setSubscription:function setSubscription(newSubscription){if(OneSignal._iframePort)OneSignal._iframePort.postMessage({setSubdomainState:{setSubscription:newSubscription}});else OneSignal._getSubscription(function(currentSubscription){if(currentSubscription!=newSubscription){OneSignal._putDbValue("Options",{key:"subscription",value:newSubscription});OneSignal._getDbValue("Ids","userId").then(function(userIdResult){if(userIdResult)OneSignal._sendToOneSignalApi("players/"+userIdResult.id,"PUT",{app_id:OneSignal._app_id,notification_types:newSubscription?1:-2},function setSubscriptionSetCallback(){OneSignal._triggerEvent_internalSubscriptionSet(newSubscription)})})["catch"](function(e){_loglevel2["default"].error(e)})}})},_getSubscription:function _getSubscription(callback){OneSignal._getDbValue("Options","subscription").then(function(subscriptionResult){callback(!(subscriptionResult&&false==subscriptionResult.value))})["catch"](function(e){_loglevel2["default"].error(e)})},_safePostMessage:function _safePostMessage(creator,data,targetOrigin,receiver){var tOrigin=targetOrigin.toLowerCase();if(tOrigin.startsWith("http://")){var queryDict={};location.search.substr(1).split("&").forEach(function(item){queryDict[item.split("=")[0]]=item.split("=")[1]});var validPreURLRegex=/^http(s|):\/\/(www\.|)/;tOrigin=tOrigin.replace(validPreURLRegex,queryDict.hostPageProtocol)}if(receiver)creator.postMessage(data,tOrigin,receiver);else creator.postMessage(data,tOrigin)},_process_pushes:function _process_pushes(array){for(var i=0;i<array.length;i++)OneSignal.push(array[i])},push:function push(item){if("function"==typeof item)item();else{var functionName=item.shift();OneSignal[functionName].apply(null,item)}}};if("undefined"!=typeof window)window.addEventListener("message",OneSignal._listener_receiveMessage,false);else{importScripts("https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js");self.addEventListener("push",function(event){OneSignal._handleGCMMessage(self,event)});self.addEventListener("notificationclick",function(event){OneSignal._handleNotificationOpened(event)});var isSWonSubdomain=null!=location.href.match(/https\:\/\/.*\.onesignal.com\/sdks\//);if(true)isSWonSubdomain=true;self.addEventListener("install",function(event){_loglevel2["default"].debug("OneSignal Installed service worker: "+OneSignal._VERSION);if(self.location.pathname.indexOf("OneSignalSDKWorker.js")>-1)OneSignal._putDbValue("Ids",{type:"WORKER1_ONE_SIGNAL_SW_VERSION",id:OneSignal._VERSION});else OneSignal._putDbValue("Ids",{type:"WORKER2_ONE_SIGNAL_SW_VERSION",id:OneSignal._VERSION});if(isSWonSubdomain)event.waitUntil(caches.open("OneSignal_"+OneSignal._VERSION).then(function(cache){return cache.addAll(["/sdks/initOneSignalHttpIframe","/sdks/initOneSignalHttpIframe?session=*","/sdks/manifest_json"])})["catch"](function(e){_loglevel2["default"].error(e)}))});if(isSWonSubdomain)self.addEventListener("fetch",function(event){event.respondWith(caches.match(event.request).then(function(response){if(response)return response;return fetch(event.request)})["catch"](function(e){_loglevel2["default"].error(e)}))})}module.exports=OneSignal}).call(exports,__webpack_require__(3))},function(module,exports){(function(global){(function(){!function(){"use strict";function normalizeName(name){if("string"!=typeof name)name=String(name);if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){if("string"!=typeof value)value=String(value);return value}function Headers(headers){this.map={};if(headers instanceof Headers)headers.forEach(function(value,name){this.append(name,value)},this);else if(headers)Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}function readBlobAsText(blob){var reader=new FileReader;reader.readAsText(blob);return fileReaderReady(reader)}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if("string"==typeof body)this._bodyText=body;else if(support.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(support.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(!body)this._bodyText="";else if(support.arrayBuffer&&ArrayBuffer.prototype.isPrototypeOf(body));else throw new Error("unsupported BodyInit type")};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);else if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);else if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)}}else this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)};if(support.formData)this.formData=function(){return this.text().then(decode)};this.json=function(){return this.text().then(JSON.parse)};return this}function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(Request.prototype.isPrototypeOf(input)){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url;this.credentials=input.credentials;if(!options.headers)this.headers=new Headers(input.headers);this.method=input.method;this.mode=input.mode;if(!body){body=input._bodyInit;input.bodyUsed=true}}else this.url=input;this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers)this.headers=new Headers(options.headers);this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function headers(xhr){var head=new Headers;var pairs=xhr.getAllResponseHeaders().trim().split("\n");pairs.forEach(function(header){var split=header.trim().split(":");var key=split.shift().trim();var value=split.join(":").trim();head.append(key,value)});return head}function Response(bodyInit,options){if(!options)options={};this._initBody(bodyInit);this.type="default";this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||""}if(self.fetch)return;Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}list.push(value)};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};var support={blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this)};Body.call(Request.prototype);Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){function responseURL(){if("responseURL"in xhr)return xhr.responseURL;if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders()))return xhr.getResponseHeader("X-Request-URL");return}var request;if(Request.prototype.isPrototypeOf(input)&&!init)request=input;else request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var status=1223===xhr.status?204:xhr.status;if(100>status||status>599){reject(new TypeError("Network request failed"));return}var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if("include"===request.credentials)xhr.withCredentials=true;if("responseType"in xhr&&support.blob)xhr.responseType="blob";request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)})};self.fetch.polyfill=true}();module.exports=global.fetch}).call(global)}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HOST_URL=exports.PROD_HOST=exports.DEV_HOST=void 0;var _utils=__webpack_require__(5);var DEV_HOST=exports.DEV_HOST="https://192.168.1.206:3000";var PROD_HOST=exports.PROD_HOST="https://onesignal.com";var HOST_URL=exports.HOST_URL=((0,_utils.isDev)()?DEV_HOST:PROD_HOST)+"/api/v1/"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _typeof(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function isArray(variable){return"[object Array]"===Object.prototype.toString.call(variable)}function getHumanizedTimeDuration(timeDurationInMilliseconds){function addPluralSuffix(number){return number>1?"s":""}var duration=Math.floor(timeDurationInMilliseconds/1e3);var years=Math.floor(duration/31536e3);if(years)return years+" year"+addPluralSuffix(years);var days=Math.floor((duration%=31536e3)/86400);if(days)return days+" day"+addPluralSuffix(days);var hours=Math.floor((duration%=86400)/3600);if(hours)return hours+" hour"+addPluralSuffix(hours);var minutes=Math.floor((duration%=3600)/60);if(minutes)return minutes+" minute"+addPluralSuffix(minutes);var seconds=duration%60;if(seconds)return seconds+" second"+addPluralSuffix(seconds);return"just now"}function isBrowserEnv(){return"undefined"!=typeof window}function isDev(){return true}function isPushNotificationsSupported(){var chromeVersion=navigator.appVersion.match(/Chrome\/(.*?) /);if(isSupportedFireFox())return true;if(isSupportedSafari())return true;if(!chromeVersion)return false;if(navigator.appVersion.match(/Edge/))return false;if(navigator.appVersion.match(/ wv/))return false;if(navigator.appVersion.match(/OPR\//))return false;if(/iPad|iPhone|iPod/.test(navigator.platform))return false;return parseInt(chromeVersion[1].substring(0,2))>41}function isBrowserSafari(){var safariVersion=navigator.appVersion.match("Version/([0-9]?).* Safari");return null!=safariVersion}function isSupportedFireFox(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);if(fireFoxVersion)return parseInt(fireFoxVersion[2].substring(0,2))>43;return false}function isBrowserFirefox(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);return null!=fireFoxVersion}function getFirefoxVersion(){var fireFoxVersion=navigator.userAgent.match(/(Firefox\/)([0-9]{2,}\.[0-9]{1,})/);if(fireFoxVersion)return parseInt(fireFoxVersion[2].substring(0,2));else return-1}function isSupportedSafari(){var safariVersion=navigator.appVersion.match("Version/([0-9]?).* Safari");if(null==safariVersion)return false;if(/iPhone|iPad|iPod/i.test(navigator.userAgent))return false;return parseInt(safariVersion[1])>6}function removeDomElement(selector){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)els[i].parentNode.removeChild(els[i])}function addDomElement(targetSelectorOrElement,addOrder,elementHtml){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder,elementHtml);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.insertAdjacentHTML(addOrder,elementHtml);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function addCssClass(targetSelectorOrElement,cssClass){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function removeCssClass(targetSelectorOrElement,cssClass){if("string"==typeof targetSelectorOrElement)document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function on(targetSelectorOrElement,event,task){if(!event)_loglevel2["default"].error("Cannot call on() with no event: ",event);if(!task)_loglevel2["default"].error("Cannot call on() with no task: ",task);_loglevel2["default"].debug("Debug me here.");if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)on(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)on(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))targetSelectorOrElement.addEventListener(event,task);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function once(targetSelectorOrElement,event,task){if(!event)_loglevel2["default"].error("Cannot call on() with no event: ",event);if(!task)_loglevel2["default"].error("Cannot call on() with no task: ",task);if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)once(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)once(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement))){var taskWrapper=function(){var internalTaskFunction=function internalTaskFunction(e){targetSelectorOrElement.removeEventListener(e.type,taskWrapper);task(e)};return internalTaskFunction}();targetSelectorOrElement.addEventListener(event,taskWrapper)}else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}function off(targetSelectorOrElement,event,task){if("string"==typeof targetSelectorOrElement){var els=document.querySelectorAll(selector);if(els.length>0)for(var i=0;i<els.length;i++)off(els[i],task)}else if(isArray(targetSelectorOrElement))for(var i=0;i<targetSelectorOrElement.length;i++)off(targetSelectorOrElement[i],task);else if("object"===("undefined"==typeof targetSelectorOrElement?"undefined":_typeof(targetSelectorOrElement)))if(task)targetSelectorOrElement.removeEventListener(event,task);else targetSelectorOrElement.removeEventListener(event);else throw new Error(targetSelectorOrElement+" must be a CSS selector string or DOM Element object.")}Object.defineProperty(exports,"__esModule",{value:true});exports.isArray=isArray;exports.getHumanizedTimeDuration=getHumanizedTimeDuration;exports.isBrowserEnv=isBrowserEnv;exports.isDev=isDev;exports.isPushNotificationsSupported=isPushNotificationsSupported;exports.isBrowserSafari=isBrowserSafari;exports.isSupportedFireFox=isSupportedFireFox;exports.isBrowserFirefox=isBrowserFirefox;exports.getFirefoxVersion=getFirefoxVersion;exports.isSupportedSafari=isSupportedSafari;exports.removeDomElement=removeDomElement;exports.addDomElement=addDomElement;exports.addCssClass=addCssClass;exports.removeCssClass=removeCssClass;exports.on=on;exports.once=once;exports.off=off;var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,definition){"use strict";if("object"==typeof module&&module.exports&&true)module.exports=definition();else if(true)!(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else root.log=definition()}(this,function(){"use strict";function realMethod(methodName){if(typeof console===undefinedType)return false;else if(void 0!==console[methodName])return bindMethod(console,methodName);else if(void 0!==console.log)return bindMethod(console,"log");else return noop}function bindMethod(obj,methodName){var method=obj[methodName];if("function"==typeof method.bind)return method.bind(obj);else try{return Function.prototype.bind.call(method,obj)}catch(e){return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}function enableLoggingWhenConsoleArrives(methodName,level,loggerName){return function(){if(typeof console!==undefinedType){replaceLoggingMethods.call(this,level,loggerName);this[methodName].apply(this,arguments)}}}function replaceLoggingMethods(level,loggerName){for(var i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=level>i?noop:this.methodFactory(methodName,level,loggerName)}}function defaultMethodFactory(methodName,level,loggerName){return realMethod(methodName)||enableLoggingWhenConsoleArrives.apply(this,arguments)}function Logger(name,defaultLevel,factory){function persistLevelIfPossible(levelNum){var levelName=(logMethods[levelNum]||"silent").toUpperCase();try{window.localStorage[storageKey]=levelName;return}catch(ignore){}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelName+";"}catch(ignore){}}function getPersistedLevel(){var storedLevel;try{storedLevel=window.localStorage[storageKey]}catch(ignore){}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie;var location=cookie.indexOf(encodeURIComponent(storageKey)+"=");if(location)storedLevel=/^([^;]+)/.exec(cookie.slice(location))[1]}catch(ignore){}if(void 0===self.levels[storedLevel])storedLevel=void 0;return storedLevel}var self=this;var currentLevel;var storageKey="loglevel";if(name)storageKey+=":"+name;self.levels={
TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};self.methodFactory=factory||defaultMethodFactory;self.getLevel=function(){return currentLevel};self.setLevel=function(level,persist){if("string"==typeof level&&void 0!==self.levels[level.toUpperCase()])level=self.levels[level.toUpperCase()];if("number"==typeof level&&level>=0&&level<=self.levels.SILENT){currentLevel=level;if(false!==persist)persistLevelIfPossible(level);replaceLoggingMethods.call(self,level,name);if(typeof console===undefinedType&&level<self.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+level};self.setDefaultLevel=function(level){if(!getPersistedLevel())self.setLevel(level,false)};self.enableAll=function(persist){self.setLevel(self.levels.TRACE,persist)};self.disableAll=function(persist){self.setLevel(self.levels.SILENT,persist)};var initialLevel=getPersistedLevel();if(null==initialLevel)initialLevel=null==defaultLevel?"WARN":defaultLevel;self.setLevel(initialLevel,false)}var noop=function(){};var undefinedType="undefined";var logMethods=["trace","debug","info","warn","error"];var defaultLogger=new Logger;var _loggersByName={};defaultLogger.getLogger=function getLogger(name){if("string"!=typeof name||""===name)throw new TypeError("You must supply a name when creating a logger.");var logger=_loggersByName[name];if(!logger)logger=_loggersByName[name]=new Logger(name,defaultLogger.getLevel(),defaultLogger.methodFactory);return logger};var _log=typeof window!==undefinedType?window.log:void 0;defaultLogger.noConflict=function(){if(typeof window!==undefinedType&&window.log===defaultLogger)window.log=_log;return defaultLogger};return defaultLogger})},function(module,exports,__webpack_require__){(function(fetch){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function apiCall(action,method,data){var headers=new Headers;headers.append("Content-Type","application/json;charset=UTF-8");var contents={method:method||"NO_METHOD_SPECIFIED",headers:headers,cache:"no-cache",body:JSON.stringify(data)};return new Promise(function(resolve,reject){fetch(_vars.HOST_URL+action,contents).then(function status(response){if(response.status>=200&&response.status<300)resolve(response.json());else reject(new Error(response.statusText))})["catch"](function(e){reject(e)})})}function sendNotification(appId,playerIds,titles,contents){var params={app_id:appId,headings:titles,contents:contents,include_player_ids:playerIds,isAnyWeb:true,url:"javascript:void(0);"};return apiCall("notifications","POST",params)}Object.defineProperty(exports,"__esModule",{value:true});exports.apiCall=apiCall;exports.sendNotification=sendNotification;var _vars=__webpack_require__(4);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)}).call(exports,__webpack_require__(3))},function(module,exports){"use strict";function LimitStore(){}Object.defineProperty(exports,"__esModule",{value:true});LimitStore.store={};LimitStore.LIMIT=2;LimitStore.put=function(key,value){if(void 0===LimitStore.store[key])LimitStore.store[key]=[null,null];LimitStore.store[key].push(value);if(LimitStore.store[key].length==LimitStore.LIMIT+1)LimitStore.store[key].shift();return LimitStore.store[key]};LimitStore.get=function(key){return LimitStore.store[key]};exports["default"]=LimitStore},function(module,exports){"use strict";if("undefined"!=typeof window)!function(){function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,details:void 0};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.details);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function triggerEvent(eventName,data){if("undefined"==typeof window){_loglevel2["default"].debug("Skipping triggering of event:",eventName,"because we are running in a ServiceWorker context.");return}var event=new CustomEvent(eventName,{bubbles:true,cancelable:true,details:data});window.dispatchEvent(event)}Object.defineProperty(exports,"__esModule",{value:true});exports.triggerEvent=triggerEvent;var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _utils=__webpack_require__(5);var _limitStore=__webpack_require__(8);var _limitStore2=_interopRequireDefault(_limitStore);var _loglevel=__webpack_require__(6);var _loglevel2=_interopRequireDefault(_loglevel);var _events=__webpack_require__(10);if((0,_utils.isBrowserEnv)()){__webpack_require__(12);var logoSvg=__webpack_require__(16);var Bell=function(){function Bell(){var _this=this;var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];var _ref$size=_ref.size;var size=void 0===_ref$size?"small":_ref$size;var _ref$position=_ref.position;var position=void 0===_ref$position?"bottom-left":_ref$position;var _ref$theme=_ref.theme;var theme=void 0===_ref$theme?"red-white":_ref$theme;var _ref$showLauncherAfte=_ref.showLauncherAfter;var showLauncherAfter=void 0===_ref$showLauncherAfte?10:_ref$showLauncherAfte;var _ref$showBadgeAfter=_ref.showBadgeAfter;var showBadgeAfter=void 0===_ref$showBadgeAfter?300:_ref$showBadgeAfter;var _ref$messages=_ref.messages;var messages=void 0===_ref$messages?{unsubscribed:"Subscribe to notifications",subscribed:"You're subscribed to notifications"}:_ref$messages;var _ref$prenotify=_ref.prenotify;var prenotify=void 0===_ref$prenotify?true:_ref$prenotify;_classCallCheck(this,Bell);this.options={size:size,position:position,theme:theme,showLauncherAfter:showLauncherAfter,showBadgeAfter:showBadgeAfter,messages:messages,prenotify:prenotify};this.size=this.options.size;this.position=this.options.position;this.messages=this.options.messages;this.messages.queued=[];if(!this.messages.unsubscribed)this.messages.unsubscribed="Subscribe to notifications";if(!this.messages.subscribed)this.messages.subscribed="You're subscribed to notifications";this.states={uninitialized:"The bell is loading.",subscribed:"The user is subscribed",unsubscribed:"The user is unsubscribed"};this.state="uninitialized";window.addEventListener("onesignal.bell.state.changed",function(state){console.info("onesignal.bell.state.changed",state.detail)});window.addEventListener("onesignal.bell.click",function(){_this.hideMessage();if("unsubscribed"===_this.state)OneSignal.registerForPushNotifications();else _this.showDialog().then(function(e){var self=_this;(0,_utils.once)(document,"click",function(e){var wasDialogClicked=self.launcherDialog.contains(e.target);if(wasDialogClicked);else self.hideDialog().then(function(e){if(_this.wasInactive){_this.setInactive(true);_this.wasInactive=void 0}})["catch"](function(e){_loglevel2["default"].error(e)})})})["catch"](function(e){_loglevel2["default"].error(e)})});window.addEventListener("onesignal.bell.hovering",function(){if(_this.isInactive()){_this.wasInactive=true;_this.setInactive(false)}if(_this.isMessageOpened()||_this.isDialogOpened()){console.debug("There is already a message being displayed; wait until it is hidden again.");return}if(messages.queued.length>0){var dequeuedMessage=_this.dequeueMessage();_this.setMessage(dequeuedMessage)}else _this.setMessage(_this.messages[_this.state]);_this.showMessage()});window.addEventListener("onesignal.bell.hovered",function(){if(_this.isMessageOpened())_this.hideMessage().then(function(){console.trace("Inside hovered.");_this.setMessage(_this.messages[_this.state]);if(_this.wasInactive&&!_this.isDialogOpened()){_this.setInactive(true);_this.wasInactive=void 0}})});window.addEventListener("onesignal.subscription.changed",function(e){_this.setState(e.detail?"subscribed":"unsubscribed")});window.addEventListener("onesignal.actions.welcomenotificationsent",function(e){_this.displayMessage("Thanks for subscribing!",2500).then(function(){_this.setInactive(true)})["catch"](function(e){_loglevel2["default"].error(e)})});this.updateState()}_createClass(Bell,[{key:"create",value:function create(){var _this2=this;if(!(0,_utils.isPushNotificationsSupported)())return;if(this.container)(0,_utils.removeDomElement)("onesignal-bell-container");window.addDomElement=_utils.addDomElement;(0,_utils.addDomElement)("body","beforeend",'<div id="onesignal-bell-container" class="onesignal-bell-container onesignal-reset"></div>');(0,_utils.addDomElement)(this.container,"beforeend",'<div id="onesignal-bell-launcher" class="onesignal-bell-launcher"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-button"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-badge"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-message"></div>');(0,_utils.addDomElement)(this.launcherMessage,"beforeend",'<div class="onesignal-bell-launcher-message-body"></div>');(0,_utils.addDomElement)(this.launcher,"beforeend",'<div class="onesignal-bell-launcher-dialog"></div>');(0,_utils.addDomElement)(this.launcherDialog,"beforeend",'<div class="onesignal-bell-launcher-dialog-body"></div>');(0,_utils.addDomElement)(this.launcherDialogBody,"beforeend",'\n        <h1>Manage Site Notifications</h1>\n        <div class="push-notification">\n          <div class="push-notification-icon"></div>\n          <div class="push-notification-text-container">\n            <div class="push-notification-text-short"></div>\n            <div class="push-notification-text"></div>\n            <div class="push-notification-text"></div>\n          </div>\n        </div>\n        <div class="action-container">\n          <button type="button" id="action-button">Unsubscribe</button>\n        </div>\n        <div class="divider"></div>\n        <div class="kickback">Powered by OneSignal</div>\n        ');this.launcherButton.addEventListener("mouseover",function(){var isHoveringData=_limitStore2["default"].get("bell.launcherButton.mouse","over");if(void 0===isHoveringData||"out"===isHoveringData[isHoveringData.length-1])(0,_events.triggerEvent)("onesignal.bell.hovering");_limitStore2["default"].put("bell.launcherButton.mouse","over")});this.launcherButton.addEventListener("mouseleave",function(){_limitStore2["default"].put("bell.launcherButton.mouse","out");(0,_events.triggerEvent)("onesignal.bell.hovered")});this.launcherButton.addEventListener("mousedown",function(){(0,_utils.removeDomElement)(".pulse-ring");(0,_utils.addDomElement)(_this2.launcherButton,"beforeend",'<div class="pulse-ring"></div>');(0,_utils.addCssClass)(_this2.launcherButton,"onesignal-bell-launcher-button-active");(0,_utils.addCssClass)(_this2.launcherBadge,"onesignal-bell-launcher-badge-active")});this.launcherButton.addEventListener("mouseup",function(){(0,_utils.removeCssClass)(_this2.launcherButton,"onesignal-bell-launcher-button-active");(0,_utils.removeCssClass)(_this2.launcherBadge,"onesignal-bell-launcher-badge-active")});this.launcherButton.addEventListener("click",function(){(0,_events.triggerEvent)("onesignal.bell.button.click");(0,_events.triggerEvent)("onesignal.bell.click")});(0,_utils.addDomElement)(this.launcherButton,"beforeEnd",logoSvg);this.setSize(this.options.size);if("bottom-left"===this.options.position){(0,_utils.addCssClass)(this.container,"onesignal-bell-container-bottom-left");(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-bottom-left")}else if("bottom-right"===this.options.position){(0,_utils.addCssClass)(this.container,"onesignal-bell-container-bottom-right");(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-bottom-right")}else throw new Error("Invalid OneSignal bell position "+this.options.position);if("default"===this.options.theme)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-theme-default");else if("inverse"===this.options.theme)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-theme-inverse");else throw new Error("Invalid OneSignal bell theme "+this.options.theme);OneSignal.isPushNotificationsEnabled(function(isPushEnabled){if(isPushEnabled){console.log("isPushEnabled",isPushEnabled);var promise=_this2.setInactive(true)}else var promise=Promise.resolve();promise.then(function(){_this2._scheduleEvent(_this2.options.showLauncherAfter,function(){_this2.showLauncher()}).then(function(){return _this2._scheduleEvent(_this2.options.showBadgeAfter,function(){if(_this2.options.prenotify)if(!isPushEnabled){_this2.enqueueMessage("Click to subscribe to notifications");_this2.showBadge()}_this2.initialized=true})})["catch"](function(e){_loglevel2["default"].error(e)})})})}},{key:"_scheduleEvent",value:function _scheduleEvent(msInFuture,task){if("function"!=typeof task)throw new Error("Task to be scheduled must be a function.");if(0>=msInFuture){task();return Promise.resolve()}return new Promise(function(resolve,reject){setTimeout(function(){task();resolve()},msInFuture)})}},{key:"updateState",value:function updateState(){var _this3=this;OneSignal.isPushNotificationsEnabled(function(isEnabled){_this3.setState(isEnabled?"subscribed":"unsubscribed")})}},{key:"setState",value:function setState(newState){if(this.states.hasOwnProperty(newState)){var lastState=this.state;this.state=newState;if(lastState!==newState)(0,_events.triggerEvent)("onesignal.bell.state.changed",{from:lastState,to:newState});this.setMessage(this.messages[newState])}else _loglevel2["default"].error("Cannot update to invalid new state",newState)}},{key:"enqueueMessage",value:function enqueueMessage(message){var _this4=this;var notify=arguments.length<=1||void 0===arguments[1]?false:arguments[1];this.messages.queued.push(message);if(this.isBadgeOpen())this.hideBadge().then(function(){_this4.incrementBadge();_this4.showBadge()});else{this.incrementBadge();if(this.initialized)this.showBadge()}}},{key:"dequeueMessage",value:function dequeueMessage(message){var _this5=this;var dequeuedMessage=this.messages.queued.pop(message);if(this.isBadgeOpen())this.hideBadge().then(function(){_this5.decrementBadge();_this5.showBadge()});else{var newBadgeNumber=this.decrementBadge();if(0>=newBadgeNumber)this.hideBadge()}return dequeuedMessage}},{key:"showDialog",value:function showDialog(){var _this6=this;(0,_utils.addCssClass)(this.launcherDialog,"onesignal-bell-launcher-dialog-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this6.launcherDialog,"transitionend",function(e){if(e.target===_this6.launcherDialog){e.stopPropagation();return resolve(e)}})})}},{key:"hideDialog",value:function hideDialog(){var _this7=this;(0,_utils.removeCssClass)(this.launcherDialog,"onesignal-bell-launcher-dialog-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this7.launcherDialog,"transitionend",function(e){if(e.target===_this7.launcherDialog){e.stopPropagation();return resolve(e)}})})}},{key:"isDialogOpened",value:function isDialogOpened(){return document.querySelector(".onesignal-bell-launcher-dialog-opened")}},{key:"showLauncher",value:function showLauncher(){(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-active")}},{key:"hideLauncher",value:function hideLauncher(){(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-active")}},{key:"setMessage",value:function setMessage(message){this.launcherMessageBody.innerHTML=message}},{key:"showMessage",value:function showMessage(){(0,_utils.addCssClass)(this.launcherMessage,"onesignal-bell-launcher-message-opened")}},{key:"hideMessage",value:function hideMessage(){var _this8=this;(0,_utils.removeCssClass)(this.launcherMessage,"onesignal-bell-launcher-message-opened");return new Promise(function(resolve,reject){(0,_utils.once)(_this8.launcherMessage,"transitionend",function(e){if(e.target===_this8.launcherMessage){e.stopPropagation();return resolve(e)}})})}},{key:"isMessageOpened",value:function isMessageOpened(){return document.querySelector(".onesignal-bell-launcher-message-opened")}},{key:"displayMessage",value:function displayMessage(content){var _this9=this;var hideAfter=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return new Promise(function(resolve,reject){if(_this9.isMessageOpened())_this9.hideMessage().then(function(){_this9.setMessage(content);_this9.showMessage();if(hideAfter)setTimeout(function(){_this9.hideMessage();return resolve()},hideAfter);else return resolve()})["catch"](function(e){_loglevel2["default"].error(e)});else{_this9.setMessage(content);_this9.showMessage();if(hideAfter)setTimeout(function(){_this9.hideMessage();return resolve()},hideAfter);else return resolve()}})}},{key:"setBadge",value:function setBadge(content){this.launcherBadge.innerHTML=content}},{key:"showBadge",value:function showBadge(){if(this.badgeHasContent())(0,_utils.addCssClass)(this.launcherBadge,"onesignal-bell-launcher-badge-opened")}},{key:"isBadgeOpen",value:function isBadgeOpen(){return document.querySelector(".onesignal-bell-badge-opened")}},{key:"badgeHasContent",value:function badgeHasContent(){return this.launcherBadge.innerHTML.length>0}},{key:"getBadgeContent",value:function getBadgeContent(){return this.launcherBadge.innerHTML}},{key:"incrementBadge",value:function incrementBadge(){var content=this.getBadgeContent();if(!isNaN(content)){var badgeNumber=+content;badgeNumber+=1;this.setBadge(badgeNumber);return badgeNumber}}},{key:"decrementBadge",value:function decrementBadge(){var content=this.getBadgeContent();if(!isNaN(content)){var badgeNumber=+content;badgeNumber-=1;this.setBadge(badgeNumber);return badgeNumber}}},{key:"hideBadge",value:function hideBadge(){var _this10=this;return new Promise(function(resolve,reject){(0,_utils.removeCssClass)(_this10.launcherBadge,"onesignal-bell-launcher-badge-opened");(0,_utils.once)(_this10.launcherBadge,"transitionend",function(e){if(e.target===_this10.launcherBadge){e.stopPropagation();return resolve(e)}})})["catch"](function(e){_loglevel2["default"].error(e);reject(e)})}},{key:"isInactive",value:function isInactive(){return document.querySelector(".onesignal-bell-launcher-inactive")}},{key:"setInactive",value:function setInactive(isInactive){var _this11=this;if(isInactive){this.hideMessage();if(this.badgeHasContent())return this.hideBadge().then(function(){(0,_utils.addCssClass)(_this11.launcher,"onesignal-bell-launcher-inactive");_this11.setSize("small");var launcher=_this11.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}).then(function(){_this11.showBadge()})["catch"](function(e){_loglevel2["default"].error(e)});else{(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-inactive");this.setSize("small");this.setSize("small");var launcher=this.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}}else if(this.badgeHasContent())return this.hideBadge().then(function(){(0,_utils.removeCssClass)(_this11.launcher,"onesignal-bell-launcher-inactive");_this11.setSize(_this11.options.size);var launcher=_this11.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}).then(function(){_this11.showBadge()})["catch"](function(e){_loglevel2["default"].error(e)});else{(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-inactive");this.setSize(this.options.size);var launcher=this.launcher;return new Promise(function(resolve,reject){(0,_utils.once)(_this11.launcher,"transitionend",function(e){if(e.target===_this11.launcher){e.stopPropagation();return resolve(e)}})})}}},{key:"setSize",value:function setSize(size){(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-sm");(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-md");(0,_utils.removeCssClass)(this.launcher,"onesignal-bell-launcher-lg");if("small"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-sm");else if("medium"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-md");else if("large"===size)(0,_utils.addCssClass)(this.launcher,"onesignal-bell-launcher-lg");else throw new Error("Invalid OneSignal bell size "+size)}},{key:"container",get:function get(){return document.querySelector("#onesignal-bell-container")}},{key:"launcher",get:function get(){return this.container.querySelector("#onesignal-bell-launcher")}},{key:"launcherButton",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-button")}},{key:"launcherBadge",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-badge")}},{key:"launcherMessage",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-message")}},{key:"launcherMessageBody",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-message-body")}},{key:"launcherDialog",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-dialog")}},{key:"launcherDialogBody",get:function get(){return this.launcher.querySelector(".onesignal-bell-launcher-dialog-body")}}]);return Bell}();module.exports=Bell}},function(module,exports,__webpack_require__){var content=__webpack_require__(13);if("string"==typeof content)content=[[module.id,content,""]];var update=__webpack_require__(15)(content,{});if(content.locals)module.exports=content.locals;if(false){if(!content.locals)module.hot.accept("!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss",function(){var newContent=require("!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss");if("string"==typeof newContent)newContent=[[module.id,newContent,""]];update(newContent)});module.hot.dispose(function(){update()})}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(14)();exports.push([module.id,'/*!\n* CleanSlate\n*   github.com/premasagar/cleanslate\n*\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:"" "";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ffffff\',endColorstr=\'#dddddd\',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:""}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:bottom center;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}',""]);
},function(module,exports){module.exports=function(){var list=[];list.toString=function toString(){var result=[];for(var i=0;i<this.length;i++){var item=this[i];if(item[2])result.push("@media "+item[2]+"{"+item[1]+"}");else result.push(item[1])}return result.join("")};list.i=function(modules,mediaQuery){if("string"==typeof modules)modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if("number"==typeof id)alreadyImportedModules[id]=true}for(i=0;i<modules.length;i++){var item=modules[i];if("number"!=typeof item[0]||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2])item[2]=mediaQuery;else if(mediaQuery)item[2]="("+item[2]+") and ("+mediaQuery+")";list.push(item)}}};return list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{var parts=[];for(var j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){var styles=[];var newStyles={};for(var i=0;i<list.length;i++){var item=list[i];var id=item[0];var css=item[1];var media=item[2];var sourceMap=item[3];var part={css:css,media:media,sourceMap:sourceMap};if(!newStyles[id])styles.push(newStyles[id]={id:id,parts:[part]});else newStyles[id].parts.push(part)}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement();var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt){if(!lastStyleElementInsertedAtTop)head.insertBefore(styleElement,head.firstChild);else if(lastStyleElementInsertedAtTop.nextSibling)head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);else head.appendChild(styleElement);styleElementsInsertedAtTop.push(styleElement)}else if("bottom"===options.insertAt)head.appendChild(styleElement);else throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);if(idx>=0)styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");styleElement.type="text/css";insertStyleElement(options,styleElement);return styleElement}function createLinkElement(options){var linkElement=document.createElement("link");linkElement.rel="stylesheet";insertStyleElement(options,linkElement);return linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options));update=applyToSingletonTag.bind(null,styleElement,styleIndex,false);remove=applyToSingletonTag.bind(null,styleElement,styleIndex,true)}else if(obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa){styleElement=createLinkElement(options);update=updateLink.bind(null,styleElement);remove=function(){removeStyleElement(styleElement);if(styleElement.href)URL.revokeObjectURL(styleElement.href)}}else{styleElement=createStyleElement(options);update=applyToTag.bind(null,styleElement);remove=function(){removeStyleElement(styleElement)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css);var childNodes=styleElement.childNodes;if(childNodes[index])styleElement.removeChild(childNodes[index]);if(childNodes.length)styleElement.insertBefore(cssNode,childNodes[index]);else styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media)styleElement.setAttribute("media",media);if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(sourceMap)css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */";var blob=new Blob([css],{type:"text/css"});var oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob);if(oldSrc)URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){if("undefined"==typeof memo)memo=fn.apply(this,arguments);return memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if(true)if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{};if("undefined"==typeof options.singleton)options.singleton=isOldIE();if("undefined"==typeof options.insertAt)options.insertAt="bottom";var styles=listToStyles(list);addStylesToDom(styles,options);return function update(newList){var mayRemove=[];for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];domStyle.refs--;mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}()},function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" class="onesignal-bell-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.7px" height="99.7px" viewBox="0 0 99.7 99.7" style="enable-background:new 0 0 99.7 99.7;" xml:space="preserve">\n<g>\n	<circle class="background" cx="49.9" cy="49.9" r="49.9"/>\n	<g id="Layer_2">\n		<g>\n			<path class="foreground" d="M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\n				s6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\n				s1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z"/>\n			<path class="foreground" d="M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z"/>\n			<ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9"/>\n		</g>\n	</g>\n</g>\n</svg>\n'}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vT25lU2lnbmFsU0RLLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBmMTk1OTA5MDNhYTk3MTZlMjQ3NCIsIndlYnBhY2s6Ly8vLi9zcmMvZW50cnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Nkay5qcz9kZmIwIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzIiwid2VicGFjazovLy8uL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpbWl0U3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy1wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLnNjc3M/NmI4YyIsIndlYnBhY2s6Ly8vLi9zcmMvYmVsbC5zY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9iZWxsLnN2ZyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJPbmVTaWduYWwiLCJwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzIiwiX3Byb2Nlc3NfcHVzaGVzIiwiZ2xvYmFsIiwidGhpcyIsImZldGNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3ZhcnMiLCJfYXBpIiwiX2xvZ2xldmVsIiwiX2xvZ2xldmVsMiIsIl9saW1pdFN0b3JlIiwiX2xpbWl0U3RvcmUyIiwiX2V2ZW50cyIsIl9iZWxsIiwiX2JlbGwyIiwiX3V0aWxzIiwiX1ZFUlNJT04iLCJfSE9TVF9VUkwiLCJIT1NUX1VSTCIsIl9hcHBfaWQiLCJfdGFnc1RvU2VuZE9uUmVnaXN0ZXIiLCJfbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrIiwiX2lkc0F2YWlsYWJsZV9jYWxsYmFjayIsIl9kZWZhdWx0TGF1bmNoVVJMIiwiX2luaXRPcHRpb25zIiwiX2h0dHBSZWdpc3RyYXRpb24iLCJfbWFpbl9wYWdlX3BvcnQiLCJfaXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2siLCJfc3Vic2NyaXB0aW9uU2V0IiwiX2luaXRPbmVTaWduYWxIdHRwIiwiX3Nlc3Npb25JZnJhbWVBZGRlZCIsIl91c2VIdHRwTW9kZSIsIl93aW5kb3dXaWR0aCIsIl93aW5kb3dIZWlnaHQiLCJfaXNOZXdWaXNpdG9yIiwiX2lzSW5pdGlhbGl6ZWQiLCJiZWxsIiwiTE9HR0lORyIsIlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCIsIlNFUlZJQ0VfV09SS0VSX1BBVEgiLCJTRVJWSUNFX1dPUktFUl9QQVJBTSIsIl9lbnN1cmVEYkluc3RhbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJfb25lU2lnbmFsX2RiIiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJldmVudCIsImRhdGFiYXNlIiwidGFyZ2V0IiwicmVzdWx0Iiwib25lcnJvciIsImVycm9yIiwib251cGdyYWRlbmVlZGVkIiwiZGVidWciLCJkYiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsIl9nZXREYlZhbHVlIiwidGFibGUiLCJrZXkiLCJ0aGVuIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsIl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZCIsImVycm9yQ29kZSIsImUiLCJfZ2V0RGJWYWx1ZXMiLCJqc29uUmVzdWx0IiwiY3Vyc29yIiwib3BlbkN1cnNvciIsInZhbHVlIiwiX3B1dERiVmFsdWUiLCJwdXQiLCJfdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQiLCJfZGVsZXRlRGJWYWx1ZSIsIl9zZW5kVG9PbmVTaWduYWxBcGkiLCJ1cmwiLCJhY3Rpb24iLCJpbkRhdGEiLCJjYWxsYmFjayIsImZhaWxlZENhbGxiYWNrIiwiY29udGVudHMiLCJtZXRob2QiLCJoZWFkZXJzIiwiQ29udGVudC10eXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJyZXNwb25zZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJqc29uRGF0YSIsIl9nZXRMYW5ndWFnZSIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwiX2dldFBsYXllcklkIiwiX2dldFBsYXllcklkX2dvdFVzZXJJZCIsIl9nZXRCcm93c2VyTmFtZSIsImFwcFZlcnNpb24iLCJtYXRjaCIsInVzZXJBZ2VudCIsIl9yZWdpc3RlcldpdGhPbmVTaWduYWwiLCJhcHBJZCIsInJlZ2lzdHJhdGlvbklkIiwiZGV2aWNlVHlwZSIsIl9yZWdpc3RlcldpdGhPbmVTaWduYWxfR290VXNlcklkIiwidXNlcklkUmVzdWx0IiwiX2dldE5vdGlmaWNhdGlvblR5cGVzIiwibm90aWZfdHlwZXMiLCJyZXF1ZXN0VXJsIiwiYXBwX2lkIiwiZGV2aWNlX3R5cGUiLCJ0aW1lem9uZSIsIkRhdGUiLCJnZXRUaW1lem9uZU9mZnNldCIsImRldmljZV9tb2RlbCIsInBsYXRmb3JtIiwiZGV2aWNlX29zIiwic2RrIiwibm90aWZpY2F0aW9uX3R5cGVzIiwiaWRlbnRpZmllciIsInR5cGUiLCJyZWdpc3RlcmVkQ2FsbGJhY2siLCJyZXNwb25zZUpTT04iLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJfc2VuZFVuc2VudFRhZ3MiLCJ1c2VySWQiLCJjdXJyX2NhbGxiYWNrIiwicG9wIiwiY3JlYXRvciIsIm9wZW5lciIsInBhcmVudCIsIl9zYWZlUG9zdE1lc3NhZ2UiLCJpZHNBdmFpbGFibGUiLCJvcmlnaW4iLCJ3aW5kb3ciLCJjbG9zZSIsInNlbmRUYWdzIiwic2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybCIsInNldERlZmF1bHRJY29uIiwiaWNvbiIsInNldERlZmF1bHRUaXRsZSIsInRpdGxlIiwiX3Zpc2liaWxpdHljaGFuZ2UiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfc2Vzc2lvbkluaXQiLCJvbkN1c3RvbVByb21wdENsaWNrZWQiLCJkZXRhaWwiLCJfY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCIsIm9uTmF0aXZlUHJvbXB0Q2hhbmdlZCIsIl9vblN1YnNjcmlwdGlvbkNoYW5nZWQiLCJ3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzIiwid2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQiLCJ1bmRlZmluZWQiLCJtZXNzYWdlIiwic2VuZE5vdGlmaWNhdGlvbiIsImVuIiwidHJpZ2dlckV2ZW50IiwiX29uRGJWYWx1ZVJldHJpZXZlZCIsIl9vbkRiVmFsdWVTZXQiLCJpbmZvIiwiX29uSW50ZXJuYWxTdWJzY3JpcHRpb25TZXQiLCJuZXdTdWJzY3JpcHRpb25WYWx1ZSIsInBlcm1pc3Npb25zIiwibGFzdFBlcm1pc3Npb24iLCJjdXJyZW50UGVybWlzc2lvbiIsImlkcyIsImxhc3RJZCIsImN1cnJlbnRJZCIsInN1YnNjcmlwdGlvblN0YXRlcyIsImxhc3RTdWJzY3JpcHRpb25TdGF0ZSIsImN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSIsIm5ld1N1YnNjcmlwdGlvblN0YXRlIiwibGFzdFRyaWdnZXJUaW1lcyIsIm5vdyIsImN1cnJlbnRUaW1lIiwibGFzdFRyaWdnZXJUaW1lIiwiZWxhcHNlZFRpbWVTZWNvbmRzIiwibGFzdEV2ZW50U3RhdGVzIiwiY3VycmVudFN0YXRlIiwibGFzdFN0YXRlIiwic2hvdWxkTm90VHJpZ2dlckV2ZW50IiwiX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkIiwiaW5pdCIsIm9wdGlvbnMiLCJ3YXJuIiwiZW5hYmxlQWxsIiwic2V0TGV2ZWwiLCJpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkIiwiaXNCcm93c2VyRmlyZWZveCIsImdldEZpcmVmb3hWZXJzaW9uIiwiX3VzaW5nTmF0aXZlUGVybWlzc2lvbkhvb2siLCJjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbiIsIl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwicXVlcnkiLCJuYW1lIiwicGVybWlzc2lvblN0YXR1cyIsIm9uY2hhbmdlIiwicmVjZW50UGVybWlzc2lvbnMiLCJwZXJtaXNzaW9uQmVmb3JlUHJvbXB0IiwiX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZCIsInN0b3JlVmFsdWUiLCJfZ2V0U3Vic2NyaXB0aW9uIiwiY3VycmVudFN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc1N1cHBvcnRlZFNhZmFyaSIsIl9zdXBwb3J0c0RpcmVjdFBlcm1pc3Npb24iLCJzdWJkb21haW5OYW1lIiwiREVWX0hPU1QiLCJzIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlYWR5U3RhdGUiLCJfaW50ZXJuYWxJbml0IiwiaXNCcm93c2VyRW52Iiwic2l6ZSIsInBvc2l0aW9uIiwidGhlbWUiLCJjcmVhdGUiLCJhbGwiLCJfaW50ZXJuYWxJbml0X0dvdEFwcFJlZ2lzdHJhdGlvblN1YnNjcmlwdGlvbklkcyIsImFwcElkUmVzdWx0IiwicmVnaXN0cmF0aW9uSWRSZXN1bHQiLCJzdWJzY3JpcHRpb25SZXN1bHQiLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJhdXRvUmVnaXN0ZXIiLCJyZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zIiwiZnJvbVJlZ2lzdGVyRm9yIiwiX2luaXRIdHRwIiwiY29udGludWVQcmVzc2VkIiwic2V0U3Vic2NyaXB0aW9uIiwiaXNJZnJhbWUiLCJtZXNzYWdlQ2hhbm5lbCIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJkYXRhIiwiaW5pdE9wdGlvbnMiLCJkZWZhdWx0VXJsIiwiZGVmYXVsdFRpdGxlIiwiZGVmYXVsdEljb24iLCJwYXJlbnRfdXJsIiwicmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9uc19Hb3ROb3RpZmljYXRpb25PcGVuZWQiLCJub3RpZmljYXRpb25PcGVuZWRSZXN1bHQiLCJvcGVuZWROb3RpZmljYXRpb24iLCJnZXROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwiX2dldFN1YmRvbWFpblN0YXRlIiwiY3VyU3RhdGUiLCJzZXRTdWJkb21haW5TdGF0ZSIsIm9uZVNpZ25hbEluaXRQYWdlUmVhZHkiLCJwb3J0MiIsIl9pbml0U2F2ZVN0YXRlIiwibG9jYXRpb24iLCJzZWFyY2giLCJpbmRleE9mIiwicGxheWVyX2lkIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwiX2VuYWJsZU5vdGlmaWNhdGlvbnMiLCJfcmVnaXN0ZXJFcnJvciIsInN0YXRlIiwibm90aWZQZXJtc3Npb24iLCJzdWJzY3JpcHRpb25TZXQiLCJpc1B1c2hFbmFibGVkIiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdFBhZ2VQcm90b2NvbCIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInNjcmVlbiIsImxlZnQiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwidG9wIiwidGhpc1dpZHRoIiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwid2lkdGgiLCJ0aGlzSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJoZWlnaHQiLCJjaGlsZFdpZHRoIiwiY2hpbGRIZWlnaHQiLCJtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzIiwibWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIiLCJtZXNzYWdlX2xvY2FsaXphdGlvbl9wYXJhbXMiLCJpIiwiZW5jb2RlZF92YWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNoaWxkV2luZG93IiwiZm9jdXMiLCJfYWRkU2Vzc2lvbklmcmFtZSIsInNhZmFyaV93ZWJfaWQiLCJub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCIsInNhZmFyaSIsInB1c2hOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsIm5vdGlmaWNhdGlvblBlcm1pc3Npb25BZnRlclJlcXVlc3QiLCJkZXZpY2VUb2tlbiIsInRvTG93ZXJDYXNlIiwibW9kYWxQcm9tcHQiLCJpc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCIsInB1c2hFbmFibGVkIiwiZWxlbWVudCIsImlubmVySFRNTCIsImlmcmFtZVN0eWxlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpZnJhbWVOb2RlIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJjc3NUZXh0Iiwic3JjIiwidG9TdHJpbmciLCJnZXRFbGVtZW50QnlJZCIsIl9yZWdpc3RlckZvclczQ1B1c2giLCJfcmVnaXN0ZXJGb3JXM0NQdXNoX0dvdFJlZ2lzdHJhdGlvbklkIiwiZ2V0UmVnaXN0cmF0aW9uIiwic3dfcGF0aCIsInBhdGgiLCJhY3RpdmUiLCJzY3JpcHRVUkwiLCJ2ZXJzaW9uUmVzdWx0IiwidW5yZWdpc3RlciIsImluc3RhbGxpbmciLCJub2RlIiwiZGlzcGxheSIsImVyciIsImV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsIlNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJwcm90b3R5cGUiLCJyZWFkeSIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJfc3Vic2NyaWJlRm9yUHVzaCIsInNhZmFyaVdlYklkIiwiX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkIiwiY2xpY2tSZXN1bHQiLCJmcm9tIiwidG8iLCJfdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0IiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJzdWJzY3JpcHRpb24iLCJfc3Vic2NyaWJlRm9yUHVzaF9Hb3RBcHBJZCIsInN1YnNjcmlwdGlvbklkIiwiZW5kcG9pbnQiLCJyZXBsYWNlIiwiUmVnRXhwIiwiaXNTdXBwb3J0ZWRGaXJlRm94IiwiY29kZSIsInNlbmRUYWciLCJqc29uS2V5VmFsdWUiLCJqc29uUGFpciIsInNlbmRUYWdzX0dvdFVzZXJJZCIsInRhZ3MiLCJyZXN1bHRPYmoiLCJfb2JqIiwiZGVsZXRlVGFnIiwiZGVsZXRlVGFncyIsImtleUFycmF5IiwiX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZCIsIm5vdGlmaWNhdGlvbkRhdGEiLCJwYXJzZSIsIm5vdGlmaWNhdGlvbiIsInRhZyIsIl9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWRfR290QXBwVXNlcklkcyIsInJlc3VsdHMiLCJvcGVuZWQiLCJ3YWl0VW50aWwiLCJjbGllbnRzIiwibWF0Y2hBbGwiLCJjbGllbnRMaXN0IiwibGF1bmNoVVJMIiwicmVnaXN0cmF0aW9uIiwic2NvcGUiLCJjbGllbnQiLCJwb3N0TWVzc2FnZSIsIm9wZW5XaW5kb3ciLCJfZ2V0VGl0bGUiLCJpbmNvbWluZ1RpdGxlIiwiX2dldFRpdGxlX0dvdERlZmF1bHRQYWdlVGl0bGVzIiwiZGVmYXVsdFRpdGxlUmVzdWx0IiwicGFnZVRpdGxlUmVzdWx0IiwiX2hhbmRsZUdDTU1lc3NhZ2UiLCJ0ZXh0IiwiX2hhbmRsZUdDTU1lc3NhZ2VfR290RGVmYXVsdEljb24iLCJkZWZhdWx0SWNvblJlc3VsdCIsIl9nZXRMYXN0Tm90aWZpY2F0aW9ucyIsImN1c3RvbSIsImFsZXJ0IiwiYWRkaXRpb25hbERhdGEiLCJhIiwidSIsInNob3dOb3RpZmljYXRpb24iLCJkZWZhdWx0VXJsUmVzdWx0IiwiaXRlbUNhbGxiYWNrIiwiY29tcGxldGVDYWxsYmFjayIsIl9nZXRMYXN0Tm90aWZpY2F0aW9uc19Hb3RVc2VySWQiLCJfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2UiLCJyZWNlaXZlTWVzc2FnZSIsIlVSTCIsInBvcnRzIiwiZXZlbnREYXRhIiwiX2lmcmFtZVBvcnQiLCJfZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayIsImh0dHBzUHJvbXB0QWNjZXB0ZWQiLCJlbGVtIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaHR0cHNQcm9tcHRDYW5jZWxlZCIsImh0dHBQcm9tcHRBY2NlcHRlZCIsImh0dHBQcm9tcHRDYW5jZWxlZCIsImFkZExpc3RlbmVyRm9yTm90aWZpY2F0aW9uT3BlbmVkIiwiZ2V0SWRzQXZhaWxhYmxlIiwicHVzaCIsImdldElkc0F2YWlsYWJsZV9Hb3RVc2VyUmVnaXN0cmF0aW9uSWRzIiwiZ2V0VGFncyIsImlzQnJvd3NlclNhZmFyaSIsImRiX3N1YnNjcmlwdGlvblNldCIsIm5ld1N1YnNjcmlwdGlvbiIsInNldFN1YnNjcmlwdGlvblNldENhbGxiYWNrIiwidGFyZ2V0T3JpZ2luIiwicmVjZWl2ZXIiLCJ0T3JpZ2luIiwic3RhcnRzV2l0aCIsInF1ZXJ5RGljdCIsInN1YnN0ciIsInNwbGl0IiwiZm9yRWFjaCIsIml0ZW0iLCJ2YWxpZFByZVVSTFJlZ2V4IiwiYXJyYXkiLCJmdW5jdGlvbk5hbWUiLCJzaGlmdCIsImFwcGx5IiwiaW1wb3J0U2NyaXB0cyIsInNlbGYiLCJpc1NXb25TdWJkb21haW4iLCJocmVmIiwicGF0aG5hbWUiLCJjYWNoZXMiLCJjYWNoZSIsImFkZEFsbCIsInJlc3BvbmRXaXRoIiwibm9ybWFsaXplTmFtZSIsIlN0cmluZyIsInRlc3QiLCJUeXBlRXJyb3IiLCJub3JtYWxpemVWYWx1ZSIsIkhlYWRlcnMiLCJtYXAiLCJhcHBlbmQiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5VXNlZCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsIm9ubG9hZCIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0Iiwic3VwcG9ydCIsIkJsb2IiLCJpc1Byb3RvdHlwZU9mIiwiX2JvZHlCbG9iIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsIl9ib2R5Rm9ybURhdGEiLCJhcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwicmVqZWN0ZWQiLCJkZWNvZGUiLCJub3JtYWxpemVNZXRob2QiLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJtZXRob2RzIiwiUmVxdWVzdCIsImlucHV0IiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsImJ5dGVzIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInhociIsInBhaXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiaGVhZGVyIiwiUmVzcG9uc2UiLCJib2R5SW5pdCIsIm9rIiwibGlzdCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImhhc093blByb3BlcnR5Iiwic2V0IiwidGhpc0FyZyIsImNsb25lIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsInJlc3BvbnNlVVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVGV4dCIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicG9seWZpbGwiLCJkZWZpbmVQcm9wZXJ0eSIsIlBST0RfSE9TVCIsImlzRGV2IiwiX3R5cGVvZiIsIlN5bWJvbCIsImNvbnN0cnVjdG9yIiwiaXNBcnJheSIsInZhcmlhYmxlIiwiZ2V0SHVtYW5pemVkVGltZUR1cmF0aW9uIiwidGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMiLCJhZGRQbHVyYWxTdWZmaXgiLCJudW1iZXIiLCJkdXJhdGlvbiIsIk1hdGgiLCJmbG9vciIsInllYXJzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJjaHJvbWVWZXJzaW9uIiwicGFyc2VJbnQiLCJzYWZhcmlWZXJzaW9uIiwiZmlyZUZveFZlcnNpb24iLCJyZW1vdmVEb21FbGVtZW50Iiwic2VsZWN0b3IiLCJlbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRG9tRWxlbWVudCIsInRhcmdldFNlbGVjdG9yT3JFbGVtZW50IiwiYWRkT3JkZXIiLCJlbGVtZW50SHRtbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhZGRDc3NDbGFzcyIsImNzc0NsYXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ3NzQ2xhc3MiLCJyZW1vdmUiLCJvbiIsInRhc2siLCJvbmNlIiwidGFza1dyYXBwZXIiLCJpbnRlcm5hbFRhc2tGdW5jdGlvbiIsIm9mZiIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwicm9vdCIsImRlZmluaXRpb24iLCJsb2ciLCJyZWFsTWV0aG9kIiwibWV0aG9kTmFtZSIsImNvbnNvbGUiLCJ1bmRlZmluZWRUeXBlIiwiYmluZE1ldGhvZCIsIm5vb3AiLCJiaW5kIiwiRnVuY3Rpb24iLCJhcmd1bWVudHMiLCJlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzIiwibGV2ZWwiLCJsb2dnZXJOYW1lIiwicmVwbGFjZUxvZ2dpbmdNZXRob2RzIiwibG9nTWV0aG9kcyIsIm1ldGhvZEZhY3RvcnkiLCJkZWZhdWx0TWV0aG9kRmFjdG9yeSIsIkxvZ2dlciIsImRlZmF1bHRMZXZlbCIsImZhY3RvcnkiLCJwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlIiwibGV2ZWxOdW0iLCJsZXZlbE5hbWUiLCJsb2NhbFN0b3JhZ2UiLCJzdG9yYWdlS2V5IiwiaWdub3JlIiwiY29va2llIiwiZ2V0UGVyc2lzdGVkTGV2ZWwiLCJzdG9yZWRMZXZlbCIsImV4ZWMiLCJzbGljZSIsImxldmVscyIsImN1cnJlbnRMZXZlbCIsIlRSQUNFIiwiREVCVUciLCJJTkZPIiwiV0FSTiIsIkVSUk9SIiwiU0lMRU5UIiwiZ2V0TGV2ZWwiLCJwZXJzaXN0Iiwic2V0RGVmYXVsdExldmVsIiwiZGlzYWJsZUFsbCIsImluaXRpYWxMZXZlbCIsImRlZmF1bHRMb2dnZXIiLCJfbG9nZ2Vyc0J5TmFtZSIsImdldExvZ2dlciIsImxvZ2dlciIsIl9sb2ciLCJub0NvbmZsaWN0IiwiYXBpQ2FsbCIsInBsYXllcklkcyIsInRpdGxlcyIsInBhcmFtcyIsImhlYWRpbmdzIiwiaW5jbHVkZV9wbGF5ZXJfaWRzIiwiaXNBbnlXZWIiLCJMaW1pdFN0b3JlIiwic3RvcmUiLCJMSU1JVCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWxzIiwiZXZ0IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJFdmVudCIsImV2ZW50TmFtZSIsImRpc3BhdGNoRXZlbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImxvZ29TdmciLCJCZWxsIiwiX3RoaXMiLCJfcmVmIiwiX3JlZiRzaXplIiwiX3JlZiRwb3NpdGlvbiIsIl9yZWYkdGhlbWUiLCJfcmVmJHNob3dMYXVuY2hlckFmdGUiLCJzaG93TGF1bmNoZXJBZnRlciIsIl9yZWYkc2hvd0JhZGdlQWZ0ZXIiLCJzaG93QmFkZ2VBZnRlciIsIl9yZWYkbWVzc2FnZXMiLCJtZXNzYWdlcyIsInVuc3Vic2NyaWJlZCIsInN1YnNjcmliZWQiLCJfcmVmJHByZW5vdGlmeSIsInByZW5vdGlmeSIsInF1ZXVlZCIsInN0YXRlcyIsInVuaW5pdGlhbGl6ZWQiLCJoaWRlTWVzc2FnZSIsInNob3dEaWFsb2ciLCJ3YXNEaWFsb2dDbGlja2VkIiwibGF1bmNoZXJEaWFsb2ciLCJjb250YWlucyIsImhpZGVEaWFsb2ciLCJ3YXNJbmFjdGl2ZSIsInNldEluYWN0aXZlIiwiaXNJbmFjdGl2ZSIsImlzTWVzc2FnZU9wZW5lZCIsImlzRGlhbG9nT3BlbmVkIiwiZGVxdWV1ZWRNZXNzYWdlIiwiZGVxdWV1ZU1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwic2hvd01lc3NhZ2UiLCJ0cmFjZSIsInNldFN0YXRlIiwiZGlzcGxheU1lc3NhZ2UiLCJ1cGRhdGVTdGF0ZSIsIl90aGlzMiIsImNvbnRhaW5lciIsImxhdW5jaGVyIiwibGF1bmNoZXJNZXNzYWdlIiwibGF1bmNoZXJEaWFsb2dCb2R5IiwibGF1bmNoZXJCdXR0b24iLCJpc0hvdmVyaW5nRGF0YSIsImxhdW5jaGVyQmFkZ2UiLCJzZXRTaXplIiwicHJvbWlzZSIsIl9zY2hlZHVsZUV2ZW50Iiwic2hvd0xhdW5jaGVyIiwiZW5xdWV1ZU1lc3NhZ2UiLCJzaG93QmFkZ2UiLCJpbml0aWFsaXplZCIsIm1zSW5GdXR1cmUiLCJzZXRUaW1lb3V0IiwiX3RoaXMzIiwiaXNFbmFibGVkIiwibmV3U3RhdGUiLCJfdGhpczQiLCJub3RpZnkiLCJpc0JhZGdlT3BlbiIsImhpZGVCYWRnZSIsImluY3JlbWVudEJhZGdlIiwiX3RoaXM1IiwiZGVjcmVtZW50QmFkZ2UiLCJuZXdCYWRnZU51bWJlciIsIl90aGlzNiIsInN0b3BQcm9wYWdhdGlvbiIsIl90aGlzNyIsImhpZGVMYXVuY2hlciIsImxhdW5jaGVyTWVzc2FnZUJvZHkiLCJfdGhpczgiLCJjb250ZW50IiwiX3RoaXM5IiwiaGlkZUFmdGVyIiwic2V0QmFkZ2UiLCJiYWRnZUhhc0NvbnRlbnQiLCJnZXRCYWRnZUNvbnRlbnQiLCJpc05hTiIsImJhZGdlTnVtYmVyIiwiX3RoaXMxMCIsIl90aGlzMTEiLCJ1cGRhdGUiLCJsb2NhbHMiLCJob3QiLCJhY2NlcHQiLCJuZXdDb250ZW50IiwicmVxdWlyZSIsImRpc3Bvc2UiLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImdldEhlYWRFbGVtZW50IiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwiaWR4Iiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlTGlua0VsZW1lbnQiLCJsaW5rRWxlbWVudCIsInJlbCIsInNpbmdsZXRvbiIsInN0eWxlSW5kZXgiLCJzaW5nbGV0b25Db3VudGVyIiwic2luZ2xldG9uRWxlbWVudCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJidG9hIiwidXBkYXRlTGluayIsImFwcGx5VG9UYWciLCJ1cGRhdGVTdHlsZSIsIm5ld09iaiIsImluZGV4Iiwic3R5bGVTaGVldCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInVuZXNjYXBlIiwib2xkU3JjIiwibWVtb2l6ZSIsImZuIiwibWVtbyIsImlzT2xkSUUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxTQ0luQixRQUFBQyxxQkFB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QUFBRCxXQUNBRixhQUFBRCxTQUFBeHdCLE9BaUlBLElBQUFrekIsYUFBQSxXQUNBLEdBQUFZLGFBRUEsaUJBQUFkLE1BQUFlLGFBQ0FELFVBQUFkLE9BQUFlLFdBQ0EsT0FBQUQsV0FBQUUsT0FBQUMsU0FBQXhULEtBQUEsV2pCa3NHTSxTQUFTMWdCLE9BQVFELFNrQi8zR3ZCQyxPQUFBRCxRQUFBIiwiZmlsZSI6Ik9uZVNpZ25hbFNESy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRpZiAodHlwZW9mIE9uZVNpZ25hbCAhPT0gXCJ1bmRlZmluZWRcIikgdmFyIHByZWRlZmluZWRPbmVTaWduYWxQdXNoZXMgPSBPbmVTaWduYWw7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0aWYgKHByZWRlZmluZWRPbmVTaWduYWxQdXNoZXMpIE9uZVNpZ25hbC5fcHJvY2Vzc19wdXNoZXMocHJlZGVmaW5lZE9uZVNpZ25hbFB1c2hlcyk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJPbmVTaWduYWxcIl0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZmV0Y2gpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3ZhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9hcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9sb2dsZXZlbCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2xvZ2xldmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2xldmVsKTtcblx0XG5cdHZhciBfbGltaXRTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2xpbWl0U3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGltaXRTdG9yZSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9ldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBfYmVsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9iZWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JlbGwpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIE9uZVNpZ25hbCA9IHtcblx0ICBfVkVSU0lPTjogMTA5MDEzLFxuXHQgIF9IT1NUX1VSTDogX3ZhcnMuSE9TVF9VUkwsXG5cdCAgX2FwcF9pZDogbnVsbCxcblx0ICBfdGFnc1RvU2VuZE9uUmVnaXN0ZXI6IG51bGwsXG5cdCAgX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjazogbnVsbCxcblx0ICBfaWRzQXZhaWxhYmxlX2NhbGxiYWNrOiBbXSxcblx0ICBfZGVmYXVsdExhdW5jaFVSTDogbnVsbCxcblx0ICBfaW5pdE9wdGlvbnM6IG51bGwsXG5cdCAgX2h0dHBSZWdpc3RyYXRpb246IGZhbHNlLFxuXHQgIF9tYWluX3BhZ2VfcG9ydDogbnVsbCxcblx0ICBfaXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2s6IG51bGwsXG5cdCAgX3N1YnNjcmlwdGlvblNldDogdHJ1ZSxcblx0ICBfaW5pdE9uZVNpZ25hbEh0dHA6IG51bGwsXG5cdCAgX3Nlc3Npb25JZnJhbWVBZGRlZDogZmFsc2UsXG5cdCAgX3VzZUh0dHBNb2RlOiBudWxsLFxuXHQgIF93aW5kb3dXaWR0aDogNTUwLFxuXHQgIF93aW5kb3dIZWlnaHQ6IDQ4MCxcblx0ICBfaXNOZXdWaXNpdG9yOiBmYWxzZSxcblx0ICBfaXNJbml0aWFsaXplZDogZmFsc2UsXG5cdCAgYmVsbDogbnVsbCxcblx0ICBMT0dHSU5HOiB0cnVlLFxuXHQgIFNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSDogXCJPbmVTaWduYWxTREtVcGRhdGVyV29ya2VyLmpzXCIsXG5cdCAgU0VSVklDRV9XT1JLRVJfUEFUSDogXCJPbmVTaWduYWxTREtXb3JrZXIuanNcIixcblx0ICBTRVJWSUNFX1dPUktFUl9QQVJBTToge30sXG5cdFxuXHQgIF9lbnN1cmVEYkluc3RhbmNlOiBmdW5jdGlvbiBfZW5zdXJlRGJJbnN0YW5jZSgpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIGlmIChPbmVTaWduYWwuX29uZVNpZ25hbF9kYikge1xuXHQgICAgICAgIHJlc29sdmUoT25lU2lnbmFsLl9vbmVTaWduYWxfZGIpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oXCJPTkVfU0lHTkFMX1NES19EQlwiLCAxKTtcblx0ICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgdmFyIGRhdGFiYXNlID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fb25lU2lnbmFsX2RiID0gZGF0YWJhc2U7XG5cdCAgICAgICAgICByZXNvbHZlKGRhdGFiYXNlKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdVbmFibGUgdG8gb3BlbiBJbmRleGVkREIuJywgZXZlbnQpO1xuXHQgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdSZWJ1aWxkaW5nIHNjaGVtYSBpbiBJbmRleGVkREIuLi4nKTtcblx0ICAgICAgICAgIHZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdCAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShcIklkc1wiLCB7IGtleVBhdGg6IFwidHlwZVwiIH0pO1xuXHQgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgeyBrZXlQYXRoOiBcInVybFwiIH0pO1xuXHQgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJPcHRpb25zXCIsIHsga2V5UGF0aDogXCJrZXlcIiB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfZ2V0RGJWYWx1ZTogZnVuY3Rpb24gX2dldERiVmFsdWUodGFibGUsIGtleSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgT25lU2lnbmFsLl9lbnN1cmVEYkluc3RhbmNlKCkudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcblx0ICAgICAgICB2YXIgcmVxdWVzdCA9IGRhdGFiYXNlLnRyYW5zYWN0aW9uKHRhYmxlKS5vYmplY3RTdG9yZSh0YWJsZSkuZ2V0KGtleSk7XG5cdCAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIGlmIChyZXF1ZXN0LnJlc3VsdCkgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZChyZXF1ZXN0LnJlc3VsdCk7XG5cdCAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3JDb2RlKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIDtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9nZXREYlZhbHVlczogZnVuY3Rpb24gX2dldERiVmFsdWVzKHRhYmxlKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuXHQgICAgICAgIHZhciBqc29uUmVzdWx0ID0ge307XG5cdCAgICAgICAgdmFyIGN1cnNvciA9IGRhdGFiYXNlLnRyYW5zYWN0aW9uKHRhYmxlKS5vYmplY3RTdG9yZSh0YWJsZSkub3BlbkN1cnNvcigpO1xuXHQgICAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHQgICAgICAgICAgaWYgKGN1cnNvcikge1xuXHQgICAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9kYlZhbHVlUmV0cmlldmVkKGN1cnNvcik7XG5cdCAgICAgICAgICAgIGpzb25SZXN1bHRbY3Vyc29yLmtleV0gPSBjdXJzb3IudmFsdWUudmFsdWU7XG5cdCAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuXHQgICAgICAgICAgfSBlbHNlIHJlc29sdmUoanNvblJlc3VsdCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBjdXJzb3Iub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgcmVqZWN0KGN1cnNvci5lcnJvckNvZGUpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9wdXREYlZhbHVlOiBmdW5jdGlvbiBfcHV0RGJWYWx1ZSh0YWJsZSwgdmFsdWUpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIE9uZVNpZ25hbC5fZW5zdXJlRGJJbnN0YW5jZSgpLnRoZW4oZnVuY3Rpb24gKGRhdGFiYXNlKSB7XG5cdCAgICAgICAgZGF0YWJhc2UudHJhbnNhY3Rpb24oW3RhYmxlXSwgXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUodGFibGUpLnB1dCh2YWx1ZSk7XG5cdCAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVNldCh2YWx1ZSk7XG5cdCAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9kZWxldGVEYlZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlRGJWYWx1ZSh0YWJsZSwga2V5KSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKS50aGVuKGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuXHQgICAgICAgIGRhdGFiYXNlLnRyYW5zYWN0aW9uKFt0YWJsZV0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRhYmxlKS5kZWxldGUoa2V5KTtcblx0ICAgICAgICByZXNvbHZlKGtleSk7XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KTtcblx0ICAgICAgO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgX3NlbmRUb09uZVNpZ25hbEFwaTogZnVuY3Rpb24gX3NlbmRUb09uZVNpZ25hbEFwaSh1cmwsIGFjdGlvbiwgaW5EYXRhLCBjYWxsYmFjaywgZmFpbGVkQ2FsbGJhY2spIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnQ2FsbGluZyAnICsgYWN0aW9uICsgJyAnICsgKE9uZVNpZ25hbC5fSE9TVF9VUkwgKyB1cmwpICsgJyB3aXRoIGRhdGE6JywgaW5EYXRhKTtcblx0ICAgIHZhciBjb250ZW50cyA9IHtcblx0ICAgICAgbWV0aG9kOiBhY3Rpb25cblx0ICAgIH07XG5cdFxuXHQgICAgLy9tb2RlOiAnbm8tY29ycycsIC8vIG5vLWNvcnMgaXMgZGlzYWJsZWQgZm9yIG5vbi1zZXJ2aWNld29ya2VyLlxuXHQgICAgaWYgKGluRGF0YSkge1xuXHQgICAgICBjb250ZW50cy5oZWFkZXJzID0geyBcIkNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOFwiIH07XG5cdCAgICAgIGNvbnRlbnRzLmJvZHkgPSBKU09OLnN0cmluZ2lmeShpbkRhdGEpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZldGNoKE9uZVNpZ25hbC5fSE9TVF9VUkwgKyB1cmwsIGNvbnRlbnRzKS50aGVuKGZ1bmN0aW9uIHN0YXR1cyhyZXNwb25zZSkge1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSk7XG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIHN0YXR1cyhyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbkRhdGEpIHtcblx0ICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKGpzb25EYXRhKTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoKSBmYWlsZWQ6JywgZSk7XG5cdCAgICAgIGlmIChmYWlsZWRDYWxsYmFjayAhPSBudWxsKSBmYWlsZWRDYWxsYmFjaygpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgX2dldExhbmd1YWdlOiBmdW5jdGlvbiBfZ2V0TGFuZ3VhZ2UoKSB7XG5cdCAgICByZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlID8gbmF2aWdhdG9yLmxhbmd1YWdlLmxlbmd0aCA+IDMgPyBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3Vic3RyaW5nKDAsIDIpIDogbmF2aWdhdG9yLmxhbmd1YWdlIDogJ2VuJztcblx0ICB9LFxuXHRcblx0ICBfZ2V0UGxheWVySWQ6IGZ1bmN0aW9uIF9nZXRQbGF5ZXJJZCh2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgIGlmICh2YWx1ZSkgY2FsbGJhY2sodmFsdWUpO2Vsc2Uge1xuXHQgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uIF9nZXRQbGF5ZXJJZF9nb3RVc2VySWQocmVzdWx0KSB7XG5cdCAgICAgICAgaWYgKHJlc3VsdCkgY2FsbGJhY2socmVzdWx0LmlkKTtlbHNlIGNhbGxiYWNrKG51bGwpO1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIDtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBfZ2V0QnJvd3Nlck5hbWU6IGZ1bmN0aW9uIF9nZXRCcm93c2VyTmFtZSgpIHtcblx0ICAgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKC4qPykgLykpIHJldHVybiBcIkNocm9tZVwiO1xuXHQgICAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKFwiVmVyc2lvbi8oLiopIChTYWZhcmkpXCIpKSByZXR1cm4gXCJTYWZhcmlcIjtcblx0ICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFswLTldezIsfVxcLlswLTldezEsfSkvKSkgcmV0dXJuIFwiRmlyZWZveFwiO1xuXHRcblx0ICAgIHJldHVybiBcIlwiO1xuXHQgIH0sXG5cdFxuXHQgIF9yZWdpc3RlcldpdGhPbmVTaWduYWw6IGZ1bmN0aW9uIF9yZWdpc3RlcldpdGhPbmVTaWduYWwoYXBwSWQsIHJlZ2lzdHJhdGlvbklkLCBkZXZpY2VUeXBlKSB7XG5cdFxuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJykudGhlbihmdW5jdGlvbiBfcmVnaXN0ZXJXaXRoT25lU2lnbmFsX0dvdFVzZXJJZCh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25UeXBlcyhmdW5jdGlvbiAobm90aWZfdHlwZXMpIHtcblx0ICAgICAgICB2YXIgcmVxdWVzdFVybCA9ICdwbGF5ZXJzJztcblx0XG5cdCAgICAgICAgdmFyIGpzb25EYXRhID0ge1xuXHQgICAgICAgICAgYXBwX2lkOiBhcHBJZCxcblx0ICAgICAgICAgIGRldmljZV90eXBlOiBkZXZpY2VUeXBlLFxuXHQgICAgICAgICAgbGFuZ3VhZ2U6IE9uZVNpZ25hbC5fZ2V0TGFuZ3VhZ2UoKSxcblx0ICAgICAgICAgIHRpbWV6b25lOiBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiAtNjAsXG5cdCAgICAgICAgICBkZXZpY2VfbW9kZWw6IG5hdmlnYXRvci5wbGF0Zm9ybSArIFwiIFwiICsgT25lU2lnbmFsLl9nZXRCcm93c2VyTmFtZSgpLFxuXHQgICAgICAgICAgZGV2aWNlX29zOiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pIHx8IG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKFwiVmVyc2lvbi8oLiopIFNhZmFyaVwiKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFswLTldezIsfVxcLlswLTldezEsfSkvKSlbMV0sXG5cdCAgICAgICAgICBzZGs6IE9uZVNpZ25hbC5fVkVSU0lPTlxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICAgIHJlcXVlc3RVcmwgPSAncGxheWVycy8nICsgdXNlcklkUmVzdWx0LmlkICsgJy9vbl9zZXNzaW9uJztcblx0ICAgICAgICAgIGpzb25EYXRhLm5vdGlmaWNhdGlvbl90eXBlcyA9IG5vdGlmX3R5cGVzO1xuXHQgICAgICAgIH0gZWxzZSBpZiAobm90aWZfdHlwZXMgIT0gMSkganNvbkRhdGEubm90aWZpY2F0aW9uX3R5cGVzID0gbm90aWZfdHlwZXM7XG5cdFxuXHQgICAgICAgIGlmIChyZWdpc3RyYXRpb25JZCkge1xuXHQgICAgICAgICAganNvbkRhdGEuaWRlbnRpZmllciA9IHJlZ2lzdHJhdGlvbklkO1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHsgdHlwZTogXCJyZWdpc3RyYXRpb25JZFwiLCBpZDogcmVnaXN0cmF0aW9uSWQgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShyZXF1ZXN0VXJsLCAnUE9TVCcsIGpzb25EYXRhLCBmdW5jdGlvbiByZWdpc3RlcmVkQ2FsbGJhY2socmVzcG9uc2VKU09OKSB7XG5cdCAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuXHRcblx0ICAgICAgICAgIGlmIChyZXNwb25zZUpTT04uaWQpIHtcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHsgdHlwZTogXCJ1c2VySWRcIiwgaWQ6IHJlc3BvbnNlSlNPTi5pZCB9KTtcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl9zZW5kVW5zZW50VGFncygpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0UGxheWVySWQocmVzcG9uc2VKU09OLmlkLCBmdW5jdGlvbiAodXNlcklkKSB7XG5cdCAgICAgICAgICAgIGlmIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG5cdCAgICAgICAgICAgICAgICBjdXJyX2NhbGxiYWNrKHsgdXNlcklkOiB1c2VySWQsIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZCB9KTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChPbmVTaWduYWwuX2h0dHBSZWdpc3RyYXRpb24pIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJTZW5kaW5nIHBsYXllciBJZCBhbmQgcmVnaXN0cmF0aW9uSWQgYmFjayB0byBob3N0IHBhZ2VcIik7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMpO1xuXHQgICAgICAgICAgICAgIHZhciBjcmVhdG9yID0gb3BlbmVyIHx8IHBhcmVudDtcblx0ICAgICAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7XG5cdCAgICAgICAgICAgICAgICBpZHNBdmFpbGFibGU6IHtcblx0ICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG5cdCAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZFxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBudWxsKTtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKG9wZW5lcikgd2luZG93LmNsb3NlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgICAgO1xuXHQgIH0sXG5cdFxuXHQgIF9zZW5kVW5zZW50VGFnczogZnVuY3Rpb24gX3NlbmRVbnNlbnRUYWdzKCkge1xuXHQgICAgaWYgKE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIpIHtcblx0ICAgICAgT25lU2lnbmFsLnNlbmRUYWdzKE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIpO1xuXHQgICAgICBPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBzZXREZWZhdWx0Tm90aWZpY2F0aW9uVXJsOiBmdW5jdGlvbiBzZXREZWZhdWx0Tm90aWZpY2F0aW9uVXJsKHVybCkge1xuXHQgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7IGtleTogXCJkZWZhdWx0VXJsXCIsIHZhbHVlOiB1cmwgfSk7XG5cdCAgfSxcblx0XG5cdCAgc2V0RGVmYXVsdEljb246IGZ1bmN0aW9uIHNldERlZmF1bHRJY29uKGljb24pIHtcblx0ICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwgeyBrZXk6IFwiZGVmYXVsdEljb25cIiwgdmFsdWU6IGljb24gfSk7XG5cdCAgfSxcblx0XG5cdCAgc2V0RGVmYXVsdFRpdGxlOiBmdW5jdGlvbiBzZXREZWZhdWx0VGl0bGUodGl0bGUpIHtcblx0ICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwgeyBrZXk6IFwiZGVmYXVsdFRpdGxlXCIsIHZhbHVlOiB0aXRsZSB9KTtcblx0ICB9LFxuXHRcblx0ICBfdmlzaWJpbGl0eWNoYW5nZTogZnVuY3Rpb24gX3Zpc2liaWxpdHljaGFuZ2UoKSB7XG5cdCAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09IFwidmlzaWJsZVwiKSB7XG5cdCAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIE9uZVNpZ25hbC5fdmlzaWJpbGl0eWNoYW5nZSk7XG5cdCAgICAgIE9uZVNpZ25hbC5fc2Vzc2lvbkluaXQoe30pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIG9uQ3VzdG9tUHJvbXB0Q2xpY2tlZDogZnVuY3Rpb24gb25DdXN0b21Qcm9tcHRDbGlja2VkKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5wcm9tcHQuY3VzdG9tLmNsaWNrZWQ6JywgZXZlbnQuZGV0YWlsKTtcblx0ICAgIE9uZVNpZ25hbC5fY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZCgpO1xuXHQgIH0sXG5cdFxuXHQgIG9uTmF0aXZlUHJvbXB0Q2hhbmdlZDogZnVuY3Rpb24gb25OYXRpdmVQcm9tcHRDaGFuZ2VkKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5wcm9tcHQubmF0aXZlLnBlcm1pc3Npb25jaGFuZ2VkOicsIGV2ZW50LmRldGFpbCk7XG5cdCAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcblx0ICB9LFxuXHRcblx0ICBfb25TdWJzY3JpcHRpb25DaGFuZ2VkOiBmdW5jdGlvbiBfb25TdWJzY3JpcHRpb25DaGFuZ2VkKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZDonLCBldmVudC5kZXRhaWwpO1xuXHQgICAgaWYgKE9uZVNpZ25hbC5faXNOZXdWaXNpdG9yICYmIGV2ZW50LmRldGFpbCA9PT0gdHJ1ZSkge1xuXHQgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICB2YXIgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0cyA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnNbJ3dlbGNvbWVOb3RpZmljYXRpb24nXTtcblx0ICAgICAgICB2YXIgd2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQgPSB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snZGlzYWJsZSddID09PSB0cnVlO1xuXHQgICAgICAgIHZhciB0aXRsZSA9IHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWyd0aXRsZSddICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1sndGl0bGUnXSAhPT0gbnVsbCA/IHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ3RpdGxlJ10gOiAnJztcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9IHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gIT09IG51bGwgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddLmxlbmd0aCA+IDAgPyB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gOiAnVGhhbmtzIGZvciBzdWJzY3JpYmluZyEnO1xuXHQgICAgICAgIGlmICghd2VsY29tZV9ub3RpZmljYXRpb25fZGlzYWJsZWQpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnQmVjYXVzZSB0aGlzIHVzZXIgaXMgYSBuZXcgc2l0ZSB2aXNpdG9yLCBhIHdlbGNvbWUgbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudC4nKTtcblx0ICAgICAgICAgICgwLCBfYXBpLnNlbmROb3RpZmljYXRpb24pKE9uZVNpZ25hbC5fYXBwX2lkLCBbcmVzdWx0LmlkXSwgeyAnZW4nOiB0aXRsZSB9LCB7ICdlbic6IG1lc3NhZ2UgfSk7XG5cdCAgICAgICAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuYWN0aW9ucy53ZWxjb21lbm90aWZpY2F0aW9uc2VudCcsIHsgdGl0bGU6IHRpdGxlLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9pc05ld1Zpc2l0b3IgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnc3Vic2NyaXB0aW9uLnZhbHVlJywgZXZlbnQuZGV0YWlsKTtcblx0ICB9LFxuXHRcblx0ICBfb25EYlZhbHVlUmV0cmlldmVkOiBmdW5jdGlvbiBfb25EYlZhbHVlUmV0cmlldmVkKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5kYi5yZXRyaWV2ZWQ6JywgZXZlbnQuZGV0YWlsKTtcblx0ICB9LFxuXHRcblx0ICBfb25EYlZhbHVlU2V0OiBmdW5jdGlvbiBfb25EYlZhbHVlU2V0KGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5kYi52YWx1ZXNldDonLCBldmVudC5kZXRhaWwpO1xuXHQgICAgdmFyIGluZm8gPSBldmVudC5kZXRhaWw7XG5cdCAgICBpZiAoaW5mby50eXBlID09PSAndXNlcklkJykge1xuXHQgICAgICBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ2RiLmlkcy51c2VySWQnLCBpbmZvLmlkKTtcblx0ICAgICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgX29uSW50ZXJuYWxTdWJzY3JpcHRpb25TZXQ6IGZ1bmN0aW9uIF9vbkludGVybmFsU3Vic2NyaXB0aW9uU2V0KGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5pbnRlcm5hbC5zdWJzY3JpcHRpb25zZXQ6JywgZXZlbnQuZGV0YWlsKTtcblx0ICAgIHZhciBuZXdTdWJzY3JpcHRpb25WYWx1ZSA9IGV2ZW50LmRldGFpbDtcblx0ICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnc3Vic2NyaXB0aW9uLmludGVybmFsLnZhbHVlJywgbmV3U3Vic2NyaXB0aW9uVmFsdWUpO1xuXHQgICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG5cdCAgfSxcblx0XG5cdCAgX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uIF9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCkge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdDYWxsZWQgX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKS4nKTtcblx0ICAgIHZhciBwZXJtaXNzaW9ucyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nKTtcblx0ICAgIHZhciBsYXN0UGVybWlzc2lvbiA9IHBlcm1pc3Npb25zW3Blcm1pc3Npb25zLmxlbmd0aCAtIDJdO1xuXHQgICAgdmFyIGN1cnJlbnRQZXJtaXNzaW9uID0gcGVybWlzc2lvbnNbcGVybWlzc2lvbnMubGVuZ3RoIC0gMV07XG5cdFxuXHQgICAgdmFyIGlkcyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnZGIuaWRzLnVzZXJJZCcpO1xuXHQgICAgdmFyIGxhc3RJZCA9IGlkc1tpZHMubGVuZ3RoIC0gMl07XG5cdCAgICB2YXIgY3VycmVudElkID0gaWRzW2lkcy5sZW5ndGggLSAxXTtcblx0XG5cdCAgICB2YXIgc3Vic2NyaXB0aW9uU3RhdGVzID0gX2xpbWl0U3RvcmUyLmRlZmF1bHQuZ2V0KCdzdWJzY3JpcHRpb24uaW50ZXJuYWwudmFsdWUnKTtcblx0ICAgIHZhciBsYXN0U3Vic2NyaXB0aW9uU3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZXNbc3Vic2NyaXB0aW9uU3RhdGVzLmxlbmd0aCAtIDJdO1xuXHQgICAgdmFyIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvblN0YXRlc1tzdWJzY3JpcHRpb25TdGF0ZXMubGVuZ3RoIC0gMV07XG5cdFxuXHQgICAgdmFyIG5ld1N1YnNjcmlwdGlvblN0YXRlID0gJ3VuY2hhbmdlZCc7XG5cdFxuXHQgICAgaWYgKChsYXN0UGVybWlzc2lvbiA9PT0gJ2RlZmF1bHQnIHx8IGxhc3RQZXJtaXNzaW9uID09PSAnZGVuaWVkJyB8fCBsYXN0UGVybWlzc2lvbiA9PT0gbnVsbCkgJiYgY3VycmVudFBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJiBjdXJyZW50SWQgIT09IG51bGwgJiYgY3VycmVudFN1YnNjcmlwdGlvblN0YXRlID09PSB0cnVlIHx8IGxhc3RTdWJzY3JpcHRpb25TdGF0ZSA9PT0gZmFsc2UgJiYgY3VycmVudFN1YnNjcmlwdGlvblN0YXRlID09PSB0cnVlICYmIGN1cnJlbnRJZCAhPSBudWxsICYmIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcblx0ICAgICAgbmV3U3Vic2NyaXB0aW9uU3RhdGUgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChsYXN0UGVybWlzc2lvbiAhPT0gJ2RlbmllZCcgJiYgY3VycmVudFBlcm1pc3Npb24gPT09ICdkZW5pZWQnIHx8IGxhc3RQZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcgJiYgY3VycmVudFBlcm1pc3Npb24gIT09ICdncmFudGVkJyB8fCBsYXN0SWQgIT09IG51bGwgJiYgY3VycmVudElkID09PSBudWxsIHx8IGxhc3RTdWJzY3JpcHRpb25TdGF0ZSAhPT0gZmFsc2UgJiYgY3VycmVudFN1YnNjcmlwdGlvblN0YXRlID09PSBmYWxzZSkge1xuXHQgICAgICBuZXdTdWJzY3JpcHRpb25TdGF0ZSA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChuZXdTdWJzY3JpcHRpb25TdGF0ZSAhPT0gXCJ1bmNoYW5nZWRcIikge1xuXHQgICAgICB2YXIgbGFzdFRyaWdnZXJUaW1lcyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnZXZlbnQuc3Vic2NyaXB0aW9uY2hhbmdlZC5sYXN0cmlnZ2VyZWQnLCBEYXRlLm5vdygpKTtcblx0ICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbGFzdFRyaWdnZXJUaW1lc1tsYXN0VHJpZ2dlclRpbWVzLmxlbmd0aCAtIDFdO1xuXHQgICAgICB2YXIgbGFzdFRyaWdnZXJUaW1lID0gbGFzdFRyaWdnZXJUaW1lc1tsYXN0VHJpZ2dlclRpbWVzLmxlbmd0aCAtIDJdO1xuXHQgICAgICB2YXIgZWxhcHNlZFRpbWVTZWNvbmRzID0gKGN1cnJlbnRUaW1lIC0gbGFzdFRyaWdnZXJUaW1lKSAvIDEwMDA7XG5cdFxuXHQgICAgICB2YXIgbGFzdEV2ZW50U3RhdGVzID0gX2xpbWl0U3RvcmUyLmRlZmF1bHQucHV0KCdldmVudC5zdWJzY3JpcHRpb25jaGFuZ2VkLmxhc3RzdGF0ZXMnLCBuZXdTdWJzY3JpcHRpb25TdGF0ZSk7XG5cdCAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBsYXN0RXZlbnRTdGF0ZXNbbGFzdEV2ZW50U3RhdGVzLmxlbmd0aCAtIDFdO1xuXHQgICAgICB2YXIgbGFzdFN0YXRlID0gbGFzdEV2ZW50U3RhdGVzW2xhc3RFdmVudFN0YXRlcy5sZW5ndGggLSAyXTtcblx0XG5cdCAgICAgIC8vIElmIGV2ZW50IGFscmVhZHkgdHJpZ2dlcmVkIHdpdGhpbiB0aGUgbGFzdCBzZWNvbmQsIGRvbid0IHJlLXRyaWdnZXIuXG5cdCAgICAgIHZhciBzaG91bGROb3RUcmlnZ2VyRXZlbnQgPSBsYXN0VHJpZ2dlclRpbWUgIT0gbnVsbCAmJiBlbGFwc2VkVGltZVNlY29uZHMgPD0gMSB8fCBjdXJyZW50U3RhdGUgPT09IGxhc3RTdGF0ZTtcblx0ICAgICAgaWYgKHNob3VsZE5vdFRyaWdnZXJFdmVudCA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkKG5ld1N1YnNjcmlwdGlvblN0YXRlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuXHQgICAgaWYgKE9uZVNpZ25hbC5faXNJbml0aWFsaXplZCkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQud2FybignT25lU2lnbmFsLmluaXQoKSB3YXMgY2FsbGVkIGFnYWluLCBidXQgdGhlIFNESyBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiBTa2lwcGluZyBpbml0aWFsaXphdGlvbi4nKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgT25lU2lnbmFsLl9pbml0T3B0aW9ucyA9IG9wdGlvbnM7XG5cdFxuXHQgICAgaWYgKE9uZVNpZ25hbC5MT0dHSU5HKSBfbG9nbGV2ZWwyLmRlZmF1bHQuZW5hYmxlQWxsKCk7ZWxzZSBfbG9nbGV2ZWwyLmRlZmF1bHQuc2V0TGV2ZWwoJ2Vycm9yJyk7XG5cdFxuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmluZm8oJ09uZVNpZ25hbCBXZWIgU0RLIGxvYWRlZCAodmVyc2lvbiAnICsgT25lU2lnbmFsLl9WRVJTSU9OICsgJykuJyk7XG5cdCAgICBpZiAoISgwLCBfdXRpbHMuaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCkoKSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQud2FybihcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHB1c2ggbm90aWZpY2F0aW9ucy5cIik7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChuYXZpZ2F0b3IucGVybWlzc2lvbnMgJiYgISgoMCwgX3V0aWxzLmlzQnJvd3NlckZpcmVmb3gpKCkgJiYgKDAsIF91dGlscy5nZXRGaXJlZm94VmVyc2lvbikoKSA8PSA0NSkpIHtcblx0ICAgICAgT25lU2lnbmFsLl91c2luZ05hdGl2ZVBlcm1pc3Npb25Ib29rID0gdHJ1ZTtcblx0ICAgICAgdmFyIGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKCk7XG5cdCAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbik7XG5cdCAgICAgIC8vIElmIHRoZSBicm93c2VyIG5hdGl2ZWx5IHN1cHBvcnRzIGhvb2tpbmcgdGhlIHN1YnNjcmlwdGlvbiBwcm9tcHQgcGVybWlzc2lvbiBjaGFuZ2UgZXZlbnRcblx0ICAgICAgLy8gICAgIHVzZSBpdCBpbnN0ZWFkIG9mIG91ciBTREsgbWV0aG9kXG5cdCAgICAgIG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6ICdub3RpZmljYXRpb25zJyB9KS50aGVuKGZ1bmN0aW9uIChwZXJtaXNzaW9uU3RhdHVzKSB7XG5cdCAgICAgICAgcGVybWlzc2lvblN0YXR1cy5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nKTtcblx0ICAgICAgICAgIHZhciBwZXJtaXNzaW9uQmVmb3JlUHJvbXB0ID0gcmVjZW50UGVybWlzc2lvbnNbMF07XG5cdCAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZChwZXJtaXNzaW9uQmVmb3JlUHJvbXB0KTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24gPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKTtcblx0ICAgICAgX2xpbWl0U3RvcmUyLmRlZmF1bHQucHV0KCdub3RpZmljYXRpb24ucGVybWlzc2lvbicsIGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTdG9yZSB0aGUgY3VycmVudCB2YWx1ZSBvZiBJZHM6cmVnaXN0cmF0aW9uSWQsIHNvIHRoYXQgd2UgY2FuIHNlZSBpZiB0aGUgdmFsdWUgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG5cdCAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgT25lU2lnbmFsLl9pc05ld1Zpc2l0b3IgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBzdG9yZVZhbHVlID0gcmVzdWx0ID8gcmVzdWx0LmlkIDogbnVsbDtcblx0ICAgICAgX2xpbWl0U3RvcmUyLmRlZmF1bHQucHV0KCdkYi5pZHMudXNlcklkJywgc3RvcmVWYWx1ZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBTdG9yZSB0aGUgY3VycmVudCB2YWx1ZSBvZiBzdWJzY3JpcHRpb24sIHNvIHRoYXQgd2UgY2FuIHNlZSBpZiB0aGUgdmFsdWUgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG5cdCAgICBPbmVTaWduYWwuX2dldFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoY3VycmVudFN1YnNjcmlwdGlvbikge1xuXHQgICAgICBfbGltaXRTdG9yZTIuZGVmYXVsdC5wdXQoJ3N1YnNjcmlwdGlvbi5pbnRlcm5hbC52YWx1ZScsIGN1cnJlbnRTdWJzY3JpcHRpb24pO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5wcm9tcHQuY3VzdG9tLmNsaWNrZWQnLCBPbmVTaWduYWwub25DdXN0b21Qcm9tcHRDbGlja2VkKTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwucHJvbXB0Lm5hdGl2ZS5wZXJtaXNzaW9uY2hhbmdlZCcsIE9uZVNpZ25hbC5vbk5hdGl2ZVByb21wdENoYW5nZWQpO1xuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZCcsIE9uZVNpZ25hbC5fb25TdWJzY3JpcHRpb25DaGFuZ2VkKTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuZGIudmFsdWVyZXRyaWV2ZWQnLCBPbmVTaWduYWwuX29uRGJWYWx1ZVJldHJpZXZlZCk7XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmRiLnZhbHVlc2V0JywgT25lU2lnbmFsLl9vbkRiVmFsdWVTZXQpO1xuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5kYi52YWx1ZXNldCcsIE9uZVNpZ25hbC5fb25EYlZhbHVlU2V0KTtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuaW50ZXJuYWwuc3Vic2NyaXB0aW9uc2V0JywgT25lU2lnbmFsLl9vbkludGVybmFsU3Vic2NyaXB0aW9uU2V0KTtcblx0XG5cdCAgICBPbmVTaWduYWwuX3VzZUh0dHBNb2RlID0gISgwLCBfdXRpbHMuaXNTdXBwb3J0ZWRTYWZhcmkpKCkgJiYgKCFPbmVTaWduYWwuX3N1cHBvcnRzRGlyZWN0UGVybWlzc2lvbigpIHx8IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSk7XG5cdFxuXHQgICAgaWYgKE9uZVNpZ25hbC5fdXNlSHR0cE1vZGUpIE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgPSAnaHR0cHM6Ly8nICsgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICsgJy5vbmVzaWduYWwuY29tL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHAnO2Vsc2UgT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCA9ICdodHRwczovL29uZXNpZ25hbC5jb20vc2Rrcy9pbml0T25lU2lnbmFsSHR0cHMnO1xuXHRcblx0ICAgIGlmICh0cnVlKSBPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwID0gX3ZhcnMuREVWX0hPU1QgKyAnL2Rldl9zZGtzL2luaXRPbmVTaWduYWxIdHRwJztcblx0XG5cdCAgICAvLyBJZiBTYWZhcmkgLSBhZGQgJ2ZldGNoJyBwb2xseWZpbGwgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhZGRlZC5cblx0ICAgIGlmICgoMCwgX3V0aWxzLmlzU3VwcG9ydGVkU2FmYXJpKSgpICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHQgICAgICBzLnNldEF0dHJpYnV0ZSgnc3JjJywgXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mZXRjaC8wLjkuMC9mZXRjaC5qc1wiKTtcblx0ICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSBPbmVTaWduYWwuX2ludGVybmFsSW5pdCgpO2Vsc2Ugd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBPbmVTaWduYWwuX2ludGVybmFsSW5pdCk7XG5cdFxuXHQgICAgaWYgKCh0cnVlKSAmJiAoMCwgX3V0aWxzLmlzQnJvd3NlckVudikoKSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuaW5mbygnU2hvd2luZyBiZWxsLicpO1xuXHQgICAgICBPbmVTaWduYWwuYmVsbCA9IG5ldyBfYmVsbDIuZGVmYXVsdCh7XG5cdCAgICAgICAgc2l6ZTogJ2xhcmdlJyxcblx0ICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcsXG5cdCAgICAgICAgdGhlbWU6ICdkZWZhdWx0J1xuXHQgICAgICB9KTtcblx0ICAgICAgT25lU2lnbmFsLmJlbGwuY3JlYXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgT25lU2lnbmFsLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcblx0ICB9LFxuXHRcblx0ICBfaW50ZXJuYWxJbml0OiBmdW5jdGlvbiBfaW50ZXJuYWxJbml0KCkge1xuXHQgICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ2FwcElkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdzdWJzY3JpcHRpb24nKV0pLnRoZW4oZnVuY3Rpb24gX2ludGVybmFsSW5pdF9Hb3RBcHBSZWdpc3RyYXRpb25TdWJzY3JpcHRpb25JZHMocmVzdWx0KSB7XG5cdCAgICAgIHZhciBhcHBJZFJlc3VsdCA9IHJlc3VsdFswXTtcblx0ICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0WzFdO1xuXHQgICAgICB2YXIgc3Vic2NyaXB0aW9uUmVzdWx0ID0gcmVzdWx0WzJdO1xuXHRcblx0ICAgICAgLy8gSWYgQXBwSWQgY2hhbmdlZCBkZWxldGUgcGxheWVySWQgYW5kIGNvbnRpbnVlLlxuXHQgICAgICBpZiAoYXBwSWRSZXN1bHQgJiYgYXBwSWRSZXN1bHQuaWQgIT0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5hcHBJZCkge1xuXHQgICAgICAgIE9uZVNpZ25hbC5fZGVsZXRlRGJWYWx1ZShcIklkc1wiLCBcInVzZXJJZFwiKTtcblx0ICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBIVFRQUyAtIE9ubHkgcmVnaXN0ZXIgZm9yIHB1c2ggbm90aWZpY2F0aW9ucyBvbmNlIHBlciBzZXNzaW9uIG9yIGlmIHRoZSB1c2VyIGNoYW5nZXMgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gdG8gQXNrIG9yIEFsbG93LlxuXHQgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiKSAmJiAhT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICYmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImRlbmllZFwiIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJPTkVfU0lHTkFMX05PVElGSUNBVElPTl9QRVJNSVNTSU9OXCIpID09IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKSkgcmV0dXJuO1xuXHRcblx0ICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05cIiwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24pO1xuXHRcblx0ICAgICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXV0b1JlZ2lzdGVyID09IGZhbHNlICYmICFyZWdpc3RyYXRpb25JZFJlc3VsdCAmJiBPbmVTaWduYWwuX2luaXRPcHRpb25zLnN1YmRvbWFpbk5hbWUgPT0gbnVsbCkgcmV0dXJuO1xuXHRcblx0ICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPSBcInZpc2libGVcIikge1xuXHQgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIE9uZVNpZ25hbC5fdmlzaWJpbGl0eWNoYW5nZSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KHt9KTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIHJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIHJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMob3B0aW9ucykge1xuXHQgICAgaWYgKCEoMCwgX3V0aWxzLmlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQpKCkpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0Lndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwdXNoIG5vdGlmaWNhdGlvbnMuXCIpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICAvLyBXQVJOSU5HOiBEbyBOT1QgYWRkIGNhbGxiYWNrcyB0aGF0IGhhdmUgdG8gZmlyZSB0byBnZXQgZnJvbSBoZXJlIHRvIHdpbmRvdy5vcGVuIGluIF9zZXNzaW9uSW5pdC5cblx0ICAgIC8vICAgICAgICAgIE90aGVyd2lzZSB0aGUgcG9wLXVwIHRvIGFzayBmb3IgcHVzaCBwZXJtaXNzaW9uIG9uIEhUVFAgY29ubmVjdGlvbnMgd2lsbCBiZSBibG9ja2VkIGJ5IENocm9tZS5cblx0ICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuXHQgICAgb3B0aW9ucy5mcm9tUmVnaXN0ZXJGb3IgPSB0cnVlO1xuXHQgICAgT25lU2lnbmFsLl9zZXNzaW9uSW5pdChvcHRpb25zKTtcblx0ICB9LFxuXHRcblx0ICAvLyBIdHRwIG9ubHkgLSBPbmx5IGNhbGxlZCBmcm9tIGlmcmFtZSdzIGluaXQuanNcblx0ICBfaW5pdEh0dHA6IGZ1bmN0aW9uIF9pbml0SHR0cChvcHRpb25zKSB7XG5cdCAgICBPbmVTaWduYWwuX2luaXRPcHRpb25zID0gb3B0aW9ucztcblx0XG5cdCAgICBpZiAob3B0aW9ucy5jb250aW51ZVByZXNzZWQpIHtcblx0ICAgICAgT25lU2lnbmFsLnNldFN1YnNjcmlwdGlvbih0cnVlKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaXNJZnJhbWUgPSBwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQgIT0gd2luZG93O1xuXHQgICAgdmFyIGNyZWF0b3IgPSBvcGVuZXIgfHwgcGFyZW50O1xuXHRcblx0ICAgIGlmICghY3JlYXRvcikge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJFUlJPUjpfaW5pdEh0dHA6IE5vIG9wZW5lciBvciBwYXJlbnQgZm91bmQhXCIpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICAvLyBTZXR0aW5nIHVwIG1lc3NhZ2UgY2hhbm5lbCB0byByZWNlaXZlIG1lc3NhZ2UgZnJvbSBob3N0IHBhZ2UuXG5cdCAgICB2YXIgbWVzc2FnZUNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcblx0ICAgIG1lc3NhZ2VDaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJfaW5pdEh0dHAubWVzc2FnZUNoYW5uZWwucG9ydDEub25tZXNzYWdlXCIsIGV2ZW50KTtcblx0XG5cdCAgICAgIGlmIChldmVudC5kYXRhLmluaXRPcHRpb25zKSB7XG5cdCAgICAgICAgT25lU2lnbmFsLnNldERlZmF1bHROb3RpZmljYXRpb25VcmwoZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5kZWZhdWx0VXJsKTtcblx0ICAgICAgICBPbmVTaWduYWwuc2V0RGVmYXVsdFRpdGxlKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdFRpdGxlKTtcblx0ICAgICAgICBpZiAoZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5kZWZhdWx0SWNvbikgT25lU2lnbmFsLnNldERlZmF1bHRJY29uKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdEljb24pO1xuXHRcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJkb2N1bWVudC5VUkxcIiwgZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5wYXJlbnRfdXJsKTtcblx0ICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5wYXJlbnRfdXJsKS50aGVuKGZ1bmN0aW9uIHJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnNfR290Tm90aWZpY2F0aW9uT3BlbmVkKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiX2luaXRIdHRwIE5vdGlmaWNhdGlvbk9wZW5lZCBkYlwiLCBub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpO1xuXHQgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuXHQgICAgICAgICAgICBPbmVTaWduYWwuX2RlbGV0ZURiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5wYXJlbnRfdXJsKTtcblx0ICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2U6dGFyZ2V0T3JpZ2luOlwiLCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbik7XG5cdFxuXHQgICAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7IG9wZW5lZE5vdGlmaWNhdGlvbjogbm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0LmRhdGEgfSwgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5vcmlnaW4sIG51bGwpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgO1xuXHQgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEuZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbikge1xuXHQgICAgICAgIE9uZVNpZ25hbC5fZ2V0U3ViZG9tYWluU3RhdGUoZnVuY3Rpb24gKGN1clN0YXRlKSB7XG5cdCAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7IGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uOiBjdXJTdGF0ZSB9LCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbiwgbnVsbCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS5zZXRTdWJkb21haW5TdGF0ZSkgT25lU2lnbmFsLnNldFN1YnNjcmlwdGlvbihldmVudC5kYXRhLnNldFN1YmRvbWFpblN0YXRlLnNldFN1YnNjcmlwdGlvbik7XG5cdCAgICB9O1xuXHRcblx0ICAgIE9uZVNpZ25hbC5fZ2V0U3ViZG9tYWluU3RhdGUoZnVuY3Rpb24gKGN1clN0YXRlKSB7XG5cdCAgICAgIGN1clN0YXRlW1wiaXNJZnJhbWVcIl0gPSBpc0lmcmFtZTtcblx0ICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwgeyBvbmVTaWduYWxJbml0UGFnZVJlYWR5OiBjdXJTdGF0ZSB9LCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbiwgW21lc3NhZ2VDaGFubmVsLnBvcnQyXSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBPbmVTaWduYWwuX2luaXRTYXZlU3RhdGUoKTtcblx0ICAgIE9uZVNpZ25hbC5faHR0cFJlZ2lzdHJhdGlvbiA9IHRydWU7XG5cdCAgICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoXCI/c2Vzc2lvbj10cnVlXCIpID09IDApIHJldHVybjtcblx0XG5cdCAgICBPbmVTaWduYWwuX2dldFBsYXllcklkKG51bGwsIGZ1bmN0aW9uIChwbGF5ZXJfaWQpIHtcblx0ICAgICAgaWYgKCFpc0lmcmFtZSB8fCBwbGF5ZXJfaWQpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJCZWZvcmUgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXJcIik7XG5cdCAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiQWZ0ZXIgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXJcIik7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9nZXRTdWJkb21haW5TdGF0ZTogZnVuY3Rpb24gX2dldFN1YmRvbWFpblN0YXRlKGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgc3RhdGUgPSB7fTtcblx0XG5cdCAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdzdWJzY3JpcHRpb24nKV0pLnRoZW4oZnVuY3Rpb24gX2ludGVybmFsSW5pdF9Hb3RBcHBSZWdpc3RyYXRpb25TdWJzY3JpcHRpb25JZHMocmVzdWx0KSB7XG5cdCAgICAgIHZhciB1c2VySWRSZXN1bHQgPSByZXN1bHRbMF07XG5cdCAgICAgIHZhciByZWdpc3RyYXRpb25JZFJlc3VsdCA9IHJlc3VsdFsxXTtcblx0ICAgICAgdmFyIHN1YnNjcmlwdGlvblJlc3VsdCA9IHJlc3VsdFsyXTtcblx0XG5cdCAgICAgIGNhbGxiYWNrKHtcblx0ICAgICAgICB1c2VySWQ6IHVzZXJJZFJlc3VsdCA/IHVzZXJJZFJlc3VsdC5pZCA6IG51bGwsXG5cdCAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IHJlZ2lzdHJhdGlvbklkUmVzdWx0ID8gcmVnaXN0cmF0aW9uSWRSZXN1bHQuaWQgOiBudWxsLFxuXHQgICAgICAgIG5vdGlmUGVybXNzaW9uOiBOb3RpZmljYXRpb24ucGVybWlzc2lvbixcblx0ICAgICAgICBzdWJzY3JpcHRpb25TZXQ6IHN1YnNjcmlwdGlvblJlc3VsdCA/IHN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSA6IG51bGwsXG5cdCAgICAgICAgaXNQdXNoRW5hYmxlZDogTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT0gXCJncmFudGVkXCIgJiYgdXNlcklkUmVzdWx0ICYmIHJlZ2lzdHJhdGlvbklkUmVzdWx0ICYmIChzdWJzY3JpcHRpb25SZXN1bHQgJiYgc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlIHx8IHN1YnNjcmlwdGlvblJlc3VsdCA9PSBudWxsKVxuXHQgICAgICB9KTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgICAgO1xuXHQgIH0sXG5cdFxuXHQgIF9pbml0U2F2ZVN0YXRlOiBmdW5jdGlvbiBfaW5pdFNhdmVTdGF0ZSgpIHtcblx0ICAgIE9uZVNpZ25hbC5fYXBwX2lkID0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5hcHBJZDtcblx0ICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwiYXBwSWRcIiwgaWQ6IE9uZVNpZ25hbC5fYXBwX2lkIH0pO1xuXHQgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7IGtleTogXCJwYWdlVGl0bGVcIiwgdmFsdWU6IGRvY3VtZW50LnRpdGxlIH0pO1xuXHQgIH0sXG5cdFxuXHQgIF9zdXBwb3J0c0RpcmVjdFBlcm1pc3Npb246IGZ1bmN0aW9uIF9zdXBwb3J0c0RpcmVjdFBlcm1pc3Npb24oKSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlscy5pc1N1cHBvcnRlZFNhZmFyaSkoKSB8fCBsb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cHM6JyB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoXCJsb2NhbGhvc3RcIikgPT0gMCB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoXCIxMjcuMC4wLjFcIikgPT0gMDtcblx0ICB9LFxuXHRcblx0ICBfc2Vzc2lvbkluaXQ6IGZ1bmN0aW9uIF9zZXNzaW9uSW5pdChvcHRpb25zKSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJDYWxsZWQgT25lU2lnbmFsLl9zZXNzaW9uSW5pdCgpOlwiLCBvcHRpb25zKTtcblx0ICAgIE9uZVNpZ25hbC5faW5pdFNhdmVTdGF0ZSgpO1xuXHRcblx0ICAgIHZhciBob3N0UGFnZVByb3RvY29sID0gbG9jYXRpb24ub3JpZ2luLm1hdGNoKC9eaHR0cChzfCk6XFwvXFwvKHd3d1xcLnwpLylbMF07XG5cdFxuXHQgICAgLy8gSWYgSFRUUCBvciB1c2luZyBzdWJkb21haW4gbW9kZVxuXHQgICAgaWYgKE9uZVNpZ25hbC5fdXNlSHR0cE1vZGUpIHtcblx0ICAgICAgaWYgKG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yKSB7XG5cdCAgICAgICAgdmFyIGR1YWxTY3JlZW5MZWZ0ID0gd2luZG93LnNjcmVlbkxlZnQgIT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiBzY3JlZW4ubGVmdDtcblx0ICAgICAgICB2YXIgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlblRvcCA6IHNjcmVlbi50b3A7XG5cdFxuXHQgICAgICAgIHZhciB0aGlzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogc2NyZWVuLndpZHRoO1xuXHQgICAgICAgIHZhciB0aGlzSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBzY3JlZW4uaGVpZ2h0O1xuXHQgICAgICAgIHZhciBjaGlsZFdpZHRoID0gT25lU2lnbmFsLl93aW5kb3dXaWR0aDtcblx0ICAgICAgICB2YXIgY2hpbGRIZWlnaHQgPSBPbmVTaWduYWwuX3dpbmRvd0hlaWdodDtcblx0XG5cdCAgICAgICAgdmFyIGxlZnQgPSB0aGlzV2lkdGggLyAyIC0gY2hpbGRXaWR0aCAvIDIgKyBkdWFsU2NyZWVuTGVmdDtcblx0ICAgICAgICB2YXIgdG9wID0gdGhpc0hlaWdodCAvIDIgLSBjaGlsZEhlaWdodCAvIDIgKyBkdWFsU2NyZWVuVG9wO1xuXHRcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ09wZW5pbmcgcG9wdXAgd2luZG93LicpO1xuXHQgICAgICAgIHZhciBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzID0gT25lU2lnbmFsLl9pbml0T3B0aW9uc1sncHJvbXB0T3B0aW9ucyddO1xuXHQgICAgICAgIHZhciBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzX3N0ciA9ICcnO1xuXHQgICAgICAgIGlmIChtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzKSB7XG5cdCAgICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zID0gWydhY3Rpb25NZXNzYWdlJywgJ2V4YW1wbGVOb3RpZmljYXRpb25UaXRsZURlc2t0b3AnLCAnZXhhbXBsZU5vdGlmaWNhdGlvbk1lc3NhZ2VEZXNrdG9wJywgJ2V4YW1wbGVOb3RpZmljYXRpb25UaXRsZU1vYmlsZScsICdleGFtcGxlTm90aWZpY2F0aW9uTWVzc2FnZU1vYmlsZScsICdleGFtcGxlTm90aWZpY2F0aW9uQ2FwdGlvbicsICdhY2NlcHRCdXR0b25UZXh0JywgJ2NhbmNlbEJ1dHRvblRleHQnXTtcblx0ICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBtZXNzYWdlX2xvY2FsaXphdGlvbl9wYXJhbXNbaV07XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHNba2V5XTtcblx0ICAgICAgICAgICAgdmFyIGVuY29kZWRfdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09ICcnKSB7XG5cdCAgICAgICAgICAgICAgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c19zdHIgKz0gJyYnICsga2V5ICsgJz0nICsgZW5jb2RlZF92YWx1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY2hpbGRXaW5kb3cgPSB3aW5kb3cub3BlbihPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwICsgXCI/XCIgKyBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzX3N0ciArIFwiJmhvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sLCBcIl9ibGFua1wiLCAnc2Nyb2xsYmFycz15ZXMsIHdpZHRoPScgKyBjaGlsZFdpZHRoICsgJywgaGVpZ2h0PScgKyBjaGlsZEhlaWdodCArICcsIHRvcD0nICsgdG9wICsgJywgbGVmdD0nICsgbGVmdCk7XG5cdFxuXHQgICAgICAgIGlmIChjaGlsZFdpbmRvdykgY2hpbGRXaW5kb3cuZm9jdXMoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ09wZW5pbmcgaUZyYW1lLicpO1xuXHQgICAgICAgIE9uZVNpZ25hbC5fYWRkU2Vzc2lvbklmcmFtZShob3N0UGFnZVByb3RvY29sKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgoMCwgX3V0aWxzLmlzU3VwcG9ydGVkU2FmYXJpKSgpKSB7XG5cdCAgICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpIHtcblx0ICAgICAgICB2YXIgbm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcblx0ICAgICAgICB3aW5kb3cuc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oT25lU2lnbmFsLl9IT1NUX1VSTCArICdzYWZhcmknLCBPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQsIHsgYXBwX2lkOiBPbmVTaWduYWwuX2FwcF9pZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKGRhdGEpO1xuXHQgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvblBlcm1pc3Npb25BZnRlclJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcblx0ICAgICAgICAgIGlmIChkYXRhLmRldmljZVRva2VuKSB7XG5cdCAgICAgICAgICAgIE9uZVNpZ25hbC5fcmVnaXN0ZXJXaXRoT25lU2lnbmFsKE9uZVNpZ25hbC5fYXBwX2lkLCBkYXRhLmRldmljZVRva2VuLnRvTG93ZXJDYXNlKCksIDcpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvcHRpb25zLm1vZGFsUHJvbXB0ICYmIG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yKSB7XG5cdCAgICAgIC8vIElmIEhUVFBTIC0gU2hvdyBtb2RhbFxuXHQgICAgICBpZiAoISgwLCBfdXRpbHMuaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCkoKSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC53YXJuKCdBbiBhdHRlbXB0IHdhcyBtYWRlIHRvIG9wZW4gdGhlIEhUVFBTIG1vZGFsIHBlcm1pc3Npb24gcHJvbXB0LCBidXQgcHVzaCBub3RpZmljYXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3Nlci4gT3BlbmluZyBjYW5jZWxlZC4nKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgT25lU2lnbmFsLmlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkKGZ1bmN0aW9uIChwdXNoRW5hYmxlZCkge1xuXHQgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ09uZVNpZ25hbC1pZnJhbWUtbW9kYWwnKTtcblx0ICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICc8ZGl2IGlkPVwibm90aWYtcGVybWlzc2lvblwiIHN0eWxlPVwiYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpOyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgei1pbmRleDogOTAwMDsgZGlzcGxheTogYmxvY2tcIj48L2Rpdj4nO1xuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cdFxuXHQgICAgICAgIHZhciBpZnJhbWVTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICAgICAgaWZyYW1lU3R5bGUuaW5uZXJIVE1MID0gXCJAbWVkaWEgKG1heC13aWR0aDogNTYwcHgpIHsgLk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZSB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7fSB9XCIgKyBcIkBtZWRpYSAobWluLXdpZHRoOiA1NjFweCkgeyAuT25lU2lnbmFsLXBlcm1pc3Npb24taWZyYW1lIHsgdG9wOiA1MCU7IGxlZnQ6IDUwJTsgbWFyZ2luLWxlZnQ6IC0yNzVweDsgbWFyZ2luLXRvcDogLTI0OHB4O30gfVwiO1xuXHQgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoaWZyYW1lU3R5bGUpO1xuXHRcblx0ICAgICAgICB2YXIgaWZyYW1lTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5cdCAgICAgICAgaWZyYW1lTm9kZS5jbGFzc05hbWUgPSBcIk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZVwiO1xuXHQgICAgICAgIGlmcmFtZU5vZGUuc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTsgcG9zaXRpb246IGZpeGVkO1wiO1xuXHQgICAgICAgIGlmcmFtZU5vZGUuc3JjID0gT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCArICc/aWQ9JyArIE9uZVNpZ25hbC5fYXBwX2lkICsgJyZodHRwc1Byb21wdD10cnVlJyArICcmcHVzaEVuYWJsZWQ9JyArIHB1c2hFbmFibGVkICsgJyZwZXJtaXNzaW9uQmxvY2tlZD0nICsgKHR5cGVvZiBOb3RpZmljYXRpb24gPT09IFwidW5kZWZpbmVkXCIgfHwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT0gXCJkZW5pZWRcIikgKyAnJmhvc3RQYWdlUHJvdG9jb2w9JyArIGhvc3RQYWdlUHJvdG9jb2w7XG5cdCAgICAgICAgaWZyYW1lTm9kZS5zZXRBdHRyaWJ1dGUoJ2ZyYW1lYm9yZGVyJywgJzAnKTtcblx0ICAgICAgICBpZnJhbWVOb2RlLndpZHRoID0gT25lU2lnbmFsLl93aW5kb3dXaWR0aC50b1N0cmluZygpO1xuXHQgICAgICAgIGlmcmFtZU5vZGUuaGVpZ2h0ID0gT25lU2lnbmFsLl93aW5kb3dIZWlnaHQudG9TdHJpbmcoKTtcblx0XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdPcGVuaW5nIEhUVFBTIG1vZGFsIHByb21wdC4nKTtcblx0ICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGlmLXBlcm1pc3Npb25cIikuYXBwZW5kQ2hpbGQoaWZyYW1lTm9kZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSAvLyBJZiBIVFRQUyAtIFNob3cgbmF0aXZlIHByb21wdFxuXHQgICAgICBPbmVTaWduYWwuX3JlZ2lzdGVyRm9yVzNDUHVzaChvcHRpb25zKTtlbHNlIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnU2VydmljZSB3b3JrZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nKTtcblx0XG5cdCAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuc2RrLmluaXRpYWxpemVkJywgbnVsbCk7XG5cdCAgfSxcblx0XG5cdCAgX3JlZ2lzdGVyRm9yVzNDUHVzaDogZnVuY3Rpb24gX3JlZ2lzdGVyRm9yVzNDUHVzaChvcHRpb25zKSB7XG5cdFxuXHQgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKS50aGVuKGZ1bmN0aW9uIF9yZWdpc3RlckZvclczQ1B1c2hfR290UmVnaXN0cmF0aW9uSWQocmVnaXN0cmF0aW9uSWRSZXN1bHQpIHtcblx0ICAgICAgaWYgKCFyZWdpc3RyYXRpb25JZFJlc3VsdCB8fCAhb3B0aW9ucy5mcm9tUmVnaXN0ZXJGb3IgfHwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT0gXCJncmFudGVkXCIpIHtcblx0ICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKS50aGVuKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgdmFyIHN3X3BhdGggPSBcIlwiO1xuXHRcblx0ICAgICAgICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zLnBhdGgpIHN3X3BhdGggPSBPbmVTaWduYWwuX2luaXRPcHRpb25zLnBhdGg7XG5cdFxuXHQgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJ1bmRlZmluZWRcIikgLy8gTm90aGluZyByZWdpc3RlcmVkLCB2ZXJ5IGZpcnN0IHJ1blxuXHQgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7ZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudC5hY3RpdmUpIHtcblx0ICAgICAgICAgICAgICBpZiAoZXZlbnQuYWN0aXZlLnNjcmlwdFVSTC5pbmRleE9mKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFUSCkgPiAtMSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ1dPUktFUjFfT05FX1NJR05BTF9TV19WRVJTSU9OJykudGhlbihmdW5jdGlvbiAodmVyc2lvblJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5fVkVSU0lPTikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudW5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgIH0gZWxzZSBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIDtcblx0ICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmFjdGl2ZS5zY3JpcHRVUkwuaW5kZXhPZihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCkgPiAtMSkge1xuXHRcblx0ICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ1dPUktFUjFfT05FX1NJR05BTF9TV19WRVJTSU9OJykudGhlbihmdW5jdGlvbiAodmVyc2lvblJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5fVkVSU0lPTikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudW5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgIH0gZWxzZSBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5pbnN0YWxsaW5nID09IG51bGwpIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICBfYWRkU2Vzc2lvbklmcmFtZTogZnVuY3Rpb24gX2FkZFNlc3Npb25JZnJhbWUoaG9zdFBhZ2VQcm90b2NvbCkge1xuXHRcblx0ICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcblx0ICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHQgICAgbm9kZS5zcmMgPSBPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwICsgXCJJZnJhbWVcIjtcblx0ICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIpKSBub2RlLnNyYyArPSBcIj9zZXNzaW9uPXRydWVcIiArIFwiJmhvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sO2Vsc2Ugbm9kZS5zcmMgKz0gXCI/aG9zdFBhZ2VQcm90b2NvbD1cIiArIGhvc3RQYWdlUHJvdG9jb2w7XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vZGUpO1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdBZGRpbmcgc2Vzc2lvbiBpRnJhbWUuJyk7XG5cdFxuXHQgICAgT25lU2lnbmFsLl9zZXNzaW9uSWZyYW1lQWRkZWQgPSB0cnVlO1xuXHQgIH0sXG5cdFxuXHQgIF9yZWdpc3RlckVycm9yOiBmdW5jdGlvbiBfcmVnaXN0ZXJFcnJvcihlcnIpIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyOkVSUk9SOiBcIiArIGVycik7XG5cdCAgfSxcblx0XG5cdCAgX2VuYWJsZU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIF9lbmFibGVOb3RpZmljYXRpb25zKGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikge1xuXHQgICAgLy8gaXMgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiB0eXBlXG5cdCAgICBpZiAoZXhpc3RpbmdTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ1RoZXJlIGlzIGFuIG9sZGVyIFNlcnZpY2VXb3JrZXI6JywgZXhpc3RpbmdTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKTtcblx0ICAgIGlmICghKCdQdXNoTWFuYWdlcicgaW4gd2luZG93KSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLiBObyBQdXNoTWFuYWdlci5cIik7XG5cdCAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoISgnc2hvd05vdGlmaWNhdGlvbicgaW4gU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wcm90b3R5cGUpKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIk5vdGlmaWNhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQuIHNob3dOb3RpZmljYXRpb24gbm90IGF2YWlsYWJsZSBpbiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLlwiKTtcblx0ICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0Lndhcm4oXCJUaGUgdXNlciBoYXMgZGlzYWJsZWQgbm90aWZpY2F0aW9ucy5cIik7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5pbmZvKCdTZXJ2aWNlIHdvcmtlciBhY3RpdmU6Jywgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG5cdFxuXHQgICAgICBPbmVTaWduYWwuX3N1YnNjcmliZUZvclB1c2goc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICAvKlxuXHQgICBSZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXItYWdub3N0aWMgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gYXMgXCJkZWZhdWx0XCIsIFwiZ3JhbnRlZFwiLCBcImRlbmllZFwiLlxuXHQgICBzYWZhcmlXZWJJZDogVXNlZCBvbmx5IHRvIGdldCB0aGUgY3VycmVudCBub3RpZmljYXRpb24gcGVybWlzc2lvbiBzdGF0ZSBpbiBTYWZhcmkgKHJlcXVpcmVkIGFzIHBhcnQgb2YgdGhlIHNwZWMpLlxuXHQgICAqL1xuXHQgIF9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uOiBmdW5jdGlvbiBfZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihzYWZhcmlXZWJJZCkge1xuXHQgICAgaWYgKHdpbmRvdy5zYWZhcmkpIHtcblx0ICAgICAgLy8gVGhlIHVzZXIgaXMgb24gU2FmYXJpXG5cdCAgICAgIC8vIEEgd2ViIElEIGlzIHJlcXVpcmVkIHRvIGRldGVybWluZSB0aGUgY3VycmVudCBub3RpZmljaWF0aW9uIHBlcm1pc3Npb25cblx0ICAgICAgaWYgKHNhZmFyaVdlYklkKSB7XG5cdCAgICAgICAgcmV0dXJuIHdpbmRvdy5zYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKHNhZmFyaVdlYklkKS5wZXJtaXNzaW9uO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIFRoZSB1c2VyIGRpZG4ndCBzZXQgdXAgU2FmYXJpIHdlYiBwdXNoIHByb3Blcmx5OyBub3RpZmljYXRpb25zIGFyZSB1bmxpa2VseSB0byBiZSBlbmFibGVkXG5cdCAgICAgICAgcmV0dXJuIFwiZGVmYXVsdFwiO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBJZGVudGljYWwgQVBJIG9uIEZpcmVmb3ggYW5kIENocm9tZVxuXHQgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb247XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkOiBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50X2N1c3RvbVByb21wdENsaWNrZWQoY2xpY2tSZXN1bHQpIHtcblx0ICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCBjbGlja1Jlc3VsdCk7XG5cdCAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkJywge1xuXHQgICAgICByZXN1bHQ6IGNsaWNrUmVzdWx0XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkOiBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKGZyb20sIHRvKSB7XG5cdCAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0byA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpO1xuXHQgICAgfVxuXHQgICAgaWYgKGZyb20gIT09IHRvKSB7XG5cdCAgICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCB0byk7XG5cdCAgICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5wcm9tcHQubmF0aXZlLnBlcm1pc3Npb25jaGFuZ2VkJywge1xuXHQgICAgICAgIGZyb206IGZyb20sXG5cdCAgICAgICAgdG86IHRvXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIF90cmlnZ2VyRXZlbnRfc3Vic2NyaXB0aW9uQ2hhbmdlZDogZnVuY3Rpb24gX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkKHRvKSB7XG5cdCAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQnLCB0byk7XG5cdCAgfSxcblx0XG5cdCAgX3RyaWdnZXJFdmVudF9kYlZhbHVlUmV0cmlldmVkOiBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50X2RiVmFsdWVSZXRyaWV2ZWQodmFsdWUpIHtcblx0ICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5kYi52YWx1ZXJldHJpZXZlZCcsIHZhbHVlKTtcblx0ICB9LFxuXHRcblx0ICBfdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQ6IGZ1bmN0aW9uIF90cmlnZ2VyRXZlbnRfZGJWYWx1ZVNldCh2YWx1ZSkge1xuXHQgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmRiLnZhbHVlc2V0JywgdmFsdWUpO1xuXHQgIH0sXG5cdFxuXHQgIF90cmlnZ2VyRXZlbnRfaW50ZXJuYWxTdWJzY3JpcHRpb25TZXQ6IGZ1bmN0aW9uIF90cmlnZ2VyRXZlbnRfaW50ZXJuYWxTdWJzY3JpcHRpb25TZXQodmFsdWUpIHtcblx0ICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5pbnRlcm5hbC5zdWJzY3JpcHRpb25zZXQnLCB2YWx1ZSk7XG5cdCAgfSxcblx0XG5cdCAgX3N1YnNjcmliZUZvclB1c2g6IGZ1bmN0aW9uIF9zdWJzY3JpYmVGb3JQdXNoKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHtcblx0ICAgIHZhciBub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpO1xuXHQgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoeyB1c2VyVmlzaWJsZU9ubHk6IHRydWUgfSkudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG5cdCAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX05PVElGSUNBVElPTl9QRVJNSVNTSU9OXCIsIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTtcblx0XG5cdCAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ2FwcElkJykudGhlbihmdW5jdGlvbiBfc3Vic2NyaWJlRm9yUHVzaF9Hb3RBcHBJZChhcHBJZFJlc3VsdCkge1xuXHQgICAgICAgIHZhciBhcHBJZCA9IGFwcElkUmVzdWx0LmlkO1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIkNhbGxlZCBPbmVTaWduYWwuX3N1YnNjcmliZUZvclB1c2goKSAtPiBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSgpLlwiKTtcblx0XG5cdCAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkID0gbnVsbDtcblx0ICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG5cdCAgICAgICAgICBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZCAhPSBcInVuZGVmaW5lZFwiKSAvLyBDaHJvbWUgNDMgJiA0MlxuXHQgICAgICAgICAgICByZWdpc3RyYXRpb25JZCA9IHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZDtlbHNlIC8vIENocm9tZSA0NCsgYW5kIEZpcmVGb3hcblx0ICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQgPSBzdWJzY3JpcHRpb24uZW5kcG9pbnQucmVwbGFjZShuZXcgUmVnRXhwKFwiXihodHRwczovL2FuZHJvaWQuZ29vZ2xlYXBpcy5jb20vZ2NtL3NlbmQvfGh0dHBzOi8vdXBkYXRlcy5wdXNoLnNlcnZpY2VzLm1vemlsbGEuY29tL3B1c2gvKVwiKSwgXCJcIik7XG5cdCAgICAgICAgfSBlbHNlIF9sb2dsZXZlbDIuZGVmYXVsdC53YXJuKCdDb3VsZCBub3Qgc3Vic2NyaWJlIHlvdXIgYnJvd3NlciBmb3IgcHVzaCBub3RpZmljYXRpb25zLicpO1xuXHRcblx0ICAgICAgICBPbmVTaWduYWwuX3JlZ2lzdGVyV2l0aE9uZVNpZ25hbChhcHBJZCwgcmVnaXN0cmF0aW9uSWQsICgwLCBfdXRpbHMuaXNTdXBwb3J0ZWRGaXJlRm94KSgpID8gOCA6IDUpO1xuXHRcblx0ICAgICAgICBpZiAoIU9uZVNpZ25hbC5fdXNpbmdOYXRpdmVQZXJtaXNzaW9uSG9vaykge1xuXHQgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQobm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdFcnJvciB3aGlsZSBzdWJzY3JpYmluZyBmb3IgcHVzaDonLCBlKTtcblx0XG5cdCAgICAgIGlmICghT25lU2lnbmFsLl91c2luZ05hdGl2ZVBlcm1pc3Npb25Ib29rKSBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZChub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCk7XG5cdFxuXHQgICAgICBpZiAoZS5jb2RlID09IDIwICYmIG9wZW5lciAmJiBPbmVTaWduYWwuX2h0dHBSZWdpc3RyYXRpb24pIHdpbmRvdy5jbG9zZSgpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgc2VuZFRhZzogZnVuY3Rpb24gc2VuZFRhZyhrZXksIHZhbHVlKSB7XG5cdCAgICB2YXIganNvbktleVZhbHVlID0ge307XG5cdCAgICBqc29uS2V5VmFsdWVba2V5XSA9IHZhbHVlO1xuXHQgICAgT25lU2lnbmFsLnNlbmRUYWdzKGpzb25LZXlWYWx1ZSk7XG5cdCAgfSxcblx0XG5cdCAgc2VuZFRhZ3M6IGZ1bmN0aW9uIHNlbmRUYWdzKGpzb25QYWlyKSB7XG5cdCAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uIHNlbmRUYWdzX0dvdFVzZXJJZCh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgaWYgKHVzZXJJZFJlc3VsdCkgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkLCBcIlBVVFwiLCB7XG5cdCAgICAgICAgYXBwX2lkOiBPbmVTaWduYWwuX2FwcF9pZCxcblx0ICAgICAgICB0YWdzOiBqc29uUGFpclxuXHQgICAgICB9KTtlbHNlIHtcblx0ICAgICAgICBpZiAoT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3RlciA9PSBudWxsKSBPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID0ganNvblBhaXI7ZWxzZSB7XG5cdCAgICAgICAgICB2YXIgcmVzdWx0T2JqID0ge307XG5cdCAgICAgICAgICBmb3IgKHZhciBfb2JqIGluIE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIpIHtcblx0ICAgICAgICAgICAgcmVzdWx0T2JqW19vYmpdID0gT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3Rlcltfb2JqXTtcblx0ICAgICAgICAgIH1mb3IgKHZhciBfb2JqIGluIGpzb25QYWlyKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdE9ialtfb2JqXSA9IGpzb25QYWlyW19vYmpdO1xuXHQgICAgICAgICAgfU9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPSByZXN1bHRPYmo7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoJ3NlbmRUYWdzOicsIGUpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgZGVsZXRlVGFnOiBmdW5jdGlvbiBkZWxldGVUYWcoa2V5KSB7XG5cdCAgICBPbmVTaWduYWwuZGVsZXRlVGFncyhba2V5XSk7XG5cdCAgfSxcblx0XG5cdCAgZGVsZXRlVGFnczogZnVuY3Rpb24gZGVsZXRlVGFncyhrZXlBcnJheSkge1xuXHQgICAgdmFyIGpzb25QYWlyID0ge307XG5cdCAgICB2YXIgbGVuZ3RoID0ga2V5QXJyYXkubGVuZ3RoO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICBqc29uUGFpcltrZXlBcnJheVtpXV0gPSBcIlwiO1xuXHQgICAgfU9uZVNpZ25hbC5zZW5kVGFncyhqc29uUGFpcik7XG5cdCAgfSxcblx0XG5cdCAgX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZDogZnVuY3Rpb24gX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZChldmVudCkge1xuXHQgICAgdmFyIG5vdGlmaWNhdGlvbkRhdGEgPSBKU09OLnBhcnNlKGV2ZW50Lm5vdGlmaWNhdGlvbi50YWcpO1xuXHQgICAgZXZlbnQubm90aWZpY2F0aW9uLmNsb3NlKCk7XG5cdFxuXHQgICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ2FwcElkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXSkudGhlbihmdW5jdGlvbiBfaGFuZGxlTm90aWZpY2F0aW9uT3BlbmVkX0dvdEFwcFVzZXJJZHMocmVzdWx0cykge1xuXHQgICAgICB2YXIgYXBwSWRSZXN1bHQgPSByZXN1bHRzWzBdO1xuXHQgICAgICB2YXIgdXNlcklkUmVzdWx0ID0gcmVzdWx0c1sxXTtcblx0ICAgICAgaWYgKGFwcElkUmVzdWx0ICYmIHVzZXJJZFJlc3VsdCkge1xuXHQgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwibm90aWZpY2F0aW9ucy9cIiArIG5vdGlmaWNhdGlvbkRhdGEuaWQsIFwiUFVUXCIsIHtcblx0ICAgICAgICAgIGFwcF9pZDogYXBwSWRSZXN1bHQuaWQsXG5cdCAgICAgICAgICBwbGF5ZXJfaWQ6IHVzZXJJZFJlc3VsdC5pZCxcblx0ICAgICAgICAgIG9wZW5lZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0XG5cdCAgICBldmVudC53YWl0VW50aWwoY2xpZW50cy5tYXRjaEFsbCh7IHR5cGU6IFwid2luZG93XCIgfSkudGhlbihmdW5jdGlvbiAoY2xpZW50TGlzdCkge1xuXHQgICAgICB2YXIgbGF1bmNoVVJMID0gcmVnaXN0cmF0aW9uLnNjb3BlO1xuXHQgICAgICBpZiAoT25lU2lnbmFsLl9kZWZhdWx0TGF1bmNoVVJMKSBsYXVuY2hVUkwgPSBPbmVTaWduYWwuX2RlZmF1bHRMYXVuY2hVUkw7XG5cdCAgICAgIGlmIChub3RpZmljYXRpb25EYXRhLmxhdW5jaFVSTCkgbGF1bmNoVVJMID0gbm90aWZpY2F0aW9uRGF0YS5sYXVuY2hVUkw7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsaWVudExpc3QubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY2xpZW50ID0gY2xpZW50TGlzdFtpXTtcblx0ICAgICAgICBpZiAoJ2ZvY3VzJyBpbiBjbGllbnQgJiYgY2xpZW50LnVybCA9PSBsYXVuY2hVUkwpIHtcblx0ICAgICAgICAgIGNsaWVudC5mb2N1cygpO1xuXHRcblx0ICAgICAgICAgIC8vIHRhcmdldE9yaWdpbiBub3QgdmFsaWQgaGVyZSBhcyB0aGUgc2VydmljZSB3b3JrZXIgb3ducyB0aGUgcGFnZS5cblx0ICAgICAgICAgIGNsaWVudC5wb3N0TWVzc2FnZShub3RpZmljYXRpb25EYXRhKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChsYXVuY2hVUkwgIT09ICdqYXZhc2NyaXB0OnZvaWQoMCk7JyAmJiBsYXVuY2hVUkwgIT09ICdkb19ub3Rfb3BlbicpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgeyB1cmw6IGxhdW5jaFVSTCwgZGF0YTogbm90aWZpY2F0aW9uRGF0YSB9KTtcblx0ICAgICAgICBjbGllbnRzLm9wZW5XaW5kb3cobGF1bmNoVVJMKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgICAgICAgIC8vIFNob3VsZCBvbmx5IGZhbGwgaW50byBoZXJlIGlmIGdvaW5nIHRvIGFuIGV4dGVybmFsIFVSTCBvbiBDaHJvbWUgb2xkZXIgdGhhbiA0My5cblx0ICAgICAgICAgIGNsaWVudHMub3BlbldpbmRvdyhyZWdpc3RyYXRpb24uc2NvcGUgKyBcInJlZGlyZWN0b3IuaHRtbD91cmw9XCIgKyBsYXVuY2hVUkwpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KSk7XG5cdCAgfSxcblx0XG5cdCAgX2dldFRpdGxlOiBmdW5jdGlvbiBfZ2V0VGl0bGUoaW5jb21pbmdUaXRsZSwgY2FsbGJhY2spIHtcblx0ICAgIGlmIChpbmNvbWluZ1RpdGxlICE9IG51bGwpIHtcblx0ICAgICAgY2FsbGJhY2soaW5jb21pbmdUaXRsZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ2RlZmF1bHRUaXRsZScpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAncGFnZVRpdGxlJyldKS50aGVuKGZ1bmN0aW9uIF9nZXRUaXRsZV9Hb3REZWZhdWx0UGFnZVRpdGxlcyhyZXN1bHRzKSB7XG5cdCAgICAgIHZhciBkZWZhdWx0VGl0bGVSZXN1bHQgPSByZXN1bHRzWzBdO1xuXHQgICAgICB2YXIgcGFnZVRpdGxlUmVzdWx0ID0gcmVzdWx0c1sxXTtcblx0XG5cdCAgICAgIGlmIChkZWZhdWx0VGl0bGVSZXN1bHQpIHtcblx0ICAgICAgICBjYWxsYmFjayhkZWZhdWx0VGl0bGVSZXN1bHQudmFsdWUpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfSBlbHNlIGlmIChwYWdlVGl0bGVSZXN1bHQgJiYgcGFnZVRpdGxlUmVzdWx0LnZhbHVlICE9IG51bGwpIHtcblx0ICAgICAgICBjYWxsYmFjayhwYWdlVGl0bGVSZXN1bHQudmFsdWUpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBjYWxsYmFjaygnJyk7XG5cdCAgICAgIH1cblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIC8vIERpc3BsYXlzIG5vdGlmaWNhdGlvbiBmcm9tIGNvbnRlbnQgcmVjZWl2ZWQgZnJvbSBPbmVTaWduYWwuXG5cdCAgLy8gVGhpcyBtZXRob2QgaXMgb25seSBjYWxsZWQgYnkgU2VydmljZVdvcmtlclxuXHQgIF9oYW5kbGVHQ01NZXNzYWdlOiBmdW5jdGlvbiBfaGFuZGxlR0NNTWVzc2FnZShzZXJ2aWNlV29ya2VyLCBldmVudCkge1xuXHQgICAgLy8gVE9ETzogUmVhZCBkYXRhIGZyb20gdGhlIEdDTSBwYXlsb2FkIHdoZW4gQ2hyb21lIG5vIGxvbmdlciByZXF1aXJlcyB0aGUgYmVsb3cgY29tbWFuZCBsaW5lIHBhcmFtZXRlci5cblx0ICAgIC8vIC0tZW5hYmxlLXB1c2gtbWVzc2FnZS1wYXlsb2FkXG5cdCAgICAvLyBUaGUgY29tbWFuZCBsaW5lIHBhcmFtIGlzIHJlcXVpcmVkIGV2ZW4gb24gQ2hyb21lIDQzIG5pZ2h0bHkgYnVpbGQgMjAxNS8wMy8xNy5cblx0ICAgIGlmIChldmVudC5kYXRhICYmIGV2ZW50LmRhdGEudGV4dCgpWzBdID09IFwie1wiKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnUmVjZWl2ZWQgZGF0YS50ZXh0OiAnLCBldmVudC5kYXRhLnRleHQoKSk7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZygnUmVjZWl2ZWQgZGF0YS5qc29uOiAnLCBldmVudC5kYXRhLmpzb24oKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZXZlbnQud2FpdFVudGlsKG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXRUaXRsZShudWxsLCBmdW5jdGlvbiAodGl0bGUpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnZGVmYXVsdEljb24nKS50aGVuKGZ1bmN0aW9uIF9oYW5kbGVHQ01NZXNzYWdlX0dvdERlZmF1bHRJY29uKGRlZmF1bHRJY29uUmVzdWx0KSB7XG5cdCAgICAgICAgICBPbmVTaWduYWwuX2dldExhc3ROb3RpZmljYXRpb25zKGZ1bmN0aW9uIChyZXNwb25zZSwgYXBwSWQpIHtcblx0ICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkRhdGEgPSB7XG5cdCAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmN1c3RvbS5pLFxuXHQgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmFsZXJ0LFxuXHQgICAgICAgICAgICAgIGFkZGl0aW9uYWxEYXRhOiByZXNwb25zZS5jdXN0b20uYVxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnRpdGxlKSBub3RpZmljYXRpb25EYXRhLnRpdGxlID0gcmVzcG9uc2UudGl0bGU7ZWxzZSBub3RpZmljYXRpb25EYXRhLnRpdGxlID0gdGl0bGU7XG5cdFxuXHQgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3VzdG9tLnUpIG5vdGlmaWNhdGlvbkRhdGEubGF1bmNoVVJMID0gcmVzcG9uc2UuY3VzdG9tLnU7XG5cdFxuXHQgICAgICAgICAgICBpZiAocmVzcG9uc2UuaWNvbikgbm90aWZpY2F0aW9uRGF0YS5pY29uID0gcmVzcG9uc2UuaWNvbjtlbHNlIGlmIChkZWZhdWx0SWNvblJlc3VsdCkgbm90aWZpY2F0aW9uRGF0YS5pY29uID0gZGVmYXVsdEljb25SZXN1bHQudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAvLyBOZXZlciBuZXN0IHRoZSBmb2xsb3dpbmcgbGluZSBpbiBhIGNhbGxiYWNrIGZyb20gdGhlIHBvaW50IG9mIGVudGVyaW5nIGZyb20gX2dldExhc3ROb3RpZmljYXRpb25zXG5cdCAgICAgICAgICAgIHNlcnZpY2VXb3JrZXIucmVnaXN0cmF0aW9uLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uRGF0YS50aXRsZSwge1xuXHQgICAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLmFsZXJ0LFxuXHQgICAgICAgICAgICAgIGljb246IG5vdGlmaWNhdGlvbkRhdGEuaWNvbixcblx0ICAgICAgICAgICAgICB0YWc6IEpTT04uc3RyaW5naWZ5KG5vdGlmaWNhdGlvbkRhdGEpXG5cdCAgICAgICAgICAgIH0pLnRoZW4ocmVzb2x2ZSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ2RlZmF1bHRVcmwnKS50aGVuKGZ1bmN0aW9uIChkZWZhdWx0VXJsUmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgaWYgKGRlZmF1bHRVcmxSZXN1bHQpIE9uZVNpZ25hbC5fZGVmYXVsdExhdW5jaFVSTCA9IGRlZmF1bHRVcmxSZXN1bHQudmFsdWU7XG5cdCAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgO1xuXHQgICAgICAgICAgfSwgcmVzb2x2ZSk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KSk7XG5cdCAgfSxcblx0XG5cdCAgX2dldExhc3ROb3RpZmljYXRpb25zOiBmdW5jdGlvbiBfZ2V0TGFzdE5vdGlmaWNhdGlvbnMoaXRlbUNhbGxiYWNrLCBjb21wbGV0ZUNhbGxiYWNrKSB7XG5cdCAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uIF9nZXRMYXN0Tm90aWZpY2F0aW9uc19Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG5cdCAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcInBsYXllcnMvXCIgKyB1c2VySWRSZXN1bHQuaWQgKyBcIi9jaHJvbWV3ZWJfbm90aWZpY2F0aW9uXCIsIFwiR0VUXCIsIG51bGwsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpdGVtQ2FsbGJhY2soSlNPTi5wYXJzZShyZXNwb25zZVtpXSkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2soKTtcblx0ICAgICAgICB9KTsgLy8gRmFpbGVkIGNhbGxiYWNrXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJFcnJvcjogY291bGQgbm90IGdldCBub3RpZmljYXRpb25JZFwiKTtcblx0ICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2soKTtcblx0ICAgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICAvLyBIVFRQICYgSFRUUFMgLSBSdW5zIG9uIG1haW4gcGFnZVxuXHQgIF9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZTogZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2UoZXZlbnQpIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5kZWJ1ZyhcIl9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZTogXCIsIGV2ZW50KTtcblx0XG5cdCAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucyA9PSB1bmRlZmluZWQpIHJldHVybjtcblx0XG5cdCAgICBpZiAoZmFsc2UpIHJldHVybjtcblx0XG5cdCAgICBpZiAoZXZlbnQuZGF0YS5vbmVTaWduYWxJbml0UGFnZVJlYWR5KSB7XG5cdCAgICAgIC8vIE9ubHkgY2FsbGVkIG9uIEhUVFAgcGFnZXMuXG5cdCAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZXMoXCJPcHRpb25zXCIpLnRoZW4oZnVuY3Rpb24gX2xpc3RlbmVyX3JlY2VpdmVNZXNzYWdlKG9wdGlvbnMpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJjdXJyZW50IG9wdGlvbnNcIiwgb3B0aW9ucyk7XG5cdCAgICAgICAgaWYgKCFvcHRpb25zLmRlZmF1bHRVcmwpIG9wdGlvbnMuZGVmYXVsdFVybCA9IGRvY3VtZW50LlVSTDtcblx0ICAgICAgICBpZiAoIW9wdGlvbnMuZGVmYXVsdFRpdGxlKSBvcHRpb25zLmRlZmF1bHRUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuXHRcblx0ICAgICAgICBvcHRpb25zLnBhcmVudF91cmwgPSBkb2N1bWVudC5VUkw7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKFwiUG9zdGluZyBtZXNzYWdlIHRvIHBvcnRbMF1cIiwgZXZlbnQucG9ydHNbMF0pO1xuXHQgICAgICAgIGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHsgaW5pdE9wdGlvbnM6IG9wdGlvbnMgfSk7XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2U6JywgZSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIGV2ZW50RGF0YSA9IGV2ZW50LmRhdGEub25lU2lnbmFsSW5pdFBhZ2VSZWFkeTtcblx0XG5cdCAgICAgIGlmIChldmVudERhdGEuaXNJZnJhbWUpIE9uZVNpZ25hbC5faWZyYW1lUG9ydCA9IGV2ZW50LnBvcnRzWzBdO1xuXHRcblx0ICAgICAgaWYgKGV2ZW50RGF0YS51c2VySWQpIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwidXNlcklkXCIsIGlkOiBldmVudERhdGEudXNlcklkIH0pO1xuXHQgICAgICBpZiAoZXZlbnREYXRhLnJlZ2lzdHJhdGlvbklkKSBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwgeyB0eXBlOiBcInJlZ2lzdHJhdGlvbklkXCIsIGlkOiBldmVudERhdGEucmVnaXN0cmF0aW9uSWQgfSk7XG5cdFxuXHQgICAgICBPbmVTaWduYWwuX2ZpcmVOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2soZXZlbnREYXRhLmlzUHVzaEVuYWJsZWQpO1xuXHQgICAgICBPbmVTaWduYWwuX3NlbmRVbnNlbnRUYWdzKCk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEuY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24pIC8vIFN1YmRvbWFpbiBPbmx5XG5cdCAgICAgIE9uZVNpZ25hbC5fZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayhldmVudC5kYXRhLmN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uLmlzUHVzaEVuYWJsZWQpO2Vsc2UgaWYgKGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlKSB7XG5cdCAgICAgIC8vIE9ubHkgY2FsbGVkIG9uIEhUVFAgcGFnZXMuXG5cdCAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG5cdCAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwidXNlcklkXCIsIGlkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS51c2VySWQgfSk7XG5cdCAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwicmVnaXN0cmF0aW9uSWRcIiwgaWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnJlZ2lzdHJhdGlvbklkIH0pO1xuXHRcblx0ICAgICAgaWYgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICB3aGlsZSAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKTtcblx0ICAgICAgICAgIGN1cnJfY2FsbGJhY2soe1xuXHQgICAgICAgICAgICB1c2VySWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnVzZXJJZCxcblx0ICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnJlZ2lzdHJhdGlvbklkXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgT25lU2lnbmFsLl9zZW5kVW5zZW50VGFncygpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBzUHJvbXB0QWNjZXB0ZWQpIHtcblx0ICAgICAgLy8gSFRUUFMgT25seVxuXHQgICAgICBPbmVTaWduYWwucmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucygpO1xuXHQgICAgICBPbmVTaWduYWwuc2V0U3Vic2NyaXB0aW9uKHRydWUpO1xuXHQgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG5cdCAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcblx0ICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZ3JhbnRlZCcpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBzUHJvbXB0Q2FuY2VsZWQpIHtcblx0ICAgICAgLy8gSFRUUFMgT25seVxuXHQgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG5cdCAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcblx0ICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZGVuaWVkJyk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEuaHR0cFByb21wdEFjY2VwdGVkKSB7XG5cdCAgICAgIC8vIEhUVFAgT25seVxuXHQgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKCdncmFudGVkJyk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEuaHR0cFByb21wdENhbmNlbGVkKSB7XG5cdCAgICAgIC8vIEhUVFAgT25seVxuXHQgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkKCdkZW5pZWQnKTtcblx0ICAgIH0gZWxzZSBpZiAoT25lU2lnbmFsLl9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2spIC8vIEhUVFAgYW5kIEhUVFBTXG5cdCAgICAgIE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrKGV2ZW50LmRhdGEpO1xuXHQgIH0sXG5cdFxuXHQgIGFkZExpc3RlbmVyRm9yTm90aWZpY2F0aW9uT3BlbmVkOiBmdW5jdGlvbiBhZGRMaXN0ZW5lckZvck5vdGlmaWNhdGlvbk9wZW5lZChjYWxsYmFjaykge1xuXHQgICAgT25lU2lnbmFsLl9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0ICAgIGlmICh3aW5kb3cpIHtcblx0ICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIGRvY3VtZW50LlVSTCkudGhlbihmdW5jdGlvbiAobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0KSB7XG5cdCAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9kZWxldGVEYlZhbHVlKFwiTm90aWZpY2F0aW9uT3BlbmVkXCIsIGRvY3VtZW50LlVSTCk7XG5cdCAgICAgICAgICBPbmVTaWduYWwuX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjayhub3RpZmljYXRpb25PcGVuZWRSZXN1bHQuZGF0YSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIDtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICAvLyBTdWJkb21haW4gLSBGaXJlZCBmcm9tIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBpZnJhbWUuXG5cdCAgX2ZpcmVOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2s6IGZ1bmN0aW9uIF9maXJlTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKG5vdGlmUGVybXNzaW9uKSB7XG5cdCAgICBpZiAoT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjaykge1xuXHQgICAgICBPbmVTaWduYWwuX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKG5vdGlmUGVybXNzaW9uKTtcblx0ICAgICAgT25lU2lnbmFsLl9pc05vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgZ2V0SWRzQXZhaWxhYmxlOiBmdW5jdGlvbiBnZXRJZHNBdmFpbGFibGUoY2FsbGJhY2spIHtcblx0ICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdFxuXHQgICAgT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucHVzaChjYWxsYmFjayk7XG5cdFxuXHQgICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpXSkudGhlbihmdW5jdGlvbiBnZXRJZHNBdmFpbGFibGVfR290VXNlclJlZ2lzdHJhdGlvbklkcyhyZXN1bHRzKSB7XG5cdCAgICAgIHZhciB1c2VySWRSZXN1bHQgPSByZXN1bHRzWzBdO1xuXHQgICAgICB2YXIgcmVnaXN0cmF0aW9uSWRSZXN1bHQgPSByZXN1bHRzWzFdO1xuXHRcblx0ICAgICAgaWYgKHVzZXJJZFJlc3VsdCkge1xuXHQgICAgICAgIGlmIChyZWdpc3RyYXRpb25JZFJlc3VsdCkge1xuXHQgICAgICAgICAgd2hpbGUgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKTtcblx0ICAgICAgICAgICAgY3Vycl9jYWxsYmFjayh7XG5cdCAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWRSZXN1bHQuaWQsXG5cdCAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IHJlZ2lzdHJhdGlvbklkUmVzdWx0LmlkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB3aGlsZSAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgdmFyIGN1cnJfY2FsbGJhY2sgPSBPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5wb3AoKTtcblx0ICAgICAgICAgIGN1cnJfY2FsbGJhY2soeyB1c2VySWQ6IHVzZXJJZFJlc3VsdC5pZCwgcmVnaXN0cmF0aW9uSWQ6IG51bGwgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICAgIDtcblx0ICB9LFxuXHRcblx0ICBnZXRUYWdzOiBmdW5jdGlvbiBnZXRUYWdzKGNhbGxiYWNrKSB7XG5cdCAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKS50aGVuKGZ1bmN0aW9uICh1c2VySWRSZXN1bHQpIHtcblx0ICAgICAgaWYgKHVzZXJJZFJlc3VsdCkge1xuXHQgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwicGxheWVycy9cIiArIHVzZXJJZFJlc3VsdC5pZCwgJ0dFVCcsIG51bGwsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UudGFncyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgIH0pO1xuXHQgICAgO1xuXHQgIH0sXG5cdFxuXHQgIGlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkOiBmdW5jdGlvbiBpc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZChjYWxsYmFjaykge1xuXHQgICAgaWYgKCEoMCwgX3V0aWxzLmlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQpKCkpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0Lndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwdXNoIG5vdGlmaWNhdGlvbnMuXCIpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gSWYgU3ViZG9tYWluXG5cdCAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICYmICEoMCwgX3V0aWxzLmlzQnJvd3NlclNhZmFyaSkoKSkge1xuXHQgICAgICBPbmVTaWduYWwuX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrID0gY2FsbGJhY2s7XG5cdCAgICAgIGlmIChPbmVTaWduYWwuX2lmcmFtZVBvcnQpIE9uZVNpZ25hbC5faWZyYW1lUG9ydC5wb3N0TWVzc2FnZSh7IGdldE5vdGlmaWNhdGlvblBlcm1pc3Npb246IHRydWUgfSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBJZiBIVFRQU1xuXHRcblx0ICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdyZWdpc3RyYXRpb25JZCcpLCBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJyldKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG5cdCAgICAgIHZhciByZWdpc3RyYXRpb25JZFJlc3VsdCA9IHJlc3VsdHNbMF07XG5cdCAgICAgIHZhciBzdWJzY3JpcHRpb25SZXN1bHQgPSByZXN1bHRzWzFdO1xuXHRcblx0ICAgICAgaWYgKHJlZ2lzdHJhdGlvbklkUmVzdWx0KSB7XG5cdCAgICAgICAgaWYgKHN1YnNjcmlwdGlvblJlc3VsdCAmJiAhc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlKSByZXR1cm4gY2FsbGJhY2soZmFsc2UpO1xuXHRcblx0ICAgICAgICBjYWxsYmFjayhOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImdyYW50ZWRcIik7XG5cdCAgICAgIH0gZWxzZSBjYWxsYmFjayhmYWxzZSk7XG5cdCAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICBfZ2V0Tm90aWZpY2F0aW9uVHlwZXM6IGZ1bmN0aW9uIF9nZXROb3RpZmljYXRpb25UeXBlcyhjYWxsYmFjaykge1xuXHQgICAgT25lU2lnbmFsLl9nZXRTdWJzY3JpcHRpb24oZnVuY3Rpb24gKGRiX3N1YnNjcmlwdGlvblNldCkge1xuXHQgICAgICBjYWxsYmFjayhkYl9zdWJzY3JpcHRpb25TZXQgPyAxIDogLTIpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgc2V0U3Vic2NyaXB0aW9uOiBmdW5jdGlvbiBzZXRTdWJzY3JpcHRpb24obmV3U3Vic2NyaXB0aW9uKSB7XG5cdCAgICBpZiAoT25lU2lnbmFsLl9pZnJhbWVQb3J0KSBPbmVTaWduYWwuX2lmcmFtZVBvcnQucG9zdE1lc3NhZ2UoeyBzZXRTdWJkb21haW5TdGF0ZTogeyBzZXRTdWJzY3JpcHRpb246IG5ld1N1YnNjcmlwdGlvbiB9IH0pO2Vsc2Uge1xuXHQgICAgICBPbmVTaWduYWwuX2dldFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoY3VycmVudFN1YnNjcmlwdGlvbikge1xuXHQgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaXB0aW9uICE9IG5ld1N1YnNjcmlwdGlvbikge1xuXHQgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiT3B0aW9uc1wiLCB7IGtleTogXCJzdWJzY3JpcHRpb25cIiwgdmFsdWU6IG5ld1N1YnNjcmlwdGlvbiB9KTtcblx0ICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpLnRoZW4oZnVuY3Rpb24gKHVzZXJJZFJlc3VsdCkge1xuXHQgICAgICAgICAgICBpZiAodXNlcklkUmVzdWx0KSBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcInBsYXllcnMvXCIgKyB1c2VySWRSZXN1bHQuaWQsIFwiUFVUXCIsIHtcblx0ICAgICAgICAgICAgICBhcHBfaWQ6IE9uZVNpZ25hbC5fYXBwX2lkLFxuXHQgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbl90eXBlczogbmV3U3Vic2NyaXB0aW9uID8gMSA6IC0yXG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHNldFN1YnNjcmlwdGlvblNldENhbGxiYWNrKCkge1xuXHQgICAgICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2ludGVybmFsU3Vic2NyaXB0aW9uU2V0KG5ld1N1YnNjcmlwdGlvbik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBfZ2V0U3Vic2NyaXB0aW9uOiBmdW5jdGlvbiBfZ2V0U3Vic2NyaXB0aW9uKGNhbGxiYWNrKSB7XG5cdCAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJykudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uUmVzdWx0KSB7XG5cdCAgICAgIGNhbGxiYWNrKCEoc3Vic2NyaXB0aW9uUmVzdWx0ICYmIHN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSA9PSBmYWxzZSkpO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgfSk7XG5cdCAgICA7XG5cdCAgfSxcblx0XG5cdCAgX3NhZmVQb3N0TWVzc2FnZTogZnVuY3Rpb24gX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCBkYXRhLCB0YXJnZXRPcmlnaW4sIHJlY2VpdmVyKSB7XG5cdCAgICB2YXIgdE9yaWdpbiA9IHRhcmdldE9yaWdpbi50b0xvd2VyQ2FzZSgpO1xuXHRcblx0ICAgIC8vIElmIHdlIGFyZSB0cnlpbmcgdG8gdGFyZ2V0IGEgaHR0cCBzaXRlIGFsbG93IHRoZSBodHRwcyB2ZXJzaW9uLiAody8gb3Igdy9vICd3d3d3LicgdG9vKVxuXHQgICAgaWYgKHRPcmlnaW4uc3RhcnRzV2l0aChcImh0dHA6Ly9cIikpIHtcblx0ICAgICAgdmFyIHF1ZXJ5RGljdCA9IHt9O1xuXHQgICAgICBsb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcXVlcnlEaWN0W2l0ZW0uc3BsaXQoXCI9XCIpWzBdXSA9IGl0ZW0uc3BsaXQoXCI9XCIpWzFdO1xuXHQgICAgICB9KTtcblx0ICAgICAgdmFyIHZhbGlkUHJlVVJMUmVnZXggPSAvXmh0dHAoc3wpOlxcL1xcLyh3d3dcXC58KS87XG5cdCAgICAgIHRPcmlnaW4gPSB0T3JpZ2luLnJlcGxhY2UodmFsaWRQcmVVUkxSZWdleCwgcXVlcnlEaWN0W1wiaG9zdFBhZ2VQcm90b2NvbFwiXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHJlY2VpdmVyKSBjcmVhdG9yLnBvc3RNZXNzYWdlKGRhdGEsIHRPcmlnaW4sIHJlY2VpdmVyKTtlbHNlIGNyZWF0b3IucG9zdE1lc3NhZ2UoZGF0YSwgdE9yaWdpbik7XG5cdCAgfSxcblx0XG5cdCAgX3Byb2Nlc3NfcHVzaGVzOiBmdW5jdGlvbiBfcHJvY2Vzc19wdXNoZXMoYXJyYXkpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgT25lU2lnbmFsLnB1c2goYXJyYXlbaV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIHB1c2g6IGZ1bmN0aW9uIHB1c2goaXRlbSkge1xuXHQgICAgaWYgKHR5cGVvZiBpdGVtID09IFwiZnVuY3Rpb25cIikgaXRlbSgpO2Vsc2Uge1xuXHQgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gaXRlbS5zaGlmdCgpO1xuXHQgICAgICBPbmVTaWduYWxbZnVuY3Rpb25OYW1lXS5hcHBseShudWxsLCBpdGVtKTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvLyBJZiBpbXBvcnRlZCBvbiB5b3VyIHBhZ2UuXG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgT25lU2lnbmFsLl9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZSwgZmFsc2UpO2Vsc2Uge1xuXHQgIC8vIGlmIGltcG9ydGVkIGZyb20gdGhlIHNlcnZpY2Ugd29ya2VyLlxuXHQgIGltcG9ydFNjcmlwdHMoJ2h0dHBzOi8vY2RuLm9uZXNpZ25hbC5jb20vc2Rrcy9zZXJ2aWNld29ya2VyLWNhY2hlLXBvbHlmaWxsLmpzJyk7XG5cdFxuXHQgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgT25lU2lnbmFsLl9oYW5kbGVHQ01NZXNzYWdlKHNlbGYsIGV2ZW50KTsgLy8gQ2FuIGhhbmRsZSBtZXNzYWdlcyBmcm9tIGFueSBicm93c2VyIChleGNlcHQgU2FmYXJpKSwgcmVuYW1lIG1ldGhvZFxuXHQgIH0pO1xuXHQgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIC8vIEFsc28gb25seSBieSBTV1xuXHQgICAgT25lU2lnbmFsLl9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWQoZXZlbnQpO1xuXHQgIH0pO1xuXHRcblx0ICB2YXIgaXNTV29uU3ViZG9tYWluID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvaHR0cHNcXDpcXC9cXC8uKlxcLm9uZXNpZ25hbC5jb21cXC9zZGtzXFwvLykgIT0gbnVsbDtcblx0ICBpZiAodHJ1ZSkgaXNTV29uU3ViZG9tYWluID0gdHJ1ZTtcblx0XG5cdCAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoXCJPbmVTaWduYWwgSW5zdGFsbGVkIHNlcnZpY2Ugd29ya2VyOiBcIiArIE9uZVNpZ25hbC5fVkVSU0lPTik7XG5cdCAgICBpZiAoc2VsZi5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKFwiT25lU2lnbmFsU0RLV29ya2VyLmpzXCIpID4gLTEpIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwiV09SS0VSMV9PTkVfU0lHTkFMX1NXX1ZFUlNJT05cIiwgaWQ6IE9uZVNpZ25hbC5fVkVSU0lPTiB9KTtlbHNlIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7IHR5cGU6IFwiV09SS0VSMl9PTkVfU0lHTkFMX1NXX1ZFUlNJT05cIiwgaWQ6IE9uZVNpZ25hbC5fVkVSU0lPTiB9KTtcblx0XG5cdCAgICBpZiAoaXNTV29uU3ViZG9tYWluKSB7XG5cdCAgICAgIGV2ZW50LndhaXRVbnRpbChjYWNoZXMub3BlbihcIk9uZVNpZ25hbF9cIiArIE9uZVNpZ25hbC5fVkVSU0lPTikudGhlbihmdW5jdGlvbiAoY2FjaGUpIHtcblx0ICAgICAgICByZXR1cm4gY2FjaGUuYWRkQWxsKFsnL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHBJZnJhbWUnLCAnL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHBJZnJhbWU/c2Vzc2lvbj0qJywgJy9zZGtzL21hbmlmZXN0X2pzb24nXSk7XG5cdCAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIGlmIChpc1NXb25TdWJkb21haW4pIHtcblx0ICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgZXZlbnQucmVzcG9uZFdpdGgoY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgICAgLy8gQ2FjaGUgaGl0IC0gcmV0dXJuIHJlc3BvbnNlXG5cdCAgICAgICAgaWYgKHJlc3BvbnNlKSByZXR1cm4gcmVzcG9uc2U7XG5cdFxuXHQgICAgICAgIHJldHVybiBmZXRjaChldmVudC5yZXF1ZXN0KTtcblx0ICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgIH0pKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPbmVTaWduYWw7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSlcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG5cdChmdW5jdGlvbigpIHtcblx0XG5cdChmdW5jdGlvbigpIHtcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHQgIGlmIChzZWxmLmZldGNoKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuXHQgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHQgICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG5cdCAgICB9XG5cdCAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcblx0ICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcblx0ICAgIHRoaXMubWFwID0ge31cblx0XG5cdCAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcblx0ICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0sIHRoaXMpXG5cdFxuXHQgICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG5cdCAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcblx0ICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG5cdCAgICB2YXIgbGlzdCA9IHRoaXMubWFwW25hbWVdXG5cdCAgICBpZiAoIWxpc3QpIHtcblx0ICAgICAgbGlzdCA9IFtdXG5cdCAgICAgIHRoaXMubWFwW25hbWVdID0gbGlzdFxuXHQgICAgfVxuXHQgICAgbGlzdC5wdXNoKHZhbHVlKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cblx0ICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gfHwgW11cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gW25vcm1hbGl6ZVZhbHVlKHZhbHVlKV1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuXHQgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5tYXApLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcylcblx0ICAgICAgfSwgdGhpcylcblx0ICAgIH0sIHRoaXMpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG5cdCAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuXHQgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG5cdCAgICB9XG5cdCAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuXHQgICAgICB9XG5cdCAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG5cdCAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcblx0ICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG5cdCAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuXHQgICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG5cdCAgfVxuXHRcblx0ICB2YXIgc3VwcG9ydCA9IHtcblx0ICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBuZXcgQmxvYigpO1xuXHQgICAgICAgIHJldHVybiB0cnVlXG5cdCAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9KSgpLFxuXHQgICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcblx0ICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEJvZHkoKSB7XG5cdCAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2Vcblx0XG5cdFxuXHQgICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG5cdCAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuXHQgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cblx0ICAgICAgICAvLyBSZWNlaXZpbmcgQXJyYXlCdWZmZXJzIGhhcHBlbnMgdmlhIEJsb2JzLCBpbnN0ZWFkLlxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICBpZiAocmVqZWN0ZWQpIHtcblx0ICAgICAgICAgIHJldHVybiByZWplY3RlZFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Jylcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuXHQgICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXNcblx0ICB9XG5cdFxuXHQgIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuXHQgIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcblx0ICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcblx0ICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0ICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cdCAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkpIHtcblx0ICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuXHQgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcblx0ICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcblx0ICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG5cdCAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcblx0ICAgICAgaWYgKCFib2R5KSB7XG5cdCAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuXHQgICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnVybCA9IGlucHV0XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcblx0ICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuXHQgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG5cdCAgICB9XG5cdCAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcblx0ICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuXHQgICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblx0XG5cdCAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcblx0ICAgIH1cblx0ICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG5cdCAgfVxuXHRcblx0ICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuXHQgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuXHQgICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG5cdCAgICAgIGlmIChieXRlcykge1xuXHQgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jylcblx0ICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgICByZXR1cm4gZm9ybVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaGVhZGVycyh4aHIpIHtcblx0ICAgIHZhciBoZWFkID0gbmV3IEhlYWRlcnMoKVxuXHQgICAgdmFyIHBhaXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnRyaW0oKS5zcGxpdCgnXFxuJylcblx0ICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG5cdCAgICAgIHZhciBzcGxpdCA9IGhlYWRlci50cmltKCkuc3BsaXQoJzonKVxuXHQgICAgICB2YXIga2V5ID0gc3BsaXQuc2hpZnQoKS50cmltKClcblx0ICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuXHQgICAgICBoZWFkLmFwcGVuZChrZXksIHZhbHVlKVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBoZWFkXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cdFxuXHQgIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgb3B0aW9ucyA9IHt9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG5cdCAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcblx0ICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcblx0ICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcblx0ICAgIHRoaXMuc3RhdHVzVGV4dCA9IG9wdGlvbnMuc3RhdHVzVGV4dFxuXHQgICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcblx0ICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcblx0ICB9XG5cdFxuXHQgIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cdFxuXHQgIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuXHQgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuXHQgICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG5cdCAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG5cdCAgICAgIHVybDogdGhpcy51cmxcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcblx0ICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG5cdCAgICByZXR1cm4gcmVzcG9uc2Vcblx0ICB9XG5cdFxuXHQgIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXHRcblx0ICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG5cdCAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG5cdCAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcblx0ICB9XG5cdFxuXHQgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG5cdCAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcblx0ICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG5cdFxuXHQgIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICB2YXIgcmVxdWVzdFxuXHQgICAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkgJiYgIWluaXQpIHtcblx0ICAgICAgICByZXF1ZXN0ID0gaW5wdXRcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXHRcblx0ICAgICAgZnVuY3Rpb24gcmVzcG9uc2VVUkwoKSB7XG5cdCAgICAgICAgaWYgKCdyZXNwb25zZVVSTCcgaW4geGhyKSB7XG5cdCAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcblx0ICAgICAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHhoci5nZXRSZXNwb25zZUhlYWRlcignWC1SZXF1ZXN0LVVSTCcpXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgc3RhdHVzID0gKHhoci5zdGF0dXMgPT09IDEyMjMpID8gMjA0IDogeGhyLnN0YXR1c1xuXHQgICAgICAgIGlmIChzdGF0dXMgPCAxMDAgfHwgc3RhdHVzID4gNTk5KSB7XG5cdCAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuXHQgICAgICAgICAgcmV0dXJuXG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBvcHRpb25zID0ge1xuXHQgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG5cdCAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcblx0ICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoeGhyKSxcblx0ICAgICAgICAgIHVybDogcmVzcG9uc2VVUkwoKVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcblx0ICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cdFxuXHQgICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG5cdCAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcblx0ICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0pXG5cdFxuXHQgICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuXHQgICAgfSlcblx0ICB9XG5cdCAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblx0fSkoKTtcblx0XG5cdFxuXHQvKioqIEVYUE9SVFMgRlJPTSBleHBvcnRzLWxvYWRlciAqKiovXG5cdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmZldGNoXG5cdH0uY2FsbChnbG9iYWwpKTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuSE9TVF9VUkwgPSBleHBvcnRzLlBST0RfSE9TVCA9IGV4cG9ydHMuREVWX0hPU1QgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBERVZfSE9TVCA9IGV4cG9ydHMuREVWX0hPU1QgPSAnaHR0cHM6Ly8xOTIuMTY4LjEuMjA2OjMwMDAnO1xuXHR2YXIgUFJPRF9IT1NUID0gZXhwb3J0cy5QUk9EX0hPU1QgPSAnaHR0cHM6Ly9vbmVzaWduYWwuY29tJztcblx0dmFyIEhPU1RfVVJMID0gZXhwb3J0cy5IT1NUX1VSTCA9ICgoMCwgX3V0aWxzLmlzRGV2KSgpID8gREVWX0hPU1QgOiBQUk9EX0hPU1QpICsgJy9hcGkvdjEvJztcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXHRleHBvcnRzLmdldEh1bWFuaXplZFRpbWVEdXJhdGlvbiA9IGdldEh1bWFuaXplZFRpbWVEdXJhdGlvbjtcblx0ZXhwb3J0cy5pc0Jyb3dzZXJFbnYgPSBpc0Jyb3dzZXJFbnY7XG5cdGV4cG9ydHMuaXNEZXYgPSBpc0Rldjtcblx0ZXhwb3J0cy5pc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkID0gaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZDtcblx0ZXhwb3J0cy5pc0Jyb3dzZXJTYWZhcmkgPSBpc0Jyb3dzZXJTYWZhcmk7XG5cdGV4cG9ydHMuaXNTdXBwb3J0ZWRGaXJlRm94ID0gaXNTdXBwb3J0ZWRGaXJlRm94O1xuXHRleHBvcnRzLmlzQnJvd3NlckZpcmVmb3ggPSBpc0Jyb3dzZXJGaXJlZm94O1xuXHRleHBvcnRzLmdldEZpcmVmb3hWZXJzaW9uID0gZ2V0RmlyZWZveFZlcnNpb247XG5cdGV4cG9ydHMuaXNTdXBwb3J0ZWRTYWZhcmkgPSBpc1N1cHBvcnRlZFNhZmFyaTtcblx0ZXhwb3J0cy5yZW1vdmVEb21FbGVtZW50ID0gcmVtb3ZlRG9tRWxlbWVudDtcblx0ZXhwb3J0cy5hZGREb21FbGVtZW50ID0gYWRkRG9tRWxlbWVudDtcblx0ZXhwb3J0cy5hZGRDc3NDbGFzcyA9IGFkZENzc0NsYXNzO1xuXHRleHBvcnRzLnJlbW92ZUNzc0NsYXNzID0gcmVtb3ZlQ3NzQ2xhc3M7XG5cdGV4cG9ydHMub24gPSBvbjtcblx0ZXhwb3J0cy5vbmNlID0gb25jZTtcblx0ZXhwb3J0cy5vZmYgPSBvZmY7XG5cdFxuXHR2YXIgX2xvZ2xldmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbG9nbGV2ZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nbGV2ZWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBpc0FycmF5KHZhcmlhYmxlKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YXJpYWJsZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEh1bWFuaXplZFRpbWVEdXJhdGlvbih0aW1lRHVyYXRpb25Jbk1pbGxpc2Vjb25kcykge1xuXHQgIGZ1bmN0aW9uIGFkZFBsdXJhbFN1ZmZpeChudW1iZXIpIHtcblx0ICAgIHJldHVybiBudW1iZXIgPiAxID8gJ3MnIDogJyc7XG5cdCAgfVxuXHQgIHZhciBkdXJhdGlvbiA9IE1hdGguZmxvb3IodGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMgLyAxMDAwKTtcblx0XG5cdCAgdmFyIHllYXJzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDMxNTM2MDAwKTtcblx0ICBpZiAoeWVhcnMpIHJldHVybiB5ZWFycyArICcgeWVhcicgKyBhZGRQbHVyYWxTdWZmaXgoeWVhcnMpO1xuXHRcblx0ICB2YXIgZGF5cyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uICU9IDMxNTM2MDAwKSAvIDg2NDAwKTtcblx0ICBpZiAoZGF5cykgcmV0dXJuIGRheXMgKyAnIGRheScgKyBhZGRQbHVyYWxTdWZmaXgoZGF5cyk7XG5cdFxuXHQgIHZhciBob3VycyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uICU9IDg2NDAwKSAvIDM2MDApO1xuXHQgIGlmIChob3VycykgcmV0dXJuIGhvdXJzICsgJyBob3VyJyArIGFkZFBsdXJhbFN1ZmZpeChob3Vycyk7XG5cdFxuXHQgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gJT0gMzYwMCkgLyA2MCk7XG5cdCAgaWYgKG1pbnV0ZXMpIHJldHVybiBtaW51dGVzICsgJyBtaW51dGUnICsgYWRkUGx1cmFsU3VmZml4KG1pbnV0ZXMpO1xuXHRcblx0ICB2YXIgc2Vjb25kcyA9IGR1cmF0aW9uICUgNjA7XG5cdCAgaWYgKHNlY29uZHMpIHJldHVybiBzZWNvbmRzICsgJyBzZWNvbmQnICsgYWRkUGx1cmFsU3VmZml4KHNlY29uZHMpO1xuXHRcblx0ICByZXR1cm4gJ2p1c3Qgbm93Jztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCcm93c2VyRW52KCkge1xuXHQgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RldigpIHtcblx0ICByZXR1cm4gKHRydWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKCkge1xuXHQgIHZhciBjaHJvbWVWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pO1xuXHRcblx0ICBpZiAoaXNTdXBwb3J0ZWRGaXJlRm94KCkpIHJldHVybiB0cnVlO1xuXHRcblx0ICBpZiAoaXNTdXBwb3J0ZWRTYWZhcmkoKSkgcmV0dXJuIHRydWU7XG5cdFxuXHQgIC8vIENocm9tZSBpcyBub3QgZm91bmQgaW4gYXBwVmVyc2lvbi5cblx0ICBpZiAoIWNocm9tZVZlcnNpb24pIHJldHVybiBmYWxzZTtcblx0XG5cdCAgLy8gTWljcm9zb2Z0IEVkZ2Vcblx0ICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0VkZ2UvKSkgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAvLyBBbmRyb2lkIENocm9tZSBXZWJWaWV3XG5cdCAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC8gd3YvKSkgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAvLyBPcGVyYVxuXHQgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1BSXFwvLykpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgLy8gVGhlIHVzZXIgaXMgb24gaU9TXG5cdCAgaWYgKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgcmV0dXJuIHBhcnNlSW50KGNocm9tZVZlcnNpb25bMV0uc3Vic3RyaW5nKDAsIDIpKSA+IDQxO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0Jyb3dzZXJTYWZhcmkoKSB7XG5cdCAgdmFyIHNhZmFyaVZlcnNpb24gPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vKFswLTldPykuKiBTYWZhcmlcIik7XG5cdCAgcmV0dXJuIHNhZmFyaVZlcnNpb24gIT0gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTdXBwb3J0ZWRGaXJlRm94KCkge1xuXHQgIHZhciBmaXJlRm94VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhGaXJlZm94XFwvKShbMC05XXsyLH1cXC5bMC05XXsxLH0pLyk7XG5cdCAgaWYgKGZpcmVGb3hWZXJzaW9uKSByZXR1cm4gcGFyc2VJbnQoZmlyZUZveFZlcnNpb25bMl0uc3Vic3RyaW5nKDAsIDIpKSA+IDQzO1xuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCcm93c2VyRmlyZWZveCgpIHtcblx0ICB2YXIgZmlyZUZveFZlcnNpb24gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oRmlyZWZveFxcLykoWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pO1xuXHQgIHJldHVybiBmaXJlRm94VmVyc2lvbiAhPSBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRGaXJlZm94VmVyc2lvbigpIHtcblx0ICB2YXIgZmlyZUZveFZlcnNpb24gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oRmlyZWZveFxcLykoWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pO1xuXHQgIGlmIChmaXJlRm94VmVyc2lvbikgcmV0dXJuIHBhcnNlSW50KGZpcmVGb3hWZXJzaW9uWzJdLnN1YnN0cmluZygwLCAyKSk7ZWxzZSByZXR1cm4gLTE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3VwcG9ydGVkU2FmYXJpKCkge1xuXHQgIHZhciBzYWZhcmlWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyhbMC05XT8pLiogU2FmYXJpXCIpO1xuXHQgIGlmIChzYWZhcmlWZXJzaW9uID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0ICBpZiAoL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSByZXR1cm4gZmFsc2U7XG5cdCAgcmV0dXJuIHBhcnNlSW50KHNhZmFyaVZlcnNpb25bMV0pID4gNjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlRG9tRWxlbWVudChzZWxlY3Rvcikge1xuXHQgIHZhciBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblx0ICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGVsc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsc1tpXSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGREb21FbGVtZW50KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBhZGRPcmRlciwgZWxlbWVudEh0bWwpIHtcblx0ICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkuaW5zZXJ0QWRqYWNlbnRIVE1MKGFkZE9yZGVyLCBlbGVtZW50SHRtbCk7ZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSA9PT0gJ29iamVjdCcpIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChhZGRPcmRlciwgZWxlbWVudEh0bWwpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ICsgJyBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZENzc0NsYXNzKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBjc3NDbGFzcykge1xuXHQgIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KS5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzKTtlbHNlIGlmICgodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpID09PSAnb2JqZWN0JykgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgKyAnIG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC4nKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlQ3NzQ2xhc3ModGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGNzc0NsYXNzKSB7XG5cdCAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpLmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3MpO2Vsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkgPT09ICdvYmplY3QnKSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzKTtlbHNlIHRocm93IG5ldyBFcnJvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCArICcgbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgZXZlbnQsIHRhc2spIHtcblx0ICBpZiAoIWV2ZW50KSB7XG5cdCAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyBldmVudDogJywgZXZlbnQpO1xuXHQgIH1cblx0ICBpZiAoIXRhc2spIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIHRhc2s6ICcsIHRhc2spO1xuXHQgIH1cblx0ICBfbG9nbGV2ZWwyLmRlZmF1bHQuZGVidWcoJ0RlYnVnIG1lIGhlcmUuJyk7XG5cdCAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHZhciBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblx0ICAgIGlmIChlbHMubGVuZ3RoID4gMCkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIG9uKGVsc1tpXSwgdGFzayk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzQXJyYXkodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIG9uKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50W2ldLCB0YXNrKTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkgPT09ICdvYmplY3QnKSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0YXNrKTtlbHNlIHRocm93IG5ldyBFcnJvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCArICcgbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbmNlKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBldmVudCwgdGFzaykge1xuXHQgIGlmICghZXZlbnQpIHtcblx0ICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIGV2ZW50OiAnLCBldmVudCk7XG5cdCAgfVxuXHQgIGlmICghdGFzaykge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdDYW5ub3QgY2FsbCBvbigpIHdpdGggbm8gdGFzazogJywgdGFzayk7XG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBvbmNlKGVsc1tpXSwgdGFzayk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzQXJyYXkodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIG9uY2UodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnRbaV0sIHRhc2spO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHZhciB0YXNrV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBpbnRlcm5hbFRhc2tGdW5jdGlvbiA9IGZ1bmN0aW9uIGludGVybmFsVGFza0Z1bmN0aW9uKGUpIHtcblx0ICAgICAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUudHlwZSwgdGFza1dyYXBwZXIpO1xuXHQgICAgICAgIHRhc2soZSk7XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiBpbnRlcm5hbFRhc2tGdW5jdGlvbjtcblx0ICAgIH0pKCk7XG5cdCAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0YXNrV3JhcHBlcik7XG5cdCAgfSBlbHNlIHRocm93IG5ldyBFcnJvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCArICcgbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LicpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZyb20gc2VsZWN0b3IuXG5cdCAqIEBwYXJhbSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCBTZWxlY3RvciB0byB0YXJnZXQgb25lIG9yIG11bHRpcGxlIGVsZW1lbnRzLCBvciBhIHNpbmdsZSBvciBhcnJheSBvZiBET01FbGVtZW50LlxuXHQgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIHRhcmdldCAoZS5nLiAndHJhbnNpdGlvbmVuZCcpXG5cdCAqIEBwYXJhbSB0YXNrIEEgc2luZ2xlIGZ1bmN0aW9uIGNhbGxiYWNrIHRvIHVuYmluZCwgb3IgbGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbCBldmVudCBoYW5kbGVycy5cblx0ICovXG5cdGZ1bmN0aW9uIG9mZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgZXZlbnQsIHRhc2spIHtcblx0ICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFyIGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHQgICAgaWYgKGVscy5sZW5ndGggPiAwKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgb2ZmKGVsc1tpXSwgdGFzayk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlzQXJyYXkodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIG9mZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudFtpXSwgdGFzayk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmICgodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpID09PSAnb2JqZWN0Jykge1xuXHQgICAgaWYgKHRhc2spIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRhc2spO2Vsc2UgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCk7XG5cdCAgfSBlbHNlIHRocm93IG5ldyBFcnJvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCArICcgbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LicpO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKlxyXG5cdCogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcclxuXHQqXHJcblx0KiBDb3B5cmlnaHQgKGMpIDIwMTMgVGltIFBlcnJ5XHJcblx0KiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblx0Ki9cclxuXHQoZnVuY3Rpb24gKHJvb3QsIGRlZmluaXRpb24pIHtcclxuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblx0ICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyAmJiBcImZ1bmN0aW9uXCIgPT09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xyXG5cdCAgICB9IGVsc2UgaWYgKHRydWUpIHtcclxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGRlZmluaXRpb24pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSkpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgcm9vdC5sb2cgPSBkZWZpbml0aW9uKCk7XHJcblx0ICAgIH1cclxuXHR9KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblx0ICAgIHZhciBub29wID0gZnVuY3Rpb24oKSB7fTtcclxuXHQgICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiByZWFsTWV0aG9kKG1ldGhvZE5hbWUpIHtcclxuXHQgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gV2UgY2FuJ3QgYnVpbGQgYSByZWFsIG1ldGhvZCB3aXRob3V0IGEgY29uc29sZSB0byBsb2cgdG9cclxuXHQgICAgICAgIH0gZWxzZSBpZiAoY29uc29sZVttZXRob2ROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgbWV0aG9kTmFtZSk7XHJcblx0ICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGUubG9nICE9PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gYmluZE1ldGhvZChjb25zb2xlLCAnbG9nJyk7XHJcblx0ICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBub29wO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIGJpbmRNZXRob2Qob2JqLCBtZXRob2ROYW1lKSB7XHJcblx0ICAgICAgICB2YXIgbWV0aG9kID0gb2JqW21ldGhvZE5hbWVdO1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBtZXRob2QuYmluZChvYmopO1xyXG5cdCAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgICB0cnkge1xyXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChtZXRob2QsIG9iaik7XHJcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG5cdCAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXHJcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkobWV0aG9kLCBbb2JqLCBhcmd1bWVudHNdKTtcclxuXHQgICAgICAgICAgICAgICAgfTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLy8gdGhlc2UgcHJpdmF0ZSBmdW5jdGlvbnMgYWx3YXlzIG5lZWQgYHRoaXNgIHRvIGJlIHNldCBwcm9wZXJseVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzKG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XHJcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkVHlwZSkge1xyXG5cdCAgICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbCh0aGlzLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2VMb2dnaW5nTWV0aG9kcyhsZXZlbCwgbG9nZ2VyTmFtZSkge1xyXG5cdCAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9nTWV0aG9kcy5sZW5ndGg7IGkrKykge1xyXG5cdCAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gbG9nTWV0aG9kc1tpXTtcclxuXHQgICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdID0gKGkgPCBsZXZlbCkgP1xyXG5cdCAgICAgICAgICAgICAgICBub29wIDpcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5tZXRob2RGYWN0b3J5KG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xyXG5cdCAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuXHQgICAgICAgIHJldHVybiByZWFsTWV0aG9kKG1ldGhvZE5hbWUpIHx8XHJcblx0ICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciBsb2dNZXRob2RzID0gW1xyXG5cdCAgICAgICAgXCJ0cmFjZVwiLFxyXG5cdCAgICAgICAgXCJkZWJ1Z1wiLFxyXG5cdCAgICAgICAgXCJpbmZvXCIsXHJcblx0ICAgICAgICBcIndhcm5cIixcclxuXHQgICAgICAgIFwiZXJyb3JcIlxyXG5cdCAgICBdO1xyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSwgZGVmYXVsdExldmVsLCBmYWN0b3J5KSB7XHJcblx0ICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cdCAgICAgIHZhciBjdXJyZW50TGV2ZWw7XHJcblx0ICAgICAgdmFyIHN0b3JhZ2VLZXkgPSBcImxvZ2xldmVsXCI7XHJcblx0ICAgICAgaWYgKG5hbWUpIHtcclxuXHQgICAgICAgIHN0b3JhZ2VLZXkgKz0gXCI6XCIgKyBuYW1lO1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICBmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsTnVtKSB7XHJcblx0ICAgICAgICAgIHZhciBsZXZlbE5hbWUgPSAobG9nTWV0aG9kc1tsZXZlbE51bV0gfHwgJ3NpbGVudCcpLnRvVXBwZXJDYXNlKCk7XHJcblx0XHJcblx0ICAgICAgICAgIC8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlXHJcblx0ICAgICAgICAgIHRyeSB7XHJcblx0ICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldID0gbGV2ZWxOYW1lO1xyXG5cdCAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XHJcblx0XHJcblx0ICAgICAgICAgIC8vIFVzZSBzZXNzaW9uIGNvb2tpZSBhcyBmYWxsYmFja1xyXG5cdCAgICAgICAgICB0cnkge1xyXG5cdCAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XHJcblx0ICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdG9yYWdlS2V5KSArIFwiPVwiICsgbGV2ZWxOYW1lICsgXCI7XCI7XHJcblx0ICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgZnVuY3Rpb24gZ2V0UGVyc2lzdGVkTGV2ZWwoKSB7XHJcblx0ICAgICAgICAgIHZhciBzdG9yZWRMZXZlbDtcclxuXHRcclxuXHQgICAgICAgICAgdHJ5IHtcclxuXHQgICAgICAgICAgICAgIHN0b3JlZExldmVsID0gd2luZG93LmxvY2FsU3RvcmFnZVtzdG9yYWdlS2V5XTtcclxuXHQgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG5cdFxyXG5cdCAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZExldmVsID09PSB1bmRlZmluZWRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgICB0cnkge1xyXG5cdCAgICAgICAgICAgICAgICAgIHZhciBjb29raWUgPSB3aW5kb3cuZG9jdW1lbnQuY29va2llO1xyXG5cdCAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNvb2tpZS5pbmRleE9mKFxyXG5cdCAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIik7XHJcblx0ICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZExldmVsID0gL14oW147XSspLy5leGVjKGNvb2tpZS5zbGljZShsb2NhdGlvbikpWzFdO1xyXG5cdCAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cclxuXHQgICAgICAgICAgfVxyXG5cdFxyXG5cdCAgICAgICAgICAvLyBJZiB0aGUgc3RvcmVkIGxldmVsIGlzIG5vdCB2YWxpZCwgdHJlYXQgaXQgYXMgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxyXG5cdCAgICAgICAgICBpZiAoc2VsZi5sZXZlbHNbc3RvcmVkTGV2ZWxdID09PSB1bmRlZmluZWQpIHtcclxuXHQgICAgICAgICAgICAgIHN0b3JlZExldmVsID0gdW5kZWZpbmVkO1xyXG5cdCAgICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICAgIHJldHVybiBzdG9yZWRMZXZlbDtcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgLypcclxuXHQgICAgICAgKlxyXG5cdCAgICAgICAqIFB1YmxpYyBBUElcclxuXHQgICAgICAgKlxyXG5cdCAgICAgICAqL1xyXG5cdFxyXG5cdCAgICAgIHNlbGYubGV2ZWxzID0geyBcIlRSQUNFXCI6IDAsIFwiREVCVUdcIjogMSwgXCJJTkZPXCI6IDIsIFwiV0FSTlwiOiAzLFxyXG5cdCAgICAgICAgICBcIkVSUk9SXCI6IDQsIFwiU0lMRU5UXCI6IDV9O1xyXG5cdFxyXG5cdCAgICAgIHNlbGYubWV0aG9kRmFjdG9yeSA9IGZhY3RvcnkgfHwgZGVmYXVsdE1ldGhvZEZhY3Rvcnk7XHJcblx0XHJcblx0ICAgICAgc2VsZi5nZXRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgcmV0dXJuIGN1cnJlbnRMZXZlbDtcclxuXHQgICAgICB9O1xyXG5cdFxyXG5cdCAgICAgIHNlbGYuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwsIHBlcnNpc3QpIHtcclxuXHQgICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJzdHJpbmdcIiAmJiBzZWxmLmxldmVsc1tsZXZlbC50b1VwcGVyQ2FzZSgpXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0ICAgICAgICAgICAgICBsZXZlbCA9IHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwibnVtYmVyXCIgJiYgbGV2ZWwgPj0gMCAmJiBsZXZlbCA8PSBzZWxmLmxldmVscy5TSUxFTlQpIHtcclxuXHQgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IGxldmVsO1xyXG5cdCAgICAgICAgICAgICAgaWYgKHBlcnNpc3QgIT09IGZhbHNlKSB7ICAvLyBkZWZhdWx0cyB0byB0cnVlXHJcblx0ICAgICAgICAgICAgICAgICAgcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbCk7XHJcblx0ICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzZWxmLCBsZXZlbCwgbmFtZSk7XHJcblx0ICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09IHVuZGVmaW5lZFR5cGUgJiYgbGV2ZWwgPCBzZWxmLmxldmVscy5TSUxFTlQpIHtcclxuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xyXG5cdCAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgICAgICAgdGhyb3cgXCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIiArIGxldmVsO1xyXG5cdCAgICAgICAgICB9XHJcblx0ICAgICAgfTtcclxuXHRcclxuXHQgICAgICBzZWxmLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xyXG5cdCAgICAgICAgICBpZiAoIWdldFBlcnNpc3RlZExldmVsKCkpIHtcclxuXHQgICAgICAgICAgICAgIHNlbGYuc2V0TGV2ZWwobGV2ZWwsIGZhbHNlKTtcclxuXHQgICAgICAgICAgfVxyXG5cdCAgICAgIH07XHJcblx0XHJcblx0ICAgICAgc2VsZi5lbmFibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XHJcblx0ICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoc2VsZi5sZXZlbHMuVFJBQ0UsIHBlcnNpc3QpO1xyXG5cdCAgICAgIH07XHJcblx0XHJcblx0ICAgICAgc2VsZi5kaXNhYmxlQWxsID0gZnVuY3Rpb24ocGVyc2lzdCkge1xyXG5cdCAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlNJTEVOVCwgcGVyc2lzdCk7XHJcblx0ICAgICAgfTtcclxuXHRcclxuXHQgICAgICAvLyBJbml0aWFsaXplIHdpdGggdGhlIHJpZ2h0IGxldmVsXHJcblx0ICAgICAgdmFyIGluaXRpYWxMZXZlbCA9IGdldFBlcnNpc3RlZExldmVsKCk7XHJcblx0ICAgICAgaWYgKGluaXRpYWxMZXZlbCA9PSBudWxsKSB7XHJcblx0ICAgICAgICAgIGluaXRpYWxMZXZlbCA9IGRlZmF1bHRMZXZlbCA9PSBudWxsID8gXCJXQVJOXCIgOiBkZWZhdWx0TGV2ZWw7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIHNlbGYuc2V0TGV2ZWwoaW5pdGlhbExldmVsLCBmYWxzZSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLypcclxuXHQgICAgICpcclxuXHQgICAgICogUGFja2FnZS1sZXZlbCBBUElcclxuXHQgICAgICpcclxuXHQgICAgICovXHJcblx0XHJcblx0ICAgIHZhciBkZWZhdWx0TG9nZ2VyID0gbmV3IExvZ2dlcigpO1xyXG5cdFxyXG5cdCAgICB2YXIgX2xvZ2dlcnNCeU5hbWUgPSB7fTtcclxuXHQgICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXIgPSBmdW5jdGlvbiBnZXRMb2dnZXIobmFtZSkge1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUgPT09IFwiXCIpIHtcclxuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci5cIik7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICB2YXIgbG9nZ2VyID0gX2xvZ2dlcnNCeU5hbWVbbmFtZV07XHJcblx0ICAgICAgICBpZiAoIWxvZ2dlcikge1xyXG5cdCAgICAgICAgICBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXSA9IG5ldyBMb2dnZXIoXHJcblx0ICAgICAgICAgICAgbmFtZSwgZGVmYXVsdExvZ2dlci5nZXRMZXZlbCgpLCBkZWZhdWx0TG9nZ2VyLm1ldGhvZEZhY3RvcnkpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuXHQgICAgfTtcclxuXHRcclxuXHQgICAgLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXHJcblx0ICAgIHZhciBfbG9nID0gKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUpID8gd2luZG93LmxvZyA6IHVuZGVmaW5lZDtcclxuXHQgICAgZGVmYXVsdExvZ2dlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XHJcblx0ICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSAmJlxyXG5cdCAgICAgICAgICAgICAgIHdpbmRvdy5sb2cgPT09IGRlZmF1bHRMb2dnZXIpIHtcclxuXHQgICAgICAgICAgICB3aW5kb3cubG9nID0gX2xvZztcclxuXHQgICAgICAgIH1cclxuXHRcclxuXHQgICAgICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xyXG5cdCAgICB9O1xyXG5cdFxyXG5cdCAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcclxuXHR9KSk7XHJcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGZldGNoKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYXBpQ2FsbCA9IGFwaUNhbGw7XG5cdGV4cG9ydHMuc2VuZE5vdGlmaWNhdGlvbiA9IHNlbmROb3RpZmljYXRpb247XG5cdFxuXHR2YXIgX3ZhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9sb2dsZXZlbCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2xvZ2xldmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2xldmVsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBhcGlDYWxsKGFjdGlvbiwgbWV0aG9kLCBkYXRhKSB7XG5cdCAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXHQgIGhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04Jyk7XG5cdFxuXHQgIHZhciBjb250ZW50cyA9IHtcblx0ICAgIG1ldGhvZDogbWV0aG9kIHx8ICdOT19NRVRIT0RfU1BFQ0lGSUVEJyxcblx0ICAgIGhlYWRlcnM6IGhlYWRlcnMsXG5cdCAgICBjYWNoZTogJ25vLWNhY2hlJyxcblx0ICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgIGZldGNoKF92YXJzLkhPU1RfVVJMICsgYWN0aW9uLCBjb250ZW50cykudGhlbihmdW5jdGlvbiBzdGF0dXMocmVzcG9uc2UpIHtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSByZXNvbHZlKHJlc3BvbnNlLmpzb24oKSk7ZWxzZSByZWplY3QobmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpKTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIHJlamVjdChlKTtcblx0ICAgIH0pO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZW5kTm90aWZpY2F0aW9uKGFwcElkLCBwbGF5ZXJJZHMsIHRpdGxlcywgY29udGVudHMpIHtcblx0ICB2YXIgcGFyYW1zID0ge1xuXHQgICAgJ2FwcF9pZCc6IGFwcElkLFxuXHQgICAgJ2hlYWRpbmdzJzogdGl0bGVzLFxuXHQgICAgJ2NvbnRlbnRzJzogY29udGVudHMsXG5cdCAgICAnaW5jbHVkZV9wbGF5ZXJfaWRzJzogcGxheWVySWRzLFxuXHQgICAgJ2lzQW55V2ViJzogdHJ1ZSxcblx0ICAgICd1cmwnOiAnamF2YXNjcmlwdDp2b2lkKDApOydcblx0ICB9O1xuXHQgIHJldHVybiBhcGlDYWxsKCdub3RpZmljYXRpb25zJywgJ1BPU1QnLCBwYXJhbXMpO1xuXHR9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSlcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qXG5cdCBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAncm9ja3knKTtcblx0IFtcInJvY2t5XCJdXG5cdCBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAnbW91bnRhaW4nKTtcblx0IFtcInJvY2t5XCIsIFwibW91bnRhaW5cIl1cblx0IExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICduYXRpb25hbCcpO1xuXHQgW1wibW91bnRhaW5cIiwgXCJuYXRpb25hbFwiXVxuXHQgTGltaXRTdG9yZS5wdXQoJ2NvbG9yYWRvJywgJ3BhcmsnKTtcblx0IFtcIm5hdGlvbmFsXCIsIFwicGFya1wiXVxuXHQgKi9cblx0ZnVuY3Rpb24gTGltaXRTdG9yZSgpIHt9XG5cdFxuXHRMaW1pdFN0b3JlLnN0b3JlID0ge307XG5cdExpbWl0U3RvcmUuTElNSVQgPSAyO1xuXHRcblx0TGltaXRTdG9yZS5wdXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHQgIGlmIChMaW1pdFN0b3JlLnN0b3JlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgTGltaXRTdG9yZS5zdG9yZVtrZXldID0gW251bGwsIG51bGxdO1xuXHQgIH1cblx0ICBMaW1pdFN0b3JlLnN0b3JlW2tleV0ucHVzaCh2YWx1ZSk7XG5cdCAgaWYgKExpbWl0U3RvcmUuc3RvcmVba2V5XS5sZW5ndGggPT0gTGltaXRTdG9yZS5MSU1JVCArIDEpIHtcblx0ICAgIExpbWl0U3RvcmUuc3RvcmVba2V5XS5zaGlmdCgpO1xuXHQgIH1cblx0ICByZXR1cm4gTGltaXRTdG9yZS5zdG9yZVtrZXldO1xuXHR9O1xuXHRcblx0TGltaXRTdG9yZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgcmV0dXJuIExpbWl0U3RvcmUuc3RvcmVba2V5XTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpbWl0U3RvcmU7XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcblx0ICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWxzOiB1bmRlZmluZWQgfTtcblx0ICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuXHQgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWxzKTtcblx0ICAgICAgcmV0dXJuIGV2dDtcblx0ICAgIH1cblx0XG5cdCAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuXHRcblx0ICAgIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xuXHQgIH0pKCk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy50cmlnZ2VyRXZlbnQgPSB0cmlnZ2VyRXZlbnQ7XG5cdFxuXHR2YXIgX2xvZ2xldmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbG9nbGV2ZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nbGV2ZWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRyaWdnZXJFdmVudChldmVudE5hbWUsIGRhdGEpIHtcblx0ICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmRlYnVnKCdTa2lwcGluZyB0cmlnZ2VyaW5nIG9mIGV2ZW50OicsIGV2ZW50TmFtZSwgJ2JlY2F1c2Ugd2UgYXJlIHJ1bm5pbmcgaW4gYSBTZXJ2aWNlV29ya2VyIGNvbnRleHQuJyk7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcblx0ICAgIGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbHM6IGRhdGFcblx0ICB9KTtcblx0ICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfbGltaXRTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2xpbWl0U3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGltaXRTdG9yZSk7XG5cdFxuXHR2YXIgX2xvZ2xldmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbG9nbGV2ZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nbGV2ZWwpO1xuXHRcblx0dmFyIF9ldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0aWYgKCgwLCBfdXRpbHMuaXNCcm93c2VyRW52KSgpKSB7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdCAgdmFyIGxvZ29TdmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdCAgLypcblx0ICAgIHtcblx0ICAgICAgc2l6ZSA9IFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10sXG5cdCAgICAgIHBvc2l0aW9uID0gJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCddLFxuXHQgICAgICBvZmZzZXQgPSAnMTVweCAxNXB4Jyxcblx0ICAgICAgdGhlbWUgPSBbJ3JlZC13aGl0ZScsICd3aGl0ZS1yZWQnXSxcblx0ICAgICAgaW5hY3RpdmVPcGFjaXR5OiAwLjc1LFxuXHQgICAgICBzaG93TGF1bmNoZXJBZnRlcjogMTAwMCxcblx0ICAgICAgbWVzc2FnZXM6IHtcblx0ICAgICAgICAgICd1bnN1YnNjcmliZWQnOiAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnLFxuXHQgICAgICAgICAgJ3N1YnNjcmliZWQnOiAnWW91J3JlIHN1YnNjcmliZWQgdG8gbm90aWZpY2F0aW9ucydcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICovXG5cdFxuXHQgIHZhciBCZWxsID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJlbGwoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgICAgdmFyIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZTtcblx0ICAgICAgdmFyIHNpemUgPSBfcmVmJHNpemUgPT09IHVuZGVmaW5lZCA/ICdzbWFsbCcgOiBfcmVmJHNpemU7XG5cdCAgICAgIHZhciBfcmVmJHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbjtcblx0ICAgICAgdmFyIHBvc2l0aW9uID0gX3JlZiRwb3NpdGlvbiA9PT0gdW5kZWZpbmVkID8gJ2JvdHRvbS1sZWZ0JyA6IF9yZWYkcG9zaXRpb247XG5cdCAgICAgIHZhciBfcmVmJHRoZW1lID0gX3JlZi50aGVtZTtcblx0ICAgICAgdmFyIHRoZW1lID0gX3JlZiR0aGVtZSA9PT0gdW5kZWZpbmVkID8gJ3JlZC13aGl0ZScgOiBfcmVmJHRoZW1lO1xuXHQgICAgICB2YXIgX3JlZiRzaG93TGF1bmNoZXJBZnRlID0gX3JlZi5zaG93TGF1bmNoZXJBZnRlcjtcblx0ICAgICAgdmFyIHNob3dMYXVuY2hlckFmdGVyID0gX3JlZiRzaG93TGF1bmNoZXJBZnRlID09PSB1bmRlZmluZWQgPyAxMCA6IF9yZWYkc2hvd0xhdW5jaGVyQWZ0ZTtcblx0ICAgICAgdmFyIF9yZWYkc2hvd0JhZGdlQWZ0ZXIgPSBfcmVmLnNob3dCYWRnZUFmdGVyO1xuXHQgICAgICB2YXIgc2hvd0JhZGdlQWZ0ZXIgPSBfcmVmJHNob3dCYWRnZUFmdGVyID09PSB1bmRlZmluZWQgPyAzMDAgOiBfcmVmJHNob3dCYWRnZUFmdGVyO1xuXHQgICAgICB2YXIgX3JlZiRtZXNzYWdlcyA9IF9yZWYubWVzc2FnZXM7XG5cdCAgICAgIHZhciBtZXNzYWdlcyA9IF9yZWYkbWVzc2FnZXMgPT09IHVuZGVmaW5lZCA/IHtcblx0ICAgICAgICAndW5zdWJzY3JpYmVkJzogJ1N1YnNjcmliZSB0byBub3RpZmljYXRpb25zJyxcblx0ICAgICAgICAnc3Vic2NyaWJlZCc6IFwiWW91J3JlIHN1YnNjcmliZWQgdG8gbm90aWZpY2F0aW9uc1wiXG5cdCAgICAgIH0gOiBfcmVmJG1lc3NhZ2VzO1xuXHQgICAgICB2YXIgX3JlZiRwcmVub3RpZnkgPSBfcmVmLnByZW5vdGlmeTtcblx0ICAgICAgdmFyIHByZW5vdGlmeSA9IF9yZWYkcHJlbm90aWZ5ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRwcmVub3RpZnk7XG5cdFxuXHQgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmVsbCk7XG5cdFxuXHQgICAgICB0aGlzLm9wdGlvbnMgPSB7XG5cdCAgICAgICAgc2l6ZTogc2l6ZSxcblx0ICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG5cdCAgICAgICAgdGhlbWU6IHRoZW1lLFxuXHQgICAgICAgIHNob3dMYXVuY2hlckFmdGVyOiBzaG93TGF1bmNoZXJBZnRlcixcblx0ICAgICAgICBzaG93QmFkZ2VBZnRlcjogc2hvd0JhZGdlQWZ0ZXIsXG5cdCAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuXHQgICAgICAgIHByZW5vdGlmeTogcHJlbm90aWZ5XG5cdCAgICAgIH07XG5cdCAgICAgIHRoaXMuc2l6ZSA9IHRoaXMub3B0aW9ucy5zaXplO1xuXHQgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuXHQgICAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5vcHRpb25zLm1lc3NhZ2VzO1xuXHQgICAgICB0aGlzLm1lc3NhZ2VzLnF1ZXVlZCA9IFtdO1xuXHQgICAgICBpZiAoIXRoaXMubWVzc2FnZXMudW5zdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgdGhpcy5tZXNzYWdlcy51bnN1YnNjcmliZWQgPSAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghdGhpcy5tZXNzYWdlcy5zdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgdGhpcy5tZXNzYWdlcy5zdWJzY3JpYmVkID0gXCJZb3UncmUgc3Vic2NyaWJlZCB0byBub3RpZmljYXRpb25zXCI7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zdGF0ZXMgPSB7XG5cdCAgICAgICAgJ3VuaW5pdGlhbGl6ZWQnOiAnVGhlIGJlbGwgaXMgbG9hZGluZy4nLFxuXHQgICAgICAgICdzdWJzY3JpYmVkJzogJ1RoZSB1c2VyIGlzIHN1YnNjcmliZWQnLFxuXHQgICAgICAgICd1bnN1YnNjcmliZWQnOiAnVGhlIHVzZXIgaXMgdW5zdWJzY3JpYmVkJ1xuXHQgICAgICB9O1xuXHQgICAgICB0aGlzLnN0YXRlID0gJ3VuaW5pdGlhbGl6ZWQnO1xuXHRcblx0ICAgICAgLy8gSW5zdGFsbCBldmVudCBob29rc1xuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIGNvbnNvbGUuaW5mbygnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHN0YXRlLmRldGFpbCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLmNsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLmhpZGVNZXNzYWdlKCk7XG5cdCAgICAgICAgaWYgKF90aGlzLnN0YXRlID09PSAndW5zdWJzY3JpYmVkJykge1xuXHQgICAgICAgICAgT25lU2lnbmFsLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMuc2hvd0RpYWxvZygpLnRoZW4oZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSBfdGhpcztcblx0ICAgICAgICAgICAgKDAsIF91dGlscy5vbmNlKShkb2N1bWVudCwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICB2YXIgd2FzRGlhbG9nQ2xpY2tlZCA9IHNlbGYubGF1bmNoZXJEaWFsb2cuY29udGFpbnMoZS50YXJnZXQpO1xuXHQgICAgICAgICAgICAgIGlmICh3YXNEaWFsb2dDbGlja2VkKSB7fSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuaGlkZURpYWxvZygpLnRoZW4oZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLndhc0luYWN0aXZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0SW5hY3RpdmUodHJ1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMud2FzSW5hY3RpdmUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLmhvdmVyaW5nJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChfdGhpcy5pc0luYWN0aXZlKCkpIHtcblx0ICAgICAgICAgIF90aGlzLndhc0luYWN0aXZlID0gdHJ1ZTtcblx0ICAgICAgICAgIF90aGlzLnNldEluYWN0aXZlKGZhbHNlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgbWVzc2FnZSBiZWluZyBmb3JjZSBzaG93biwgZG8gbm90IG92ZXJyaWRlXG5cdCAgICAgICAgaWYgKF90aGlzLmlzTWVzc2FnZU9wZW5lZCgpIHx8IF90aGlzLmlzRGlhbG9nT3BlbmVkKCkpIHtcblx0ICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1RoZXJlIGlzIGFscmVhZHkgYSBtZXNzYWdlIGJlaW5nIGRpc3BsYXllZDsgd2FpdCB1bnRpbCBpdCBpcyBoaWRkZW4gYWdhaW4uJyk7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChtZXNzYWdlcy5xdWV1ZWQubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgdmFyIGRlcXVldWVkTWVzc2FnZSA9IF90aGlzLmRlcXVldWVNZXNzYWdlKCk7XG5cdCAgICAgICAgICBfdGhpcy5zZXRNZXNzYWdlKGRlcXVldWVkTWVzc2FnZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF90aGlzLnNldE1lc3NhZ2UoX3RoaXMubWVzc2FnZXNbX3RoaXMuc3RhdGVdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX3RoaXMuc2hvd01lc3NhZ2UoKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmJlbGwuaG92ZXJlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoX3RoaXMuaXNNZXNzYWdlT3BlbmVkKCkpIHtcblx0ICAgICAgICAgIF90aGlzLmhpZGVNZXNzYWdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoJ0luc2lkZSBob3ZlcmVkLicpO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRNZXNzYWdlKF90aGlzLm1lc3NhZ2VzW190aGlzLnN0YXRlXSk7XG5cdCAgICAgICAgICAgIGlmIChfdGhpcy53YXNJbmFjdGl2ZSAmJiAhX3RoaXMuaXNEaWFsb2dPcGVuZWQoKSkge1xuXHQgICAgICAgICAgICAgIF90aGlzLnNldEluYWN0aXZlKHRydWUpO1xuXHQgICAgICAgICAgICAgIF90aGlzLndhc0luYWN0aXZlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgX3RoaXMuc2V0U3RhdGUoZS5kZXRhaWwgPyAnc3Vic2NyaWJlZCcgOiAndW5zdWJzY3JpYmVkJyk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5hY3Rpb25zLndlbGNvbWVub3RpZmljYXRpb25zZW50JywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBfdGhpcy5kaXNwbGF5TWVzc2FnZShcIlRoYW5rcyBmb3Igc3Vic2NyaWJpbmchXCIsIDI1MDApLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMuc2V0SW5hY3RpdmUodHJ1ZSk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF9sb2dsZXZlbDIuZGVmYXVsdC5lcnJvcihlKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEJlbGwsIFt7XG5cdCAgICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIGlmICghKDAsIF91dGlscy5pc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKSgpKSByZXR1cm47XG5cdFxuXHQgICAgICAgIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgYmVsbFxuXHQgICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVEb21FbGVtZW50KSgnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyJyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB3aW5kb3cuYWRkRG9tRWxlbWVudCA9IF91dGlscy5hZGREb21FbGVtZW50O1xuXHQgICAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBjb250YWluZXJcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKCdib2R5JywgJ2JlZm9yZWVuZCcsICc8ZGl2IGlkPVwib25lc2lnbmFsLWJlbGwtY29udGFpbmVyXCIgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1jb250YWluZXIgb25lc2lnbmFsLXJlc2V0XCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmNvbnRhaW5lciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGlkPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXJcIiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGJ1dHRvblxuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkRG9tRWxlbWVudCkodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGJhZGdlXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZVwiPjwvZGl2PicpO1xuXHQgICAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBtZXNzYWdlXG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5XCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGRpYWxvZ1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkRG9tRWxlbWVudCkodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nXCI+PC9kaXY+Jyk7XG5cdCAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keVwiPjwvZGl2PicpO1xuXHRcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKHRoaXMubGF1bmNoZXJEaWFsb2dCb2R5LCAnYmVmb3JlZW5kJywgJ1xcbiAgICAgICAgPGgxPk1hbmFnZSBTaXRlIE5vdGlmaWNhdGlvbnM8L2gxPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi1pY29uXCI+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRhaW5lclwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LXNob3J0XCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uLXRleHRcIj48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24tdGV4dFwiPjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb250YWluZXJcIj5cXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJhY3Rpb24tYnV0dG9uXCI+VW5zdWJzY3JpYmU8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIj48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJraWNrYmFja1wiPlBvd2VyZWQgYnkgT25lU2lnbmFsPC9kaXY+XFxuICAgICAgICAnKTtcblx0XG5cdCAgICAgICAgLy8gSW5zdGFsbCBldmVudHNcblx0ICAgICAgICB0aGlzLmxhdW5jaGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHZhciBpc0hvdmVyaW5nRGF0YSA9IF9saW1pdFN0b3JlMi5kZWZhdWx0LmdldCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG5cdCAgICAgICAgICBpZiAoaXNIb3ZlcmluZ0RhdGEgPT09IHVuZGVmaW5lZCB8fCBpc0hvdmVyaW5nRGF0YVtpc0hvdmVyaW5nRGF0YS5sZW5ndGggLSAxXSA9PT0gJ291dCcpIHtcblx0ICAgICAgICAgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmJlbGwuaG92ZXJpbmcnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF9saW1pdFN0b3JlMi5kZWZhdWx0LnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdXQnKTtcblx0ICAgICAgICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5iZWxsLmhvdmVyZWQnKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZURvbUVsZW1lbnQpKCcucHVsc2UtcmluZycpO1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGREb21FbGVtZW50KShfdGhpczIubGF1bmNoZXJCdXR0b24sICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cInB1bHNlLXJpbmdcIj48L2Rpdj4nKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJ1dHRvbiwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUnKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJ1dHRvbiwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi1hY3RpdmUnKTtcblx0ICAgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKF90aGlzMi5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtYWN0aXZlJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAoMCwgX2V2ZW50cy50cmlnZ2VyRXZlbnQpKCdvbmVzaWduYWwuYmVsbC5idXR0b24uY2xpY2snKTtcblx0ICAgICAgICAgICgwLCBfZXZlbnRzLnRyaWdnZXJFdmVudCkoJ29uZXNpZ25hbC5iZWxsLmNsaWNrJyk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIC8vIEFkZCB2aXN1YWwgZWxlbWVudHNcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZERvbUVsZW1lbnQpKHRoaXMubGF1bmNoZXJCdXR0b24sICdiZWZvcmVFbmQnLCBsb2dvU3ZnKTtcblx0XG5cdCAgICAgICAgLy8gQWRkIGRlZmF1bHQgY2xhc3Nlc1xuXHQgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdib3R0b20tbGVmdCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1sZWZ0Jyk7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQnKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbS1yaWdodCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1yaWdodCcpO1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCcpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgcG9zaXRpb24gJyArIHRoaXMub3B0aW9ucy5wb3NpdGlvbik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRoZW1lID09PSAnZGVmYXVsdCcpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0Jyk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMudGhlbWUgPT09ICdpbnZlcnNlJykge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE9uZVNpZ25hbCBiZWxsIHRoZW1lICcgKyB0aGlzLm9wdGlvbnMudGhlbWUpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgT25lU2lnbmFsLmlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkKGZ1bmN0aW9uIChpc1B1c2hFbmFibGVkKSB7XG5cdCAgICAgICAgICBpZiAoaXNQdXNoRW5hYmxlZCkge1xuXHQgICAgICAgICAgICBjb25zb2xlLmxvZygnaXNQdXNoRW5hYmxlZCcsIGlzUHVzaEVuYWJsZWQpO1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IF90aGlzMi5zZXRJbmFjdGl2ZSh0cnVlKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIERvIG5vdGhpbmcsIHJldHVybnMgYSBwcm9taXNlIHRoYXQgZXhlY3V0ZXMgaW1tZWRpYXRlbHlcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczIuX3NjaGVkdWxlRXZlbnQoX3RoaXMyLm9wdGlvbnMuc2hvd0xhdW5jaGVyQWZ0ZXIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICBfdGhpczIuc2hvd0xhdW5jaGVyKCk7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3NjaGVkdWxlRXZlbnQoX3RoaXMyLm9wdGlvbnMuc2hvd0JhZGdlQWZ0ZXIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChfdGhpczIub3B0aW9ucy5wcmVub3RpZnkpIHtcblx0ICAgICAgICAgICAgICAgICAgaWYgKCFpc1B1c2hFbmFibGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVucXVldWVNZXNzYWdlKCdDbGljayB0byBzdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycpO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgX3RoaXMyLmluaXRpYWxpemVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnX3NjaGVkdWxlRXZlbnQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gX3NjaGVkdWxlRXZlbnQobXNJbkZ1dHVyZSwgdGFzaykge1xuXHQgICAgICAgIGlmICh0eXBlb2YgdGFzayAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRvIGJlIHNjaGVkdWxlZCBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICAgICAgaWYgKG1zSW5GdXR1cmUgPD0gMCkge1xuXHQgICAgICAgICAgdGFzaygpO1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRhc2soKTtcblx0ICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgfSwgbXNJbkZ1dHVyZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjb3JyZWN0IG5ldyBjdXJyZW50IHN0YXRlLiBSZXR1cm5zIGEgcHJvbWlzZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICd1cGRhdGVTdGF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGF0ZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgICAgT25lU2lnbmFsLmlzUHVzaE5vdGlmaWNhdGlvbnNFbmFibGVkKGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcblx0ICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZShpc0VuYWJsZWQgPyAnc3Vic2NyaWJlZCcgOiAndW5zdWJzY3JpYmVkJyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBzcGVjaWZpZWQgbmV3IHN0YXRlLlxuXHQgICAgICAgKiBAcGFyYW0gbmV3U3RhdGUgT25lIG9mIFsnc3Vic2NyaWJlZCcsICd1bnN1YnNjcmliZWQnXS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRTdGF0ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuZXdTdGF0ZSkpIHtcblx0ICAgICAgICAgIHZhciBsYXN0U3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuXHQgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAhPT0gbmV3U3RhdGUpIHtcblx0ICAgICAgICAgICAgKDAsIF9ldmVudHMudHJpZ2dlckV2ZW50KSgnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHsgZnJvbTogbGFzdFN0YXRlLCB0bzogbmV3U3RhdGUgfSk7XG5cdCAgICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkIGhlcmUgaW4gdGhlIG5ldyBzdGF0ZVxuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSByZXNldCB0byB0aGUgc2FtZSBzdGF0ZVxuXHQgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKHRoaXMubWVzc2FnZXNbbmV3U3RhdGVdKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKCdDYW5ub3QgdXBkYXRlIHRvIGludmFsaWQgbmV3IHN0YXRlJywgbmV3U3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdlbnF1ZXVlTWVzc2FnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbnF1ZXVlTWVzc2FnZShtZXNzYWdlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBub3RpZnkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgdGhpcy5tZXNzYWdlcy5xdWV1ZWQucHVzaChtZXNzYWdlKTtcblx0ICAgICAgICBpZiAodGhpcy5pc0JhZGdlT3BlbigpKSB7XG5cdCAgICAgICAgICB0aGlzLmhpZGVCYWRnZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczQuaW5jcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgICAgX3RoaXM0LnNob3dCYWRnZSgpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMuaW5jcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzbyB0aGUgYmFkZ2UgZG9lc24ndCBpbW1lZGlhdGVseSByZW5kZXJcblx0ICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2RlcXVldWVNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlcXVldWVNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGRlcXVldWVkTWVzc2FnZSA9IHRoaXMubWVzc2FnZXMucXVldWVkLnBvcChtZXNzYWdlKTtcblx0ICAgICAgICBpZiAodGhpcy5pc0JhZGdlT3BlbigpKSB7XG5cdCAgICAgICAgICB0aGlzLmhpZGVCYWRnZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczUuZGVjcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgICAgX3RoaXM1LnNob3dCYWRnZSgpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBuZXdCYWRnZU51bWJlciA9IHRoaXMuZGVjcmVtZW50QmFkZ2UoKTtcblx0ICAgICAgICAgIGlmIChuZXdCYWRnZU51bWJlciA8PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZUJhZGdlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkZXF1ZXVlZE1lc3NhZ2U7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc2hvd0RpYWxvZycsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93RGlhbG9nKCkge1xuXHQgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZCcpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzNi5sYXVuY2hlckRpYWxvZywgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzNi5sYXVuY2hlckRpYWxvZykge1xuXHQgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2hpZGVEaWFsb2cnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZURpYWxvZygpIHtcblx0ICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblx0XG5cdCAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlckRpYWxvZywgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5vbmNlKShfdGhpczcubGF1bmNoZXJEaWFsb2csICd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczcubGF1bmNoZXJEaWFsb2cpIHtcblx0ICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdpc0RpYWxvZ09wZW5lZCcsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0RpYWxvZ09wZW5lZCgpIHtcblx0ICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzaG93TGF1bmNoZXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0xhdW5jaGVyKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdoaWRlTGF1bmNoZXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUxhdW5jaGVyKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuXHQgICAgICAgIHRoaXMubGF1bmNoZXJNZXNzYWdlQm9keS5pbm5lckhUTUwgPSBtZXNzYWdlO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3Nob3dNZXNzYWdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dNZXNzYWdlKCkge1xuXHQgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXJNZXNzYWdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdoaWRlTWVzc2FnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlTWVzc2FnZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblx0XG5cdCAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlck1lc3NhZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLW9wZW5lZCcpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzOC5sYXVuY2hlck1lc3NhZ2UsICd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczgubGF1bmNoZXJNZXNzYWdlKSB7XG5cdCAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNNZXNzYWdlT3BlbmVkJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzTWVzc2FnZU9wZW5lZCgpIHtcblx0ICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZGlzcGxheU1lc3NhZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheU1lc3NhZ2UoY29udGVudCkge1xuXHQgICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgaGlkZUFmdGVyID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgIGlmIChfdGhpczkuaXNNZXNzYWdlT3BlbmVkKCkpIHtcblx0ICAgICAgICAgICAgX3RoaXM5LmhpZGVNZXNzYWdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXM5LnNldE1lc3NhZ2UoY29udGVudCk7XG5cdCAgICAgICAgICAgICAgX3RoaXM5LnNob3dNZXNzYWdlKCk7XG5cdCAgICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuXHQgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgIF90aGlzOS5oaWRlTWVzc2FnZSgpO1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSwgaGlkZUFmdGVyKTtcblx0ICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgX2xvZ2xldmVsMi5kZWZhdWx0LmVycm9yKGUpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF90aGlzOS5zZXRNZXNzYWdlKGNvbnRlbnQpO1xuXHQgICAgICAgICAgICBfdGhpczkuc2hvd01lc3NhZ2UoKTtcblx0ICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuXHQgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXM5LmhpZGVNZXNzYWdlKCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgIH0sIGhpZGVBZnRlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3NldEJhZGdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJhZGdlKGNvbnRlbnQpIHtcblx0ICAgICAgICB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MID0gY29udGVudDtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzaG93QmFkZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0JhZGdlKCkge1xuXHQgICAgICAgIGlmICh0aGlzLmJhZGdlSGFzQ29udGVudCgpKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyQmFkZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWQnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNCYWRnZU9wZW4nLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNCYWRnZU9wZW4oKSB7XG5cdCAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1iYWRnZS1vcGVuZWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdiYWRnZUhhc0NvbnRlbnQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gYmFkZ2VIYXNDb250ZW50KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MLmxlbmd0aCA+IDA7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZ2V0QmFkZ2VDb250ZW50Jyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJhZGdlQ29udGVudCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlckJhZGdlLmlubmVySFRNTDtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdpbmNyZW1lbnRCYWRnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbmNyZW1lbnRCYWRnZSgpIHtcblx0ICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0QmFkZ2VDb250ZW50KCk7XG5cdCAgICAgICAgLy8gSWYgaXQgSVMgYSBudW1iZXIgKGlzIG5vdCBub3QgYSBudW1iZXIpXG5cdCAgICAgICAgaWYgKCFpc05hTihjb250ZW50KSkge1xuXHQgICAgICAgICAgdmFyIGJhZGdlTnVtYmVyID0gK2NvbnRlbnQ7IC8vIENvZXJjZSB0byBpbnRcblx0ICAgICAgICAgIGJhZGdlTnVtYmVyICs9IDE7XG5cdCAgICAgICAgICB0aGlzLnNldEJhZGdlKGJhZGdlTnVtYmVyKTtcblx0ICAgICAgICAgIHJldHVybiBiYWRnZU51bWJlcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZGVjcmVtZW50QmFkZ2UnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVjcmVtZW50QmFkZ2UoKSB7XG5cdCAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldEJhZGdlQ29udGVudCgpO1xuXHQgICAgICAgIC8vIElmIGl0IElTIGEgbnVtYmVyIChpcyBub3Qgbm90IGEgbnVtYmVyKVxuXHQgICAgICAgIGlmICghaXNOYU4oY29udGVudCkpIHtcblx0ICAgICAgICAgIHZhciBiYWRnZU51bWJlciA9ICtjb250ZW50OyAvLyBDb2VyY2UgdG8gaW50XG5cdCAgICAgICAgICBiYWRnZU51bWJlciAtPSAxO1xuXHQgICAgICAgICAgdGhpcy5zZXRCYWRnZShiYWRnZU51bWJlcik7XG5cdCAgICAgICAgICByZXR1cm4gYmFkZ2VOdW1iZXI7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2hpZGVCYWRnZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQmFkZ2UoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykoX3RoaXMxMC5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Utb3BlbmVkJyk7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLm9uY2UpKF90aGlzMTAubGF1bmNoZXJCYWRnZSwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTAubGF1bmNoZXJCYWRnZSkge1xuXHQgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnaXNJbmFjdGl2ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0luYWN0aXZlKCkge1xuXHQgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmUnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRJbmFjdGl2ZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJbmFjdGl2ZShpc0luYWN0aXZlKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXHRcblx0ICAgICAgICBpZiAoaXNJbmFjdGl2ZSkge1xuXHQgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuXHQgICAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUJhZGdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykoX3RoaXMxMS5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zZXRTaXplKCdzbWFsbCcpOztcblx0ICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSBfdGhpczExLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cblx0ICAgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgKDAsIF91dGlscy5hZGRDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSgnc21hbGwnKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTaXplKCdzbWFsbCcpO1xuXHQgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgIC8vIE9uY2UgdGhlIGxhdW5jaGVyIGhhcyBmaW5pc2hlZCBzaHJpbmtpbmcgZG93blxuXHQgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpczExLmxhdW5jaGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUJhZGdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykoX3RoaXMxMS5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zZXRTaXplKF90aGlzMTEub3B0aW9ucy5zaXplKTtcblx0ICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSBfdGhpczExLmxhdW5jaGVyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cblx0ICAgICAgICAgICAgICAgICgwLCBfdXRpbHMub25jZSkoX3RoaXMxMS5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgX3RoaXMxMS5zaG93QmFkZ2UoKTtcblx0ICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICBfbG9nbGV2ZWwyLmRlZmF1bHQuZXJyb3IoZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVDc3NDbGFzcykodGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG5cdCAgICAgICAgICAgIHZhciBsYXVuY2hlciA9IHRoaXMubGF1bmNoZXI7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgLy8gT25jZSB0aGUgbGF1bmNoZXIgaGFzIGZpbmlzaGVkIHNocmlua2luZyBkb3duXG5cdCAgICAgICAgICAgICAgKDAsIF91dGlscy5vbmNlKShfdGhpczExLmxhdW5jaGVyLCAndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMTEubGF1bmNoZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRTaXplJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNpemUoc2l6ZSkge1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbScpO1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCcpO1xuXHQgICAgICAgICgwLCBfdXRpbHMucmVtb3ZlQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuXHQgICAgICAgIGlmIChzaXplID09PSAnc21hbGwnKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20nKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT09ICdtZWRpdW0nKSB7XG5cdCAgICAgICAgICAoMCwgX3V0aWxzLmFkZENzc0NsYXNzKSh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQnKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT09ICdsYXJnZScpIHtcblx0ICAgICAgICAgICgwLCBfdXRpbHMuYWRkQ3NzQ2xhc3MpKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgc2l6ZSAnICsgc2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2NvbnRhaW5lcicsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXInLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJCdXR0b24nLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJCYWRnZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZScpO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2xhdW5jaGVyTWVzc2FnZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlJyk7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnbGF1bmNoZXJNZXNzYWdlQm9keScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHknKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdsYXVuY2hlckRpYWxvZycsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cnKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdsYXVuY2hlckRpYWxvZ0JvZHknLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHknKTtcblx0ICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCZWxsO1xuXHQgIH0pKCk7XG5cdFxuXHQgIG1vZHVsZS5leHBvcnRzID0gQmVsbDtcblx0fVxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9iZWxsLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2JlbGwuc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiogQ2xlYW5TbGF0ZVxcbiogICBnaXRodWIuY29tL3ByZW1hc2FnYXIvY2xlYW5zbGF0ZVxcbipcXG4qLy5vbmVzaWduYWwtcmVzZXQsLm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYWJiciwub25lc2lnbmFsLXJlc2V0IGFjcm9ueW0sLm9uZXNpZ25hbC1yZXNldCBhZGRyZXNzLC5vbmVzaWduYWwtcmVzZXQgYXBwbGV0LC5vbmVzaWduYWwtcmVzZXQgYXJlYSwub25lc2lnbmFsLXJlc2V0IGFydGljbGUsLm9uZXNpZ25hbC1yZXNldCBhc2lkZSwub25lc2lnbmFsLXJlc2V0IGF1ZGlvLC5vbmVzaWduYWwtcmVzZXQgYiwub25lc2lnbmFsLXJlc2V0IGJpZywub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBidXR0b24sLm9uZXNpZ25hbC1yZXNldCBjYW52YXMsLm9uZXNpZ25hbC1yZXNldCBjYXB0aW9uLC5vbmVzaWduYWwtcmVzZXQgY2l0ZSwub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBjb2wsLm9uZXNpZ25hbC1yZXNldCBjb2xncm91cCwub25lc2lnbmFsLXJlc2V0IGRhdGFsaXN0LC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkZWwsLm9uZXNpZ25hbC1yZXNldCBkZm4sLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZW0sLm9uZXNpZ25hbC1yZXNldCBmaWVsZHNldCwub25lc2lnbmFsLXJlc2V0IGZpZ2NhcHRpb24sLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBpLC5vbmVzaWduYWwtcmVzZXQgaWZyYW1lLC5vbmVzaWduYWwtcmVzZXQgaW1nLC5vbmVzaWduYWwtcmVzZXQgaW5wdXQsLm9uZXNpZ25hbC1yZXNldCBpbnMsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBsYWJlbCwub25lc2lnbmFsLXJlc2V0IGxlZ2VuZCwub25lc2lnbmFsLXJlc2V0IGxpLC5vbmVzaWduYWwtcmVzZXQgbWFpbiwub25lc2lnbmFsLXJlc2V0IG1hcCwub25lc2lnbmFsLXJlc2V0IG1hcmssLm9uZXNpZ25hbC1yZXNldCBtZW51LC5vbmVzaWduYWwtcmVzZXQgbWV0YSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9iamVjdCwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0Z3JvdXAsLm9uZXNpZ25hbC1yZXNldCBvcHRpb24sLm9uZXNpZ25hbC1yZXNldCBvdXRwdXQsLm9uZXNpZ25hbC1yZXNldCBwLC5vbmVzaWduYWwtcmVzZXQgcHJlLC5vbmVzaWduYWwtcmVzZXQgcHJvZ3Jlc3MsLm9uZXNpZ25hbC1yZXNldCBxLC5vbmVzaWduYWwtcmVzZXQgc2FtcCwub25lc2lnbmFsLXJlc2V0IHNlY3Rpb24sLm9uZXNpZ25hbC1yZXNldCBzZWxlY3QsLm9uZXNpZ25hbC1yZXNldCBzbWFsbCwub25lc2lnbmFsLXJlc2V0IHNwYW4sLm9uZXNpZ25hbC1yZXNldCBzdHJpa2UsLm9uZXNpZ25hbC1yZXNldCBzdHJvbmcsLm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdW1tYXJ5LC5vbmVzaWduYWwtcmVzZXQgc3VwLC5vbmVzaWduYWwtcmVzZXQgdGFibGUsLm9uZXNpZ25hbC1yZXNldCB0Ym9keSwub25lc2lnbmFsLXJlc2V0IHRkLC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWEsLm9uZXNpZ25hbC1yZXNldCB0Zm9vdCwub25lc2lnbmFsLXJlc2V0IHRoLC5vbmVzaWduYWwtcmVzZXQgdGhlYWQsLm9uZXNpZ25hbC1yZXNldCB0aW1lLC5vbmVzaWduYWwtcmVzZXQgdHIsLm9uZXNpZ25hbC1yZXNldCB0dCwub25lc2lnbmFsLXJlc2V0IHVsLC5vbmVzaWduYWwtcmVzZXQgdmFyLC5vbmVzaWduYWwtcmVzZXQgdmlkZW97YmFja2dyb3VuZC1hdHRhY2htZW50OnNjcm9sbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMDtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQ7Ym9yZGVyLWNvbG9yOiMwMDA7Ym9yZGVyOm1lZGl1bSBub25lIGN1cnJlbnRDb2xvcjtib3R0b206YXV0bztjbGVhcjpub25lO2NsaXA6YXV0bztjb2xvcjppbmhlcml0O2NvdW50ZXItaW5jcmVtZW50Om5vbmU7Y291bnRlci1yZXNldDpub25lO2N1cnNvcjphdXRvO2RpcmVjdGlvbjppbmhlcml0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0Om5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDppbmhlcml0O2hlaWdodDphdXRvO2xlZnQ6YXV0bztsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6aW5oZXJpdDtsaXN0LXN0eWxlLXR5cGU6aW5oZXJpdDtsaXN0LXN0eWxlLXBvc2l0aW9uOm91dHNpZGU7bGlzdC1zdHlsZS1pbWFnZTpub25lO21hcmdpbjowO21heC1oZWlnaHQ6bm9uZTttYXgtd2lkdGg6bm9uZTttaW4taGVpZ2h0OjA7bWluLXdpZHRoOjA7b3BhY2l0eToxO291dGxpbmU6bWVkaXVtIG5vbmUgaW52ZXJ0O292ZXJmbG93OnZpc2libGU7cGFkZGluZzowO3Bvc2l0aW9uOnN0YXRpYztxdW90ZXM6XFxcIlxcXCIgXFxcIlxcXCI7cmlnaHQ6YXV0bzt0YWJsZS1sYXlvdXQ6YXV0bzt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3RvcDphdXRvO3VuaWNvZGUtYmlkaTpub3JtYWw7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7dmlzaWJpbGl0eTppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDt3aWR0aDphdXRvO3dvcmQtc3BhY2luZzpub3JtYWw7ei1pbmRleDphdXRvO2JhY2tncm91bmQtb3JpZ2luOnBhZGRpbmctYm94O2JhY2tncm91bmQtY2xpcDpib3JkZXItYm94O2JhY2tncm91bmQtc2l6ZTphdXRvOy13ZWJraXQtYm9yZGVyLWltYWdlOm5vbmU7LW8tYm9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLXJhZGl1czowO2JveC1zaGFkb3c6bm9uZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtY29sdW1uLWNvdW50OmF1dG87LW1vei1jb2x1bW4tY291bnQ6YXV0bztjb2x1bW4tY291bnQ6YXV0bzstd2Via2l0LWNvbHVtbi1nYXA6bm9ybWFsOy1tb3otY29sdW1uLWdhcDpub3JtYWw7Y29sdW1uLWdhcDpub3JtYWw7LXdlYmtpdC1jb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy1tb3otY29sdW1uLXJ1bGU6bWVkaXVtIG5vbmUgIzAwMDtjb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy13ZWJraXQtY29sdW1uLXNwYW46MTstbW96LWNvbHVtbi1zcGFuOjE7Y29sdW1uLXNwYW46MTstd2Via2l0LWNvbHVtbi13aWR0aDphdXRvOy1tb3otY29sdW1uLXdpZHRoOmF1dG87Y29sdW1uLXdpZHRoOmF1dG87Zm9udC1mZWF0dXJlLXNldHRpbmdzOm5vcm1hbDtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlOy13ZWJraXQtaHlwaGVuczptYW51YWw7LW1vei1oeXBoZW5zOm1hbnVhbDtoeXBoZW5zOm1hbnVhbDstd2Via2l0LXBlcnNwZWN0aXZlOm5vbmU7LW1zLXBlcnNwZWN0aXZlOm5vbmU7LW8tcGVyc3BlY3RpdmU6bm9uZTtwZXJzcGVjdGl2ZTpub25lOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7LW1zLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy1vLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LXNoYWRvdzpub25lOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMHMgZWFzZSAwczt0cmFuc2l0aW9uOmFsbCAwcyBlYXNlIDBzOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7LW1zLXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOmZsYXQ7dHJhbnNmb3JtLXN0eWxlOmZsYXQ7d29yZC1icmVhazpub3JtYWx9Lm9uZXNpZ25hbC1yZXNldCwub25lc2lnbmFsLXJlc2V0IGFkZHJlc3MsLm9uZXNpZ25hbC1yZXNldCBhcnRpY2xlLC5vbmVzaWduYWwtcmVzZXQgYXVkaW8sLm9uZXNpZ25hbC1yZXNldCBibG9ja3F1b3RlLC5vbmVzaWduYWwtcmVzZXQgY2FwdGlvbiwub25lc2lnbmFsLXJlc2V0IGNvbGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkaWFsb2csLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZmllbGRzZXQsLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBtYWluLC5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0aW9uLC5vbmVzaWduYWwtcmVzZXQgcCwub25lc2lnbmFsLXJlc2V0IHByZSwub25lc2lnbmFsLXJlc2V0IHByb2dyZXNzLC5vbmVzaWduYWwtcmVzZXQgc2VjdGlvbiwub25lc2lnbmFsLXJlc2V0IHN1bW1hcnksLm9uZXNpZ25hbC1yZXNldCB1bCwub25lc2lnbmFsLXJlc2V0IHZpZGVve2Rpc3BsYXk6YmxvY2t9Lm9uZXNpZ25hbC1yZXNldCBoMSwub25lc2lnbmFsLXJlc2V0IGgyLC5vbmVzaWduYWwtcmVzZXQgaDMsLm9uZXNpZ25hbC1yZXNldCBoNCwub25lc2lnbmFsLXJlc2V0IGg1LC5vbmVzaWduYWwtcmVzZXQgaDZ7Zm9udC13ZWlnaHQ6NzAwfS5vbmVzaWduYWwtcmVzZXQgaDF7Zm9udC1zaXplOjJlbTtwYWRkaW5nOi42N2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoMntmb250LXNpemU6MS41ZW07cGFkZGluZzouODNlbSAwfS5vbmVzaWduYWwtcmVzZXQgaDN7Zm9udC1zaXplOjEuMTdlbTtwYWRkaW5nOi44M2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoNHtmb250LXNpemU6MWVtfS5vbmVzaWduYWwtcmVzZXQgaDV7Zm9udC1zaXplOi44M2VtfS5vbmVzaWduYWwtcmVzZXQgcHttYXJnaW46MWVtIDB9Lm9uZXNpZ25hbC1yZXNldCB0YWJsZXtkaXNwbGF5OnRhYmxlfS5vbmVzaWduYWwtcmVzZXQgdGhlYWR7ZGlzcGxheTp0YWJsZS1oZWFkZXItZ3JvdXB9Lm9uZXNpZ25hbC1yZXNldCB0Ym9keXtkaXNwbGF5OnRhYmxlLXJvdy1ncm91cH0ub25lc2lnbmFsLXJlc2V0IHRmb290e2Rpc3BsYXk6dGFibGUtZm9vdGVyLWdyb3VwfS5vbmVzaWduYWwtcmVzZXQgdHJ7ZGlzcGxheTp0YWJsZS1yb3d9Lm9uZXNpZ25hbC1yZXNldCB0ZCwub25lc2lnbmFsLXJlc2V0IHRoe2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjJweH0ub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgdWx7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgb2wgbGksLm9uZXNpZ25hbC1yZXNldCBvbCBvbCBsaSwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgdWwgbGksLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgb2wgbGksLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIHVsIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWwgbGl7bGlzdC1zdHlsZS1wb3NpdGlvbjppbnNpZGU7bWFyZ2luLXRvcDouMDhlbX0ub25lc2lnbmFsLXJlc2V0IG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgb2wsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIHVsIHVse3BhZGRpbmctbGVmdDo0MHB4O21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgbmF2IG9sLC5vbmVzaWduYWwtcmVzZXQgbmF2IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lfS5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjfS5vbmVzaWduYWwtcmVzZXQgb2x7bGlzdC1zdHlsZS10eXBlOmRlY2ltYWx9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgdWwgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIHVse2xpc3Qtc3R5bGUtdHlwZTpjaXJjbGV9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSBtZW51LC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWx7bGlzdC1zdHlsZS10eXBlOnNxdWFyZX0ub25lc2lnbmFsLXJlc2V0IGxpe2Rpc3BsYXk6bGlzdC1pdGVtO21pbi1oZWlnaHQ6YXV0bzttaW4td2lkdGg6YXV0bztwYWRkaW5nLWxlZnQ6MjBweH0ub25lc2lnbmFsLXJlc2V0IHN0cm9uZ3tmb250LXdlaWdodDo3MDB9Lm9uZXNpZ25hbC1yZXNldCBlbXtmb250LXN0eWxlOml0YWxpY30ub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBwcmUsLm9uZXNpZ25hbC1yZXNldCBzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZX0ub25lc2lnbmFsLXJlc2V0IGF7Y29sb3I6Ymx1ZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5vbmVzaWduYWwtcmVzZXQgYTp2aXNpdGVke2NvbG9yOiM1Mjl9Lm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYSAqLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1jaGVja2JveF0sLm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXJhZGlvXSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XSwub25lc2lnbmFsLXJlc2V0IHNlbGVjdHtjdXJzb3I6cG9pbnRlcn0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbiwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XXt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjJweCA2cHggM3B4O2JvcmRlci1yYWRpdXM6NHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtZmFtaWx5OmFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTpzbWFsbDstd2Via2l0LWFwcGVhcmFuY2U6cHVzaC1idXR0b247Y29sb3I6YnV0dG9udGV4dDtib3JkZXI6MXB4IHNvbGlkICNhNmE2YTY7YmFja2dyb3VuZDojZDNkM2QzO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjZmZmKSxjb2xvci1zdG9wKDEwMCUsI2RkZCksY29sb3Itc3RvcCgxMDAlLCNkMWQxZDEpLGNvbG9yLXN0b3AoMTAwJSwjZGRkKSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLGVuZENvbG9yc3RyPScjZGRkZGRkJyxHcmFkaWVudFR5cGU9MCk7LW8tYm94LXNoYWRvdzoxcHggMXB4IDAgI2VlZTtib3gtc2hhZG93OjFweCAxcHggMCAjZWVlO291dGxpbmU6aW5pdGlhbH0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbntwYWRkaW5nOjFweCA2cHggMnB4O21hcmdpbi1yaWdodDo1cHh9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPWhpZGRlbl17ZGlzcGxheTpub25lfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRhcmVhO2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjJweDttYXJnaW4tbGVmdDo0cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6cHJlLXdyYXA7Zm9udC1zaXplOjExcHg7Zm9udC1mYW1pbHk6YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MTNweDtyZXNpemU6Ym90aH0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0LC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7Ym9yZGVyOjFweCBzb2xpZCAjY2NjfS5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e2ZvbnQtc2l6ZToxMXB4O2ZvbnQtZmFtaWx5OmhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5vbmVzaWduYWwtcmVzZXQgaW5wdXQ6Zm9jdXMsLm9uZXNpZ25hbC1yZXNldCB0ZXh0YXJlYTpmb2N1c3tvdXRsaW5lOjVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtvdXRsaW5lOmluaXRpYWx9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXRleHRde2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjFweDtmb250LWZhbWlseTppbml0aWFsO2ZvbnQtc2l6ZTpzbWFsbH0ub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9Y2hlY2tib3hdLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117Ym9yZGVyOjFweCBzb2xpZCAjMmIyYjJiO2JvcmRlci1yYWRpdXM6NHB4O291dGxpbmU6aW50aWFsfS5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117bWFyZ2luOjJweCAycHggM3B4fS5vbmVzaWduYWwtcmVzZXQgYnV0dG9uOmFjdGl2ZSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XTphY3RpdmV7YmFja2dyb3VuZDojM2I2NzllO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCMzYjY3OWUpLGNvbG9yLXN0b3AoNTAlLCMyYjg4ZDkpLGNvbG9yLXN0b3AoNTElLCMyMDdjY2EpLGNvbG9yLXN0b3AoMTAwJSwjN2RiOWU4KSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzNiNjc5ZSAwLCMyYjg4ZDkgNTAlLCMyMDdjY2EgNTElLCM3ZGI5ZTggMTAwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCMzYjY3OWUgMCwjMmI4OGQ5IDUwJSwjMjA3Y2NhIDUxJSwjN2RiOWU4IDEwMCUpO2JvcmRlci1jb2xvcjojNTI1OWIwfS5vbmVzaWduYWwtcmVzZXQgYWJiclt0aXRsZV0sLm9uZXNpZ25hbC1yZXNldCBhY3JvbnltW3RpdGxlXSwub25lc2lnbmFsLXJlc2V0IGRmblt0aXRsZV17Y3Vyc29yOmhlbHA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBpbnN7YmFja2dyb3VuZC1jb2xvcjojZmY5O2NvbG9yOiMwMDB9Lm9uZXNpZ25hbC1yZXNldCBkZWx7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0ub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBxe3F1b3Rlczpub25lfS5vbmVzaWduYWwtcmVzZXQgYmxvY2txdW90ZTphZnRlciwub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGU6YmVmb3JlLC5vbmVzaWduYWwtcmVzZXQgbGk6YWZ0ZXIsLm9uZXNpZ25hbC1yZXNldCBsaTpiZWZvcmUsLm9uZXNpZ25hbC1yZXNldCBxOmFmdGVyLC5vbmVzaWduYWwtcmVzZXQgcTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIn0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0ub25lc2lnbmFsLXJlc2V0IHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfS5vbmVzaWduYWwtcmVzZXQgaHJ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgW2Rpcj1ydGxde2RpcmVjdGlvbjpydGx9Lm9uZXNpZ25hbC1yZXNldCBtYXJre2JhY2tncm91bmQtY29sb3I6I2ZmOTtjb2xvcjojMDAwO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OjcwMH0ub25lc2lnbmFsLXJlc2V0IG1lbnV7cGFkZGluZy1sZWZ0OjQwcHg7cGFkZGluZy10b3A6OHB4fS5vbmVzaWduYWwtcmVzZXQgW2hpZGRlbl0sLm9uZXNpZ25hbC1yZXNldCB0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9Lm9uZXNpZ25hbC1yZXNldCBhYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfS5vbmVzaWduYWwtcmVzZXQgc3Vwe3RvcDotLjVlbX0ub25lc2lnbmFsLXJlc2V0IHN1Yntib3R0b206LS4yNWVtfS5vbmVzaWduYWwtcmVzZXQgaW1ne2JvcmRlcjowfS5vbmVzaWduYWwtcmVzZXQgZmlndXJle21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7b3ZlcmZsb3c6YXV0bzt2ZXJ0aWNhbC1hbGlnbjp0b3B9Lm9uZXNpZ25hbC1yZXNldHtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0OjE7ZGlyZWN0aW9uOmx0cjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1hbGlnbjpzdGFydDtmb250LWZhbWlseTpUaW1lcyBOZXcgUm9tYW4sVGltZXMsc2VyaWY7Y29sb3I6IzAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGlzdC1zdHlsZS10eXBlOmRpc2N9Lm9uZXNpZ25hbC1yZXNldCBwcmV7d2hpdGUtc3BhY2U6cHJlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0e3otaW5kZXg6MjE0NzQ4MzAwMDtwb3NpdGlvbjpmaXhlZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldC5vbmVzaWduYWwtYmVsbC1jb250YWluZXItYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0Lm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXJ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjE0NzQ4MzAwMDtmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0cmFuc2Zvcm06c2NhbGUoLjAxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3dpZHRoOjMzMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdHtib3R0b206MjBweDtsZWZ0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MTZweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206MzlweDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7cmlnaHQ6N3B4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZHt0cmFuc2Zvcm0tb3JpZ2luOjI0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtsZWZ0OjYxcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHg7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MTJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZ3t0cmFuc2Zvcm0tb3JpZ2luOjMycHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtsZWZ0OjgxcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjc4cHg7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoyMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7bGVmdDo0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle3RyYW5zZm9ybS1vcmlnaW46bGVmdCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye3JpZ2h0OjEwMCU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHR7Ym90dG9tOjIwcHg7cmlnaHQ6MjBweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MzE0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjM5cHg7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1ke3RyYW5zZm9ybS1vcmlnaW46MzA2cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NjFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHg7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7dHJhbnNmb3JtLW9yaWdpbjoyOThweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtyaWdodDo4MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3JpZ2h0OjE4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cmlnaHQ6NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntsZWZ0OjEwMCU7Ym9yZGVyLWxlZnQtY29sb3I6IzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtib3JkZXItcmFkaXVzOjUwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxib3JkZXIgMTc1bXMgZWFzZS1pbi1vdXQsd2lkdGggMTc1bXMgZWFzZS1pbi1vdXQsaGVpZ2h0IDE3NW1zIGVhc2UtaW4tb3V0O2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MjE0NzQ4MzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LWZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwuMzUpKTtmaWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsLjM1KSl9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWhvdmVye2N1cnNvcjpwb2ludGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjA7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsMCkpO2ZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwwKSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsYm9yZGVyIDE3NW1zIGVhc2UtaW4tb3V0LG9wYWNpdHkgLjIxcyBlYXNlLWluLW91dCx3aWR0aCAuMjFzIGVhc2UtaW4tb3V0LGhlaWdodCAuMjFzIGVhc2UtaW4tb3V0LHBvc2l0aW9uIC4yMXMgZWFzZS1pbi1vdXQscmlnaHQgLjIxcyBlYXNlLWluLW91dCx0b3AgLjIxcyBlYXNlLWluLW91dCxib3R0b20gLjIxcyBlYXNlLWluLW91dCxsZWZ0IC4yMXMgZWFzZS1pbi1vdXQ7ei1pbmRleDoyMTQ3NDgzNDAwO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjAxKTtwb2ludGVyLWV2ZW50czpub25lfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Uub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtaG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWR7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cG9zaXRpb246YWJzb2x1dGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo1cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGVYKDApIHRyYW5zbGF0ZVooMCk7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsb3BhY2l0eSAxNzVtcyBlYXNlLWluLW91dDt0b3A6NTAlO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7dG9wOjUwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7Y29udGVudDpcXFwiIFxcXCI7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVke3BvaW50ZXItZXZlbnRzOmF1dG87b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHNjYWxlWCgxKSB0cmFuc2xhdGVaKDApfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMSk7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggMnB4IHJnYmEoMzQsMzYsMzgsLjE1KSk7ZmlsdGVyOmRyb3Atc2hhZG93KDAgMnB4IDJweCByZ2JhKDM0LDM2LDM4LC4xNSkpO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMCkgdHJhbnNsYXRlWigwKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tIGNlbnRlcjt6LWluZGV4OjIxNDc0ODEwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXIsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3RvcDoxMDAlO2JvcmRlcjpzb2xpZCB0cmFuc3BhcmVudDtjb250ZW50OlxcXCIgXFxcIjtoZWlnaHQ6MDt3aWR0aDowO3Bvc2l0aW9uOmFic29sdXRlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Zm9udC1mYW1pbHk6SGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZHt0cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlWigwKTtvcGFjaXR5OjF9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte2hlaWdodDozMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9ue3dpZHRoOjMycHg7aGVpZ2h0OjMycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtmb250LXNpemU6OHB4O3dpZHRoOjEycHg7aGVpZ2h0OjEycHg7bGluZS1oZWlnaHQ6MTJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzo5LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjYuNnB4O21hcmdpbi10b3A6LTYuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6My4ycHggOS42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO2JvcmRlci13aWR0aDo2LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7Ym9yZGVyLXRvcC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTtib3JkZXItd2lkdGg6OC42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWR7aGVpZ2h0OjQ4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6NDhweDtoZWlnaHQ6NDhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZToxMnB4O3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bGluZS1oZWlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzoxNC40cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye2JvcmRlci13aWR0aDo5LjlweDttYXJnaW4tdG9wOi05LjlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3twYWRkaW5nOjQuOHB4IDE0LjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntib3JkZXItdG9wLWNvbG9yOiNmZmY7Ym9yZGVyLXdpZHRoOjkuOXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDoxMS45cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7aGVpZ2h0OjY0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6NjRweDtoZWlnaHQ6NjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZToxMnB4O3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7bGluZS1oZWlnaHQ6MjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzoxOS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye2JvcmRlci13aWR0aDoxMy4ycHg7bWFyZ2luLXRvcDotMTMuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6Ni40cHggMTkuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye2JvcmRlci10b3AtY29sb3I6I2ZmZjtib3JkZXItd2lkdGg6MTMuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDoxNS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNlNTRiNGR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLmZvcmVncm91bmR7ZmlsbDojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5zdHJva2V7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlLW1pdGVybGltaXQ6MTB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1hY3RpdmUgc3ZnIC5iYWNrZ3JvdW5kLCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWFjdGl2ZSBzdmcgLmJhY2tncm91bmR7ZmlsbDojZGQyMDIyIWltcG9ydGFudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2ZmZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuZm9yZWdyb3VuZHtmaWxsOiNlNTRiNGR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLnN0cm9rZXtmaWxsOm5vbmU7c3Ryb2tlOiNlNTRiNGQ7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2UtbWl0ZXJsaW1pdDoxMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZSBzdmcgLmJhY2tncm91bmQsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNmMmYyZjIhaW1wb3J0YW50fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtib3JkZXI6MXB4IHNvbGlkICNmZmY7YmFja2dyb3VuZDojZTU0YjRkO2NvbG9yOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWFjdGl2ZSwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZW5hYmxlZHt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaXNhYmxlZHt2aXNpYmlsaXR5OmhpZGRlbn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmV7b3BhY2l0eTouNn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAucHVsc2UtcmluZ3tib3JkZXI6N3B4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLC40KTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDstd2Via2l0LWFuaW1hdGlvbjpwdWxzZSAuMzVzIGVhc2UtaW4tb3V0O2FuaW1hdGlvbjpwdWxzZSAuMzVzIGVhc2UtaW4tb3V0Oy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6MTtvcGFjaXR5OjA7ei1pbmRleDoxMDAwO3BvaW50ZXItZXZlbnRzOm5vbmV9QG1lZGlhIHByaW50eyNvbmVzaWduYWwtYmVsbC1jb250YWluZXJ7ZGlzcGxheTpub25lfX1ALXdlYmtpdC1rZXlmcmFtZXMgcHVsc2V7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjEpO29wYWNpdHk6MDtib3JkZXItd2lkdGg6MTBweH01MCV7b3BhY2l0eToxO2JvcmRlci13aWR0aDo1cHh9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yKTtvcGFjaXR5OjA7Ym9yZGVyLXdpZHRoOjFweH19XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYodHJ1ZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHRcdH1cclxuXHRcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHRcclxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cdFxyXG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRcdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdFx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdFx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRcdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0XHRpZihpZHggPj0gMCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0XHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0XHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblx0XHJcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdFx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHJcblx0XHR1cGRhdGUob2JqKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHR2YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblx0XHJcblx0XHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblx0XHJcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHRcclxuXHRcdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cdFxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHJcblx0XHRpZihvbGRTcmMpXHJcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCI/PlxcbjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT5cXG48c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgY2xhc3M9XFxcIm9uZXNpZ25hbC1iZWxsLXN2Z1xcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiXFxuXFx0IHdpZHRoPVxcXCI5OS43cHhcXFwiIGhlaWdodD1cXFwiOTkuN3B4XFxcIiB2aWV3Qm94PVxcXCIwIDAgOTkuNyA5OS43XFxcIiBzdHlsZT1cXFwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5OS43IDk5Ljc7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG48Zz5cXG5cXHQ8Y2lyY2xlIGNsYXNzPVxcXCJiYWNrZ3JvdW5kXFxcIiBjeD1cXFwiNDkuOVxcXCIgY3k9XFxcIjQ5LjlcXFwiIHI9XFxcIjQ5LjlcXFwiLz5cXG5cXHQ8ZyBpZD1cXFwiTGF5ZXJfMlxcXCI+XFxuXFx0XFx0PGc+XFxuXFx0XFx0XFx0PHBhdGggY2xhc3M9XFxcImZvcmVncm91bmRcXFwiIGQ9XFxcIk01MC4xLDY2LjJIMjcuN2MwLDAtMi0wLjItMi0yLjFjMC0xLjksMS43LTIsMS43LTJzNi43LTMuMiw2LjctNS41YzAtMi4zLTEuMS0zLjktMS4xLTEzLjNcXG5cXHRcXHRcXHRcXHRzNi0xNi42LDEzLjItMTYuNmMwLDAsMS0yLjQsMy45LTIuNGMyLjgsMCwzLjgsMi40LDMuOCwyLjRjNy4yLDAsMTMuMiw3LjIsMTMuMiwxNi42cy0xLDExLTEsMTMuM2MwLDIuMyw2LjcsNS41LDYuNyw1LjVcXG5cXHRcXHRcXHRcXHRzMS43LDAuMSwxLjcsMmMwLDEuOC0yLjEsMi4xLTIuMSwyLjFINTAuMXpcXFwiLz5cXG5cXHRcXHRcXHQ8cGF0aCBjbGFzcz1cXFwiZm9yZWdyb3VuZFxcXCIgZD1cXFwiTTQyLjksNjguNWgxNC41YzAsMC0xLDYuMy03LjIsNi4zUzQyLjksNjguNSw0Mi45LDY4LjV6XFxcIi8+XFxuXFx0XFx0XFx0PGVsbGlwc2UgY2xhc3M9XFxcInN0cm9rZVxcXCIgY3g9XFxcIjQ5LjlcXFwiIGN5PVxcXCI0OS45XFxcIiByeD1cXFwiMzcuNFxcXCIgcnk9XFxcIjM2LjlcXFwiLz5cXG5cXHRcXHQ8L2c+XFxuXFx0PC9nPlxcbjwvZz5cXG48L3N2Zz5cXG5cIlxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBPbmVTaWduYWxTREsuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGYxOTU5MDkwM2FhOTcxNmUyNDc0XG4gKiovIiwiaWYgKHR5cGVvZiBPbmVTaWduYWwgIT09IFwidW5kZWZpbmVkXCIpXG4gIHZhciBwcmVkZWZpbmVkT25lU2lnbmFsUHVzaGVzID0gT25lU2lnbmFsO1xuXG5yZXF1aXJlKFwiZXhwb3NlP09uZVNpZ25hbCEuL3Nkay5qc1wiKTtcblxuaWYgKHByZWRlZmluZWRPbmVTaWduYWxQdXNoZXMpXG4gIE9uZVNpZ25hbC5fcHJvY2Vzc19wdXNoZXMocHJlZGVmaW5lZE9uZVNpZ25hbFB1c2hlcyk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9lbnRyeS5qc1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiT25lU2lnbmFsXCJdID0gcmVxdWlyZShcIi0hL1VzZXJzL2pwYW5nL2NvZGUvT25lU2lnbmFsLVdlYnNpdGUtU0RLL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvaW5kZXguanM/e1xcXCJwcmVzZXRzXFxcIjpbXFxcImVzMjAxNVxcXCJdLFxcXCJjYWNoZURpcmVjdG9yeVxcXCI6dHJ1ZX0hL1VzZXJzL2pwYW5nL2NvZGUvT25lU2lnbmFsLVdlYnNpdGUtU0RLL3NyYy9zZGsuanNcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZXhwb3NlLWxvYWRlcj9PbmVTaWduYWwhLi9zcmMvc2RrLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgREVWX0hPU1QsIFBST0RfSE9TVCwgSE9TVF9VUkwgfSBmcm9tICcuL3ZhcnMuanMnO1xuaW1wb3J0IHsgc2VuZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vYXBpLmpzJztcbmltcG9ydCBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuaW1wb3J0IExpbWl0U3RvcmUgZnJvbSAnLi9saW1pdFN0b3JlLmpzJztcbmltcG9ydCBcIi4vZXZlbnRzLXBvbHlmaWxsLmpzXCI7XG5pbXBvcnQgeyB0cmlnZ2VyRXZlbnQgfSBmcm9tIFwiLi9ldmVudHMuanNcIjtcbmltcG9ydCBCZWxsIGZyb20gXCIuL2JlbGwuanNcIjtcbmltcG9ydCB7IGlzQnJvd3NlckVudiwgaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCwgaXNCcm93c2VyU2FmYXJpLCBpc1N1cHBvcnRlZEZpcmVGb3gsIGlzQnJvd3NlckZpcmVmb3gsIGdldEZpcmVmb3hWZXJzaW9uLCBpc1N1cHBvcnRlZFNhZmFyaSB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG52YXIgT25lU2lnbmFsID0ge1xuICBfVkVSU0lPTjogMTA5MDEzLFxuICBfSE9TVF9VUkw6IEhPU1RfVVJMLFxuICBfYXBwX2lkOiBudWxsLFxuICBfdGFnc1RvU2VuZE9uUmVnaXN0ZXI6IG51bGwsXG4gIF9ub3RpZmljYXRpb25PcGVuZWRfY2FsbGJhY2s6IG51bGwsXG4gIF9pZHNBdmFpbGFibGVfY2FsbGJhY2s6IFtdLFxuICBfZGVmYXVsdExhdW5jaFVSTDogbnVsbCxcbiAgX2luaXRPcHRpb25zOiBudWxsLFxuICBfaHR0cFJlZ2lzdHJhdGlvbjogZmFsc2UsXG4gIF9tYWluX3BhZ2VfcG9ydDogbnVsbCxcbiAgX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrOiBudWxsLFxuICBfc3Vic2NyaXB0aW9uU2V0OiB0cnVlLFxuICBfaW5pdE9uZVNpZ25hbEh0dHA6IG51bGwsXG4gIF9zZXNzaW9uSWZyYW1lQWRkZWQ6IGZhbHNlLFxuICBfdXNlSHR0cE1vZGU6IG51bGwsXG4gIF93aW5kb3dXaWR0aDogNTUwLFxuICBfd2luZG93SGVpZ2h0OiA0ODAsXG4gIF9pc05ld1Zpc2l0b3I6IGZhbHNlLFxuICBfaXNJbml0aWFsaXplZDogZmFsc2UsXG4gIGJlbGw6IG51bGwsXG4gIExPR0dJTkc6IHRydWUsXG4gIFNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSDogXCJPbmVTaWduYWxTREtVcGRhdGVyV29ya2VyLmpzXCIsXG4gIFNFUlZJQ0VfV09SS0VSX1BBVEg6IFwiT25lU2lnbmFsU0RLV29ya2VyLmpzXCIsXG4gIFNFUlZJQ0VfV09SS0VSX1BBUkFNOiB7fSxcblxuICBfZW5zdXJlRGJJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAoT25lU2lnbmFsLl9vbmVTaWduYWxfZGIpIHtcbiAgICAgICAgcmVzb2x2ZShPbmVTaWduYWwuX29uZVNpZ25hbF9kYik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihcIk9ORV9TSUdOQUxfU0RLX0RCXCIsIDEpO1xuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHZhciBkYXRhYmFzZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgT25lU2lnbmFsLl9vbmVTaWduYWxfZGIgPSBkYXRhYmFzZTtcbiAgICAgICAgICByZXNvbHZlKGRhdGFiYXNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgbG9nLmVycm9yKCdVbmFibGUgdG8gb3BlbiBJbmRleGVkREIuJywgZXZlbnQpO1xuICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBsb2cuZGVidWcoJ1JlYnVpbGRpbmcgc2NoZW1hIGluIEluZGV4ZWREQi4uLicpO1xuICAgICAgICAgIHZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJJZHNcIiwge2tleVBhdGg6IFwidHlwZVwifSk7XG4gICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwge2tleVBhdGg6IFwidXJsXCJ9KTtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShcIk9wdGlvbnNcIiwge2tleVBhdGg6IFwia2V5XCJ9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfZ2V0RGJWYWx1ZTogZnVuY3Rpb24gKHRhYmxlLCBrZXkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgT25lU2lnbmFsLl9lbnN1cmVEYkluc3RhbmNlKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGFiYXNlKSB7XG4gICAgICAgICAgdmFyIHJlcXVlc3QgPSBkYXRhYmFzZS50cmFuc2FjdGlvbih0YWJsZSkub2JqZWN0U3RvcmUodGFibGUpLmdldChrZXkpO1xuICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5yZXN1bHQpXG4gICAgICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2RiVmFsdWVSZXRyaWV2ZWQocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yQ29kZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICAgIDtcbiAgICB9KTtcbiAgfSxcblxuICBfZ2V0RGJWYWx1ZXM6IGZ1bmN0aW9uICh0YWJsZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcbiAgICAgICAgICB2YXIganNvblJlc3VsdCA9IHt9O1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBkYXRhYmFzZS50cmFuc2FjdGlvbih0YWJsZSkub2JqZWN0U3RvcmUodGFibGUpLm9wZW5DdXJzb3IoKTtcbiAgICAgICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfZGJWYWx1ZVJldHJpZXZlZChjdXJzb3IpO1xuICAgICAgICAgICAgICBqc29uUmVzdWx0W2N1cnNvci5rZXldID0gY3Vyc29yLnZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgcmVzb2x2ZShqc29uUmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGN1cnNvci5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZWplY3QoY3Vyc29yLmVycm9yQ29kZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBfcHV0RGJWYWx1ZTogZnVuY3Rpb24gKHRhYmxlLCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBPbmVTaWduYWwuX2Vuc3VyZURiSW5zdGFuY2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YWJhc2UpIHtcbiAgICAgICAgICBkYXRhYmFzZS50cmFuc2FjdGlvbihbdGFibGVdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZSh0YWJsZSkucHV0KHZhbHVlKTtcbiAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9kYlZhbHVlU2V0KHZhbHVlKTtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBfZGVsZXRlRGJWYWx1ZTogZnVuY3Rpb24gKHRhYmxlLCBrZXkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgT25lU2lnbmFsLl9lbnN1cmVEYkluc3RhbmNlKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGFiYXNlKSB7XG4gICAgICAgICAgZGF0YWJhc2UudHJhbnNhY3Rpb24oW3RhYmxlXSwgXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUodGFibGUpLmRlbGV0ZShrZXkpO1xuICAgICAgICAgIHJlc29sdmUoa2V5KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICAgIDtcbiAgICB9KTtcbiAgfSxcblxuICBfc2VuZFRvT25lU2lnbmFsQXBpOiBmdW5jdGlvbiAodXJsLCBhY3Rpb24sIGluRGF0YSwgY2FsbGJhY2ssIGZhaWxlZENhbGxiYWNrKSB7XG4gICAgbG9nLmRlYnVnKGBDYWxsaW5nICR7YWN0aW9ufSAke09uZVNpZ25hbC5fSE9TVF9VUkwgKyB1cmx9IHdpdGggZGF0YTpgLCBpbkRhdGEpO1xuICAgIHZhciBjb250ZW50cyA9IHtcbiAgICAgIG1ldGhvZDogYWN0aW9uLFxuICAgICAgLy9tb2RlOiAnbm8tY29ycycsIC8vIG5vLWNvcnMgaXMgZGlzYWJsZWQgZm9yIG5vbi1zZXJ2aWNld29ya2VyLlxuICAgIH07XG5cbiAgICBpZiAoaW5EYXRhKSB7XG4gICAgICBjb250ZW50cy5oZWFkZXJzID0ge1wiQ29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCJ9O1xuICAgICAgY29udGVudHMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGluRGF0YSk7XG4gICAgfVxuXG4gICAgZmV0Y2goT25lU2lnbmFsLl9IT1NUX1VSTCArIHVybCwgY29udGVudHMpXG4gICAgICAudGhlbihmdW5jdGlvbiBzdGF0dXMocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3RhdHVzKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGpzb25EYXRhKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKVxuICAgICAgICAgIGNhbGxiYWNrKGpzb25EYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKCdPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaSgpIGZhaWxlZDonLCBlKTtcbiAgICAgICAgaWYgKGZhaWxlZENhbGxiYWNrICE9IG51bGwpXG4gICAgICAgICAgZmFpbGVkQ2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIF9nZXRMYW5ndWFnZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2UgPyAobmF2aWdhdG9yLmxhbmd1YWdlLmxlbmd0aCA+IDMgPyBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3Vic3RyaW5nKDAsIDIpIDogbmF2aWdhdG9yLmxhbmd1YWdlKSA6ICdlbic7XG4gIH0sXG5cbiAgX2dldFBsYXllcklkOiBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHZhbHVlKVxuICAgICAgY2FsbGJhY2sodmFsdWUpXG4gICAgZWxzZSB7XG4gICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiBfZ2V0UGxheWVySWRfZ290VXNlcklkKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQuaWQpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgO1xuICAgIH1cbiAgfSxcblxuICBfZ2V0QnJvd3Nlck5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pKVxuICAgICAgcmV0dXJuIFwiQ2hyb21lXCI7XG4gICAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKFwiVmVyc2lvbi8oLiopIChTYWZhcmkpXCIpKVxuICAgICAgcmV0dXJuIFwiU2FmYXJpXCI7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pKVxuICAgICAgcmV0dXJuIFwiRmlyZWZveFwiO1xuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG5cbiAgX3JlZ2lzdGVyV2l0aE9uZVNpZ25hbDogZnVuY3Rpb24gKGFwcElkLCByZWdpc3RyYXRpb25JZCwgZGV2aWNlVHlwZSkge1xuXG4gICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9yZWdpc3RlcldpdGhPbmVTaWduYWxfR290VXNlcklkKHVzZXJJZFJlc3VsdCkge1xuICAgICAgICBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblR5cGVzKGZ1bmN0aW9uIChub3RpZl90eXBlcykge1xuICAgICAgICAgIHZhciByZXF1ZXN0VXJsID0gJ3BsYXllcnMnO1xuXG4gICAgICAgICAgdmFyIGpzb25EYXRhID0ge1xuICAgICAgICAgICAgYXBwX2lkOiBhcHBJZCxcbiAgICAgICAgICAgIGRldmljZV90eXBlOiBkZXZpY2VUeXBlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IE9uZVNpZ25hbC5fZ2V0TGFuZ3VhZ2UoKSxcbiAgICAgICAgICAgIHRpbWV6b25lOiBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiAtNjAsXG4gICAgICAgICAgICBkZXZpY2VfbW9kZWw6IG5hdmlnYXRvci5wbGF0Zm9ybSArIFwiIFwiICsgT25lU2lnbmFsLl9nZXRCcm93c2VyTmFtZSgpLFxuICAgICAgICAgICAgZGV2aWNlX29zOiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pIHx8IG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKFwiVmVyc2lvbi8oLiopIFNhZmFyaVwiKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFswLTldezIsfVxcLlswLTldezEsfSkvKSlbMV0sXG4gICAgICAgICAgICBzZGs6IE9uZVNpZ25hbC5fVkVSU0lPTlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAodXNlcklkUmVzdWx0KSB7XG4gICAgICAgICAgICByZXF1ZXN0VXJsID0gJ3BsYXllcnMvJyArIHVzZXJJZFJlc3VsdC5pZCArICcvb25fc2Vzc2lvbic7XG4gICAgICAgICAgICBqc29uRGF0YS5ub3RpZmljYXRpb25fdHlwZXMgPSBub3RpZl90eXBlc1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChub3RpZl90eXBlcyAhPSAxKVxuICAgICAgICAgICAganNvbkRhdGEubm90aWZpY2F0aW9uX3R5cGVzID0gbm90aWZfdHlwZXNcblxuICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25JZCkge1xuICAgICAgICAgICAganNvbkRhdGEuaWRlbnRpZmllciA9IHJlZ2lzdHJhdGlvbklkO1xuICAgICAgICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInJlZ2lzdHJhdGlvbklkXCIsIGlkOiByZWdpc3RyYXRpb25JZH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKHJlcXVlc3RVcmwsICdQT1NUJywganNvbkRhdGEsXG4gICAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlcmVkQ2FsbGJhY2socmVzcG9uc2VKU09OKSB7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlSlNPTi5pZCkge1xuICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJ1c2VySWRcIiwgaWQ6IHJlc3BvbnNlSlNPTi5pZH0pO1xuICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFVuc2VudFRhZ3MoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIE9uZVNpZ25hbC5fZ2V0UGxheWVySWQocmVzcG9uc2VKU09OLmlkLCBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJfY2FsbGJhY2soe3VzZXJJZDogdXNlcklkLCByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWR9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoT25lU2lnbmFsLl9odHRwUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJTZW5kaW5nIHBsYXllciBJZCBhbmQgcmVnaXN0cmF0aW9uSWQgYmFjayB0byBob3N0IHBhZ2VcIik7XG4gICAgICAgICAgICAgICAgICBsb2cuZGVidWcoT25lU2lnbmFsLl9pbml0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICB2YXIgY3JlYXRvciA9IG9wZW5lciB8fCBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICBPbmVTaWduYWwuX3NhZmVQb3N0TWVzc2FnZShjcmVhdG9yLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkc0F2YWlsYWJsZToge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbiwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChvcGVuZXIpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIF9zZW5kVW5zZW50VGFnczogZnVuY3Rpb24gKCkge1xuICAgIGlmIChPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyKSB7XG4gICAgICBPbmVTaWduYWwuc2VuZFRhZ3MoT25lU2lnbmFsLl90YWdzVG9TZW5kT25SZWdpc3Rlcik7XG4gICAgICBPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID0gbnVsbDtcbiAgICB9XG4gIH0sXG5cbiAgc2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybDogZnVuY3Rpb24gKHVybCkge1xuICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwge2tleTogXCJkZWZhdWx0VXJsXCIsIHZhbHVlOiB1cmx9KTtcbiAgfSxcblxuICBzZXREZWZhdWx0SWNvbjogZnVuY3Rpb24gKGljb24pIHtcbiAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJPcHRpb25zXCIsIHtrZXk6IFwiZGVmYXVsdEljb25cIiwgdmFsdWU6IGljb259KTtcbiAgfSxcblxuICBzZXREZWZhdWx0VGl0bGU6IGZ1bmN0aW9uICh0aXRsZSkge1xuICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwge2tleTogXCJkZWZhdWx0VGl0bGVcIiwgdmFsdWU6IHRpdGxlfSk7XG4gIH0sXG5cbiAgX3Zpc2liaWxpdHljaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09IFwidmlzaWJsZVwiKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBPbmVTaWduYWwuX3Zpc2liaWxpdHljaGFuZ2UpO1xuICAgICAgT25lU2lnbmFsLl9zZXNzaW9uSW5pdCh7fSk7XG4gICAgfVxuICB9LFxuXG4gIG9uQ3VzdG9tUHJvbXB0Q2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbG9nLmRlYnVnKCdFdmVudCBvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkOicsIGV2ZW50LmRldGFpbCk7XG4gICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG4gIH0sXG5cbiAgb25OYXRpdmVQcm9tcHRDaGFuZ2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5wcm9tcHQubmF0aXZlLnBlcm1pc3Npb25jaGFuZ2VkOicsIGV2ZW50LmRldGFpbCk7XG4gICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG4gIH0sXG5cbiAgX29uU3Vic2NyaXB0aW9uQ2hhbmdlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbG9nLmRlYnVnKCdFdmVudCBvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQ6JywgZXZlbnQuZGV0YWlsKTtcbiAgICBpZiAoT25lU2lnbmFsLl9pc05ld1Zpc2l0b3IgJiYgZXZlbnQuZGV0YWlsID09PSB0cnVlKSB7XG4gICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgbGV0IHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgPSBPbmVTaWduYWwuX2luaXRPcHRpb25zWyd3ZWxjb21lTm90aWZpY2F0aW9uJ107XG4gICAgICAgICAgbGV0IHdlbGNvbWVfbm90aWZpY2F0aW9uX2Rpc2FibGVkID0gKHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydkaXNhYmxlJ10gPT09IHRydWUpO1xuICAgICAgICAgIGxldCB0aXRsZSA9ICh3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzICE9PSB1bmRlZmluZWQgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1sndGl0bGUnXSAhPT0gdW5kZWZpbmVkICYmIHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHNbJ3RpdGxlJ10gIT09IG51bGwpID8gd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1sndGl0bGUnXSA6ICcnO1xuICAgICAgICAgIGxldCBtZXNzYWdlID0gKHdlbGNvbWVfbm90aWZpY2F0aW9uX29wdHMgIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gIT09IHVuZGVmaW5lZCAmJiB3ZWxjb21lX25vdGlmaWNhdGlvbl9vcHRzWydtZXNzYWdlJ10gIT09IG51bGwgJiYgd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddLmxlbmd0aCA+IDApID8gd2VsY29tZV9ub3RpZmljYXRpb25fb3B0c1snbWVzc2FnZSddIDogJ1RoYW5rcyBmb3Igc3Vic2NyaWJpbmchJztcbiAgICAgICAgICBpZiAoIXdlbGNvbWVfbm90aWZpY2F0aW9uX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ0JlY2F1c2UgdGhpcyB1c2VyIGlzIGEgbmV3IHNpdGUgdmlzaXRvciwgYSB3ZWxjb21lIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHNlbnQuJyk7XG4gICAgICAgICAgICBzZW5kTm90aWZpY2F0aW9uKE9uZVNpZ25hbC5fYXBwX2lkLCBbcmVzdWx0LmlkXSwgeydlbic6IHRpdGxlfSwgeydlbic6IG1lc3NhZ2V9KVxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuYWN0aW9ucy53ZWxjb21lbm90aWZpY2F0aW9uc2VudCcsIHt0aXRsZTogdGl0bGUsIG1lc3NhZ2U6IG1lc3NhZ2V9KTtcbiAgICAgICAgICAgIE9uZVNpZ25hbC5faXNOZXdWaXNpdG9yID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBMaW1pdFN0b3JlLnB1dCgnc3Vic2NyaXB0aW9uLnZhbHVlJywgZXZlbnQuZGV0YWlsKTtcbiAgfSxcblxuICBfb25EYlZhbHVlUmV0cmlldmVkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5kYi5yZXRyaWV2ZWQ6JywgZXZlbnQuZGV0YWlsKTtcbiAgfSxcblxuICBfb25EYlZhbHVlU2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5kYi52YWx1ZXNldDonLCBldmVudC5kZXRhaWwpO1xuICAgIHZhciBpbmZvID0gZXZlbnQuZGV0YWlsO1xuICAgIGlmIChpbmZvLnR5cGUgPT09ICd1c2VySWQnKSB7XG4gICAgICBMaW1pdFN0b3JlLnB1dCgnZGIuaWRzLnVzZXJJZCcsIGluZm8uaWQpO1xuICAgICAgT25lU2lnbmFsLl9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCk7XG4gICAgfVxuICB9LFxuXG4gIF9vbkludGVybmFsU3Vic2NyaXB0aW9uU2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoJ0V2ZW50IG9uZXNpZ25hbC5pbnRlcm5hbC5zdWJzY3JpcHRpb25zZXQ6JywgZXZlbnQuZGV0YWlsKTtcbiAgICB2YXIgbmV3U3Vic2NyaXB0aW9uVmFsdWUgPSBldmVudC5kZXRhaWw7XG4gICAgTGltaXRTdG9yZS5wdXQoJ3N1YnNjcmlwdGlvbi5pbnRlcm5hbC52YWx1ZScsIG5ld1N1YnNjcmlwdGlvblZhbHVlKTtcbiAgICBPbmVTaWduYWwuX2NoZWNrVHJpZ2dlcl9ldmVudFN1YnNjcmlwdGlvbkNoYW5nZWQoKTtcbiAgfSxcblxuICBfY2hlY2tUcmlnZ2VyX2V2ZW50U3Vic2NyaXB0aW9uQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuICAgIGxvZy5kZWJ1ZygnQ2FsbGVkIF9jaGVja1RyaWdnZXJfZXZlbnRTdWJzY3JpcHRpb25DaGFuZ2VkKCkuJyk7XG4gICAgdmFyIHBlcm1pc3Npb25zID0gTGltaXRTdG9yZS5nZXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJyk7XG4gICAgdmFyIGxhc3RQZXJtaXNzaW9uID0gcGVybWlzc2lvbnNbcGVybWlzc2lvbnMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGN1cnJlbnRQZXJtaXNzaW9uID0gcGVybWlzc2lvbnNbcGVybWlzc2lvbnMubGVuZ3RoIC0gMV07XG5cbiAgICB2YXIgaWRzID0gTGltaXRTdG9yZS5nZXQoJ2RiLmlkcy51c2VySWQnKTtcbiAgICB2YXIgbGFzdElkID0gaWRzW2lkcy5sZW5ndGggLSAyXTtcbiAgICB2YXIgY3VycmVudElkID0gaWRzW2lkcy5sZW5ndGggLSAxXTtcblxuICAgIHZhciBzdWJzY3JpcHRpb25TdGF0ZXMgPSBMaW1pdFN0b3JlLmdldCgnc3Vic2NyaXB0aW9uLmludGVybmFsLnZhbHVlJyk7XG4gICAgdmFyIGxhc3RTdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvblN0YXRlc1tzdWJzY3JpcHRpb25TdGF0ZXMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvblN0YXRlc1tzdWJzY3JpcHRpb25TdGF0ZXMubGVuZ3RoIC0gMV07XG5cblxuICAgIHZhciBuZXdTdWJzY3JpcHRpb25TdGF0ZSA9ICd1bmNoYW5nZWQnO1xuXG4gICAgaWYgKCgobGFzdFBlcm1pc3Npb24gPT09ICdkZWZhdWx0JyB8fCBsYXN0UGVybWlzc2lvbiA9PT0gJ2RlbmllZCcgfHwgbGFzdFBlcm1pc3Npb24gPT09IG51bGwpICYmIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcgJiZcbiAgICAgICAgY3VycmVudElkICE9PSBudWxsICYmXG4gICAgICAgIGN1cnJlbnRTdWJzY3JpcHRpb25TdGF0ZSA9PT0gdHJ1ZVxuICAgICAgKSB8fFxuICAgICAgKFxuICAgICAgICAobGFzdFN1YnNjcmlwdGlvblN0YXRlID09PSBmYWxzZSAmJiBjdXJyZW50U3Vic2NyaXB0aW9uU3RhdGUgPT09IHRydWUpICYmXG4gICAgICAgIGN1cnJlbnRJZCAhPSBudWxsICYmXG4gICAgICAgIGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZ3JhbnRlZCdcbiAgICAgICkpIHtcbiAgICAgIG5ld1N1YnNjcmlwdGlvblN0YXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoKGxhc3RQZXJtaXNzaW9uICE9PSAnZGVuaWVkJyAmJiBjdXJyZW50UGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHx8XG4gICAgICAobGFzdFBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJiBjdXJyZW50UGVybWlzc2lvbiAhPT0gJ2dyYW50ZWQnKSB8fFxuICAgICAgKGxhc3RJZCAhPT0gbnVsbCAmJiBjdXJyZW50SWQgPT09IG51bGwpIHx8XG4gICAgICAobGFzdFN1YnNjcmlwdGlvblN0YXRlICE9PSBmYWxzZSAmJiBjdXJyZW50U3Vic2NyaXB0aW9uU3RhdGUgPT09IGZhbHNlKSkge1xuICAgICAgbmV3U3Vic2NyaXB0aW9uU3RhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobmV3U3Vic2NyaXB0aW9uU3RhdGUgIT09IFwidW5jaGFuZ2VkXCIpIHtcbiAgICAgIHZhciBsYXN0VHJpZ2dlclRpbWVzID0gTGltaXRTdG9yZS5wdXQoJ2V2ZW50LnN1YnNjcmlwdGlvbmNoYW5nZWQubGFzdHJpZ2dlcmVkJywgRGF0ZS5ub3coKSk7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBsYXN0VHJpZ2dlclRpbWVzW2xhc3RUcmlnZ2VyVGltZXMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgbGFzdFRyaWdnZXJUaW1lID0gbGFzdFRyaWdnZXJUaW1lc1tsYXN0VHJpZ2dlclRpbWVzLmxlbmd0aCAtIDJdO1xuICAgICAgdmFyIGVsYXBzZWRUaW1lU2Vjb25kcyA9IChjdXJyZW50VGltZSAtIGxhc3RUcmlnZ2VyVGltZSkgLyAxMDAwO1xuXG4gICAgICB2YXIgbGFzdEV2ZW50U3RhdGVzID0gTGltaXRTdG9yZS5wdXQoJ2V2ZW50LnN1YnNjcmlwdGlvbmNoYW5nZWQubGFzdHN0YXRlcycsIG5ld1N1YnNjcmlwdGlvblN0YXRlKTtcbiAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBsYXN0RXZlbnRTdGF0ZXNbbGFzdEV2ZW50U3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGxhc3RTdGF0ZSA9IGxhc3RFdmVudFN0YXRlc1tsYXN0RXZlbnRTdGF0ZXMubGVuZ3RoIC0gMl07XG5cbiAgICAgIC8vIElmIGV2ZW50IGFscmVhZHkgdHJpZ2dlcmVkIHdpdGhpbiB0aGUgbGFzdCBzZWNvbmQsIGRvbid0IHJlLXRyaWdnZXIuXG4gICAgICB2YXIgc2hvdWxkTm90VHJpZ2dlckV2ZW50ID0gKGxhc3RUcmlnZ2VyVGltZSAhPSBudWxsICYmIChlbGFwc2VkVGltZVNlY29uZHMgPD0gMSkpIHx8IChjdXJyZW50U3RhdGUgPT09IGxhc3RTdGF0ZSk7XG4gICAgICBpZiAoc2hvdWxkTm90VHJpZ2dlckV2ZW50ID09PSBmYWxzZSkge1xuICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9zdWJzY3JpcHRpb25DaGFuZ2VkKG5ld1N1YnNjcmlwdGlvblN0YXRlKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmIChPbmVTaWduYWwuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGxvZy53YXJuKCdPbmVTaWduYWwuaW5pdCgpIHdhcyBjYWxsZWQgYWdhaW4sIGJ1dCB0aGUgU0RLIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFNraXBwaW5nIGluaXRpYWxpemF0aW9uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPbmVTaWduYWwuX2luaXRPcHRpb25zID0gb3B0aW9ucztcblxuICAgIGlmIChPbmVTaWduYWwuTE9HR0lORylcbiAgICAgIGxvZy5lbmFibGVBbGwoKTtcbiAgICBlbHNlXG4gICAgICBsb2cuc2V0TGV2ZWwoJ2Vycm9yJyk7XG5cbiAgICBsb2cuaW5mbyhgT25lU2lnbmFsIFdlYiBTREsgbG9hZGVkICh2ZXJzaW9uICR7T25lU2lnbmFsLl9WRVJTSU9OfSkuYCk7XG4gICAgaWYgKCFpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxvZy53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci5wZXJtaXNzaW9ucyAmJiAhKGlzQnJvd3NlckZpcmVmb3goKSAmJiBnZXRGaXJlZm94VmVyc2lvbigpIDw9IDQ1KSkge1xuICAgICAgT25lU2lnbmFsLl91c2luZ05hdGl2ZVBlcm1pc3Npb25Ib29rID0gdHJ1ZTtcbiAgICAgIHZhciBjdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbiA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpO1xuICAgICAgTGltaXRTdG9yZS5wdXQoJ25vdGlmaWNhdGlvbi5wZXJtaXNzaW9uJywgY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24pO1xuICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgbmF0aXZlbHkgc3VwcG9ydHMgaG9va2luZyB0aGUgc3Vic2NyaXB0aW9uIHByb21wdCBwZXJtaXNzaW9uIGNoYW5nZSBldmVudFxuICAgICAgLy8gICAgIHVzZSBpdCBpbnN0ZWFkIG9mIG91ciBTREsgbWV0aG9kXG4gICAgICBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6ICdub3RpZmljYXRpb25zJ30pLnRoZW4oZnVuY3Rpb24gKHBlcm1pc3Npb25TdGF0dXMpIHtcbiAgICAgICAgcGVybWlzc2lvblN0YXR1cy5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmVjZW50UGVybWlzc2lvbnMgPSBMaW1pdFN0b3JlLmdldCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nKTtcbiAgICAgICAgICB2YXIgcGVybWlzc2lvbkJlZm9yZVByb21wdCA9IHJlY2VudFBlcm1pc3Npb25zWzBdO1xuICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKHBlcm1pc3Npb25CZWZvcmVQcm9tcHQpO1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24gPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKTtcbiAgICAgIExpbWl0U3RvcmUucHV0KCdub3RpZmljYXRpb24ucGVybWlzc2lvbicsIGN1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uKTtcbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgY3VycmVudCB2YWx1ZSBvZiBJZHM6cmVnaXN0cmF0aW9uSWQsIHNvIHRoYXQgd2UgY2FuIHNlZSBpZiB0aGUgdmFsdWUgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG4gICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgT25lU2lnbmFsLl9pc05ld1Zpc2l0b3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdG9yZVZhbHVlID0gcmVzdWx0ID8gcmVzdWx0LmlkIDogbnVsbDtcbiAgICAgICAgTGltaXRTdG9yZS5wdXQoJ2RiLmlkcy51c2VySWQnLCBzdG9yZVZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdmFsdWUgb2Ygc3Vic2NyaXB0aW9uLCBzbyB0aGF0IHdlIGNhbiBzZWUgaWYgdGhlIHZhbHVlIGNoYW5nZXMgaW4gdGhlIGZ1dHVyZVxuICAgIE9uZVNpZ25hbC5fZ2V0U3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChjdXJyZW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICBMaW1pdFN0b3JlLnB1dCgnc3Vic2NyaXB0aW9uLmludGVybmFsLnZhbHVlJywgY3VycmVudFN1YnNjcmlwdGlvbik7XG4gICAgfSk7XG5cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkJywgT25lU2lnbmFsLm9uQ3VzdG9tUHJvbXB0Q2xpY2tlZCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5wcm9tcHQubmF0aXZlLnBlcm1pc3Npb25jaGFuZ2VkJywgT25lU2lnbmFsLm9uTmF0aXZlUHJvbXB0Q2hhbmdlZCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5zdWJzY3JpcHRpb24uY2hhbmdlZCcsIE9uZVNpZ25hbC5fb25TdWJzY3JpcHRpb25DaGFuZ2VkKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmRiLnZhbHVlcmV0cmlldmVkJywgT25lU2lnbmFsLl9vbkRiVmFsdWVSZXRyaWV2ZWQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuZGIudmFsdWVzZXQnLCBPbmVTaWduYWwuX29uRGJWYWx1ZVNldCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5kYi52YWx1ZXNldCcsIE9uZVNpZ25hbC5fb25EYlZhbHVlU2V0KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25lc2lnbmFsLmludGVybmFsLnN1YnNjcmlwdGlvbnNldCcsIE9uZVNpZ25hbC5fb25JbnRlcm5hbFN1YnNjcmlwdGlvblNldCk7XG5cbiAgICBPbmVTaWduYWwuX3VzZUh0dHBNb2RlID0gIWlzU3VwcG9ydGVkU2FmYXJpKCkgJiYgKCFPbmVTaWduYWwuX3N1cHBvcnRzRGlyZWN0UGVybWlzc2lvbigpIHx8IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSk7XG5cbiAgICBpZiAoT25lU2lnbmFsLl91c2VIdHRwTW9kZSlcbiAgICAgIE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgPSAnaHR0cHM6Ly8nICsgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zdWJkb21haW5OYW1lICsgJy5vbmVzaWduYWwuY29tL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHAnO1xuICAgIGVsc2VcbiAgICAgIE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHAgPSAnaHR0cHM6Ly9vbmVzaWduYWwuY29tL3Nka3MvaW5pdE9uZVNpZ25hbEh0dHBzJztcblxuICAgIGlmIChfX0RFVl9fKVxuICAgICAgT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCA9IERFVl9IT1NUICsgJy9kZXZfc2Rrcy9pbml0T25lU2lnbmFsSHR0cCc7XG5cbiAgICAvLyBJZiBTYWZhcmkgLSBhZGQgJ2ZldGNoJyBwb2xseWZpbGwgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhZGRlZC5cbiAgICBpZiAoaXNTdXBwb3J0ZWRTYWZhcmkoKSAmJiB0eXBlb2Ygd2luZG93LmZldGNoID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzLnNldEF0dHJpYnV0ZSgnc3JjJywgXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mZXRjaC8wLjkuMC9mZXRjaC5qc1wiKTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIilcbiAgICAgIE9uZVNpZ25hbC5faW50ZXJuYWxJbml0KCk7XG4gICAgZWxzZVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBPbmVTaWduYWwuX2ludGVybmFsSW5pdCk7XG5cblxuICAgIGlmIChfX0RFVl9fICYmIGlzQnJvd3NlckVudigpKSB7XG4gICAgICBsb2cuaW5mbygnU2hvd2luZyBiZWxsLicpO1xuICAgICAgT25lU2lnbmFsLmJlbGwgPSBuZXcgQmVsbCh7XG4gICAgICAgIHNpemU6ICdsYXJnZScsXG4gICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JyxcbiAgICAgICAgdGhlbWU6ICdkZWZhdWx0J1xuICAgICAgfSk7XG4gICAgICBPbmVTaWduYWwuYmVsbC5jcmVhdGUoKTtcbiAgICB9XG5cbiAgICBPbmVTaWduYWwuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9LFxuXG4gIF9pbnRlcm5hbEluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAnYXBwSWQnKSxcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJyksXG4gICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnc3Vic2NyaXB0aW9uJyldKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gX2ludGVybmFsSW5pdF9Hb3RBcHBSZWdpc3RyYXRpb25TdWJzY3JpcHRpb25JZHMocmVzdWx0KSB7XG4gICAgICAgIHZhciBhcHBJZFJlc3VsdCA9IHJlc3VsdFswXTtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0WzFdO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uUmVzdWx0ID0gcmVzdWx0WzJdO1xuXG4gICAgICAgIC8vIElmIEFwcElkIGNoYW5nZWQgZGVsZXRlIHBsYXllcklkIGFuZCBjb250aW51ZS5cbiAgICAgICAgaWYgKGFwcElkUmVzdWx0ICYmIGFwcElkUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXBwSWQpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX2RlbGV0ZURiVmFsdWUoXCJJZHNcIiwgXCJ1c2VySWRcIik7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhUVFBTIC0gT25seSByZWdpc3RlciBmb3IgcHVzaCBub3RpZmljYXRpb25zIG9uY2UgcGVyIHNlc3Npb24gb3IgaWYgdGhlIHVzZXIgY2hhbmdlcyBub3RpZmljYXRpb24gcGVybWlzc2lvbiB0byBBc2sgb3IgQWxsb3cuXG4gICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIpXG4gICAgICAgICAgJiYgIU9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZVxuICAgICAgICAgICYmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImRlbmllZFwiXG4gICAgICAgICAgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk9ORV9TSUdOQUxfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05cIikgPT0gTm90aWZpY2F0aW9uLnBlcm1pc3Npb24pKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9OT1RJRklDQVRJT05fUEVSTUlTU0lPTlwiLCBOb3RpZmljYXRpb24ucGVybWlzc2lvbik7XG5cbiAgICAgICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXV0b1JlZ2lzdGVyID09IGZhbHNlICYmICFyZWdpc3RyYXRpb25JZFJlc3VsdCAmJiBPbmVTaWduYWwuX2luaXRPcHRpb25zLnN1YmRvbWFpbk5hbWUgPT0gbnVsbClcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPSBcInZpc2libGVcIikge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIE9uZVNpZ25hbC5fdmlzaWJpbGl0eWNoYW5nZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT25lU2lnbmFsLl9zZXNzaW9uSW5pdCh7fSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIHJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxvZy53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gV0FSTklORzogRG8gTk9UIGFkZCBjYWxsYmFja3MgdGhhdCBoYXZlIHRvIGZpcmUgdG8gZ2V0IGZyb20gaGVyZSB0byB3aW5kb3cub3BlbiBpbiBfc2Vzc2lvbkluaXQuXG4gICAgLy8gICAgICAgICAgT3RoZXJ3aXNlIHRoZSBwb3AtdXAgdG8gYXNrIGZvciBwdXNoIHBlcm1pc3Npb24gb24gSFRUUCBjb25uZWN0aW9ucyB3aWxsIGJlIGJsb2NrZWQgYnkgQ2hyb21lLlxuICAgIGlmICghb3B0aW9ucylcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICBvcHRpb25zLmZyb21SZWdpc3RlckZvciA9IHRydWU7XG4gICAgT25lU2lnbmFsLl9zZXNzaW9uSW5pdChvcHRpb25zKTtcbiAgfSxcblxuICAvLyBIdHRwIG9ubHkgLSBPbmx5IGNhbGxlZCBmcm9tIGlmcmFtZSdzIGluaXQuanNcbiAgX2luaXRIdHRwOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgaWYgKG9wdGlvbnMuY29udGludWVQcmVzc2VkKSB7XG4gICAgICBPbmVTaWduYWwuc2V0U3Vic2NyaXB0aW9uKHRydWUpO1xuICAgIH1cblxuICAgIHZhciBpc0lmcmFtZSA9IChwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQgIT0gd2luZG93KTtcbiAgICB2YXIgY3JlYXRvciA9IG9wZW5lciB8fCBwYXJlbnQ7XG5cbiAgICBpZiAoIWNyZWF0b3IpIHtcbiAgICAgIGxvZy5kZWJ1ZyhcIkVSUk9SOl9pbml0SHR0cDogTm8gb3BlbmVyIG9yIHBhcmVudCBmb3VuZCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldHRpbmcgdXAgbWVzc2FnZSBjaGFubmVsIHRvIHJlY2VpdmUgbWVzc2FnZSBmcm9tIGhvc3QgcGFnZS5cbiAgICB2YXIgbWVzc2FnZUNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGxvZy5kZWJ1ZyhcIl9pbml0SHR0cC5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2VcIiwgZXZlbnQpO1xuXG4gICAgICBpZiAoZXZlbnQuZGF0YS5pbml0T3B0aW9ucykge1xuICAgICAgICBPbmVTaWduYWwuc2V0RGVmYXVsdE5vdGlmaWNhdGlvblVybChldmVudC5kYXRhLmluaXRPcHRpb25zLmRlZmF1bHRVcmwpO1xuICAgICAgICBPbmVTaWduYWwuc2V0RGVmYXVsdFRpdGxlKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdFRpdGxlKTtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdEljb24pXG4gICAgICAgICAgT25lU2lnbmFsLnNldERlZmF1bHRJY29uKGV2ZW50LmRhdGEuaW5pdE9wdGlvbnMuZGVmYXVsdEljb24pO1xuXG4gICAgICAgIGxvZy5kZWJ1ZyhcImRvY3VtZW50LlVSTFwiLCBldmVudC5kYXRhLmluaXRPcHRpb25zLnBhcmVudF91cmwpO1xuICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5wYXJlbnRfdXJsKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnNfR290Tm90aWZpY2F0aW9uT3BlbmVkKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwiX2luaXRIdHRwIE5vdGlmaWNhdGlvbk9wZW5lZCBkYlwiLCBub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpO1xuICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdCkge1xuICAgICAgICAgICAgICBPbmVTaWduYWwuX2RlbGV0ZURiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgZXZlbnQuZGF0YS5pbml0T3B0aW9ucy5wYXJlbnRfdXJsKTtcbiAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2U6dGFyZ2V0T3JpZ2luOlwiLCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbik7XG5cbiAgICAgICAgICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwge29wZW5lZE5vdGlmaWNhdGlvbjogbm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0LmRhdGF9LCBPbmVTaWduYWwuX2luaXRPcHRpb25zLm9yaWdpbiwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZXZlbnQuZGF0YS5nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKSB7XG4gICAgICAgIE9uZVNpZ25hbC5fZ2V0U3ViZG9tYWluU3RhdGUoZnVuY3Rpb24gKGN1clN0YXRlKSB7XG4gICAgICAgICAgT25lU2lnbmFsLl9zYWZlUG9zdE1lc3NhZ2UoY3JlYXRvciwge2N1cnJlbnROb3RpZmljYXRpb25QZXJtaXNzaW9uOiBjdXJTdGF0ZX0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChldmVudC5kYXRhLnNldFN1YmRvbWFpblN0YXRlKVxuICAgICAgICBPbmVTaWduYWwuc2V0U3Vic2NyaXB0aW9uKGV2ZW50LmRhdGEuc2V0U3ViZG9tYWluU3RhdGUuc2V0U3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuXG4gICAgT25lU2lnbmFsLl9nZXRTdWJkb21haW5TdGF0ZShmdW5jdGlvbiAoY3VyU3RhdGUpIHtcbiAgICAgIGN1clN0YXRlW1wiaXNJZnJhbWVcIl0gPSBpc0lmcmFtZTtcbiAgICAgIE9uZVNpZ25hbC5fc2FmZVBvc3RNZXNzYWdlKGNyZWF0b3IsIHtvbmVTaWduYWxJbml0UGFnZVJlYWR5OiBjdXJTdGF0ZX0sIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMub3JpZ2luLCBbbWVzc2FnZUNoYW5uZWwucG9ydDJdKTtcbiAgICB9KTtcblxuICAgIE9uZVNpZ25hbC5faW5pdFNhdmVTdGF0ZSgpO1xuICAgIE9uZVNpZ25hbC5faHR0cFJlZ2lzdHJhdGlvbiA9IHRydWU7XG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKFwiP3Nlc3Npb249dHJ1ZVwiKSA9PSAwKVxuICAgICAgcmV0dXJuO1xuXG4gICAgT25lU2lnbmFsLl9nZXRQbGF5ZXJJZChudWxsLCBmdW5jdGlvbiAocGxheWVyX2lkKSB7XG4gICAgICBpZiAoIWlzSWZyYW1lIHx8IHBsYXllcl9pZCkge1xuICAgICAgICBsb2cuZGVidWcoXCJCZWZvcmUgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXJcIik7XG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICBsb2cuZGVidWcoXCJBZnRlciBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlclwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfZ2V0U3ViZG9tYWluU3RhdGU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuXG4gICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpLFxuICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKSxcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdzdWJzY3JpcHRpb24nKV0pXG4gICAgICAudGhlbihmdW5jdGlvbiBfaW50ZXJuYWxJbml0X0dvdEFwcFJlZ2lzdHJhdGlvblN1YnNjcmlwdGlvbklkcyhyZXN1bHQpIHtcbiAgICAgICAgdmFyIHVzZXJJZFJlc3VsdCA9IHJlc3VsdFswXTtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0WzFdO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uUmVzdWx0ID0gcmVzdWx0WzJdO1xuXG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZFJlc3VsdCA/IHVzZXJJZFJlc3VsdC5pZCA6IG51bGwsXG4gICAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IHJlZ2lzdHJhdGlvbklkUmVzdWx0ID8gcmVnaXN0cmF0aW9uSWRSZXN1bHQuaWQgOiBudWxsLFxuICAgICAgICAgIG5vdGlmUGVybXNzaW9uOiBOb3RpZmljYXRpb24ucGVybWlzc2lvbixcbiAgICAgICAgICBzdWJzY3JpcHRpb25TZXQ6IHN1YnNjcmlwdGlvblJlc3VsdCA/IHN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSA6IG51bGwsXG4gICAgICAgICAgaXNQdXNoRW5hYmxlZDogKCBOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImdyYW50ZWRcIlxuICAgICAgICAgICYmIHVzZXJJZFJlc3VsdFxuICAgICAgICAgICYmIHJlZ2lzdHJhdGlvbklkUmVzdWx0XG4gICAgICAgICAgJiYgKChzdWJzY3JpcHRpb25SZXN1bHQgJiYgc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlKSB8fCBzdWJzY3JpcHRpb25SZXN1bHQgPT0gbnVsbCkpXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgX2luaXRTYXZlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBPbmVTaWduYWwuX2FwcF9pZCA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuYXBwSWQ7XG4gICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcImFwcElkXCIsIGlkOiBPbmVTaWduYWwuX2FwcF9pZH0pO1xuICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk9wdGlvbnNcIiwge2tleTogXCJwYWdlVGl0bGVcIiwgdmFsdWU6IGRvY3VtZW50LnRpdGxlfSk7XG4gIH0sXG5cbiAgX3N1cHBvcnRzRGlyZWN0UGVybWlzc2lvbjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc1N1cHBvcnRlZFNhZmFyaSgpXG4gICAgICB8fCBsb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cHM6J1xuICAgICAgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKFwibG9jYWxob3N0XCIpID09IDBcbiAgICAgIHx8IGxvY2F0aW9uLmhvc3QuaW5kZXhPZihcIjEyNy4wLjAuMVwiKSA9PSAwO1xuICB9LFxuXG5cbiAgX3Nlc3Npb25Jbml0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGxvZy5kZWJ1ZyhcIkNhbGxlZCBPbmVTaWduYWwuX3Nlc3Npb25Jbml0KCk6XCIsIG9wdGlvbnMpO1xuICAgIE9uZVNpZ25hbC5faW5pdFNhdmVTdGF0ZSgpO1xuXG4gICAgdmFyIGhvc3RQYWdlUHJvdG9jb2wgPSBsb2NhdGlvbi5vcmlnaW4ubWF0Y2goL15odHRwKHN8KTpcXC9cXC8od3d3XFwufCkvKVswXTtcblxuICAgIC8vIElmIEhUVFAgb3IgdXNpbmcgc3ViZG9tYWluIG1vZGVcbiAgICBpZiAoT25lU2lnbmFsLl91c2VIdHRwTW9kZSkge1xuICAgICAgaWYgKG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yKSB7XG4gICAgICAgIHZhciBkdWFsU2NyZWVuTGVmdCA9IHdpbmRvdy5zY3JlZW5MZWZ0ICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5MZWZ0IDogc2NyZWVuLmxlZnQ7XG4gICAgICAgIHZhciBkdWFsU2NyZWVuVG9wID0gd2luZG93LnNjcmVlblRvcCAhPSB1bmRlZmluZWQgPyB3aW5kb3cuc2NyZWVuVG9wIDogc2NyZWVuLnRvcDtcblxuICAgICAgICB2YXIgdGhpc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IHNjcmVlbi53aWR0aDtcbiAgICAgICAgdmFyIHRoaXNIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA6IHNjcmVlbi5oZWlnaHQ7XG4gICAgICAgIHZhciBjaGlsZFdpZHRoID0gT25lU2lnbmFsLl93aW5kb3dXaWR0aDtcbiAgICAgICAgdmFyIGNoaWxkSGVpZ2h0ID0gT25lU2lnbmFsLl93aW5kb3dIZWlnaHQ7XG5cbiAgICAgICAgdmFyIGxlZnQgPSAoKHRoaXNXaWR0aCAvIDIpIC0gKGNoaWxkV2lkdGggLyAyKSkgKyBkdWFsU2NyZWVuTGVmdDtcbiAgICAgICAgdmFyIHRvcCA9ICgodGhpc0hlaWdodCAvIDIpIC0gKGNoaWxkSGVpZ2h0IC8gMikpICsgZHVhbFNjcmVlblRvcDtcblxuICAgICAgICBsb2cuZGVidWcoJ09wZW5pbmcgcG9wdXAgd2luZG93LicpO1xuICAgICAgICB2YXIgbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0cyA9IE9uZVNpZ25hbC5faW5pdE9wdGlvbnNbJ3Byb21wdE9wdGlvbnMnXTtcbiAgICAgICAgdmFyIG1lc3NhZ2VfbG9jYWxpemF0aW9uX29wdHNfc3RyID0gJyc7XG4gICAgICAgIGlmIChtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzKSB7XG4gICAgICAgICAgdmFyIG1lc3NhZ2VfbG9jYWxpemF0aW9uX3BhcmFtcyA9IFsnYWN0aW9uTWVzc2FnZScsXG4gICAgICAgICAgICAnZXhhbXBsZU5vdGlmaWNhdGlvblRpdGxlRGVza3RvcCcsXG4gICAgICAgICAgICAnZXhhbXBsZU5vdGlmaWNhdGlvbk1lc3NhZ2VEZXNrdG9wJyxcbiAgICAgICAgICAgICdleGFtcGxlTm90aWZpY2F0aW9uVGl0bGVNb2JpbGUnLFxuICAgICAgICAgICAgJ2V4YW1wbGVOb3RpZmljYXRpb25NZXNzYWdlTW9iaWxlJyxcbiAgICAgICAgICAgICdleGFtcGxlTm90aWZpY2F0aW9uQ2FwdGlvbicsXG4gICAgICAgICAgICAnYWNjZXB0QnV0dG9uVGV4dCcsXG4gICAgICAgICAgICAnY2FuY2VsQnV0dG9uVGV4dCddO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gbWVzc2FnZV9sb2NhbGl6YXRpb25fcGFyYW1zW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWVzc2FnZV9sb2NhbGl6YXRpb25fb3B0c1trZXldO1xuICAgICAgICAgICAgdmFyIGVuY29kZWRfdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzX3N0ciArPSAnJicgKyBrZXkgKyAnPScgKyBlbmNvZGVkX3ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRXaW5kb3cgPSB3aW5kb3cub3BlbihPbmVTaWduYWwuX2luaXRPbmVTaWduYWxIdHRwICsgXCI/XCIgKyBtZXNzYWdlX2xvY2FsaXphdGlvbl9vcHRzX3N0ciArIFwiJmhvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sLCBcIl9ibGFua1wiLCAnc2Nyb2xsYmFycz15ZXMsIHdpZHRoPScgKyBjaGlsZFdpZHRoICsgJywgaGVpZ2h0PScgKyBjaGlsZEhlaWdodCArICcsIHRvcD0nICsgdG9wICsgJywgbGVmdD0nICsgbGVmdCk7XG5cbiAgICAgICAgaWYgKGNoaWxkV2luZG93KVxuICAgICAgICAgIGNoaWxkV2luZG93LmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9nLmRlYnVnKCdPcGVuaW5nIGlGcmFtZS4nKTtcbiAgICAgICAgT25lU2lnbmFsLl9hZGRTZXNzaW9uSWZyYW1lKGhvc3RQYWdlUHJvdG9jb2wpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzU3VwcG9ydGVkU2FmYXJpKCkpIHtcbiAgICAgIGlmIChPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpIHtcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0ID0gT25lU2lnbmFsLl9nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc2FmYXJpX3dlYl9pZCk7XG4gICAgICAgIHdpbmRvdy5zYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihcbiAgICAgICAgICBPbmVTaWduYWwuX0hPU1RfVVJMICsgJ3NhZmFyaScsXG4gICAgICAgICAgT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkLFxuICAgICAgICAgIHthcHBfaWQ6IE9uZVNpZ25hbC5fYXBwX2lkfSxcbiAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKGRhdGEpO1xuICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvblBlcm1pc3Npb25BZnRlclJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmRldmljZVRva2VuKSB7XG4gICAgICAgICAgICAgIE9uZVNpZ25hbC5fcmVnaXN0ZXJXaXRoT25lU2lnbmFsKE9uZVNpZ25hbC5fYXBwX2lkLCBkYXRhLmRldmljZVRva2VuLnRvTG93ZXJDYXNlKCksIDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9uYXRpdmVQcm9tcHRQZXJtaXNzaW9uQ2hhbmdlZChub3RpZmljYXRpb25QZXJtaXNzaW9uQmVmb3JlUmVxdWVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLm1vZGFsUHJvbXB0ICYmIG9wdGlvbnMuZnJvbVJlZ2lzdGVyRm9yKSB7IC8vIElmIEhUVFBTIC0gU2hvdyBtb2RhbFxuICAgICAgaWYgKCFpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgbG9nLndhcm4oJ0FuIGF0dGVtcHQgd2FzIG1hZGUgdG8gb3BlbiB0aGUgSFRUUFMgbW9kYWwgcGVybWlzc2lvbiBwcm9tcHQsIGJ1dCBwdXNoIG5vdGlmaWNhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLiBPcGVuaW5nIGNhbmNlbGVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPbmVTaWduYWwuaXNQdXNoTm90aWZpY2F0aW9uc0VuYWJsZWQoZnVuY3Rpb24gKHB1c2hFbmFibGVkKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsICdPbmVTaWduYWwtaWZyYW1lLW1vZGFsJyk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJzxkaXYgaWQ9XCJub3RpZi1wZXJtaXNzaW9uXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNyk7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyB6LWluZGV4OiA5MDAwOyBkaXNwbGF5OiBibG9ja1wiPjwvZGl2Pic7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAgICAgdmFyIGlmcmFtZVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgaWZyYW1lU3R5bGUuaW5uZXJIVE1MID0gXCJAbWVkaWEgKG1heC13aWR0aDogNTYwcHgpIHsgLk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZSB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7fSB9XCJcbiAgICAgICAgICArIFwiQG1lZGlhIChtaW4td2lkdGg6IDU2MXB4KSB7IC5PbmVTaWduYWwtcGVybWlzc2lvbi1pZnJhbWUgeyB0b3A6IDUwJTsgbGVmdDogNTAlOyBtYXJnaW4tbGVmdDogLTI3NXB4OyBtYXJnaW4tdG9wOiAtMjQ4cHg7fSB9XCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoaWZyYW1lU3R5bGUpO1xuXG4gICAgICAgIHZhciBpZnJhbWVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgaWZyYW1lTm9kZS5jbGFzc05hbWUgPSBcIk9uZVNpZ25hbC1wZXJtaXNzaW9uLWlmcmFtZVwiXG4gICAgICAgIGlmcmFtZU5vZGUuc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTsgcG9zaXRpb246IGZpeGVkO1wiO1xuICAgICAgICBpZnJhbWVOb2RlLnNyYyA9IE9uZVNpZ25hbC5faW5pdE9uZVNpZ25hbEh0dHBcbiAgICAgICAgICArICc/aWQ9JyArIE9uZVNpZ25hbC5fYXBwX2lkXG4gICAgICAgICAgKyAnJmh0dHBzUHJvbXB0PXRydWUnXG4gICAgICAgICAgKyAnJnB1c2hFbmFibGVkPScgKyBwdXNoRW5hYmxlZFxuICAgICAgICAgICsgJyZwZXJtaXNzaW9uQmxvY2tlZD0nICsgKHR5cGVvZiBOb3RpZmljYXRpb24gPT09IFwidW5kZWZpbmVkXCIgfHwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT0gXCJkZW5pZWRcIilcbiAgICAgICAgICArICcmaG9zdFBhZ2VQcm90b2NvbD0nICsgaG9zdFBhZ2VQcm90b2NvbDtcbiAgICAgICAgaWZyYW1lTm9kZS5zZXRBdHRyaWJ1dGUoJ2ZyYW1lYm9yZGVyJywgJzAnKTtcbiAgICAgICAgaWZyYW1lTm9kZS53aWR0aCA9IE9uZVNpZ25hbC5fd2luZG93V2lkdGgudG9TdHJpbmcoKTtcbiAgICAgICAgaWZyYW1lTm9kZS5oZWlnaHQgPSBPbmVTaWduYWwuX3dpbmRvd0hlaWdodC50b1N0cmluZygpO1xuXG4gICAgICAgIGxvZy5kZWJ1ZygnT3BlbmluZyBIVFRQUyBtb2RhbCBwcm9tcHQuJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm90aWYtcGVybWlzc2lvblwiKS5hcHBlbmRDaGlsZChpZnJhbWVOb2RlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSAvLyBJZiBIVFRQUyAtIFNob3cgbmF0aXZlIHByb21wdFxuICAgICAgT25lU2lnbmFsLl9yZWdpc3RlckZvclczQ1B1c2gob3B0aW9ucyk7XG4gICAgZWxzZVxuICAgICAgbG9nLmRlYnVnKCdTZXJ2aWNlIHdvcmtlcnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLicpO1xuXG4gICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuc2RrLmluaXRpYWxpemVkJywgbnVsbCk7XG4gIH0sXG5cbiAgX3JlZ2lzdGVyRm9yVzNDUHVzaDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9yZWdpc3RlckZvclczQ1B1c2hfR290UmVnaXN0cmF0aW9uSWQocmVnaXN0cmF0aW9uSWRSZXN1bHQpIHtcbiAgICAgICAgaWYgKCFyZWdpc3RyYXRpb25JZFJlc3VsdCB8fCAhb3B0aW9ucy5mcm9tUmVnaXN0ZXJGb3IgfHwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT0gXCJncmFudGVkXCIpIHtcbiAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKS50aGVuKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHN3X3BhdGggPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucy5wYXRoKVxuICAgICAgICAgICAgICBzd19wYXRoID0gT25lU2lnbmFsLl9pbml0T3B0aW9ucy5wYXRoO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInVuZGVmaW5lZFwiKSAvLyBOb3RoaW5nIHJlZ2lzdGVyZWQsIHZlcnkgZmlyc3QgcnVuXG4gICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFjdGl2ZS5zY3JpcHRVUkwuaW5kZXhPZihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBVEgpID4gLTEpIHtcblxuICAgICAgICAgICAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAnV09SS0VSMV9PTkVfU0lHTkFMX1NXX1ZFUlNJT04nKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmVyc2lvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblJlc3VsdC5pZCAhPSBPbmVTaWduYWwuX1ZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudW5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfVVBEQVRFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFUSCwgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1BBUkFNKS50aGVuKE9uZVNpZ25hbC5fZW5hYmxlTm90aWZpY2F0aW9ucywgT25lU2lnbmFsLl9yZWdpc3RlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmFjdGl2ZS5zY3JpcHRVUkwuaW5kZXhPZihzd19wYXRoICsgT25lU2lnbmFsLlNFUlZJQ0VfV09SS0VSX1VQREFURVJfUEFUSCkgPiAtMSkge1xuXG4gICAgICAgICAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICdXT1JLRVIxX09ORV9TSUdOQUxfU1dfVkVSU0lPTicpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2ZXJzaW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uUmVzdWx0LmlkICE9IE9uZVNpZ25hbC5fVkVSU0lPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC51bnJlZ2lzdGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9VUERBVEVSX1BBVEgsIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVJBTSkudGhlbihPbmVTaWduYWwuX2VuYWJsZU5vdGlmaWNhdGlvbnMsIE9uZVNpZ25hbC5fcmVnaXN0ZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHN3X3BhdGggKyBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfVVBEQVRFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmIChldmVudC5pbnN0YWxsaW5nID09IG51bGwpXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3dfcGF0aCArIE9uZVNpZ25hbC5TRVJWSUNFX1dPUktFUl9QQVRILCBPbmVTaWduYWwuU0VSVklDRV9XT1JLRVJfUEFSQU0pLnRoZW4oT25lU2lnbmFsLl9lbmFibGVOb3RpZmljYXRpb25zLCBPbmVTaWduYWwuX3JlZ2lzdGVyRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIF9hZGRTZXNzaW9uSWZyYW1lOiBmdW5jdGlvbiAoaG9zdFBhZ2VQcm90b2NvbCkge1xuXG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIG5vZGUuc3JjID0gT25lU2lnbmFsLl9pbml0T25lU2lnbmFsSHR0cCArIFwiSWZyYW1lXCI7XG4gICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJPTkVfU0lHTkFMX1NFU1NJT05cIikpXG4gICAgICBub2RlLnNyYyArPSBcIj9zZXNzaW9uPXRydWVcIlxuICAgICAgICArIFwiJmhvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sO1xuICAgIGVsc2VcbiAgICAgIG5vZGUuc3JjICs9IFwiP2hvc3RQYWdlUHJvdG9jb2w9XCIgKyBob3N0UGFnZVByb3RvY29sXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcbiAgICBsb2cuZGVidWcoJ0FkZGluZyBzZXNzaW9uIGlGcmFtZS4nKTtcblxuICAgIE9uZVNpZ25hbC5fc2Vzc2lvbklmcmFtZUFkZGVkID0gdHJ1ZTtcbiAgfSxcblxuICBfcmVnaXN0ZXJFcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgIGxvZy5kZWJ1ZyhcIm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyOkVSUk9SOiBcIiArIGVycik7XG4gIH0sXG5cbiAgX2VuYWJsZU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIChleGlzdGluZ1NlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHsgLy8gaXMgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiB0eXBlXG4gICAgaWYgKGV4aXN0aW5nU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbilcbiAgICAgIGxvZy5kZWJ1ZygnVGhlcmUgaXMgYW4gb2xkZXIgU2VydmljZVdvcmtlcjonLCBleGlzdGluZ1NlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pO1xuICAgIGlmICghKCdQdXNoTWFuYWdlcicgaW4gd2luZG93KSkge1xuICAgICAgbG9nLmRlYnVnKFwiUHVzaCBtZXNzYWdpbmcgaXMgbm90IHN1cHBvcnRlZC4gTm8gUHVzaE1hbmFnZXIuXCIpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoISgnc2hvd05vdGlmaWNhdGlvbicgaW4gU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICBsb2cuZGVidWcoXCJOb3RpZmljYXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkLiBzaG93Tm90aWZpY2F0aW9uIG5vdCBhdmFpbGFibGUgaW4gU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5cIik7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiT05FX1NJR05BTF9TRVNTSU9OXCIsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIGxvZy53YXJuKFwiVGhlIHVzZXIgaGFzIGRpc2FibGVkIG5vdGlmaWNhdGlvbnMuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHtcbiAgICAgIGxvZy5pbmZvKCdTZXJ2aWNlIHdvcmtlciBhY3RpdmU6Jywgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG5cbiAgICAgIE9uZVNpZ25hbC5fc3Vic2NyaWJlRm9yUHVzaChzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKTtcbiAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgIDtcbiAgfSxcblxuICAvKlxuICAgUmV0dXJucyB0aGUgY3VycmVudCBicm93c2VyLWFnbm9zdGljIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIGFzIFwiZGVmYXVsdFwiLCBcImdyYW50ZWRcIiwgXCJkZW5pZWRcIi5cbiAgIHNhZmFyaVdlYklkOiBVc2VkIG9ubHkgdG8gZ2V0IHRoZSBjdXJyZW50IG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHN0YXRlIGluIFNhZmFyaSAocmVxdWlyZWQgYXMgcGFydCBvZiB0aGUgc3BlYykuXG4gICAqL1xuICBfZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbjogZnVuY3Rpb24gKHNhZmFyaVdlYklkKSB7XG4gICAgaWYgKHdpbmRvdy5zYWZhcmkpIHtcbiAgICAgIC8vIFRoZSB1c2VyIGlzIG9uIFNhZmFyaVxuICAgICAgLy8gQSB3ZWIgSUQgaXMgcmVxdWlyZWQgdG8gZGV0ZXJtaW5lIHRoZSBjdXJyZW50IG5vdGlmaWNpYXRpb24gcGVybWlzc2lvblxuICAgICAgaWYgKHNhZmFyaVdlYklkKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucGVybWlzc2lvbihzYWZhcmlXZWJJZCkucGVybWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBUaGUgdXNlciBkaWRuJ3Qgc2V0IHVwIFNhZmFyaSB3ZWIgcHVzaCBwcm9wZXJseTsgbm90aWZpY2F0aW9ucyBhcmUgdW5saWtlbHkgdG8gYmUgZW5hYmxlZFxuICAgICAgICByZXR1cm4gXCJkZWZhdWx0XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gSWRlbnRpY2FsIEFQSSBvbiBGaXJlZm94IGFuZCBDaHJvbWVcbiAgICAgIHJldHVybiBOb3RpZmljYXRpb24ucGVybWlzc2lvbjtcbiAgICB9XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudF9jdXN0b21Qcm9tcHRDbGlja2VkOiBmdW5jdGlvbiAoY2xpY2tSZXN1bHQpIHtcbiAgICB2YXIgcmVjZW50UGVybWlzc2lvbnMgPSBMaW1pdFN0b3JlLnB1dCgnbm90aWZpY2F0aW9uLnBlcm1pc3Npb24nLCBjbGlja1Jlc3VsdCk7XG4gICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwucHJvbXB0LmN1c3RvbS5jbGlja2VkJywge1xuICAgICAgcmVzdWx0OiBjbGlja1Jlc3VsdFxuICAgIH0pO1xuICB9LFxuXG4gIF90cmlnZ2VyRXZlbnRfbmF0aXZlUHJvbXB0UGVybWlzc2lvbkNoYW5nZWQ6IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgIGlmICh0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0byA9IE9uZVNpZ25hbC5fZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbihPbmVTaWduYWwuX2luaXRPcHRpb25zLnNhZmFyaV93ZWJfaWQpO1xuICAgIH1cbiAgICBpZiAoZnJvbSAhPT0gdG8pIHtcbiAgICAgIHZhciByZWNlbnRQZXJtaXNzaW9ucyA9IExpbWl0U3RvcmUucHV0KCdub3RpZmljYXRpb24ucGVybWlzc2lvbicsIHRvKTtcbiAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLnByb21wdC5uYXRpdmUucGVybWlzc2lvbmNoYW5nZWQnLCB7XG4gICAgICAgIGZyb206IGZyb20sXG4gICAgICAgIHRvOiB0b1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIF90cmlnZ2VyRXZlbnRfc3Vic2NyaXB0aW9uQ2hhbmdlZDogZnVuY3Rpb24gKHRvKSB7XG4gICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQnLCB0byk7XG4gIH0sXG5cbiAgX3RyaWdnZXJFdmVudF9kYlZhbHVlUmV0cmlldmVkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0cmlnZ2VyRXZlbnQoJ29uZXNpZ25hbC5kYi52YWx1ZXJldHJpZXZlZCcsIHZhbHVlKTtcbiAgfSxcblxuICBfdHJpZ2dlckV2ZW50X2RiVmFsdWVTZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmRiLnZhbHVlc2V0JywgdmFsdWUpO1xuICB9LFxuXG4gIF90cmlnZ2VyRXZlbnRfaW50ZXJuYWxTdWJzY3JpcHRpb25TZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmludGVybmFsLnN1YnNjcmlwdGlvbnNldCcsIHZhbHVlKTtcbiAgfSxcblxuICBfc3Vic2NyaWJlRm9yUHVzaDogZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHtcbiAgICB2YXIgbm90aWZpY2F0aW9uUGVybWlzc2lvbkJlZm9yZVJlcXVlc3QgPSBPbmVTaWduYWwuX2dldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oT25lU2lnbmFsLl9pbml0T3B0aW9ucy5zYWZhcmlfd2ViX2lkKTtcbiAgICBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7dXNlclZpc2libGVPbmx5OiB0cnVlfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05cIiwgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24pO1xuXG4gICAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ2FwcElkJylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiBfc3Vic2NyaWJlRm9yUHVzaF9Hb3RBcHBJZChhcHBJZFJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGFwcElkID0gYXBwSWRSZXN1bHQuaWQ7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJDYWxsZWQgT25lU2lnbmFsLl9zdWJzY3JpYmVGb3JQdXNoKCkgLT4gc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoKS5cIik7XG5cbiAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb25JZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbklkICE9IFwidW5kZWZpbmVkXCIpIC8vIENocm9tZSA0MyAmIDQyXG4gICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQgPSBzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQ7XG4gICAgICAgICAgICAgIGVsc2UgIC8vIENocm9tZSA0NCsgYW5kIEZpcmVGb3hcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25JZCA9IHN1YnNjcmlwdGlvbi5lbmRwb2ludC5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeKGh0dHBzOi8vYW5kcm9pZC5nb29nbGVhcGlzLmNvbS9nY20vc2VuZC98aHR0cHM6Ly91cGRhdGVzLnB1c2guc2VydmljZXMubW96aWxsYS5jb20vcHVzaC8pXCIpLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgbG9nLndhcm4oJ0NvdWxkIG5vdCBzdWJzY3JpYmUgeW91ciBicm93c2VyIGZvciBwdXNoIG5vdGlmaWNhdGlvbnMuJyk7XG5cbiAgICAgICAgICAgIE9uZVNpZ25hbC5fcmVnaXN0ZXJXaXRoT25lU2lnbmFsKGFwcElkLCByZWdpc3RyYXRpb25JZCwgaXNTdXBwb3J0ZWRGaXJlRm94KCkgPyA4IDogNSk7XG5cbiAgICAgICAgICAgIGlmICghT25lU2lnbmFsLl91c2luZ05hdGl2ZVBlcm1pc3Npb25Ib29rKSB7XG4gICAgICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoJ0Vycm9yIHdoaWxlIHN1YnNjcmliaW5nIGZvciBwdXNoOicsIGUpO1xuXG4gICAgICAgIGlmICghT25lU2lnbmFsLl91c2luZ05hdGl2ZVBlcm1pc3Npb25Ib29rKVxuICAgICAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X25hdGl2ZVByb21wdFBlcm1pc3Npb25DaGFuZ2VkKG5vdGlmaWNhdGlvblBlcm1pc3Npb25CZWZvcmVSZXF1ZXN0KTtcblxuICAgICAgICBpZiAoZS5jb2RlID09IDIwICYmIG9wZW5lciAmJiBPbmVTaWduYWwuX2h0dHBSZWdpc3RyYXRpb24pXG4gICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfSxcblxuICBzZW5kVGFnOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBqc29uS2V5VmFsdWUgPSB7fTtcbiAgICBqc29uS2V5VmFsdWVba2V5XSA9IHZhbHVlO1xuICAgIE9uZVNpZ25hbC5zZW5kVGFncyhqc29uS2V5VmFsdWUpO1xuICB9LFxuXG4gIHNlbmRUYWdzOiBmdW5jdGlvbiAoanNvblBhaXIpIHtcbiAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc2VuZFRhZ3NfR290VXNlcklkKHVzZXJJZFJlc3VsdCkge1xuICAgICAgICBpZiAodXNlcklkUmVzdWx0KVxuICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwicGxheWVycy9cIiArIHVzZXJJZFJlc3VsdC5pZCwgXCJQVVRcIiwge1xuICAgICAgICAgICAgYXBwX2lkOiBPbmVTaWduYWwuX2FwcF9pZCxcbiAgICAgICAgICAgIHRhZ3M6IGpzb25QYWlyXG4gICAgICAgICAgfSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID09IG51bGwpXG4gICAgICAgICAgICBPbmVTaWduYWwuX3RhZ3NUb1NlbmRPblJlZ2lzdGVyID0ganNvblBhaXI7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0T2JqID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBfb2JqIGluIE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIpIHJlc3VsdE9ialtfb2JqXSA9IE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXJbX29ial07XG4gICAgICAgICAgICBmb3IgKHZhciBfb2JqIGluIGpzb25QYWlyKSByZXN1bHRPYmpbX29ial0gPSBqc29uUGFpcltfb2JqXTtcbiAgICAgICAgICAgIE9uZVNpZ25hbC5fdGFnc1RvU2VuZE9uUmVnaXN0ZXIgPSByZXN1bHRPYmo7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcignc2VuZFRhZ3M6JywgZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICBkZWxldGVUYWc6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBPbmVTaWduYWwuZGVsZXRlVGFncyhba2V5XSk7XG4gIH0sXG5cbiAgZGVsZXRlVGFnczogZnVuY3Rpb24gKGtleUFycmF5KSB7XG4gICAgdmFyIGpzb25QYWlyID0ge307XG4gICAgdmFyIGxlbmd0aCA9IGtleUFycmF5Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAganNvblBhaXJba2V5QXJyYXlbaV1dID0gXCJcIjtcblxuICAgIE9uZVNpZ25hbC5zZW5kVGFncyhqc29uUGFpcik7XG4gIH0sXG5cbiAgX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIG5vdGlmaWNhdGlvbkRhdGEgPSBKU09OLnBhcnNlKGV2ZW50Lm5vdGlmaWNhdGlvbi50YWcpO1xuICAgIGV2ZW50Lm5vdGlmaWNhdGlvbi5jbG9zZSgpO1xuXG4gICAgUHJvbWlzZS5hbGwoW09uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ2FwcElkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3VzZXJJZCcpXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9oYW5kbGVOb3RpZmljYXRpb25PcGVuZWRfR290QXBwVXNlcklkcyhyZXN1bHRzKSB7XG4gICAgICAgIHZhciBhcHBJZFJlc3VsdCA9IHJlc3VsdHNbMF07XG4gICAgICAgIHZhciB1c2VySWRSZXN1bHQgPSByZXN1bHRzWzFdO1xuICAgICAgICBpZiAoYXBwSWRSZXN1bHQgJiYgdXNlcklkUmVzdWx0KSB7XG4gICAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJub3RpZmljYXRpb25zL1wiICsgbm90aWZpY2F0aW9uRGF0YS5pZCwgXCJQVVRcIiwge1xuICAgICAgICAgICAgYXBwX2lkOiBhcHBJZFJlc3VsdC5pZCxcbiAgICAgICAgICAgIHBsYXllcl9pZDogdXNlcklkUmVzdWx0LmlkLFxuICAgICAgICAgICAgb3BlbmVkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuXG4gICAgZXZlbnQud2FpdFVudGlsKFxuICAgICAgY2xpZW50cy5tYXRjaEFsbCh7dHlwZTogXCJ3aW5kb3dcIn0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnRMaXN0KSB7XG4gICAgICAgICAgdmFyIGxhdW5jaFVSTCA9IHJlZ2lzdHJhdGlvbi5zY29wZTtcbiAgICAgICAgICBpZiAoT25lU2lnbmFsLl9kZWZhdWx0TGF1bmNoVVJMKVxuICAgICAgICAgICAgbGF1bmNoVVJMID0gT25lU2lnbmFsLl9kZWZhdWx0TGF1bmNoVVJMO1xuICAgICAgICAgIGlmIChub3RpZmljYXRpb25EYXRhLmxhdW5jaFVSTClcbiAgICAgICAgICAgIGxhdW5jaFVSTCA9IG5vdGlmaWNhdGlvbkRhdGEubGF1bmNoVVJMO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGllbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2xpZW50ID0gY2xpZW50TGlzdFtpXTtcbiAgICAgICAgICAgIGlmICgnZm9jdXMnIGluIGNsaWVudCAmJiBjbGllbnQudXJsID09IGxhdW5jaFVSTCkge1xuICAgICAgICAgICAgICBjbGllbnQuZm9jdXMoKTtcblxuICAgICAgICAgICAgICAvLyB0YXJnZXRPcmlnaW4gbm90IHZhbGlkIGhlcmUgYXMgdGhlIHNlcnZpY2Ugd29ya2VyIG93bnMgdGhlIHBhZ2UuXG4gICAgICAgICAgICAgIGNsaWVudC5wb3N0TWVzc2FnZShub3RpZmljYXRpb25EYXRhKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsYXVuY2hVUkwgIT09ICdqYXZhc2NyaXB0OnZvaWQoMCk7JyAmJiBsYXVuY2hVUkwgIT09ICdkb19ub3Rfb3BlbicpIHtcbiAgICAgICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCB7dXJsOiBsYXVuY2hVUkwsIGRhdGE6IG5vdGlmaWNhdGlvbkRhdGF9KTtcbiAgICAgICAgICAgIGNsaWVudHMub3BlbldpbmRvdyhsYXVuY2hVUkwpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBTaG91bGQgb25seSBmYWxsIGludG8gaGVyZSBpZiBnb2luZyB0byBhbiBleHRlcm5hbCBVUkwgb24gQ2hyb21lIG9sZGVyIHRoYW4gNDMuXG4gICAgICAgICAgICAgIGNsaWVudHMub3BlbldpbmRvdyhyZWdpc3RyYXRpb24uc2NvcGUgKyBcInJlZGlyZWN0b3IuaHRtbD91cmw9XCIgKyBsYXVuY2hVUkwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pXG4gICAgKTtcbiAgfSxcblxuICBfZ2V0VGl0bGU6IGZ1bmN0aW9uIChpbmNvbWluZ1RpdGxlLCBjYWxsYmFjaykge1xuICAgIGlmIChpbmNvbWluZ1RpdGxlICE9IG51bGwpIHtcbiAgICAgIGNhbGxiYWNrKGluY29taW5nVGl0bGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIFByb21pc2UuYWxsKFtPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnZGVmYXVsdFRpdGxlJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdwYWdlVGl0bGUnKV0pXG4gICAgICAudGhlbihmdW5jdGlvbiBfZ2V0VGl0bGVfR290RGVmYXVsdFBhZ2VUaXRsZXMocmVzdWx0cykge1xuICAgICAgICB2YXIgZGVmYXVsdFRpdGxlUmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgICAgdmFyIHBhZ2VUaXRsZVJlc3VsdCA9IHJlc3VsdHNbMV07XG5cbiAgICAgICAgaWYgKGRlZmF1bHRUaXRsZVJlc3VsdCkge1xuICAgICAgICAgIGNhbGxiYWNrKGRlZmF1bHRUaXRsZVJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhZ2VUaXRsZVJlc3VsdCAmJiBwYWdlVGl0bGVSZXN1bHQudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNhbGxiYWNrKHBhZ2VUaXRsZVJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKCcnKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAvLyBEaXNwbGF5cyBub3RpZmljYXRpb24gZnJvbSBjb250ZW50IHJlY2VpdmVkIGZyb20gT25lU2lnbmFsLlxuICAvLyBUaGlzIG1ldGhvZCBpcyBvbmx5IGNhbGxlZCBieSBTZXJ2aWNlV29ya2VyXG4gIF9oYW5kbGVHQ01NZXNzYWdlOiBmdW5jdGlvbiAoc2VydmljZVdvcmtlciwgZXZlbnQpIHtcbiAgICAvLyBUT0RPOiBSZWFkIGRhdGEgZnJvbSB0aGUgR0NNIHBheWxvYWQgd2hlbiBDaHJvbWUgbm8gbG9uZ2VyIHJlcXVpcmVzIHRoZSBiZWxvdyBjb21tYW5kIGxpbmUgcGFyYW1ldGVyLlxuICAgIC8vIC0tZW5hYmxlLXB1c2gtbWVzc2FnZS1wYXlsb2FkXG4gICAgLy8gVGhlIGNvbW1hbmQgbGluZSBwYXJhbSBpcyByZXF1aXJlZCBldmVuIG9uIENocm9tZSA0MyBuaWdodGx5IGJ1aWxkIDIwMTUvMDMvMTcuXG4gICAgaWYgKGV2ZW50LmRhdGEgJiYgZXZlbnQuZGF0YS50ZXh0KClbMF0gPT0gXCJ7XCIpIHtcbiAgICAgIGxvZy5kZWJ1ZygnUmVjZWl2ZWQgZGF0YS50ZXh0OiAnLCBldmVudC5kYXRhLnRleHQoKSk7XG4gICAgICBsb2cuZGVidWcoJ1JlY2VpdmVkIGRhdGEuanNvbjogJywgZXZlbnQuZGF0YS5qc29uKCkpO1xuICAgIH1cblxuICAgIGV2ZW50LndhaXRVbnRpbChuZXcgUHJvbWlzZShcbiAgICAgIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgT25lU2lnbmFsLl9nZXRUaXRsZShudWxsLCBmdW5jdGlvbiAodGl0bGUpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ09wdGlvbnMnLCAnZGVmYXVsdEljb24nKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gX2hhbmRsZUdDTU1lc3NhZ2VfR290RGVmYXVsdEljb24oZGVmYXVsdEljb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgT25lU2lnbmFsLl9nZXRMYXN0Tm90aWZpY2F0aW9ucyhmdW5jdGlvbiAocmVzcG9uc2UsIGFwcElkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuY3VzdG9tLmksXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5hbGVydCxcbiAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxEYXRhOiByZXNwb25zZS5jdXN0b20uYVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UudGl0bGUpXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EYXRhLnRpdGxlID0gcmVzcG9uc2UudGl0bGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRGF0YS50aXRsZSA9IHRpdGxlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1c3RvbS51KVxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRGF0YS5sYXVuY2hVUkwgPSByZXNwb25zZS5jdXN0b20udTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pY29uKVxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRGF0YS5pY29uID0gcmVzcG9uc2UuaWNvbjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZWZhdWx0SWNvblJlc3VsdClcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRhdGEuaWNvbiA9IGRlZmF1bHRJY29uUmVzdWx0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gTmV2ZXIgbmVzdCB0aGUgZm9sbG93aW5nIGxpbmUgaW4gYSBjYWxsYmFjayBmcm9tIHRoZSBwb2ludCBvZiBlbnRlcmluZyBmcm9tIF9nZXRMYXN0Tm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgIHNlcnZpY2VXb3JrZXIucmVnaXN0cmF0aW9uLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uRGF0YS50aXRsZSwge1xuICAgICAgICAgICAgICAgICAgYm9keTogcmVzcG9uc2UuYWxlcnQsXG4gICAgICAgICAgICAgICAgICBpY29uOiBub3RpZmljYXRpb25EYXRhLmljb24sXG4gICAgICAgICAgICAgICAgICB0YWc6IEpTT04uc3RyaW5naWZ5KG5vdGlmaWNhdGlvbkRhdGEpXG4gICAgICAgICAgICAgICAgfSkudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ2RlZmF1bHRVcmwnKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlZmF1bHRVcmxSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRVcmxSZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgICAgT25lU2lnbmFsLl9kZWZhdWx0TGF1bmNoVVJMID0gZGVmYXVsdFVybFJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICB9LCByZXNvbHZlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkpXG4gIH0sXG5cbiAgX2dldExhc3ROb3RpZmljYXRpb25zOiBmdW5jdGlvbiAoaXRlbUNhbGxiYWNrLCBjb21wbGV0ZUNhbGxiYWNrKSB7XG4gICAgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIF9nZXRMYXN0Tm90aWZpY2F0aW9uc19Hb3RVc2VySWQodXNlcklkUmVzdWx0KSB7XG4gICAgICAgIGlmICh1c2VySWRSZXN1bHQpIHtcbiAgICAgICAgICBPbmVTaWduYWwuX3NlbmRUb09uZVNpZ25hbEFwaShcInBsYXllcnMvXCIgKyB1c2VySWRSZXN1bHQuaWQgKyBcIi9jaHJvbWV3ZWJfbm90aWZpY2F0aW9uXCIsIFwiR0VUXCIsIG51bGwsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgaXRlbUNhbGxiYWNrKEpTT04ucGFyc2UocmVzcG9uc2VbaV0pKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgfSk7ICAvLyBGYWlsZWQgY2FsbGJhY2tcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsb2cuZGVidWcoXCJFcnJvcjogY291bGQgbm90IGdldCBub3RpZmljYXRpb25JZFwiKTtcbiAgICAgICAgICBjb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIC8vIEhUVFAgJiBIVFRQUyAtIFJ1bnMgb24gbWFpbiBwYWdlXG4gIF9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZTogZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2UoZXZlbnQpIHtcbiAgICBsb2cuZGVidWcoXCJfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2U6IFwiLCBldmVudCk7XG5cbiAgICBpZiAoT25lU2lnbmFsLl9pbml0T3B0aW9ucyA9PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm47XG5cbiAgICBpZiAoIV9fREVWX18gJiYgZXZlbnQub3JpZ2luICE9PSBcIlwiICYmIGV2ZW50Lm9yaWdpbiAhPT0gXCJodHRwczovL29uZXNpZ25hbC5jb21cIiAmJiBldmVudC5vcmlnaW4gIT09IFwiaHR0cHM6Ly9cIiArIE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSArIFwiLm9uZXNpZ25hbC5jb21cIilcbiAgICAgIHJldHVybjtcblxuICAgIGlmIChldmVudC5kYXRhLm9uZVNpZ25hbEluaXRQYWdlUmVhZHkpIHsgLy8gT25seSBjYWxsZWQgb24gSFRUUCBwYWdlcy5cbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZXMoXCJPcHRpb25zXCIpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIF9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZShvcHRpb25zKSB7XG4gICAgICAgICAgbG9nLmRlYnVnKFwiY3VycmVudCBvcHRpb25zXCIsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmICghb3B0aW9ucy5kZWZhdWx0VXJsKVxuICAgICAgICAgICAgb3B0aW9ucy5kZWZhdWx0VXJsID0gZG9jdW1lbnQuVVJMO1xuICAgICAgICAgIGlmICghb3B0aW9ucy5kZWZhdWx0VGl0bGUpXG4gICAgICAgICAgICBvcHRpb25zLmRlZmF1bHRUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuXG4gICAgICAgICAgb3B0aW9ucy5wYXJlbnRfdXJsID0gZG9jdW1lbnQuVVJMO1xuICAgICAgICAgIGxvZy5kZWJ1ZyhcIlBvc3RpbmcgbWVzc2FnZSB0byBwb3J0WzBdXCIsIGV2ZW50LnBvcnRzWzBdKTtcbiAgICAgICAgICBldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7aW5pdE9wdGlvbnM6IG9wdGlvbnN9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKCdfbGlzdGVuZXJfcmVjZWl2ZU1lc3NhZ2U6JywgZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICB2YXIgZXZlbnREYXRhID0gZXZlbnQuZGF0YS5vbmVTaWduYWxJbml0UGFnZVJlYWR5O1xuXG4gICAgICBpZiAoZXZlbnREYXRhLmlzSWZyYW1lKVxuICAgICAgICBPbmVTaWduYWwuX2lmcmFtZVBvcnQgPSBldmVudC5wb3J0c1swXTtcblxuICAgICAgaWYgKGV2ZW50RGF0YS51c2VySWQpXG4gICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJ1c2VySWRcIiwgaWQ6IGV2ZW50RGF0YS51c2VySWR9KTtcbiAgICAgIGlmIChldmVudERhdGEucmVnaXN0cmF0aW9uSWQpXG4gICAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJyZWdpc3RyYXRpb25JZFwiLCBpZDogZXZlbnREYXRhLnJlZ2lzdHJhdGlvbklkfSk7XG5cbiAgICAgIE9uZVNpZ25hbC5fZmlyZU5vdGlmaWNhdGlvbkVuYWJsZWRDYWxsYmFjayhldmVudERhdGEuaXNQdXNoRW5hYmxlZCk7XG4gICAgICBPbmVTaWduYWwuX3NlbmRVbnNlbnRUYWdzKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuY3VycmVudE5vdGlmaWNhdGlvblBlcm1pc3Npb24pIC8vIFN1YmRvbWFpbiBPbmx5XG4gICAgICBPbmVTaWduYWwuX2ZpcmVOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2soZXZlbnQuZGF0YS5jdXJyZW50Tm90aWZpY2F0aW9uUGVybWlzc2lvbi5pc1B1c2hFbmFibGVkKTtcbiAgICBlbHNlIGlmIChldmVudC5kYXRhLmlkc0F2YWlsYWJsZSkgeyAvLyBPbmx5IGNhbGxlZCBvbiBIVFRQIHBhZ2VzLlxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIk9ORV9TSUdOQUxfU0VTU0lPTlwiLCB0cnVlKTtcbiAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJ1c2VySWRcIiwgaWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnVzZXJJZH0pO1xuICAgICAgT25lU2lnbmFsLl9wdXREYlZhbHVlKFwiSWRzXCIsIHt0eXBlOiBcInJlZ2lzdHJhdGlvbklkXCIsIGlkOiBldmVudC5kYXRhLmlkc0F2YWlsYWJsZS5yZWdpc3RyYXRpb25JZH0pO1xuXG4gICAgICBpZiAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICB3aGlsZSAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKClcbiAgICAgICAgICBjdXJyX2NhbGxiYWNrKHtcbiAgICAgICAgICAgIHVzZXJJZDogZXZlbnQuZGF0YS5pZHNBdmFpbGFibGUudXNlcklkLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uSWQ6IGV2ZW50LmRhdGEuaWRzQXZhaWxhYmxlLnJlZ2lzdHJhdGlvbklkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIE9uZVNpZ25hbC5fc2VuZFVuc2VudFRhZ3MoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnQuZGF0YS5odHRwc1Byb21wdEFjY2VwdGVkKSB7IC8vIEhUVFBTIE9ubHlcbiAgICAgIE9uZVNpZ25hbC5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zKCk7XG4gICAgICBPbmVTaWduYWwuc2V0U3Vic2NyaXB0aW9uKHRydWUpO1xuICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT25lU2lnbmFsLWlmcmFtZS1tb2RhbCcpO1xuICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZ3JhbnRlZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBzUHJvbXB0Q2FuY2VsZWQpIHsgLy8gSFRUUFMgT25seVxuICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT25lU2lnbmFsLWlmcmFtZS1tb2RhbCcpO1xuICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZGVuaWVkJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEuaHR0cFByb21wdEFjY2VwdGVkKSB7IC8vIEhUVFAgT25seVxuICAgICAgT25lU2lnbmFsLl90cmlnZ2VyRXZlbnRfY3VzdG9tUHJvbXB0Q2xpY2tlZCgnZ3JhbnRlZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5kYXRhLmh0dHBQcm9tcHRDYW5jZWxlZCkgeyAvLyBIVFRQIE9ubHlcbiAgICAgIE9uZVNpZ25hbC5fdHJpZ2dlckV2ZW50X2N1c3RvbVByb21wdENsaWNrZWQoJ2RlbmllZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChPbmVTaWduYWwuX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjaykgLy8gSFRUUCBhbmQgSFRUUFNcbiAgICAgIE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrKGV2ZW50LmRhdGEpO1xuICB9LFxuXG4gIGFkZExpc3RlbmVyRm9yTm90aWZpY2F0aW9uT3BlbmVkOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBPbmVTaWduYWwuX25vdGlmaWNhdGlvbk9wZW5lZF9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZShcIk5vdGlmaWNhdGlvbk9wZW5lZFwiLCBkb2N1bWVudC5VUkwpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChub3RpZmljYXRpb25PcGVuZWRSZXN1bHQpIHtcbiAgICAgICAgICBpZiAobm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0KSB7XG4gICAgICAgICAgICBPbmVTaWduYWwuX2RlbGV0ZURiVmFsdWUoXCJOb3RpZmljYXRpb25PcGVuZWRcIiwgZG9jdW1lbnQuVVJMKTtcbiAgICAgICAgICAgIE9uZVNpZ25hbC5fbm90aWZpY2F0aW9uT3BlbmVkX2NhbGxiYWNrKG5vdGlmaWNhdGlvbk9wZW5lZFJlc3VsdC5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgfSk7XG4gICAgICA7XG4gICAgfVxuICB9LFxuXG4gIC8vIFN1YmRvbWFpbiAtIEZpcmVkIGZyb20gbWVzc2FnZSByZWNlaXZlZCBmcm9tIGlmcmFtZS5cbiAgX2ZpcmVOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2s6IGZ1bmN0aW9uIChub3RpZlBlcm1zc2lvbikge1xuICAgIGlmIChPbmVTaWduYWwuX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKSB7XG4gICAgICBPbmVTaWduYWwuX2lzTm90aWZpY2F0aW9uRW5hYmxlZENhbGxiYWNrKG5vdGlmUGVybXNzaW9uKTtcbiAgICAgIE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgfSxcblxuICBnZXRJZHNBdmFpbGFibGU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuO1xuXG4gICAgT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucHVzaChjYWxsYmFjayk7XG5cbiAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAndXNlcklkJyksIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnSWRzJywgJ3JlZ2lzdHJhdGlvbklkJyldKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gZ2V0SWRzQXZhaWxhYmxlX0dvdFVzZXJSZWdpc3RyYXRpb25JZHMocmVzdWx0cykge1xuICAgICAgICB2YXIgdXNlcklkUmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbklkUmVzdWx0ID0gcmVzdWx0c1sxXTtcblxuICAgICAgICBpZiAodXNlcklkUmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbklkUmVzdWx0KSB7XG4gICAgICAgICAgICB3aGlsZSAoT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB2YXIgY3Vycl9jYWxsYmFjayA9IE9uZVNpZ25hbC5faWRzQXZhaWxhYmxlX2NhbGxiYWNrLnBvcCgpO1xuICAgICAgICAgICAgICBjdXJyX2NhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZFJlc3VsdC5pZCxcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWRSZXN1bHQuaWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdoaWxlIChPbmVTaWduYWwuX2lkc0F2YWlsYWJsZV9jYWxsYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyX2NhbGxiYWNrID0gT25lU2lnbmFsLl9pZHNBdmFpbGFibGVfY2FsbGJhY2sucG9wKCk7XG4gICAgICAgICAgICAgIGN1cnJfY2FsbGJhY2soe3VzZXJJZDogdXNlcklkUmVzdWx0LmlkLCByZWdpc3RyYXRpb25JZDogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgIDtcbiAgfSxcblxuICBnZXRUYWdzOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXJJZFJlc3VsdCkge1xuICAgICAgICBpZiAodXNlcklkUmVzdWx0KSB7XG4gICAgICAgICAgT25lU2lnbmFsLl9zZW5kVG9PbmVTaWduYWxBcGkoXCJwbGF5ZXJzL1wiICsgdXNlcklkUmVzdWx0LmlkLCAnR0VUJywgbnVsbCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS50YWdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICA7XG4gIH0sXG5cbiAgaXNQdXNoTm90aWZpY2F0aW9uc0VuYWJsZWQ6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCgpKSB7XG4gICAgICBsb2cud2FybihcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHB1c2ggbm90aWZpY2F0aW9ucy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgU3ViZG9tYWluXG4gICAgaWYgKE9uZVNpZ25hbC5faW5pdE9wdGlvbnMuc3ViZG9tYWluTmFtZSAmJiAhaXNCcm93c2VyU2FmYXJpKCkpIHtcbiAgICAgIE9uZVNpZ25hbC5faXNOb3RpZmljYXRpb25FbmFibGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIGlmIChPbmVTaWduYWwuX2lmcmFtZVBvcnQpXG4gICAgICAgIE9uZVNpZ25hbC5faWZyYW1lUG9ydC5wb3N0TWVzc2FnZSh7Z2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbjogdHJ1ZX0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIEhUVFBTXG5cbiAgICBQcm9taXNlLmFsbChbT25lU2lnbmFsLl9nZXREYlZhbHVlKCdJZHMnLCAncmVnaXN0cmF0aW9uSWQnKSwgT25lU2lnbmFsLl9nZXREYlZhbHVlKCdPcHRpb25zJywgJ3N1YnNjcmlwdGlvbicpXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25JZFJlc3VsdCA9IHJlc3VsdHNbMF07XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25SZXN1bHQgPSByZXN1bHRzWzFdO1xuXG4gICAgICAgIGlmIChyZWdpc3RyYXRpb25JZFJlc3VsdCkge1xuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25SZXN1bHQgJiYgIXN1YnNjcmlwdGlvblJlc3VsdC52YWx1ZSlcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmYWxzZSk7XG5cbiAgICAgICAgICBjYWxsYmFjayhOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PSBcImdyYW50ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgX2dldE5vdGlmaWNhdGlvblR5cGVzOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBPbmVTaWduYWwuX2dldFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZGJfc3Vic2NyaXB0aW9uU2V0KSB7XG4gICAgICBjYWxsYmFjayhkYl9zdWJzY3JpcHRpb25TZXQgPyAxIDogLTIpO1xuICAgIH0pO1xuICB9LFxuXG4gIHNldFN1YnNjcmlwdGlvbjogZnVuY3Rpb24gKG5ld1N1YnNjcmlwdGlvbikge1xuICAgIGlmIChPbmVTaWduYWwuX2lmcmFtZVBvcnQpXG4gICAgICBPbmVTaWduYWwuX2lmcmFtZVBvcnQucG9zdE1lc3NhZ2Uoe3NldFN1YmRvbWFpblN0YXRlOiB7c2V0U3Vic2NyaXB0aW9uOiBuZXdTdWJzY3JpcHRpb259fSk7XG4gICAgZWxzZSB7XG4gICAgICBPbmVTaWduYWwuX2dldFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoY3VycmVudFN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoY3VycmVudFN1YnNjcmlwdGlvbiAhPSBuZXdTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJPcHRpb25zXCIsIHtrZXk6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiBuZXdTdWJzY3JpcHRpb259KTtcbiAgICAgICAgICBPbmVTaWduYWwuX2dldERiVmFsdWUoJ0lkcycsICd1c2VySWQnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXJJZFJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAodXNlcklkUmVzdWx0KVxuICAgICAgICAgICAgICAgIE9uZVNpZ25hbC5fc2VuZFRvT25lU2lnbmFsQXBpKFwicGxheWVycy9cIiArIHVzZXJJZFJlc3VsdC5pZCwgXCJQVVRcIiwge1xuICAgICAgICAgICAgICAgICAgYXBwX2lkOiBPbmVTaWduYWwuX2FwcF9pZCxcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbl90eXBlczogbmV3U3Vic2NyaXB0aW9uID8gMSA6IC0yXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gc2V0U3Vic2NyaXB0aW9uU2V0Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICBPbmVTaWduYWwuX3RyaWdnZXJFdmVudF9pbnRlcm5hbFN1YnNjcmlwdGlvblNldChuZXdTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIF9nZXRTdWJzY3JpcHRpb246IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIE9uZVNpZ25hbC5fZ2V0RGJWYWx1ZSgnT3B0aW9ucycsICdzdWJzY3JpcHRpb24nKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHN1YnNjcmlwdGlvblJlc3VsdCkge1xuICAgICAgICBjYWxsYmFjayghKHN1YnNjcmlwdGlvblJlc3VsdCAmJiBzdWJzY3JpcHRpb25SZXN1bHQudmFsdWUgPT0gZmFsc2UpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgO1xuICB9LFxuXG4gIF9zYWZlUG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIChjcmVhdG9yLCBkYXRhLCB0YXJnZXRPcmlnaW4sIHJlY2VpdmVyKSB7XG4gICAgdmFyIHRPcmlnaW4gPSB0YXJnZXRPcmlnaW4udG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIElmIHdlIGFyZSB0cnlpbmcgdG8gdGFyZ2V0IGEgaHR0cCBzaXRlIGFsbG93IHRoZSBodHRwcyB2ZXJzaW9uLiAody8gb3Igdy9vICd3d3d3LicgdG9vKVxuICAgIGlmICh0T3JpZ2luLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpKSB7XG4gICAgICB2YXIgcXVlcnlEaWN0ID0ge307XG4gICAgICBsb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHF1ZXJ5RGljdFtpdGVtLnNwbGl0KFwiPVwiKVswXV0gPSBpdGVtLnNwbGl0KFwiPVwiKVsxXVxuICAgICAgfSk7XG4gICAgICB2YXIgdmFsaWRQcmVVUkxSZWdleCA9IC9eaHR0cChzfCk6XFwvXFwvKHd3d1xcLnwpLztcbiAgICAgIHRPcmlnaW4gPSB0T3JpZ2luLnJlcGxhY2UodmFsaWRQcmVVUkxSZWdleCwgcXVlcnlEaWN0W1wiaG9zdFBhZ2VQcm90b2NvbFwiXSk7XG4gICAgfVxuXG4gICAgaWYgKHJlY2VpdmVyKVxuICAgICAgY3JlYXRvci5wb3N0TWVzc2FnZShkYXRhLCB0T3JpZ2luLCByZWNlaXZlcik7XG4gICAgZWxzZVxuICAgICAgY3JlYXRvci5wb3N0TWVzc2FnZShkYXRhLCB0T3JpZ2luKTtcbiAgfSxcblxuICBfcHJvY2Vzc19wdXNoZXM6IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAgICBPbmVTaWduYWwucHVzaChhcnJheVtpXSk7XG4gIH0sXG5cbiAgcHVzaDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAodHlwZW9mKGl0ZW0pID09IFwiZnVuY3Rpb25cIilcbiAgICAgIGl0ZW0oKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBpdGVtLnNoaWZ0KCk7XG4gICAgICBPbmVTaWduYWxbZnVuY3Rpb25OYW1lXS5hcHBseShudWxsLCBpdGVtKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIElmIGltcG9ydGVkIG9uIHlvdXIgcGFnZS5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgT25lU2lnbmFsLl9saXN0ZW5lcl9yZWNlaXZlTWVzc2FnZSwgZmFsc2UpO1xuZWxzZSB7IC8vIGlmIGltcG9ydGVkIGZyb20gdGhlIHNlcnZpY2Ugd29ya2VyLlxuICBpbXBvcnRTY3JpcHRzKCdodHRwczovL2Nkbi5vbmVzaWduYWwuY29tL3Nka3Mvc2VydmljZXdvcmtlci1jYWNoZS1wb2x5ZmlsbC5qcycpO1xuXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIE9uZVNpZ25hbC5faGFuZGxlR0NNTWVzc2FnZShzZWxmLCBldmVudCk7IC8vIENhbiBoYW5kbGUgbWVzc2FnZXMgZnJvbSBhbnkgYnJvd3NlciAoZXhjZXB0IFNhZmFyaSksIHJlbmFtZSBtZXRob2RcbiAgfSk7XG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBBbHNvIG9ubHkgYnkgU1dcbiAgICBPbmVTaWduYWwuX2hhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZChldmVudCk7XG4gIH0pO1xuXG4gIHZhciBpc1NXb25TdWJkb21haW4gPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9odHRwc1xcOlxcL1xcLy4qXFwub25lc2lnbmFsLmNvbVxcL3Nka3NcXC8vKSAhPSBudWxsO1xuICBpZiAoX19ERVZfXylcbiAgICBpc1NXb25TdWJkb21haW4gPSB0cnVlO1xuXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGxvZy5kZWJ1ZyhcIk9uZVNpZ25hbCBJbnN0YWxsZWQgc2VydmljZSB3b3JrZXI6IFwiICsgT25lU2lnbmFsLl9WRVJTSU9OKTtcbiAgICBpZiAoc2VsZi5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKFwiT25lU2lnbmFsU0RLV29ya2VyLmpzXCIpID4gLTEpXG4gICAgICBPbmVTaWduYWwuX3B1dERiVmFsdWUoXCJJZHNcIiwge3R5cGU6IFwiV09SS0VSMV9PTkVfU0lHTkFMX1NXX1ZFUlNJT05cIiwgaWQ6IE9uZVNpZ25hbC5fVkVSU0lPTn0pO1xuICAgIGVsc2VcbiAgICAgIE9uZVNpZ25hbC5fcHV0RGJWYWx1ZShcIklkc1wiLCB7dHlwZTogXCJXT1JLRVIyX09ORV9TSUdOQUxfU1dfVkVSU0lPTlwiLCBpZDogT25lU2lnbmFsLl9WRVJTSU9OfSk7XG5cbiAgICBpZiAoaXNTV29uU3ViZG9tYWluKSB7XG4gICAgICBldmVudC53YWl0VW50aWwoXG4gICAgICAgIGNhY2hlcy5vcGVuKFwiT25lU2lnbmFsX1wiICsgT25lU2lnbmFsLl9WRVJTSU9OKS50aGVuKGZ1bmN0aW9uIChjYWNoZSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5hZGRBbGwoW1xuICAgICAgICAgICAgJy9zZGtzL2luaXRPbmVTaWduYWxIdHRwSWZyYW1lJyxcbiAgICAgICAgICAgICcvc2Rrcy9pbml0T25lU2lnbmFsSHR0cElmcmFtZT9zZXNzaW9uPSonLFxuICAgICAgICAgICAgJy9zZGtzL21hbmlmZXN0X2pzb24nXSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoaXNTV29uU3ViZG9tYWluKSB7XG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucmVzcG9uZFdpdGgoXG4gICAgICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgLy8gQ2FjaGUgaGl0IC0gcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UpXG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcblxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGV2ZW50LnJlcXVlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gT25lU2lnbmFsO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3Nkay5qc1xuICoqLyIsIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbihmdW5jdGlvbigpIHtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIGxpc3QgPSBbXVxuICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG4gICAgfVxuICAgIGxpc3QucHVzaCh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpO1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgLy8gT25seSBzdXBwb3J0IEFycmF5QnVmZmVycyBmb3IgUE9TVCBtZXRob2QuXG4gICAgICAgIC8vIFJlY2VpdmluZyBBcnJheUJ1ZmZlcnMgaGFwcGVucyB2aWEgQmxvYnMsIGluc3RlYWQuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICB9XG5cbiAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG4gICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpKSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gaW5wdXRcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcylcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gaGVhZGVycyh4aHIpIHtcbiAgICB2YXIgaGVhZCA9IG5ldyBIZWFkZXJzKClcbiAgICB2YXIgcGFpcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RcbiAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuICAgICAgICByZXF1ZXN0ID0gaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcbiAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gKHhoci5zdGF0dXMgPT09IDEyMjMpID8gMjA0IDogeGhyLnN0YXR1c1xuICAgICAgICBpZiAoc3RhdHVzIDwgMTAwIHx8IHN0YXR1cyA+IDU5OSkge1xuICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVycyh4aHIpLFxuICAgICAgICAgIHVybDogcmVzcG9uc2VVUkwoKVxuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKCk7XG5cblxuLyoqKiBFWFBPUlRTIEZST00gZXhwb3J0cy1sb2FkZXIgKioqL1xubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZmV0Y2hcbn0uY2FsbChnbG9iYWwpKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9pbXBvcnRzLWxvYWRlcj90aGlzPT5nbG9iYWwhLi9+L2V4cG9ydHMtbG9hZGVyP2dsb2JhbC5mZXRjaCEuL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaXNEZXYgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGNvbnN0IERFVl9IT1NUID0gJ2h0dHBzOi8vMTkyLjE2OC4xLjIwNjozMDAwJztcbmV4cG9ydCBjb25zdCBQUk9EX0hPU1QgPSAnaHR0cHM6Ly9vbmVzaWduYWwuY29tJztcbmV4cG9ydCBjb25zdCBIT1NUX1VSTCA9IChpc0RldigpID8gREVWX0hPU1QgOiBQUk9EX0hPU1QpICsgJy9hcGkvdjEvJztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy92YXJzLmpzXG4gKiovIiwiaW1wb3J0IGxvZyBmcm9tICdsb2dsZXZlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KHZhcmlhYmxlKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIHZhcmlhYmxlICkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIdW1hbml6ZWRUaW1lRHVyYXRpb24odGltZUR1cmF0aW9uSW5NaWxsaXNlY29uZHMpIHtcbiAgZnVuY3Rpb24gYWRkUGx1cmFsU3VmZml4KG51bWJlcikge1xuICAgIHJldHVybiAobnVtYmVyID4gMSkgPyAncycgOiAnJztcbiAgfVxuICB2YXIgZHVyYXRpb24gPSBNYXRoLmZsb29yKHRpbWVEdXJhdGlvbkluTWlsbGlzZWNvbmRzIC8gMTAwMCk7XG5cbiAgdmFyIHllYXJzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDMxNTM2MDAwKTtcbiAgaWYgKHllYXJzKVxuICAgIHJldHVybiB5ZWFycyArICcgeWVhcicgKyBhZGRQbHVyYWxTdWZmaXgoeWVhcnMpO1xuXG4gIHZhciBkYXlzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gJT0gMzE1MzYwMDApIC8gODY0MDApO1xuICBpZiAoZGF5cylcbiAgICByZXR1cm4gZGF5cyArICcgZGF5JyArIGFkZFBsdXJhbFN1ZmZpeChkYXlzKTtcblxuICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlPSA4NjQwMCkgLyAzNjAwKTtcbiAgaWYgKGhvdXJzKVxuICAgIHJldHVybiBob3VycyArICcgaG91cicgKyBhZGRQbHVyYWxTdWZmaXgoaG91cnMpO1xuXG4gIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gJT0gMzYwMCkgLyA2MCk7XG4gIGlmIChtaW51dGVzKVxuICAgIHJldHVybiBtaW51dGVzICsgJyBtaW51dGUnICsgYWRkUGx1cmFsU3VmZml4KG1pbnV0ZXMpO1xuXG4gIHZhciBzZWNvbmRzID0gZHVyYXRpb24gJSA2MDtcbiAgaWYgKHNlY29uZHMpXG4gICAgcmV0dXJuIHNlY29uZHMgKyAnIHNlY29uZCcgKyBhZGRQbHVyYWxTdWZmaXgoc2Vjb25kcyk7XG5cbiAgcmV0dXJuICdqdXN0IG5vdyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJFbnYoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXYoKSB7XG4gIHJldHVybiBfX0RFVl9fO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQdXNoTm90aWZpY2F0aW9uc1N1cHBvcnRlZCAoKSB7XG4gIHZhciBjaHJvbWVWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyguKj8pIC8pO1xuXG4gIGlmIChpc1N1cHBvcnRlZEZpcmVGb3goKSlcbiAgICByZXR1cm4gdHJ1ZTtcblxuICBpZiAoaXNTdXBwb3J0ZWRTYWZhcmkoKSlcbiAgICByZXR1cm4gdHJ1ZTtcblxuICAvLyBDaHJvbWUgaXMgbm90IGZvdW5kIGluIGFwcFZlcnNpb24uXG4gIGlmICghY2hyb21lVmVyc2lvbilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gTWljcm9zb2Z0IEVkZ2VcbiAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9FZGdlLykpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIEFuZHJvaWQgQ2hyb21lIFdlYlZpZXdcbiAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC8gd3YvKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gT3BlcmFcbiAgaWYgKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUFJcXC8vKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gVGhlIHVzZXIgaXMgb24gaU9TXG4gIGlmICgvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pKVxuICAgIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gcGFyc2VJbnQoY2hyb21lVmVyc2lvblsxXS5zdWJzdHJpbmcoMCwgMikpID4gNDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJTYWZhcmkoKSB7XG4gIHZhciBzYWZhcmlWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyhbMC05XT8pLiogU2FmYXJpXCIpO1xuICByZXR1cm4gc2FmYXJpVmVyc2lvbiAhPSBudWxsIDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VwcG9ydGVkRmlyZUZveCgpIHtcbiAgdmFyIGZpcmVGb3hWZXJzaW9uID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEZpcmVmb3hcXC8pKFswLTldezIsfVxcLlswLTldezEsfSkvKTtcbiAgaWYgKGZpcmVGb3hWZXJzaW9uKVxuICAgIHJldHVybiBwYXJzZUludChmaXJlRm94VmVyc2lvblsyXS5zdWJzdHJpbmcoMCwgMikpID4gNDM7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlckZpcmVmb3goKSB7XG4gIHZhciBmaXJlRm94VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhGaXJlZm94XFwvKShbMC05XXsyLH1cXC5bMC05XXsxLH0pLyk7XG4gIHJldHVybiBmaXJlRm94VmVyc2lvbiAhPSBudWxsIDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcmVmb3hWZXJzaW9uKCkge1xuICB2YXIgZmlyZUZveFZlcnNpb24gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oRmlyZWZveFxcLykoWzAtOV17Mix9XFwuWzAtOV17MSx9KS8pO1xuICBpZiAoZmlyZUZveFZlcnNpb24pXG4gICAgcmV0dXJuIHBhcnNlSW50KGZpcmVGb3hWZXJzaW9uWzJdLnN1YnN0cmluZygwLCAyKSk7XG4gIGVsc2UgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBwb3J0ZWRTYWZhcmkoKSB7XG4gIHZhciBzYWZhcmlWZXJzaW9uID0gbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goXCJWZXJzaW9uLyhbMC05XT8pLiogU2FmYXJpXCIpO1xuICBpZiAoc2FmYXJpVmVyc2lvbiA9PSBudWxsKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAocGFyc2VJbnQoc2FmYXJpVmVyc2lvblsxXSkgPiA2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvbUVsZW1lbnQoc2VsZWN0b3IpIHtcbiAgdmFyIGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKylcbiAgICAgIGVsc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsc1tpXSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERvbUVsZW1lbnQodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGFkZE9yZGVyLCBlbGVtZW50SHRtbCkge1xuICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJylcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KS5pbnNlcnRBZGphY2VudEhUTUwoYWRkT3JkZXIsIGVsZW1lbnRIdG1sKTtcbiAgZWxzZSBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnb2JqZWN0JylcbiAgICB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoYWRkT3JkZXIsIGVsZW1lbnRIdG1sKTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRTZWxlY3Rvck9yRWxlbWVudH0gbXVzdCBiZSBhIENTUyBzZWxlY3RvciBzdHJpbmcgb3IgRE9NIEVsZW1lbnQgb2JqZWN0LmApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3NzQ2xhc3ModGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGNzc0NsYXNzKSB7XG4gIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdzdHJpbmcnKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpO1xuICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdvYmplY3QnKVxuICAgIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpO1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3RhcmdldFNlbGVjdG9yT3JFbGVtZW50fSBtdXN0IGJlIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyBvciBET00gRWxlbWVudCBvYmplY3QuYCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDc3NDbGFzcyh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCwgY3NzQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzcyk7XG4gIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ29iamVjdCcpXG4gICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzcyk7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0U2VsZWN0b3JPckVsZW1lbnR9IG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBldmVudCwgdGFzaykge1xuICBpZiAoIWV2ZW50KSB7XG4gICAgbG9nLmVycm9yKCdDYW5ub3QgY2FsbCBvbigpIHdpdGggbm8gZXZlbnQ6ICcsIGV2ZW50KTtcbiAgfVxuICBpZiAoIXRhc2spIHtcbiAgICBsb2cuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyB0YXNrOiAnLCB0YXNrKVxuICB9XG4gIGxvZy5kZWJ1ZygnRGVidWcgbWUgaGVyZS4nKTtcbiAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBsZXQgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgaWYgKGVscy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKylcbiAgICAgICAgb24oZWxzW2ldLCB0YXNrKTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoaXNBcnJheSh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmxlbmd0aDsgaSsrKVxuICAgICAgb24odGFyZ2V0U2VsZWN0b3JPckVsZW1lbnRbaV0sIHRhc2spO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ29iamVjdCcpXG4gICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGFzayk7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0U2VsZWN0b3JPckVsZW1lbnR9IG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uY2UodGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQsIGV2ZW50LCB0YXNrKSB7XG4gIGlmICghZXZlbnQpIHtcbiAgICBsb2cuZXJyb3IoJ0Nhbm5vdCBjYWxsIG9uKCkgd2l0aCBubyBldmVudDogJywgZXZlbnQpO1xuICB9XG4gIGlmICghdGFzaykge1xuICAgIGxvZy5lcnJvcignQ2Fubm90IGNhbGwgb24oKSB3aXRoIG5vIHRhc2s6ICcsIHRhc2spXG4gIH1cbiAgaWYgKHR5cGVvZiB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBsZXQgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgaWYgKGVscy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKylcbiAgICAgICAgb25jZShlbHNbaV0sIHRhc2spO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmIChpc0FycmF5KHRhcmdldFNlbGVjdG9yT3JFbGVtZW50KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQubGVuZ3RoOyBpKyspXG4gICAgICBvbmNlKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50W2ldLCB0YXNrKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHRhc2tXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnRlcm5hbFRhc2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCB0YXNrV3JhcHBlcik7XG4gICAgICAgIHRhc2soZSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGludGVybmFsVGFza0Z1bmN0aW9uO1xuICAgIH0pKCk7XG4gICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGFza1dyYXBwZXIpO1xuICB9XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0U2VsZWN0b3JPckVsZW1lbnR9IG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC5gKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZnJvbSBzZWxlY3Rvci5cbiAqIEBwYXJhbSB0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCBTZWxlY3RvciB0byB0YXJnZXQgb25lIG9yIG11bHRpcGxlIGVsZW1lbnRzLCBvciBhIHNpbmdsZSBvciBhcnJheSBvZiBET01FbGVtZW50LlxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byB0YXJnZXQgKGUuZy4gJ3RyYW5zaXRpb25lbmQnKVxuICogQHBhcmFtIHRhc2sgQSBzaW5nbGUgZnVuY3Rpb24gY2FsbGJhY2sgdG8gdW5iaW5kLCBvciBsZWF2ZSBlbXB0eSB0byByZW1vdmUgYWxsIGV2ZW50IGhhbmRsZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2ZmKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50LCBldmVudCwgdGFzaykge1xuICBpZiAodHlwZW9mIHRhcmdldFNlbGVjdG9yT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGxldCBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICBpZiAoZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKVxuICAgICAgICBvZmYoZWxzW2ldLCB0YXNrKTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoaXNBcnJheSh0YXJnZXRTZWxlY3Rvck9yRWxlbWVudCkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldFNlbGVjdG9yT3JFbGVtZW50Lmxlbmd0aDsgaSsrKVxuICAgICAgb2ZmKHRhcmdldFNlbGVjdG9yT3JFbGVtZW50W2ldLCB0YXNrKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQgPT09ICdvYmplY3QnKVxuICAgIGlmICh0YXNrKVxuICAgICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGFzayk7XG4gICAgZWxzZVxuICAgICAgdGFyZ2V0U2VsZWN0b3JPckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCk7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0U2VsZWN0b3JPckVsZW1lbnR9IG11c3QgYmUgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIG9yIERPTSBFbGVtZW50IG9iamVjdC5gKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy91dGlscy5qc1xuICoqLyIsIi8qXHJcbiogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxMyBUaW0gUGVycnlcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiovXHJcbihmdW5jdGlvbiAocm9vdCwgZGVmaW5pdGlvbikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb3QubG9nID0gZGVmaW5pdGlvbigpO1xyXG4gICAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xyXG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFdlIGNhbid0IGJ1aWxkIGEgcmVhbCBtZXRob2Qgd2l0aG91dCBhIGNvbnNvbGUgdG8gbG9nIHRvXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlW21ldGhvZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgbWV0aG9kTmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLmxvZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiaW5kTWV0aG9kKGNvbnNvbGUsICdsb2cnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcclxuICAgICAgICB2YXIgbWV0aG9kID0gb2JqW21ldGhvZE5hbWVdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kLmJpbmQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWlzc2luZyBiaW5kIHNoaW0gb3IgSUU4ICsgTW9kZXJuaXpyLCBmYWxsYmFjayB0byB3cmFwcGluZ1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkobWV0aG9kLCBbb2JqLCBhcmd1bWVudHNdKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhlc2UgcHJpdmF0ZSBmdW5jdGlvbnMgYWx3YXlzIG5lZWQgYHRoaXNgIHRvIGJlIHNldCBwcm9wZXJseVxyXG5cclxuICAgIGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IHVuZGVmaW5lZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMsIGxldmVsLCBsb2dnZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXNbbWV0aG9kTmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKGxldmVsLCBsb2dnZXJOYW1lKSB7XHJcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvZ01ldGhvZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBsb2dNZXRob2RzW2ldO1xyXG4gICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdID0gKGkgPCBsZXZlbCkgP1xyXG4gICAgICAgICAgICAgICAgbm9vcCA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZEZhY3RvcnkobWV0aG9kTmFtZSwgbGV2ZWwsIGxvZ2dlck5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xyXG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgcmV0dXJuIHJlYWxNZXRob2QobWV0aG9kTmFtZSkgfHxcclxuICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsb2dNZXRob2RzID0gW1xyXG4gICAgICAgIFwidHJhY2VcIixcclxuICAgICAgICBcImRlYnVnXCIsXHJcbiAgICAgICAgXCJpbmZvXCIsXHJcbiAgICAgICAgXCJ3YXJuXCIsXHJcbiAgICAgICAgXCJlcnJvclwiXHJcbiAgICBdO1xyXG5cclxuICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lLCBkZWZhdWx0TGV2ZWwsIGZhY3RvcnkpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgY3VycmVudExldmVsO1xyXG4gICAgICB2YXIgc3RvcmFnZUtleSA9IFwibG9nbGV2ZWxcIjtcclxuICAgICAgaWYgKG5hbWUpIHtcclxuICAgICAgICBzdG9yYWdlS2V5ICs9IFwiOlwiICsgbmFtZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbE51bSkge1xyXG4gICAgICAgICAgdmFyIGxldmVsTmFtZSA9IChsb2dNZXRob2RzW2xldmVsTnVtXSB8fCAnc2lsZW50JykudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAvLyBVc2UgbG9jYWxTdG9yYWdlIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXldID0gbGV2ZWxOYW1lO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cclxuXHJcbiAgICAgICAgICAvLyBVc2Ugc2Vzc2lvbiBjb29raWUgYXMgZmFsbGJhY2tcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9XHJcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIiArIGxldmVsTmFtZSArIFwiO1wiO1xyXG4gICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRQZXJzaXN0ZWRMZXZlbCgpIHtcclxuICAgICAgICAgIHZhciBzdG9yZWRMZXZlbDtcclxuXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gd2luZG93LmxvY2FsU3RvcmFnZVtzdG9yYWdlS2V5XTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cclxuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZExldmVsID09PSB1bmRlZmluZWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IHdpbmRvdy5kb2N1bWVudC5jb29raWU7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGNvb2tpZS5pbmRleE9mKFxyXG4gICAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZExldmVsID0gL14oW147XSspLy5leGVjKGNvb2tpZS5zbGljZShsb2NhdGlvbikpWzFdO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBzdG9yZWQgbGV2ZWwgaXMgbm90IHZhbGlkLCB0cmVhdCBpdCBhcyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXHJcbiAgICAgICAgICBpZiAoc2VsZi5sZXZlbHNbc3RvcmVkTGV2ZWxdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBzdG9yZWRMZXZlbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gc3RvcmVkTGV2ZWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFB1YmxpYyBBUElcclxuICAgICAgICpcclxuICAgICAgICovXHJcblxyXG4gICAgICBzZWxmLmxldmVscyA9IHsgXCJUUkFDRVwiOiAwLCBcIkRFQlVHXCI6IDEsIFwiSU5GT1wiOiAyLCBcIldBUk5cIjogMyxcclxuICAgICAgICAgIFwiRVJST1JcIjogNCwgXCJTSUxFTlRcIjogNX07XHJcblxyXG4gICAgICBzZWxmLm1ldGhvZEZhY3RvcnkgPSBmYWN0b3J5IHx8IGRlZmF1bHRNZXRob2RGYWN0b3J5O1xyXG5cclxuICAgICAgc2VsZi5nZXRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBjdXJyZW50TGV2ZWw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZWxmLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsLCBwZXJzaXN0KSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIGxldmVsID09PSBcInN0cmluZ1wiICYmIHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBsZXZlbCA9IHNlbGYubGV2ZWxzW2xldmVsLnRvVXBwZXJDYXNlKCldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJudW1iZXJcIiAmJiBsZXZlbCA+PSAwICYmIGxldmVsIDw9IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IGxldmVsO1xyXG4gICAgICAgICAgICAgIGlmIChwZXJzaXN0ICE9PSBmYWxzZSkgeyAgLy8gZGVmYXVsdHMgdG8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwoc2VsZiwgbGV2ZWwsIG5hbWUpO1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gdW5kZWZpbmVkVHlwZSAmJiBsZXZlbCA8IHNlbGYubGV2ZWxzLlNJTEVOVCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgXCJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiBcIiArIGxldmVsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2VsZi5zZXREZWZhdWx0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHtcclxuICAgICAgICAgIGlmICghZ2V0UGVyc2lzdGVkTGV2ZWwoKSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuc2V0TGV2ZWwobGV2ZWwsIGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNlbGYuZW5hYmxlQWxsID0gZnVuY3Rpb24ocGVyc2lzdCkge1xyXG4gICAgICAgICAgc2VsZi5zZXRMZXZlbChzZWxmLmxldmVscy5UUkFDRSwgcGVyc2lzdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZWxmLmRpc2FibGVBbGwgPSBmdW5jdGlvbihwZXJzaXN0KSB7XHJcbiAgICAgICAgICBzZWxmLnNldExldmVsKHNlbGYubGV2ZWxzLlNJTEVOVCwgcGVyc2lzdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBJbml0aWFsaXplIHdpdGggdGhlIHJpZ2h0IGxldmVsXHJcbiAgICAgIHZhciBpbml0aWFsTGV2ZWwgPSBnZXRQZXJzaXN0ZWRMZXZlbCgpO1xyXG4gICAgICBpZiAoaW5pdGlhbExldmVsID09IG51bGwpIHtcclxuICAgICAgICAgIGluaXRpYWxMZXZlbCA9IGRlZmF1bHRMZXZlbCA9PSBudWxsID8gXCJXQVJOXCIgOiBkZWZhdWx0TGV2ZWw7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5zZXRMZXZlbChpbml0aWFsTGV2ZWwsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICpcclxuICAgICAqIFBhY2thZ2UtbGV2ZWwgQVBJXHJcbiAgICAgKlxyXG4gICAgICovXHJcblxyXG4gICAgdmFyIGRlZmF1bHRMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XHJcblxyXG4gICAgdmFyIF9sb2dnZXJzQnlOYW1lID0ge307XHJcbiAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlciA9IGZ1bmN0aW9uIGdldExvZ2dlcihuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8IG5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxvZ2dlciA9IF9sb2dnZXJzQnlOYW1lW25hbWVdO1xyXG4gICAgICAgIGlmICghbG9nZ2VyKSB7XHJcbiAgICAgICAgICBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXSA9IG5ldyBMb2dnZXIoXHJcbiAgICAgICAgICAgIG5hbWUsIGRlZmF1bHRMb2dnZXIuZ2V0TGV2ZWwoKSwgZGVmYXVsdExvZ2dlci5tZXRob2RGYWN0b3J5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXHJcbiAgICB2YXIgX2xvZyA9ICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWRUeXBlKSA/IHdpbmRvdy5sb2cgOiB1bmRlZmluZWQ7XHJcbiAgICBkZWZhdWx0TG9nZ2VyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSAmJlxyXG4gICAgICAgICAgICAgICB3aW5kb3cubG9nID09PSBkZWZhdWx0TG9nZ2VyKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2cgPSBfbG9nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRMb2dnZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xyXG59KSk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZ2xldmVsL2xpYi9sb2dsZXZlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7IEhPU1RfVVJMIH0gZnJvbSAnLi92YXJzLmpzJ1xuaW1wb3J0IGxvZyBmcm9tICdsb2dsZXZlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcGlDYWxsKGFjdGlvbiwgbWV0aG9kLCBkYXRhKSB7XG4gIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcblxuICBsZXQgY29udGVudHMgPSB7XG4gICAgbWV0aG9kOiBtZXRob2QgfHwgJ05PX01FVEhPRF9TUEVDSUZJRUQnLFxuICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgY2FjaGU6ICduby1jYWNoZScsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgfTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGZldGNoKEhPU1RfVVJMICsgYWN0aW9uLCBjb250ZW50cylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHN0YXR1cyhyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApXG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5qc29uKCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmROb3RpZmljYXRpb24oYXBwSWQsIHBsYXllcklkcywgdGl0bGVzLCBjb250ZW50cykge1xuICB2YXIgcGFyYW1zID0ge1xuICAgICdhcHBfaWQnOiBhcHBJZCxcbiAgICAnaGVhZGluZ3MnOiB0aXRsZXMsXG4gICAgJ2NvbnRlbnRzJzogY29udGVudHMsXG4gICAgJ2luY2x1ZGVfcGxheWVyX2lkcyc6IHBsYXllcklkcyxcbiAgICAnaXNBbnlXZWInOiB0cnVlLFxuICAgICd1cmwnOiAnamF2YXNjcmlwdDp2b2lkKDApOydcbiAgfTtcbiAgcmV0dXJuIGFwaUNhbGwoJ25vdGlmaWNhdGlvbnMnLCAnUE9TVCcsIHBhcmFtcyk7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBpLmpzXG4gKiovIiwiLypcbiBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAncm9ja3knKTtcbiBbXCJyb2NreVwiXVxuIExpbWl0U3RvcmUucHV0KCdjb2xvcmFkbycsICdtb3VudGFpbicpO1xuIFtcInJvY2t5XCIsIFwibW91bnRhaW5cIl1cbiBMaW1pdFN0b3JlLnB1dCgnY29sb3JhZG8nLCAnbmF0aW9uYWwnKTtcbiBbXCJtb3VudGFpblwiLCBcIm5hdGlvbmFsXCJdXG4gTGltaXRTdG9yZS5wdXQoJ2NvbG9yYWRvJywgJ3BhcmsnKTtcbiBbXCJuYXRpb25hbFwiLCBcInBhcmtcIl1cbiAqL1xuZnVuY3Rpb24gTGltaXRTdG9yZSgpIHtcbn1cblxuTGltaXRTdG9yZS5zdG9yZSA9IHt9O1xuTGltaXRTdG9yZS5MSU1JVCA9IDI7XG5cbkxpbWl0U3RvcmUucHV0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgaWYgKExpbWl0U3RvcmUuc3RvcmVba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgTGltaXRTdG9yZS5zdG9yZVtrZXldID0gW251bGwsIG51bGxdO1xuICB9XG4gIExpbWl0U3RvcmUuc3RvcmVba2V5XS5wdXNoKHZhbHVlKTtcbiAgaWYgKExpbWl0U3RvcmUuc3RvcmVba2V5XS5sZW5ndGggPT0gTGltaXRTdG9yZS5MSU1JVCArIDEpIHtcbiAgICBMaW1pdFN0b3JlLnN0b3JlW2tleV0uc2hpZnQoKTtcbiAgfVxuICByZXR1cm4gTGltaXRTdG9yZS5zdG9yZVtrZXldO1xufTtcblxuTGltaXRTdG9yZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBMaW1pdFN0b3JlLnN0b3JlW2tleV07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaW1pdFN0b3JlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xpbWl0U3RvcmUuanNcbiAqKi8iLCJpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcbiAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7YnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWxzOiB1bmRlZmluZWR9O1xuICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlscyk7XG4gICAgICByZXR1cm4gZXZ0O1xuICAgIH1cblxuICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cbiAgICB3aW5kb3cuQ3VzdG9tRXZlbnQgPSBDdXN0b21FdmVudDtcbiAgfSkoKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9ldmVudHMtcG9seWZpbGwuanNcbiAqKi8iLCJpbXBvcnQgbG9nIGZyb20gJ2xvZ2xldmVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJFdmVudCAoZXZlbnROYW1lLCBkYXRhKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbG9nLmRlYnVnKCdTa2lwcGluZyB0cmlnZ2VyaW5nIG9mIGV2ZW50OicsIGV2ZW50TmFtZSwgJ2JlY2F1c2Ugd2UgYXJlIHJ1bm5pbmcgaW4gYSBTZXJ2aWNlV29ya2VyIGNvbnRleHQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBkZXRhaWxzOiBkYXRhXG4gIH0pO1xuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZXZlbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgaXNCcm93c2VyRW52LCBpc1B1c2hOb3RpZmljYXRpb25zU3VwcG9ydGVkLCByZW1vdmVEb21FbGVtZW50LCBhZGREb21FbGVtZW50LCBhZGRDc3NDbGFzcywgcmVtb3ZlQ3NzQ2xhc3MsIG9uY2UsIG9uLCBvZmYgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBMaW1pdFN0b3JlIGZyb20gJy4vbGltaXRTdG9yZS5qcyc7XG5pbXBvcnQgbG9nIGZyb20gJ2xvZ2xldmVsJztcbmltcG9ydCB7IHRyaWdnZXJFdmVudCB9IGZyb20gJy4vZXZlbnRzLmpzJ1xuXG5pZiAoaXNCcm93c2VyRW52KCkpIHtcbiAgcmVxdWlyZShcIi4vYmVsbC5zY3NzXCIpO1xuICB2YXIgbG9nb1N2ZyA9IHJlcXVpcmUoJ3JhdyEuL2JlbGwuc3ZnJyk7XG5cbiAgLypcbiAgICB7XG4gICAgICBzaXplID0gWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSxcbiAgICAgIHBvc2l0aW9uID0gJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCddLFxuICAgICAgb2Zmc2V0ID0gJzE1cHggMTVweCcsXG4gICAgICB0aGVtZSA9IFsncmVkLXdoaXRlJywgJ3doaXRlLXJlZCddLFxuICAgICAgaW5hY3RpdmVPcGFjaXR5OiAwLjc1LFxuICAgICAgc2hvd0xhdW5jaGVyQWZ0ZXI6IDEwMDAsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICd1bnN1YnNjcmliZWQnOiAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnLFxuICAgICAgICAgICdzdWJzY3JpYmVkJzogJ1lvdSdyZSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnMnXG4gICAgICAgIH1cbiAgICB9XG4gICAqL1xuICBjbGFzcyBCZWxsIHtcbiAgICBjb25zdHJ1Y3Rvcih7XG4gICAgICAgIHNpemUgPSAnc21hbGwnLFxuICAgICAgICBwb3NpdGlvbiA9ICdib3R0b20tbGVmdCcsXG4gICAgICAgIHRoZW1lID0gJ3JlZC13aGl0ZScsXG4gICAgICAgIHNob3dMYXVuY2hlckFmdGVyID0gMTAsXG4gICAgICAgIHNob3dCYWRnZUFmdGVyID0gMzAwLFxuICAgICAgICBtZXNzYWdlcyA9IHtcbiAgICAgICAgICAgICd1bnN1YnNjcmliZWQnOiAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnLFxuICAgICAgICAgICAgJ3N1YnNjcmliZWQnOiBcIllvdSdyZSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIlxuICAgICAgICAgIH0sXG4gICAgICAgIHByZW5vdGlmeSA9IHRydWVcbiAgICAgIH0gPSB7fSkge1xuICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIHRoZW1lOiB0aGVtZSxcbiAgICAgICAgc2hvd0xhdW5jaGVyQWZ0ZXI6IHNob3dMYXVuY2hlckFmdGVyLFxuICAgICAgICBzaG93QmFkZ2VBZnRlcjogc2hvd0JhZGdlQWZ0ZXIsXG4gICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgcHJlbm90aWZ5OiBwcmVub3RpZnlcbiAgICAgIH07XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLm9wdGlvbnMuc2l6ZTtcbiAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb247XG4gICAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5vcHRpb25zLm1lc3NhZ2VzO1xuICAgICAgdGhpcy5tZXNzYWdlcy5xdWV1ZWQgPSBbXTtcbiAgICAgIGlmICghdGhpcy5tZXNzYWdlcy51bnN1YnNjcmliZWQpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcy51bnN1YnNjcmliZWQgPSAnU3Vic2NyaWJlIHRvIG5vdGlmaWNhdGlvbnMnXG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMubWVzc2FnZXMuc3Vic2NyaWJlZCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnN1YnNjcmliZWQgPSBcIllvdSdyZSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIlxuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZXMgPSB7XG4gICAgICAgICd1bmluaXRpYWxpemVkJzogJ1RoZSBiZWxsIGlzIGxvYWRpbmcuJyxcbiAgICAgICAgJ3N1YnNjcmliZWQnOiAnVGhlIHVzZXIgaXMgc3Vic2NyaWJlZCcsXG4gICAgICAgICd1bnN1YnNjcmliZWQnOiAnVGhlIHVzZXIgaXMgdW5zdWJzY3JpYmVkJ1xuICAgICAgfTtcbiAgICAgIHRoaXMuc3RhdGUgPSAndW5pbml0aWFsaXplZCc7XG5cbiAgICAgIC8vIEluc3RhbGwgZXZlbnQgaG9va3NcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYmVsbC5zdGF0ZS5jaGFuZ2VkJywgKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuaW5mbygnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHN0YXRlLmRldGFpbCk7XG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLmNsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGVNZXNzYWdlKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAndW5zdWJzY3JpYmVkJykge1xuICAgICAgICAgIE9uZVNpZ25hbC5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zaG93RGlhbG9nKClcbiAgICAgICAgICAgIC50aGVuKChlKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgb25jZShkb2N1bWVudCwgJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgd2FzRGlhbG9nQ2xpY2tlZCA9IHNlbGYubGF1bmNoZXJEaWFsb2cuY29udGFpbnMoZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmICh3YXNEaWFsb2dDbGlja2VkKSB7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZURpYWxvZygpXG4gICAgICAgICAgICAgICAgICAudGhlbigoZSkgPT5cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2FzSW5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FzSW5hY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uZXNpZ25hbC5iZWxsLmhvdmVyaW5nJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc0luYWN0aXZlKCkpIHtcbiAgICAgICAgICB0aGlzLndhc0luYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSBtZXNzYWdlIGJlaW5nIGZvcmNlIHNob3duLCBkbyBub3Qgb3ZlcnJpZGVcbiAgICAgICAgaWYgKHRoaXMuaXNNZXNzYWdlT3BlbmVkKCkgfHwgdGhpcy5pc0RpYWxvZ09wZW5lZCgpKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnVGhlcmUgaXMgYWxyZWFkeSBhIG1lc3NhZ2UgYmVpbmcgZGlzcGxheWVkOyB3YWl0IHVudGlsIGl0IGlzIGhpZGRlbiBhZ2Fpbi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2VzLnF1ZXVlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IGRlcXVldWVkTWVzc2FnZSA9IHRoaXMuZGVxdWV1ZU1lc3NhZ2UoKTtcbiAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UoZGVxdWV1ZWRNZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UodGhpcy5tZXNzYWdlc1t0aGlzLnN0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYmVsbC5ob3ZlcmVkJywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc01lc3NhZ2VPcGVuZWQoKSkge1xuICAgICAgICAgIHRoaXMuaGlkZU1lc3NhZ2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKCdJbnNpZGUgaG92ZXJlZC4nKTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKHRoaXMubWVzc2FnZXNbdGhpcy5zdGF0ZV0pO1xuICAgICAgICAgICAgICBpZiAodGhpcy53YXNJbmFjdGl2ZSAmJiAhdGhpcy5pc0RpYWxvZ09wZW5lZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbmFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLndhc0luYWN0aXZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuc3Vic2NyaXB0aW9uLmNoYW5nZWQnLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKGUuZGV0YWlsID8gJ3N1YnNjcmliZWQnIDogJ3Vuc3Vic2NyaWJlZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmVzaWduYWwuYWN0aW9ucy53ZWxjb21lbm90aWZpY2F0aW9uc2VudCcsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcGxheU1lc3NhZ2UoXCJUaGFua3MgZm9yIHN1YnNjcmliaW5nIVwiLCAyNTAwKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICBpZiAoIWlzUHVzaE5vdGlmaWNhdGlvbnNTdXBwb3J0ZWQoKSlcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGJlbGxcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICByZW1vdmVEb21FbGVtZW50KCdvbmVzaWduYWwtYmVsbC1jb250YWluZXInKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmFkZERvbUVsZW1lbnQgPSBhZGREb21FbGVtZW50O1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGNvbnRhaW5lclxuICAgICAgYWRkRG9tRWxlbWVudCgnYm9keScsICdiZWZvcmVlbmQnLCAnPGRpdiBpZD1cIm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lclwiIGNsYXNzPVwib25lc2lnbmFsLWJlbGwtY29udGFpbmVyIG9uZXNpZ25hbC1yZXNldFwiPjwvZGl2PicpO1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMuY29udGFpbmVyLCAnYmVmb3JlZW5kJywgJzxkaXYgaWQ9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlclwiIGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXJcIj48L2Rpdj4nKTtcbiAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBidXR0b25cbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uXCI+PC9kaXY+Jyk7XG4gICAgICAvLyBJbnNlcnQgdGhlIGJlbGwgbGF1bmNoZXIgYmFkZ2VcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlciwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2VcIj48L2Rpdj4nKTtcbiAgICAgIC8vIEluc2VydCB0aGUgYmVsbCBsYXVuY2hlciBtZXNzYWdlXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMubGF1bmNoZXIsICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2VcIj48L2Rpdj4nKTtcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlck1lc3NhZ2UsICdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cIm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keVwiPjwvZGl2PicpO1xuICAgICAgLy8gSW5zZXJ0IHRoZSBiZWxsIGxhdW5jaGVyIGRpYWxvZ1xuICAgICAgYWRkRG9tRWxlbWVudCh0aGlzLmxhdW5jaGVyLCAnYmVmb3JlZW5kJywgJzxkaXYgY2xhc3M9XCJvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2dcIj48L2Rpdj4nKTtcbiAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlckRpYWxvZywgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwib25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLWJvZHlcIj48L2Rpdj4nKTtcblxuICAgICAgYWRkRG9tRWxlbWVudCh0aGlzLmxhdW5jaGVyRGlhbG9nQm9keSwgJ2JlZm9yZWVuZCcsXG4gICAgICAgIGBcbiAgICAgICAgPGgxPk1hbmFnZSBTaXRlIE5vdGlmaWNhdGlvbnM8L2gxPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24taWNvblwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB1c2gtbm90aWZpY2F0aW9uLXRleHQtc2hvcnRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdXNoLW5vdGlmaWNhdGlvbi10ZXh0XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVzaC1ub3RpZmljYXRpb24tdGV4dFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cImFjdGlvbi1idXR0b25cIj5VbnN1YnNjcmliZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImtpY2tiYWNrXCI+UG93ZXJlZCBieSBPbmVTaWduYWw8L2Rpdj5cbiAgICAgICAgYFxuICAgICAgKTtcblxuICAgICAgLy8gSW5zdGFsbCBldmVudHNcbiAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICB2YXIgaXNIb3ZlcmluZ0RhdGEgPSBMaW1pdFN0b3JlLmdldCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG4gICAgICAgIGlmIChpc0hvdmVyaW5nRGF0YSA9PT0gdW5kZWZpbmVkIHx8IGlzSG92ZXJpbmdEYXRhW2lzSG92ZXJpbmdEYXRhLmxlbmd0aCAtIDFdID09PSAnb3V0Jykge1xuICAgICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuaG92ZXJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBMaW1pdFN0b3JlLnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdmVyJyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICBMaW1pdFN0b3JlLnB1dCgnYmVsbC5sYXVuY2hlckJ1dHRvbi5tb3VzZScsICdvdXQnKTtcbiAgICAgICAgdHJpZ2dlckV2ZW50KCdvbmVzaWduYWwuYmVsbC5ob3ZlcmVkJyk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sYXVuY2hlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZURvbUVsZW1lbnQoJy5wdWxzZS1yaW5nJyk7XG4gICAgICAgIGFkZERvbUVsZW1lbnQodGhpcy5sYXVuY2hlckJ1dHRvbiwgJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwicHVsc2UtcmluZ1wiPjwvZGl2PicpO1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyQnV0dG9uLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWFjdGl2ZScpO1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyQmFkZ2UsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1hY3RpdmUnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxhdW5jaGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXJCdXR0b24sICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXJCYWRnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubGF1bmNoZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuYnV0dG9uLmNsaWNrJyk7XG4gICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuY2xpY2snKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgdmlzdWFsIGVsZW1lbnRzXG4gICAgICBhZGREb21FbGVtZW50KHRoaXMubGF1bmNoZXJCdXR0b24sICdiZWZvcmVFbmQnLCBsb2dvU3ZnKTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgY2xhc3Nlc1xuICAgICAgdGhpcy5zZXRTaXplKHRoaXMub3B0aW9ucy5zaXplKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbS1sZWZ0Jykge1xuICAgICAgICBhZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tbGVmdCcpXG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdib3R0b20tcmlnaHQnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMuY29udGFpbmVyLCAnb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLWJvdHRvbS1yaWdodCcpXG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQnKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBPbmVTaWduYWwgYmVsbCBwb3NpdGlvbiAnICsgdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50aGVtZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0JylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy50aGVtZSA9PT0gJ2ludmVyc2UnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlJylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgT25lU2lnbmFsIGJlbGwgdGhlbWUgJyArIHRoaXMub3B0aW9ucy50aGVtZSk7XG4gICAgICB9XG5cbiAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCgoaXNQdXNoRW5hYmxlZCkgPT4ge1xuICAgICAgICBpZiAoaXNQdXNoRW5hYmxlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdpc1B1c2hFbmFibGVkJywgaXNQdXNoRW5hYmxlZCk7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnNldEluYWN0aXZlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIERvIG5vdGhpbmcsIHJldHVybnMgYSBwcm9taXNlIHRoYXQgZXhlY3V0ZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgfVxuXG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVFdmVudCh0aGlzLm9wdGlvbnMuc2hvd0xhdW5jaGVyQWZ0ZXIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xhdW5jaGVyKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlRXZlbnQodGhpcy5vcHRpb25zLnNob3dCYWRnZUFmdGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVub3RpZnkpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghaXNQdXNoRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVucXVldWVNZXNzYWdlKCdDbGljayB0byBzdWJzY3JpYmUgdG8gbm90aWZpY2F0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCYWRnZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zY2hlZHVsZUV2ZW50KG1zSW5GdXR1cmUsIHRhc2spIHtcbiAgICAgIGlmICh0eXBlb2YgdGFzayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRvIGJlIHNjaGVkdWxlZCBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICBpZiAobXNJbkZ1dHVyZSA8PSAwKSB7XG4gICAgICAgIHRhc2soKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGFzaygpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgbXNJbkZ1dHVyZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjb3JyZWN0IG5ldyBjdXJyZW50IHN0YXRlLiBSZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICB1cGRhdGVTdGF0ZSgpIHtcbiAgICAgIE9uZVNpZ25hbC5pc1B1c2hOb3RpZmljYXRpb25zRW5hYmxlZCgoaXNFbmFibGVkKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoaXNFbmFibGVkID8gJ3N1YnNjcmliZWQnIDogJ3Vuc3Vic2NyaWJlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgc3BlY2lmaWVkIG5ldyBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gbmV3U3RhdGUgT25lIG9mIFsnc3Vic2NyaWJlZCcsICd1bnN1YnNjcmliZWQnXS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGVzLmhhc093blByb3BlcnR5KG5ld1N0YXRlKSkge1xuICAgICAgICBsZXQgbGFzdFN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBpZiAobGFzdFN0YXRlICE9PSBuZXdTdGF0ZSkge1xuICAgICAgICAgIHRyaWdnZXJFdmVudCgnb25lc2lnbmFsLmJlbGwuc3RhdGUuY2hhbmdlZCcsIHtmcm9tOiBsYXN0U3RhdGUsIHRvOiBuZXdTdGF0ZX0pO1xuICAgICAgICAgIC8vIFVwZGF0ZSBhbnl0aGluZyB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkIGhlcmUgaW4gdGhlIG5ldyBzdGF0ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGFueXRoaW5nIHRoYXQgc2hvdWxkIGJlIHJlc2V0IHRvIHRoZSBzYW1lIHN0YXRlXG4gICAgICAgIHRoaXMuc2V0TWVzc2FnZSh0aGlzLm1lc3NhZ2VzW25ld1N0YXRlXSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9nLmVycm9yKCdDYW5ub3QgdXBkYXRlIHRvIGludmFsaWQgbmV3IHN0YXRlJywgbmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVucXVldWVNZXNzYWdlKG1lc3NhZ2UsIG5vdGlmeSA9IGZhbHNlKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VzLnF1ZXVlZC5wdXNoKG1lc3NhZ2UpO1xuICAgICAgaWYgKHRoaXMuaXNCYWRnZU9wZW4oKSkge1xuICAgICAgICB0aGlzLmhpZGVCYWRnZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50QmFkZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluY3JlbWVudEJhZGdlKCk7XG4gICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzbyB0aGUgYmFkZ2UgZG9lc24ndCBpbW1lZGlhdGVseSByZW5kZXJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLnNob3dCYWRnZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVxdWV1ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgbGV0IGRlcXVldWVkTWVzc2FnZSA9IHRoaXMubWVzc2FnZXMucXVldWVkLnBvcChtZXNzYWdlKTtcbiAgICAgIGlmICh0aGlzLmlzQmFkZ2VPcGVuKCkpIHtcbiAgICAgICAgdGhpcy5oaWRlQmFkZ2UoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50QmFkZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbmV3QmFkZ2VOdW1iZXIgPSB0aGlzLmRlY3JlbWVudEJhZGdlKCk7XG4gICAgICAgIGlmIChuZXdCYWRnZU51bWJlciA8PSAwKSB7XG4gICAgICAgICAgdGhpcy5oaWRlQmFkZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlcXVldWVkTWVzc2FnZTtcbiAgICB9XG5cbiAgICBzaG93RGlhbG9nKCkge1xuICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlckRpYWxvZywgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIG9uY2UodGhpcy5sYXVuY2hlckRpYWxvZywgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5sYXVuY2hlckRpYWxvZykge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGhpZGVEaWFsb2coKSB7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyRGlhbG9nLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZCcpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgb25jZSh0aGlzLmxhdW5jaGVyRGlhbG9nLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyRGlhbG9nKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaXNEaWFsb2dPcGVuZWQoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBzaG93TGF1bmNoZXIoKSB7XG4gICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaGlkZUxhdW5jaGVyKCkge1xuICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWFjdGl2ZScpO1xuICAgIH1cblxuICAgIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgdGhpcy5sYXVuY2hlck1lc3NhZ2VCb2R5LmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgc2hvd01lc3NhZ2UoKSB7XG4gICAgICBhZGRDc3NDbGFzcyh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG4gICAgfVxuXG4gICAgaGlkZU1lc3NhZ2UoKSB7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyTWVzc2FnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVkJyk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXJNZXNzYWdlLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyTWVzc2FnZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzTWVzc2FnZU9wZW5lZCgpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5TWVzc2FnZShjb250ZW50LCBoaWRlQWZ0ZXIgPSAwKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc01lc3NhZ2VPcGVuZWQoKSkge1xuICAgICAgICAgIHRoaXMuaGlkZU1lc3NhZ2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UoY29udGVudCk7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgaWYgKGhpZGVBZnRlcikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBoaWRlQWZ0ZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKGNvbnRlbnQpO1xuICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoKTtcbiAgICAgICAgICBpZiAoaGlkZUFmdGVyKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgaGlkZUFmdGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEJhZGdlKGNvbnRlbnQpIHtcbiAgICAgIHRoaXMubGF1bmNoZXJCYWRnZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIH1cblxuICAgIHNob3dCYWRnZSgpIHtcbiAgICAgIGlmICh0aGlzLmJhZGdlSGFzQ29udGVudCgpKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXJCYWRnZSwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLW9wZW5lZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlzQmFkZ2VPcGVuKCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1iYWRnZS1vcGVuZWQnKTtcbiAgICB9XG5cbiAgICBiYWRnZUhhc0NvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlckJhZGdlLmlubmVySFRNTC5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGdldEJhZGdlQ29udGVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyQmFkZ2UuaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIGluY3JlbWVudEJhZGdlKCkge1xuICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLmdldEJhZGdlQ29udGVudCgpO1xuICAgICAgLy8gSWYgaXQgSVMgYSBudW1iZXIgKGlzIG5vdCBub3QgYSBudW1iZXIpXG4gICAgICBpZiAoIWlzTmFOKGNvbnRlbnQpKSB7XG4gICAgICAgIGxldCBiYWRnZU51bWJlciA9ICtjb250ZW50OyAvLyBDb2VyY2UgdG8gaW50XG4gICAgICAgIGJhZGdlTnVtYmVyICs9IDE7XG4gICAgICAgIHRoaXMuc2V0QmFkZ2UoYmFkZ2VOdW1iZXIpXG4gICAgICAgIHJldHVybiBiYWRnZU51bWJlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWNyZW1lbnRCYWRnZSgpIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5nZXRCYWRnZUNvbnRlbnQoKTtcbiAgICAgIC8vIElmIGl0IElTIGEgbnVtYmVyIChpcyBub3Qgbm90IGEgbnVtYmVyKVxuICAgICAgaWYgKCFpc05hTihjb250ZW50KSkge1xuICAgICAgICBsZXQgYmFkZ2VOdW1iZXIgPSArY29udGVudDsgLy8gQ29lcmNlIHRvIGludFxuICAgICAgICBiYWRnZU51bWJlciAtPSAxO1xuICAgICAgICB0aGlzLnNldEJhZGdlKGJhZGdlTnVtYmVyKVxuICAgICAgICByZXR1cm4gYmFkZ2VOdW1iZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUJhZGdlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlckJhZGdlLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Utb3BlbmVkJyk7XG4gICAgICAgIG9uY2UodGhpcy5sYXVuY2hlckJhZGdlLCAndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyQmFkZ2UpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzSW5hY3RpdmUoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgc2V0SW5hY3RpdmUoaXNJbmFjdGl2ZSkge1xuICAgICAgaWYgKGlzSW5hY3RpdmUpIHtcbiAgICAgICAgdGhpcy5oaWRlTWVzc2FnZSgpO1xuICAgICAgICBpZiAodGhpcy5iYWRnZUhhc0NvbnRlbnQoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVCYWRnZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZScpO1xuICAgICAgICAgICAgICB0aGlzLnNldFNpemUoJ3NtYWxsJyk7O1xuICAgICAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE9uY2UgdGhlIGxhdW5jaGVyIGhhcyBmaW5pc2hlZCBzaHJpbmtpbmcgZG93blxuICAgICAgICAgICAgICAgIG9uY2UodGhpcy5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93QmFkZ2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWluYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5zZXRTaXplKCdzbWFsbCcpO1xuICAgICAgICAgIHRoaXMuc2V0U2l6ZSgnc21hbGwnKTtcbiAgICAgICAgICB2YXIgbGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyO1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cbiAgICAgICAgICAgIG9uY2UodGhpcy5sYXVuY2hlciwgJ3RyYW5zaXRpb25lbmQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMubGF1bmNoZXIpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYmFkZ2VIYXNDb250ZW50KCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlQmFkZ2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTaXplKHRoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgdmFyIGxhdW5jaGVyID0gdGhpcy5sYXVuY2hlcjtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBPbmNlIHRoZSBsYXVuY2hlciBoYXMgZmluaXNoZWQgc2hyaW5raW5nIGRvd25cbiAgICAgICAgICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXIsICd0cmFuc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5sYXVuY2hlcikge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd0JhZGdlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1pbmFjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgdmFyIGxhdW5jaGVyID0gdGhpcy5sYXVuY2hlcjtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgbGF1bmNoZXIgaGFzIGZpbmlzaGVkIHNocmlua2luZyBkb3duXG4gICAgICAgICAgICBvbmNlKHRoaXMubGF1bmNoZXIsICd0cmFuc2l0aW9uZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLmxhdW5jaGVyKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFNpemUoc2l6ZSkge1xuICAgICAgcmVtb3ZlQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtJyk7XG4gICAgICByZW1vdmVDc3NDbGFzcyh0aGlzLmxhdW5jaGVyLCAnb25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQnKTtcbiAgICAgIHJlbW92ZUNzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpO1xuICAgICAgaWYgKHNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgYWRkQ3NzQ2xhc3ModGhpcy5sYXVuY2hlciwgJ29uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtJylcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNpemUgPT09ICdtZWRpdW0nKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCcpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzaXplID09PSAnbGFyZ2UnKSB7XG4gICAgICAgIGFkZENzc0NsYXNzKHRoaXMubGF1bmNoZXIsICdvbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZycpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE9uZVNpZ25hbCBiZWxsIHNpemUgJyArIHNpemUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjb250YWluZXIoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lcicpO1xuICAgIH1cblxuICAgIGdldCBsYXVuY2hlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjb25lc2lnbmFsLWJlbGwtbGF1bmNoZXInKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJCdXR0b24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uJyk7XG4gICAgfVxuXG4gICAgZ2V0IGxhdW5jaGVyQmFkZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UnKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJNZXNzYWdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGF1bmNoZXIucXVlcnlTZWxlY3RvcignLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UnKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJNZXNzYWdlQm9keSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLWJvZHknKTtcbiAgICB9XG5cbiAgICBnZXQgbGF1bmNoZXJEaWFsb2coKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYXVuY2hlci5xdWVyeVNlbGVjdG9yKCcub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nJyk7XG4gICAgfVxuXG4gICAgZ2V0IGxhdW5jaGVyRGlhbG9nQm9keSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhdW5jaGVyLnF1ZXJ5U2VsZWN0b3IoJy5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keScpO1xuICAgIH1cbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gQmVsbDtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9iZWxsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9iZWxsLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vYmVsbC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vYmVsbC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2JlbGwuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiogQ2xlYW5TbGF0ZVxcbiogICBnaXRodWIuY29tL3ByZW1hc2FnYXIvY2xlYW5zbGF0ZVxcbipcXG4qLy5vbmVzaWduYWwtcmVzZXQsLm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYWJiciwub25lc2lnbmFsLXJlc2V0IGFjcm9ueW0sLm9uZXNpZ25hbC1yZXNldCBhZGRyZXNzLC5vbmVzaWduYWwtcmVzZXQgYXBwbGV0LC5vbmVzaWduYWwtcmVzZXQgYXJlYSwub25lc2lnbmFsLXJlc2V0IGFydGljbGUsLm9uZXNpZ25hbC1yZXNldCBhc2lkZSwub25lc2lnbmFsLXJlc2V0IGF1ZGlvLC5vbmVzaWduYWwtcmVzZXQgYiwub25lc2lnbmFsLXJlc2V0IGJpZywub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBidXR0b24sLm9uZXNpZ25hbC1yZXNldCBjYW52YXMsLm9uZXNpZ25hbC1yZXNldCBjYXB0aW9uLC5vbmVzaWduYWwtcmVzZXQgY2l0ZSwub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBjb2wsLm9uZXNpZ25hbC1yZXNldCBjb2xncm91cCwub25lc2lnbmFsLXJlc2V0IGRhdGFsaXN0LC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkZWwsLm9uZXNpZ25hbC1yZXNldCBkZm4sLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZW0sLm9uZXNpZ25hbC1yZXNldCBmaWVsZHNldCwub25lc2lnbmFsLXJlc2V0IGZpZ2NhcHRpb24sLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBpLC5vbmVzaWduYWwtcmVzZXQgaWZyYW1lLC5vbmVzaWduYWwtcmVzZXQgaW1nLC5vbmVzaWduYWwtcmVzZXQgaW5wdXQsLm9uZXNpZ25hbC1yZXNldCBpbnMsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBsYWJlbCwub25lc2lnbmFsLXJlc2V0IGxlZ2VuZCwub25lc2lnbmFsLXJlc2V0IGxpLC5vbmVzaWduYWwtcmVzZXQgbWFpbiwub25lc2lnbmFsLXJlc2V0IG1hcCwub25lc2lnbmFsLXJlc2V0IG1hcmssLm9uZXNpZ25hbC1yZXNldCBtZW51LC5vbmVzaWduYWwtcmVzZXQgbWV0YSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9iamVjdCwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0Z3JvdXAsLm9uZXNpZ25hbC1yZXNldCBvcHRpb24sLm9uZXNpZ25hbC1yZXNldCBvdXRwdXQsLm9uZXNpZ25hbC1yZXNldCBwLC5vbmVzaWduYWwtcmVzZXQgcHJlLC5vbmVzaWduYWwtcmVzZXQgcHJvZ3Jlc3MsLm9uZXNpZ25hbC1yZXNldCBxLC5vbmVzaWduYWwtcmVzZXQgc2FtcCwub25lc2lnbmFsLXJlc2V0IHNlY3Rpb24sLm9uZXNpZ25hbC1yZXNldCBzZWxlY3QsLm9uZXNpZ25hbC1yZXNldCBzbWFsbCwub25lc2lnbmFsLXJlc2V0IHNwYW4sLm9uZXNpZ25hbC1yZXNldCBzdHJpa2UsLm9uZXNpZ25hbC1yZXNldCBzdHJvbmcsLm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdW1tYXJ5LC5vbmVzaWduYWwtcmVzZXQgc3VwLC5vbmVzaWduYWwtcmVzZXQgdGFibGUsLm9uZXNpZ25hbC1yZXNldCB0Ym9keSwub25lc2lnbmFsLXJlc2V0IHRkLC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWEsLm9uZXNpZ25hbC1yZXNldCB0Zm9vdCwub25lc2lnbmFsLXJlc2V0IHRoLC5vbmVzaWduYWwtcmVzZXQgdGhlYWQsLm9uZXNpZ25hbC1yZXNldCB0aW1lLC5vbmVzaWduYWwtcmVzZXQgdHIsLm9uZXNpZ25hbC1yZXNldCB0dCwub25lc2lnbmFsLXJlc2V0IHVsLC5vbmVzaWduYWwtcmVzZXQgdmFyLC5vbmVzaWduYWwtcmVzZXQgdmlkZW97YmFja2dyb3VuZC1hdHRhY2htZW50OnNjcm9sbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMDtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQ7Ym9yZGVyLWNvbG9yOiMwMDA7Ym9yZGVyOm1lZGl1bSBub25lIGN1cnJlbnRDb2xvcjtib3R0b206YXV0bztjbGVhcjpub25lO2NsaXA6YXV0bztjb2xvcjppbmhlcml0O2NvdW50ZXItaW5jcmVtZW50Om5vbmU7Y291bnRlci1yZXNldDpub25lO2N1cnNvcjphdXRvO2RpcmVjdGlvbjppbmhlcml0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0Om5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDppbmhlcml0O2hlaWdodDphdXRvO2xlZnQ6YXV0bztsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6aW5oZXJpdDtsaXN0LXN0eWxlLXR5cGU6aW5oZXJpdDtsaXN0LXN0eWxlLXBvc2l0aW9uOm91dHNpZGU7bGlzdC1zdHlsZS1pbWFnZTpub25lO21hcmdpbjowO21heC1oZWlnaHQ6bm9uZTttYXgtd2lkdGg6bm9uZTttaW4taGVpZ2h0OjA7bWluLXdpZHRoOjA7b3BhY2l0eToxO291dGxpbmU6bWVkaXVtIG5vbmUgaW52ZXJ0O292ZXJmbG93OnZpc2libGU7cGFkZGluZzowO3Bvc2l0aW9uOnN0YXRpYztxdW90ZXM6XFxcIlxcXCIgXFxcIlxcXCI7cmlnaHQ6YXV0bzt0YWJsZS1sYXlvdXQ6YXV0bzt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3RvcDphdXRvO3VuaWNvZGUtYmlkaTpub3JtYWw7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7dmlzaWJpbGl0eTppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDt3aWR0aDphdXRvO3dvcmQtc3BhY2luZzpub3JtYWw7ei1pbmRleDphdXRvO2JhY2tncm91bmQtb3JpZ2luOnBhZGRpbmctYm94O2JhY2tncm91bmQtY2xpcDpib3JkZXItYm94O2JhY2tncm91bmQtc2l6ZTphdXRvOy13ZWJraXQtYm9yZGVyLWltYWdlOm5vbmU7LW8tYm9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLWltYWdlOm5vbmU7Ym9yZGVyLXJhZGl1czowO2JveC1zaGFkb3c6bm9uZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtY29sdW1uLWNvdW50OmF1dG87LW1vei1jb2x1bW4tY291bnQ6YXV0bztjb2x1bW4tY291bnQ6YXV0bzstd2Via2l0LWNvbHVtbi1nYXA6bm9ybWFsOy1tb3otY29sdW1uLWdhcDpub3JtYWw7Y29sdW1uLWdhcDpub3JtYWw7LXdlYmtpdC1jb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy1tb3otY29sdW1uLXJ1bGU6bWVkaXVtIG5vbmUgIzAwMDtjb2x1bW4tcnVsZTptZWRpdW0gbm9uZSAjMDAwOy13ZWJraXQtY29sdW1uLXNwYW46MTstbW96LWNvbHVtbi1zcGFuOjE7Y29sdW1uLXNwYW46MTstd2Via2l0LWNvbHVtbi13aWR0aDphdXRvOy1tb3otY29sdW1uLXdpZHRoOmF1dG87Y29sdW1uLXdpZHRoOmF1dG87Zm9udC1mZWF0dXJlLXNldHRpbmdzOm5vcm1hbDtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlOy13ZWJraXQtaHlwaGVuczptYW51YWw7LW1vei1oeXBoZW5zOm1hbnVhbDtoeXBoZW5zOm1hbnVhbDstd2Via2l0LXBlcnNwZWN0aXZlOm5vbmU7LW1zLXBlcnNwZWN0aXZlOm5vbmU7LW8tcGVyc3BlY3RpdmU6bm9uZTtwZXJzcGVjdGl2ZTpub25lOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7LW1zLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy1vLXBlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LXNoYWRvdzpub25lOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMHMgZWFzZSAwczt0cmFuc2l0aW9uOmFsbCAwcyBlYXNlIDBzOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7LW1zLXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtLXN0eWxlOmZsYXQ7dHJhbnNmb3JtLXN0eWxlOmZsYXQ7d29yZC1icmVhazpub3JtYWx9Lm9uZXNpZ25hbC1yZXNldCwub25lc2lnbmFsLXJlc2V0IGFkZHJlc3MsLm9uZXNpZ25hbC1yZXNldCBhcnRpY2xlLC5vbmVzaWduYWwtcmVzZXQgYXVkaW8sLm9uZXNpZ25hbC1yZXNldCBibG9ja3F1b3RlLC5vbmVzaWduYWwtcmVzZXQgY2FwdGlvbiwub25lc2lnbmFsLXJlc2V0IGNvbGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgZGQsLm9uZXNpZ25hbC1yZXNldCBkaWFsb2csLm9uZXNpZ25hbC1yZXNldCBkaXYsLm9uZXNpZ25hbC1yZXNldCBkbCwub25lc2lnbmFsLXJlc2V0IGR0LC5vbmVzaWduYWwtcmVzZXQgZmllbGRzZXQsLm9uZXNpZ25hbC1yZXNldCBmaWd1cmUsLm9uZXNpZ25hbC1yZXNldCBmb290ZXIsLm9uZXNpZ25hbC1yZXNldCBmb3JtLC5vbmVzaWduYWwtcmVzZXQgaDEsLm9uZXNpZ25hbC1yZXNldCBoMiwub25lc2lnbmFsLXJlc2V0IGgzLC5vbmVzaWduYWwtcmVzZXQgaDQsLm9uZXNpZ25hbC1yZXNldCBoNSwub25lc2lnbmFsLXJlc2V0IGg2LC5vbmVzaWduYWwtcmVzZXQgaGVhZGVyLC5vbmVzaWduYWwtcmVzZXQgaGdyb3VwLC5vbmVzaWduYWwtcmVzZXQgaHIsLm9uZXNpZ25hbC1yZXNldCBtYWluLC5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IG5hdiwub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgb3B0aW9uLC5vbmVzaWduYWwtcmVzZXQgcCwub25lc2lnbmFsLXJlc2V0IHByZSwub25lc2lnbmFsLXJlc2V0IHByb2dyZXNzLC5vbmVzaWduYWwtcmVzZXQgc2VjdGlvbiwub25lc2lnbmFsLXJlc2V0IHN1bW1hcnksLm9uZXNpZ25hbC1yZXNldCB1bCwub25lc2lnbmFsLXJlc2V0IHZpZGVve2Rpc3BsYXk6YmxvY2t9Lm9uZXNpZ25hbC1yZXNldCBoMSwub25lc2lnbmFsLXJlc2V0IGgyLC5vbmVzaWduYWwtcmVzZXQgaDMsLm9uZXNpZ25hbC1yZXNldCBoNCwub25lc2lnbmFsLXJlc2V0IGg1LC5vbmVzaWduYWwtcmVzZXQgaDZ7Zm9udC13ZWlnaHQ6NzAwfS5vbmVzaWduYWwtcmVzZXQgaDF7Zm9udC1zaXplOjJlbTtwYWRkaW5nOi42N2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoMntmb250LXNpemU6MS41ZW07cGFkZGluZzouODNlbSAwfS5vbmVzaWduYWwtcmVzZXQgaDN7Zm9udC1zaXplOjEuMTdlbTtwYWRkaW5nOi44M2VtIDB9Lm9uZXNpZ25hbC1yZXNldCBoNHtmb250LXNpemU6MWVtfS5vbmVzaWduYWwtcmVzZXQgaDV7Zm9udC1zaXplOi44M2VtfS5vbmVzaWduYWwtcmVzZXQgcHttYXJnaW46MWVtIDB9Lm9uZXNpZ25hbC1yZXNldCB0YWJsZXtkaXNwbGF5OnRhYmxlfS5vbmVzaWduYWwtcmVzZXQgdGhlYWR7ZGlzcGxheTp0YWJsZS1oZWFkZXItZ3JvdXB9Lm9uZXNpZ25hbC1yZXNldCB0Ym9keXtkaXNwbGF5OnRhYmxlLXJvdy1ncm91cH0ub25lc2lnbmFsLXJlc2V0IHRmb290e2Rpc3BsYXk6dGFibGUtZm9vdGVyLWdyb3VwfS5vbmVzaWduYWwtcmVzZXQgdHJ7ZGlzcGxheTp0YWJsZS1yb3d9Lm9uZXNpZ25hbC1yZXNldCB0ZCwub25lc2lnbmFsLXJlc2V0IHRoe2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjJweH0ub25lc2lnbmFsLXJlc2V0IG9sLC5vbmVzaWduYWwtcmVzZXQgdWx7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgb2wgbGksLm9uZXNpZ25hbC1yZXNldCBvbCBvbCBsaSwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgdWwgbGksLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgb2wgbGksLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBsaSwub25lc2lnbmFsLXJlc2V0IHVsIHVsIG9sIGxpLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWwgbGl7bGlzdC1zdHlsZS1wb3NpdGlvbjppbnNpZGU7bWFyZ2luLXRvcDouMDhlbX0ub25lc2lnbmFsLXJlc2V0IG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgb2wgb2wgb2wsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIG9sIG9sLC5vbmVzaWduYWwtcmVzZXQgdWwgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBvbCwub25lc2lnbmFsLXJlc2V0IHVsIHVsIHVse3BhZGRpbmctbGVmdDo0MHB4O21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgbmF2IG9sLC5vbmVzaWduYWwtcmVzZXQgbmF2IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lfS5vbmVzaWduYWwtcmVzZXQgbWVudSwub25lc2lnbmFsLXJlc2V0IHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjfS5vbmVzaWduYWwtcmVzZXQgb2x7bGlzdC1zdHlsZS10eXBlOmRlY2ltYWx9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG9sIHVsLC5vbmVzaWduYWwtcmVzZXQgdWwgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIHVse2xpc3Qtc3R5bGUtdHlwZTpjaXJjbGV9Lm9uZXNpZ25hbC1yZXNldCBtZW51IG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgbWVudSwub25lc2lnbmFsLXJlc2V0IG1lbnUgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBtZW51IHVsIHVsLC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSBtZW51LC5vbmVzaWduYWwtcmVzZXQgb2wgbWVudSB1bCwub25lc2lnbmFsLXJlc2V0IG9sIG9sIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCBvbCB1bCwub25lc2lnbmFsLXJlc2V0IG9sIHVsIG1lbnUsLm9uZXNpZ25hbC1yZXNldCBvbCB1bCB1bCwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgbWVudSwub25lc2lnbmFsLXJlc2V0IHVsIG1lbnUgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCBvbCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgb2wgdWwsLm9uZXNpZ25hbC1yZXNldCB1bCB1bCBtZW51LC5vbmVzaWduYWwtcmVzZXQgdWwgdWwgdWx7bGlzdC1zdHlsZS10eXBlOnNxdWFyZX0ub25lc2lnbmFsLXJlc2V0IGxpe2Rpc3BsYXk6bGlzdC1pdGVtO21pbi1oZWlnaHQ6YXV0bzttaW4td2lkdGg6YXV0bztwYWRkaW5nLWxlZnQ6MjBweH0ub25lc2lnbmFsLXJlc2V0IHN0cm9uZ3tmb250LXdlaWdodDo3MDB9Lm9uZXNpZ25hbC1yZXNldCBlbXtmb250LXN0eWxlOml0YWxpY30ub25lc2lnbmFsLXJlc2V0IGNvZGUsLm9uZXNpZ25hbC1yZXNldCBrYmQsLm9uZXNpZ25hbC1yZXNldCBwcmUsLm9uZXNpZ25hbC1yZXNldCBzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZX0ub25lc2lnbmFsLXJlc2V0IGF7Y29sb3I6Ymx1ZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5vbmVzaWduYWwtcmVzZXQgYTp2aXNpdGVke2NvbG9yOiM1Mjl9Lm9uZXNpZ25hbC1yZXNldCBhLC5vbmVzaWduYWwtcmVzZXQgYSAqLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1jaGVja2JveF0sLm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXJhZGlvXSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XSwub25lc2lnbmFsLXJlc2V0IHNlbGVjdHtjdXJzb3I6cG9pbnRlcn0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbiwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XXt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjJweCA2cHggM3B4O2JvcmRlci1yYWRpdXM6NHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtZmFtaWx5OmFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTpzbWFsbDstd2Via2l0LWFwcGVhcmFuY2U6cHVzaC1idXR0b247Y29sb3I6YnV0dG9udGV4dDtib3JkZXI6MXB4IHNvbGlkICNhNmE2YTY7YmFja2dyb3VuZDojZDNkM2QzO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjZmZmKSxjb2xvci1zdG9wKDEwMCUsI2RkZCksY29sb3Itc3RvcCgxMDAlLCNkMWQxZDEpLGNvbG9yLXN0b3AoMTAwJSwjZGRkKSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sI2ZmZiAwLCNkZGQgMTAwJSwjZDFkMWQxIDEwMCUsI2RkZCAxMDAlKTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLGVuZENvbG9yc3RyPScjZGRkZGRkJyxHcmFkaWVudFR5cGU9MCk7LW8tYm94LXNoYWRvdzoxcHggMXB4IDAgI2VlZTtib3gtc2hhZG93OjFweCAxcHggMCAjZWVlO291dGxpbmU6aW5pdGlhbH0ub25lc2lnbmFsLXJlc2V0IGJ1dHRvbntwYWRkaW5nOjFweCA2cHggMnB4O21hcmdpbi1yaWdodDo1cHh9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPWhpZGRlbl17ZGlzcGxheTpub25lfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRhcmVhO2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjJweDttYXJnaW4tbGVmdDo0cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6cHJlLXdyYXA7Zm9udC1zaXplOjExcHg7Zm9udC1mYW1pbHk6YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MTNweDtyZXNpemU6Ym90aH0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0LC5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7Ym9yZGVyOjFweCBzb2xpZCAjY2NjfS5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e2ZvbnQtc2l6ZToxMXB4O2ZvbnQtZmFtaWx5OmhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5vbmVzaWduYWwtcmVzZXQgaW5wdXQ6Zm9jdXMsLm9uZXNpZ25hbC1yZXNldCB0ZXh0YXJlYTpmb2N1c3tvdXRsaW5lOjVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtvdXRsaW5lOmluaXRpYWx9Lm9uZXNpZ25hbC1yZXNldCBpbnB1dFt0eXBlPXRleHRde2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjFweDtmb250LWZhbWlseTppbml0aWFsO2ZvbnQtc2l6ZTpzbWFsbH0ub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9Y2hlY2tib3hdLC5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117Ym9yZGVyOjFweCBzb2xpZCAjMmIyYjJiO2JvcmRlci1yYWRpdXM6NHB4O291dGxpbmU6aW50aWFsfS5vbmVzaWduYWwtcmVzZXQgaW5wdXRbdHlwZT1yYWRpb117bWFyZ2luOjJweCAycHggM3B4fS5vbmVzaWduYWwtcmVzZXQgYnV0dG9uOmFjdGl2ZSwub25lc2lnbmFsLXJlc2V0IGlucHV0W3R5cGU9c3VibWl0XTphY3RpdmV7YmFja2dyb3VuZDojM2I2NzllO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCMzYjY3OWUpLGNvbG9yLXN0b3AoNTAlLCMyYjg4ZDkpLGNvbG9yLXN0b3AoNTElLCMyMDdjY2EpLGNvbG9yLXN0b3AoMTAwJSwjN2RiOWU4KSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzNiNjc5ZSAwLCMyYjg4ZDkgNTAlLCMyMDdjY2EgNTElLCM3ZGI5ZTggMTAwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCMzYjY3OWUgMCwjMmI4OGQ5IDUwJSwjMjA3Y2NhIDUxJSwjN2RiOWU4IDEwMCUpO2JvcmRlci1jb2xvcjojNTI1OWIwfS5vbmVzaWduYWwtcmVzZXQgYWJiclt0aXRsZV0sLm9uZXNpZ25hbC1yZXNldCBhY3JvbnltW3RpdGxlXSwub25lc2lnbmFsLXJlc2V0IGRmblt0aXRsZV17Y3Vyc29yOmhlbHA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBpbnN7YmFja2dyb3VuZC1jb2xvcjojZmY5O2NvbG9yOiMwMDB9Lm9uZXNpZ25hbC1yZXNldCBkZWx7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0ub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGUsLm9uZXNpZ25hbC1yZXNldCBxe3F1b3Rlczpub25lfS5vbmVzaWduYWwtcmVzZXQgYmxvY2txdW90ZTphZnRlciwub25lc2lnbmFsLXJlc2V0IGJsb2NrcXVvdGU6YmVmb3JlLC5vbmVzaWduYWwtcmVzZXQgbGk6YWZ0ZXIsLm9uZXNpZ25hbC1yZXNldCBsaTpiZWZvcmUsLm9uZXNpZ25hbC1yZXNldCBxOmFmdGVyLC5vbmVzaWduYWwtcmVzZXQgcTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIn0ub25lc2lnbmFsLXJlc2V0IGlucHV0LC5vbmVzaWduYWwtcmVzZXQgc2VsZWN0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0ub25lc2lnbmFsLXJlc2V0IHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfS5vbmVzaWduYWwtcmVzZXQgaHJ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7bWFyZ2luOjFlbSAwfS5vbmVzaWduYWwtcmVzZXQgW2Rpcj1ydGxde2RpcmVjdGlvbjpydGx9Lm9uZXNpZ25hbC1yZXNldCBtYXJre2JhY2tncm91bmQtY29sb3I6I2ZmOTtjb2xvcjojMDAwO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OjcwMH0ub25lc2lnbmFsLXJlc2V0IG1lbnV7cGFkZGluZy1sZWZ0OjQwcHg7cGFkZGluZy10b3A6OHB4fS5vbmVzaWduYWwtcmVzZXQgW2hpZGRlbl0sLm9uZXNpZ25hbC1yZXNldCB0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9Lm9uZXNpZ25hbC1yZXNldCBhYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Lm9uZXNpZ25hbC1yZXNldCBzdWIsLm9uZXNpZ25hbC1yZXNldCBzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfS5vbmVzaWduYWwtcmVzZXQgc3Vwe3RvcDotLjVlbX0ub25lc2lnbmFsLXJlc2V0IHN1Yntib3R0b206LS4yNWVtfS5vbmVzaWduYWwtcmVzZXQgaW1ne2JvcmRlcjowfS5vbmVzaWduYWwtcmVzZXQgZmlndXJle21hcmdpbjowfS5vbmVzaWduYWwtcmVzZXQgdGV4dGFyZWF7b3ZlcmZsb3c6YXV0bzt2ZXJ0aWNhbC1hbGlnbjp0b3B9Lm9uZXNpZ25hbC1yZXNldHtmb250LXNpemU6bWVkaXVtO2xpbmUtaGVpZ2h0OjE7ZGlyZWN0aW9uOmx0cjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1hbGlnbjpzdGFydDtmb250LWZhbWlseTpUaW1lcyBOZXcgUm9tYW4sVGltZXMsc2VyaWY7Y29sb3I6IzAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGlzdC1zdHlsZS10eXBlOmRpc2N9Lm9uZXNpZ25hbC1yZXNldCBwcmV7d2hpdGUtc3BhY2U6cHJlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0e3otaW5kZXg6MjE0NzQ4MzAwMDtwb3NpdGlvbjpmaXhlZH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldC5vbmVzaWduYWwtYmVsbC1jb250YWluZXItYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0Lm9uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXJ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjE0NzQ4MzAwMDtmb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0cmFuc2Zvcm06c2NhbGUoLjAxKSB0cmFuc2xhdGVaKDApO29wYWNpdHk6MDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3dpZHRoOjMzMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdHtib3R0b206MjBweDtsZWZ0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MTZweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle2xlZnQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206MzlweDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7cmlnaHQ6N3B4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZHt0cmFuc2Zvcm0tb3JpZ2luOjI0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtsZWZ0OjYxcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHg7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MTJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZ3t0cmFuc2Zvcm0tb3JpZ2luOjMycHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtsZWZ0OjgxcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjc4cHg7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7cmlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLWxlZnQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoyMHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tbGVmdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7bGVmdDo0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdle3RyYW5zZm9ybS1vcmlnaW46bGVmdCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye3JpZ2h0OjEwMCU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1sZWZ0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257bGVmdDowfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHR7Ym90dG9tOjIwcHg7cmlnaHQ6MjBweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte3RyYW5zZm9ybS1vcmlnaW46MzE0cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NDJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjM5cHg7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDo1cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjdweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1ke3RyYW5zZm9ybS1vcmlnaW46MzA2cHggY2VudGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cmlnaHQ6NjFweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2d7Ym90dG9tOjU4cHg7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtyaWdodDoxMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntyaWdodDoxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7dHJhbnNmb3JtLW9yaWdpbjoyOThweCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZXtyaWdodDo4MXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3tib3R0b206NzhweDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGNlbnRlcn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0Lm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3JpZ2h0OjE4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye3JpZ2h0OjIwcHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cmlnaHQ6NHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1ib3R0b20tcmlnaHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJvdHRvbS1yaWdodCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZTphZnRlcntsZWZ0OjEwMCU7Ym9yZGVyLWxlZnQtY29sb3I6IzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYm90dG9tLXJpZ2h0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257cmlnaHQ6MH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtib3JkZXItcmFkaXVzOjUwJTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxib3JkZXIgMTc1bXMgZWFzZS1pbi1vdXQsd2lkdGggMTc1bXMgZWFzZS1pbi1vdXQsaGVpZ2h0IDE3NW1zIGVhc2UtaW4tb3V0O2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MjE0NzQ4MzAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LWZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwuMzUpKTtmaWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsLjM1KSl9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWhvdmVye2N1cnNvcjpwb2ludGVyfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjA7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMzQsMzYsMzgsMCkpO2ZpbHRlcjpkcm9wLXNoYWRvdygwIDJweCA0cHggcmdiYSgzNCwzNiwzOCwwKSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsYm9yZGVyIDE3NW1zIGVhc2UtaW4tb3V0LG9wYWNpdHkgLjIxcyBlYXNlLWluLW91dCx3aWR0aCAuMjFzIGVhc2UtaW4tb3V0LGhlaWdodCAuMjFzIGVhc2UtaW4tb3V0LHBvc2l0aW9uIC4yMXMgZWFzZS1pbi1vdXQscmlnaHQgLjIxcyBlYXNlLWluLW91dCx0b3AgLjIxcyBlYXNlLWluLW91dCxib3R0b20gLjIxcyBlYXNlLWluLW91dCxsZWZ0IC4yMXMgZWFzZS1pbi1vdXQ7ei1pbmRleDoyMTQ3NDgzNDAwO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjAxKTtwb2ludGVyLWV2ZW50czpub25lfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2Uub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2UtaG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1vcGVuZWR7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cG9zaXRpb246YWJzb2x1dGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo1cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGVYKDApIHRyYW5zbGF0ZVooMCk7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTc1bXMgZWFzZS1pbi1vdXQsb3BhY2l0eSAxNzVtcyBlYXNlLWluLW91dDt0b3A6NTAlO3otaW5kZXg6MjE0NzQ4MTAwMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7dG9wOjUwJTtib3JkZXI6c29saWQgdHJhbnNwYXJlbnQ7Y29udGVudDpcXFwiIFxcXCI7aGVpZ2h0OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2Utb3BlbmVke3BvaW50ZXItZXZlbnRzOmF1dG87b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHNjYWxlWCgxKSB0cmFuc2xhdGVaKDApfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMSk7LXdlYmtpdC1maWx0ZXI6ZHJvcC1zaGFkb3coMCAycHggMnB4IHJnYmEoMzQsMzYsMzgsLjE1KSk7ZmlsdGVyOmRyb3Atc2hhZG93KDAgMnB4IDJweCByZ2JhKDM0LDM2LDM4LC4xNSkpO29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMCkgdHJhbnNsYXRlWigwKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNzVtcyBlYXNlLWluLW91dCxvcGFjaXR5IDE3NW1zIGVhc2UtaW4tb3V0O3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tIGNlbnRlcjt6LWluZGV4OjIxNDc0ODEwMDB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXIsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YmVmb3Jle3RvcDoxMDAlO2JvcmRlcjpzb2xpZCB0cmFuc3BhcmVudDtjb250ZW50OlxcXCIgXFxcIjtoZWlnaHQ6MDt3aWR0aDowO3Bvc2l0aW9uOmFic29sdXRlfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlciAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keXt6LWluZGV4OjIxNDc0ODIwMDA7bWF4LXdpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Zm9udC1mYW1pbHk6SGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nLW9wZW5lZHt0cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlWigwKTtvcGFjaXR5OjF9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNte2hlaWdodDozMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9ue3dpZHRoOjMycHg7aGVpZ2h0OjMycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtmb250LXNpemU6OHB4O3dpZHRoOjEycHg7aGVpZ2h0OjEycHg7bGluZS1oZWlnaHQ6MTJweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzo5LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2U6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOjYuNnB4O21hcmdpbi10b3A6LTYuNnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6My4ycHggOS42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2c6YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO2JvcmRlci13aWR0aDo2LjZweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItc20gLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzpiZWZvcmV7Ym9yZGVyLXRvcC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTtib3JkZXItd2lkdGg6OC42cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXNtIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1zbSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWR7aGVpZ2h0OjQ4cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6NDhweDtoZWlnaHQ6NDhweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZToxMnB4O3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bGluZS1oZWlnaHQ6MThweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzoxNC40cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye2JvcmRlci13aWR0aDo5LjlweDttYXJnaW4tdG9wOi05LjlweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2UtYm9keXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZ3twYWRkaW5nOjQuOHB4IDE0LjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZzphZnRlcntib3JkZXItdG9wLWNvbG9yOiNmZmY7Ym9yZGVyLXdpZHRoOjkuOXB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDoxMS45cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1kIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGd7aGVpZ2h0OjY0cHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b257d2lkdGg6NjRweDtoZWlnaHQ6NjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdle2ZvbnQtc2l6ZToxMnB4O3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7bGluZS1oZWlnaHQ6MjRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbGcgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLW1lc3NhZ2V7cGFkZGluZzoxOS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1tZXNzYWdlOmFmdGVye2JvcmRlci13aWR0aDoxMy4ycHg7bWFyZ2luLXRvcDotMTMuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItbWVzc2FnZS1ib2R5e2ZvbnQtc2l6ZToxNHB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9ne3BhZGRpbmc6Ni40cHggMTkuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmFmdGVye2JvcmRlci10b3AtY29sb3I6I2ZmZjtib3JkZXItd2lkdGg6MTMuMnB4fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjEpO2JvcmRlci13aWR0aDoxNS4ycHh9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWxnIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2cgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWRpYWxvZy1ib2R5LCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1sZyAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZGlhbG9nIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaWFsb2ctYm9keSBoMXtmb250LXNpemU6MTRweH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNlNTRiNGR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLmZvcmVncm91bmR7ZmlsbDojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5zdHJva2V7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDozcHg7c3Ryb2tlLW1pdGVybGltaXQ6MTB9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWRlZmF1bHQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZS1hY3RpdmUgc3ZnIC5iYWNrZ3JvdW5kLCNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1kZWZhdWx0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24ub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLWFjdGl2ZSBzdmcgLmJhY2tncm91bmR7ZmlsbDojZGQyMDIyIWltcG9ydGFudH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtZGVmYXVsdCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYmFkZ2V7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JhY2tncm91bmQ6IzAwMDtjb2xvcjojZmZmfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24gc3ZnIC5iYWNrZ3JvdW5ke2ZpbGw6I2ZmZn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uIHN2ZyAuZm9yZWdyb3VuZHtmaWxsOiNlNTRiNGR9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbiBzdmcgLnN0cm9rZXtmaWxsOm5vbmU7c3Ryb2tlOiNlNTRiNGQ7c3Ryb2tlLXdpZHRoOjNweDtzdHJva2UtbWl0ZXJsaW1pdDoxMH0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXIub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItdGhlbWUtaW52ZXJzZSAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItYnV0dG9uLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJhZGdlLWFjdGl2ZSBzdmcgLmJhY2tncm91bmQsI29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLXRoZW1lLWludmVyc2UgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWJ1dHRvbi5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1idXR0b24tYWN0aXZlIHN2ZyAuYmFja2dyb3VuZHtmaWxsOiNmMmYyZjIhaW1wb3J0YW50fSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci10aGVtZS1pbnZlcnNlIC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1iYWRnZXtib3JkZXI6MXB4IHNvbGlkICNmZmY7YmFja2dyb3VuZDojZTU0YjRkO2NvbG9yOiNmZmZ9I29uZXNpZ25hbC1iZWxsLWNvbnRhaW5lci5vbmVzaWduYWwtcmVzZXQgLm9uZXNpZ25hbC1iZWxsLWxhdW5jaGVyLWFjdGl2ZSwjb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItZW5hYmxlZHt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfSNvbmVzaWduYWwtYmVsbC1jb250YWluZXIub25lc2lnbmFsLXJlc2V0IC5vbmVzaWduYWwtYmVsbC1sYXVuY2hlci1kaXNhYmxlZHt2aXNpYmlsaXR5OmhpZGRlbn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAub25lc2lnbmFsLWJlbGwtbGF1bmNoZXItaW5hY3RpdmV7b3BhY2l0eTouNn0jb25lc2lnbmFsLWJlbGwtY29udGFpbmVyLm9uZXNpZ25hbC1yZXNldCAucHVsc2UtcmluZ3tib3JkZXI6N3B4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLC40KTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDstd2Via2l0LWFuaW1hdGlvbjpwdWxzZSAuMzVzIGVhc2UtaW4tb3V0O2FuaW1hdGlvbjpwdWxzZSAuMzVzIGVhc2UtaW4tb3V0Oy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6MTtvcGFjaXR5OjA7ei1pbmRleDoxMDAwO3BvaW50ZXItZXZlbnRzOm5vbmV9QG1lZGlhIHByaW50eyNvbmVzaWduYWwtYmVsbC1jb250YWluZXJ7ZGlzcGxheTpub25lfX1ALXdlYmtpdC1rZXlmcmFtZXMgcHVsc2V7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjEpO29wYWNpdHk6MDtib3JkZXItd2lkdGg6MTBweH01MCV7b3BhY2l0eToxO2JvcmRlci13aWR0aDo1cHh9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4yKTtvcGFjaXR5OjA7Ym9yZGVyLXdpZHRoOjFweH19XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9zcmMvYmVsbC5zY3NzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCI/PlxcbjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT5cXG48c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgY2xhc3M9XFxcIm9uZXNpZ25hbC1iZWxsLXN2Z1xcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiXFxuXFx0IHdpZHRoPVxcXCI5OS43cHhcXFwiIGhlaWdodD1cXFwiOTkuN3B4XFxcIiB2aWV3Qm94PVxcXCIwIDAgOTkuNyA5OS43XFxcIiBzdHlsZT1cXFwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5OS43IDk5Ljc7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG48Zz5cXG5cXHQ8Y2lyY2xlIGNsYXNzPVxcXCJiYWNrZ3JvdW5kXFxcIiBjeD1cXFwiNDkuOVxcXCIgY3k9XFxcIjQ5LjlcXFwiIHI9XFxcIjQ5LjlcXFwiLz5cXG5cXHQ8ZyBpZD1cXFwiTGF5ZXJfMlxcXCI+XFxuXFx0XFx0PGc+XFxuXFx0XFx0XFx0PHBhdGggY2xhc3M9XFxcImZvcmVncm91bmRcXFwiIGQ9XFxcIk01MC4xLDY2LjJIMjcuN2MwLDAtMi0wLjItMi0yLjFjMC0xLjksMS43LTIsMS43LTJzNi43LTMuMiw2LjctNS41YzAtMi4zLTEuMS0zLjktMS4xLTEzLjNcXG5cXHRcXHRcXHRcXHRzNi0xNi42LDEzLjItMTYuNmMwLDAsMS0yLjQsMy45LTIuNGMyLjgsMCwzLjgsMi40LDMuOCwyLjRjNy4yLDAsMTMuMiw3LjIsMTMuMiwxNi42cy0xLDExLTEsMTMuM2MwLDIuMyw2LjcsNS41LDYuNyw1LjVcXG5cXHRcXHRcXHRcXHRzMS43LDAuMSwxLjcsMmMwLDEuOC0yLjEsMi4xLTIuMSwyLjFINTAuMXpcXFwiLz5cXG5cXHRcXHRcXHQ8cGF0aCBjbGFzcz1cXFwiZm9yZWdyb3VuZFxcXCIgZD1cXFwiTTQyLjksNjguNWgxNC41YzAsMC0xLDYuMy03LjIsNi4zUzQyLjksNjguNSw0Mi45LDY4LjV6XFxcIi8+XFxuXFx0XFx0XFx0PGVsbGlwc2UgY2xhc3M9XFxcInN0cm9rZVxcXCIgY3g9XFxcIjQ5LjlcXFwiIGN5PVxcXCI0OS45XFxcIiByeD1cXFwiMzcuNFxcXCIgcnk9XFxcIjM2LjlcXFwiLz5cXG5cXHRcXHQ8L2c+XFxuXFx0PC9nPlxcbjwvZz5cXG48L3N2Zz5cXG5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Jhdy1sb2FkZXIhLi9zcmMvYmVsbC5zdmdcbiAqKiBtb2R1bGUgaWQgPSAxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==