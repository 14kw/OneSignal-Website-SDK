<<<<<<< HEAD
{"version":3,"sources":["webpack:///OneSignalSDK.js","webpack:///webpack/bootstrap 104eb6c115e8d7e6dc2f","webpack:///./src/entry.js","webpack:///./src/sdk.js?dfb0","webpack:///./src/sdk.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/vars.js","webpack:///./src/utils.js","webpack:///./~/loglevel/lib/loglevel.js","webpack:///./src/api.js","webpack:///./src/limitStore.js","webpack:///./src/events-polyfill.js","webpack:///./src/events.js","webpack:///./src/bell.js","webpack:///./src/bell.scss?6b8c","webpack:///./src/bell.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/bell.svg"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","OneSignal","predefinedOneSignalPushes","_process_pushes","global","this","fetch","_interopRequireDefault","obj","__esModule","default","_vars","_api","_loglevel","_loglevel2","_limitStore","_limitStore2","_events","_bell","_bell2","_utils","_VERSION","_HOST_URL","HOST_URL","_app_id","_tagsToSendOnRegister","_notificationOpened_callback","_idsAvailable_callback","_defaultLaunchURL","_initOptions","_httpRegistration","_main_page_port","_isNotificationEnabledCallback","_subscriptionSet","_initOneSignalHttp","_sessionIframeAdded","_useHttpMode","_windowWidth","_windowHeight","_isNewVisitor","_isInitialized","bell","LOGGING","SERVICE_WORKER_UPDATER_PATH","SERVICE_WORKER_PATH","SERVICE_WORKER_PARAM","_ensureDbInstance","Promise","resolve","reject","_oneSignal_db","request","indexedDB","open","onsuccess","event","database","target","result","onerror","error","onupgradeneeded","debug","db","createObjectStore","keyPath","_getDbValue","table","key","then","transaction","objectStore","get","_triggerEvent_dbValueRetrieved","errorCode","e","_getDbValues","jsonResult","cursor","openCursor","value","_putDbValue","put","_triggerEvent_dbValueSet","_deleteDbValue","_sendToOneSignalApi","url","action","inData","callback","failedCallback","contents","method","headers","Content-type","body","JSON","stringify","status","response","Error","statusText","json","jsonData","_getLanguage","navigator","language","length","substring","_getPlayerId","_getPlayerId_gotUserId","_getBrowserName","appVersion","match","userAgent","_registerWithOneSignal","appId","registrationId","deviceType","_registerWithOneSignal_GotUserId","userIdResult","_getNotificationTypes","notif_types","requestUrl","app_id","device_type","timezone","Date","getTimezoneOffset","device_model","platform","device_os","sdk","notification_types","identifier","type","registeredCallback","responseJSON","sessionStorage","setItem","_sendUnsentTags","userId","curr_callback","pop","creator","opener","parent","_safePostMessage","idsAvailable","origin","window","close","sendTags","setDefaultNotificationUrl","setDefaultIcon","icon","setDefaultTitle","title","_visibilitychange","document","visibilityState","removeEventListener","_sessionInit","onCustomPromptClicked","detail","_checkTrigger_eventSubscriptionChanged","onNativePromptChanged","_onSubscriptionChanged","welcome_notification_opts","welcome_notification_disabled","undefined","message","sendNotification","en","triggerEvent","_onDbValueRetrieved","_onDbValueSet","info","_onInternalSubscriptionSet","newSubscriptionValue","_onSdkInitialized","isBrowserEnv","size","position","theme","create","trace","permissions","lastPermission","currentPermission","ids","lastId","currentId","subscriptionStates","lastSubscriptionState","currentSubscriptionState","newSubscriptionState","lastTriggerTimes","now","currentTime","lastTriggerTime","elapsedTimeSeconds","lastEventStates","currentState","lastState","shouldNotTriggerEvent","_triggerEvent_subscriptionChanged","isPushNotificationsSupported","init","options","warn","enableAll","setDefaultLevel","isBrowserFirefox","getFirefoxVersion","_usingNativePermissionHook","currentNotificationPermission","_getNotificationPermission","query","name","permissionStatus","onchange","recentPermissions","permissionBeforePrompt","_triggerEvent_nativePromptPermissionChanged","storeValue","_getSubscription","currentSubscription","addEventListener","isSupportedSafari","_supportsDirectPermission","subdomainName","DEV_HOST","s","createElement","setAttribute","head","appendChild","readyState","_internalInit","all","_internalInit_GotAppRegistrationSubscriptionIds","appIdResult","registrationIdResult","subscriptionResult","removeItem","getItem","Notification","permission","autoRegister","registerForPushNotifications","fromRegisterFor","_initHttp","continuePressed","setSubscription","isIframe","messageChannel","MessageChannel","port1","onmessage","data","initOptions","defaultUrl","defaultTitle","defaultIcon","parent_url","registerForPushNotifications_GotNotificationOpened","notificationOpenedResult","openedNotification","getNotificationPermission","_getSubdomainState","curState","setSubdomainState","oneSignalInitPageReady","port2","_initSaveState","location","search","indexOf","player_id","serviceWorker","register","_enableNotifications","_registerError","state","notifPermssion","subscriptionSet","isPushEnabled","protocol","host","hostPageProtocol","dualScreenLeft","screenLeft","screen","left","dualScreenTop","screenTop","top","thisWidth","innerWidth","documentElement","clientWidth","width","thisHeight","innerHeight","clientHeight","height","childWidth","childHeight","message_localization_opts","message_localization_opts_str","message_localization_params","i","encoded_value","encodeURIComponent","childWindow","focus","_addSessionIframe","safari_web_id","notificationPermissionBeforeRequest","safari","pushNotification","requestPermission","notificationPermissionAfterRequest","deviceToken","toLowerCase","modalPrompt","isPushNotificationsEnabled","pushEnabled","element","innerHTML","iframeStyle","getElementsByTagName","iframeNode","className","style","cssText","src","toString","getElementById","_registerForW3CPush","_registerForW3CPush_GotRegistrationId","getRegistration","serviceWorkerRegistration","sw_path","path","_registerServiceWorker","active","scriptURL","versionResult","installing","full_sw_and_path","node","display","err","existingServiceWorkerRegistration","ServiceWorkerRegistration","prototype","ready","_subscribeForPush","safariWebId","_triggerEvent_customPromptClicked","clickResult","from","to","_triggerEvent_internalSubscriptionSet","pushManager","subscribe","userVisibleOnly","subscription","_subscribeForPush_GotAppId","subscriptionId","endpoint","replace","RegExp","isSupportedFireFox","code","sendTag","jsonKeyValue","jsonPair","sendTags_GotUserId","tags","resultObj","_obj","deleteTag","deleteTags","keyArray","_handleNotificationOpened","notificationData","parse","notification","tag","_handleNotificationOpened_GotAppUserIds","results","opened","waitUntil","clients","matchAll","clientList","launchURL","registration","scope","client","postMessage","openWindow","_getTitle","incomingTitle","_getTitle_GotDefaultPageTitles","defaultTitleResult","pageTitleResult","_handleGCMMessage","text","_handleGCMMessage_GotDefaultIcon","defaultIconResult","_getLastNotifications","custom","alert","additionalData","a","u","showNotification","defaultUrlResult","itemCallback","completeCallback","_getLastNotifications_GotUserId","_listener_receiveMessage","receiveMessage","eventData","_iframePort","ports","_fireNotificationEnabledCallback","URL","httpsPromptAccepted","elem","parentNode","removeChild","httpsPromptCanceled","httpPromptAccepted","httpPromptCanceled","addListenerForNotificationOpened","getIdsAvailable","push","getIdsAvailable_GotUserRegistrationIds","getTags","isBrowserSafari","db_subscriptionSet","newSubscription","setSubscriptionSetCallback","targetOrigin","receiver","tOrigin","startsWith","queryDict","substr","split","forEach","item","validPreURLRegex","array","functionName","shift","apply","importScripts","self","isSWonSubdomain","href","pathname","caches","cache","addAll","respondWith","normalizeName","String","test","TypeError","normalizeValue","Headers","map","append","Object","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","rejected","decode","normalizeMethod","upcased","toUpperCase","methods","Request","input","credentials","mode","referrer","form","trim","bytes","join","decodeURIComponent","xhr","pairs","getAllResponseHeaders","header","Response","bodyInit","ok","list","values","getAll","has","hasOwnProperty","set","thisArg","clone","redirectStatuses","redirect","RangeError","responseURL","getResponseHeader","XMLHttpRequest","responseText","withCredentials","responseType","setRequestHeader","send","polyfill","defineProperty","PROD_HOST","isDev","_typeof","Symbol","constructor","isArray","variable","getHumanizedTimeDuration","timeDurationInMilliseconds","addPluralSuffix","number","duration","Math","floor","years","days","hours","minutes","seconds","chromeVersion","parseInt","safariVersion","fireFoxVersion","removeDomElement","selector","els","querySelectorAll","addDomElement","targetSelectorOrElement","addOrder","elementHtml","querySelector","insertAdjacentHTML","clearDomElementChildren","firstChild","addCssClass","cssClass","classList","add","removeCssClass","remove","on","task","once","manualDestroy","arguments","taskWrapper","internalTaskFunction","destroyEventListener","off","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","root","definition","log","realMethod","methodName","console","undefinedType","bindMethod","noop","bind","Function","enableLoggingWhenConsoleArrives","level","loggerName","replaceLoggingMethods","logMethods","methodFactory","defaultMethodFactory","Logger","defaultLevel","factory","persistLevelIfPossible","levelNum","levelName","localStorage","storageKey","ignore","cookie","getPersistedLevel","storedLevel","exec","slice","levels","currentLevel","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setLevel","persist","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","apiCall","playerIds","titles","params","headings","include_player_ids","isAnyWeb","LimitStore","store","LIMIT","CustomEvent","bubbles","cancelable","details","evt","createEvent","initCustomEvent","Event","eventName","dispatchEvent","_classCallCheck","instance","Constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","logoSvg","Bell","_this","_ref","_ref$size","_ref$position","_ref$theme","_ref$showLauncherAfte","showLauncherAfter","_ref$showBadgeAfter","showBadgeAfter","_ref$messages","messages","unsubscribed","subscribed","_ref$prenotify","prenotify","queued","states","uninitialized","blocked","originalCall","currentSetSubscriptionState","_getCurrentSetSubscriptionState","hideMessage","isDialogOpened","showDialog","wasDialogClicked","launcherDialog","contains","hideDialog","wasInactive","setInactive","isInactive","isMessageOpened","dequeuedMessage","dequeueMessage","setMessage","showMessage","setState","displayMessage","updateState","_this2","container","launcher","launcherMessage","launcherButton","isHoveringData","launcherBadge","setSize","promise","_scheduleEvent","showLauncher","enqueueMessage","showBadge","initialized","setSubscriptionState","currentSetSubscription","updateBellLauncherDialogBody","_this3","launcherDialogBody","msInFuture","setTimeout","_this4","isEnabled","newState","_this5","notify","isBadgeOpen","hideBadge","incrementBadge","_this6","decrementBadge","newBadgeNumber","_this7","stopPropagation","_this8","hideLauncher","launcherMessageBody","_this9","content","_this10","hideAfter","setBadge","badgeHasContent","getBadgeContent","isNaN","badgeNumber","_this11","_this12","update","locals","hot","accept","newContent","require","dispose","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","insertBefore","nextSibling","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","createObjectURL","revokeObjectURL","btoa","updateLink","applyToTag","updateStyle","newObj","index","styleSheet","replaceText","cssNode","createTextNode","childNodes","unescape","oldSrc","memoize","fn","memo","isOldIE","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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","file":"OneSignalSDK.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tif (typeof OneSignal !== \"undefined\") var predefinedOneSignalPushes = OneSignal;\n\t\n\t__webpack_require__(1);\n\t\n\tif (predefinedOneSignalPushes) OneSignal._process_pushes(predefinedOneSignalPushes);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"OneSignal\"] = __webpack_require__(2);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _vars = __webpack_require__(4);\n\t\n\tvar _api = __webpack_require__(7);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _limitStore = __webpack_require__(8);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\t__webpack_require__(9);\n\t\n\tvar _events = __webpack_require__(10);\n\t\n\tvar _bell = __webpack_require__(11);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar OneSignal = {\n\t  _VERSION: 109013,\n\t  _HOST_URL: _vars.HOST_URL,\n\t  _app_id: null,\n\t  _tagsToSendOnRegister: null,\n\t  _notificationOpened_callback: null,\n\t  _idsAvailable_callback: [],\n\t  _defaultLaunchURL: null,\n\t  _initOptions: null,\n\t  _httpRegistration: false,\n\t  _main_page_port: null,\n\t  _isNotificationEnabledCallback: null,\n\t  _subscriptionSet: true,\n\t  _initOneSignalHttp: null,\n\t  _sessionIframeAdded: false,\n\t  _useHttpMode: null,\n\t  _windowWidth: 550,\n\t  _windowHeight: 480,\n\t  _isNewVisitor: false,\n\t  _isInitialized: false,\n\t  bell: null,\n\t  LOGGING: true,\n\t  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n\t  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n\t  SERVICE_WORKER_PARAM: {},\n\t\n\t  _ensureDbInstance: function _ensureDbInstance() {\n\t    return new Promise(function (resolve, reject) {\n\t      if (OneSignal._oneSignal_db) {\n\t        resolve(OneSignal._oneSignal_db);\n\t      } else {\n\t        var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n\t        request.onsuccess = function (event) {\n\t          var database = event.target.result;\n\t          OneSignal._oneSignal_db = database;\n\t          resolve(database);\n\t        };\n\t        request.onerror = function (event) {\n\t          _loglevel2.default.error('Unable to open IndexedDB.', event);\n\t          reject(event);\n\t        };\n\t\n\t        request.onupgradeneeded = function (event) {\n\t          _loglevel2.default.debug('Rebuilding schema in IndexedDB...');\n\t          var db = event.target.result;\n\t          db.createObjectStore(\"Ids\", { keyPath: \"type\" });\n\t          db.createObjectStore(\"NotificationOpened\", { keyPath: \"url\" });\n\t          db.createObjectStore(\"Options\", { keyPath: \"key\" });\n\t        };\n\t      }\n\t    });\n\t  },\n\t\n\t  _getDbValue: function _getDbValue(table, key) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        var request = database.transaction(table).objectStore(table).get(key);\n\t        request.onsuccess = function (event) {\n\t          if (request.result) OneSignal._triggerEvent_dbValueRetrieved(request.result);\n\t          resolve(request.result);\n\t        };\n\t        request.onerror = function (event) {\n\t          reject(request.errorCode);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    });\n\t  },\n\t\n\t  _getDbValues: function _getDbValues(table) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        var jsonResult = {};\n\t        var cursor = database.transaction(table).objectStore(table).openCursor();\n\t        cursor.onsuccess = function (event) {\n\t          var cursor = event.target.result;\n\t          if (cursor) {\n\t            OneSignal._triggerEvent_dbValueRetrieved(cursor);\n\t            jsonResult[cursor.key] = cursor.value.value;\n\t            cursor.continue();\n\t          } else resolve(jsonResult);\n\t        };\n\t        cursor.onerror = function (event) {\n\t          reject(cursor.errorCode);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _putDbValue: function _putDbValue(table, value) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        database.transaction([table], \"readwrite\").objectStore(table).put(value);\n\t        OneSignal._triggerEvent_dbValueSet(value);\n\t        resolve(value);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _deleteDbValue: function _deleteDbValue(table, key) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        database.transaction([table], \"readwrite\").objectStore(table).delete(key);\n\t        resolve(key);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    });\n\t  },\n\t\n\t  _sendToOneSignalApi: function _sendToOneSignalApi(url, action, inData, callback, failedCallback) {\n\t    _loglevel2.default.debug('Calling ' + action + ' ' + (OneSignal._HOST_URL + url) + ' with data:', inData);\n\t    var contents = {\n\t      method: action\n\t    };\n\t\n\t    //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n\t    if (inData) {\n\t      contents.headers = { \"Content-type\": \"application/json;charset=UTF-8\" };\n\t      contents.body = JSON.stringify(inData);\n\t    }\n\t\n\t    fetch(OneSignal._HOST_URL + url, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) return Promise.resolve(response);else return Promise.reject(new Error(response.statusText));\n\t    }).then(function status(response) {\n\t      return response.json();\n\t    }).then(function (jsonData) {\n\t      if (callback != null) callback(jsonData);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('OneSignal._sendToOneSignalApi() failed:', e);\n\t      if (failedCallback != null) failedCallback();\n\t    });\n\t  },\n\t\n\t  _getLanguage: function _getLanguage() {\n\t    return navigator.language ? navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language : 'en';\n\t  },\n\t\n\t  _getPlayerId: function _getPlayerId(value, callback) {\n\t    if (value) callback(value);else {\n\t      OneSignal._getDbValue('Ids', 'userId').then(function _getPlayerId_gotUserId(result) {\n\t        if (result) callback(result.id);else callback(null);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  _getBrowserName: function _getBrowserName() {\n\t    if (navigator.appVersion.match(/Chrome\\/(.*?) /)) return \"Chrome\";\n\t    if (navigator.appVersion.match(\"Version/(.*) (Safari)\")) return \"Safari\";\n\t    if (navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/)) return \"Firefox\";\n\t\n\t    return \"\";\n\t  },\n\t\n\t  _registerWithOneSignal: function _registerWithOneSignal(appId, registrationId, deviceType) {\n\t\n\t    OneSignal._getDbValue('Ids', 'userId').then(function _registerWithOneSignal_GotUserId(userIdResult) {\n\t      OneSignal._getNotificationTypes(function (notif_types) {\n\t        var requestUrl = 'players';\n\t\n\t        var jsonData = {\n\t          app_id: appId,\n\t          device_type: deviceType,\n\t          language: OneSignal._getLanguage(),\n\t          timezone: new Date().getTimezoneOffset() * -60,\n\t          device_model: navigator.platform + \" \" + OneSignal._getBrowserName(),\n\t          device_os: (navigator.appVersion.match(/Chrome\\/(.*?) /) || navigator.appVersion.match(\"Version/(.*) Safari\") || navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))[1],\n\t          sdk: OneSignal._VERSION\n\t        };\n\t\n\t        if (userIdResult) {\n\t          requestUrl = 'players/' + userIdResult.id + '/on_session';\n\t          jsonData.notification_types = notif_types;\n\t        } else if (notif_types != 1) jsonData.notification_types = notif_types;\n\t\n\t        if (registrationId) {\n\t          jsonData.identifier = registrationId;\n\t          OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: registrationId });\n\t        }\n\t\n\t        OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData, function registeredCallback(responseJSON) {\n\t          sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t\n\t          if (responseJSON.id) {\n\t            OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: responseJSON.id });\n\t            OneSignal._sendUnsentTags();\n\t          }\n\t\n\t          OneSignal._getPlayerId(responseJSON.id, function (userId) {\n\t            if (OneSignal._idsAvailable_callback.length > 0) {\n\t              while (OneSignal._idsAvailable_callback.length > 0) {\n\t                var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t                curr_callback({ userId: userId, registrationId: registrationId });\n\t              }\n\t            }\n\t\n\t            if (OneSignal._httpRegistration) {\n\t              _loglevel2.default.debug(\"Sending player Id and registrationId back to host page\");\n\t              _loglevel2.default.debug(OneSignal._initOptions);\n\t              var creator = opener || parent;\n\t              OneSignal._safePostMessage(creator, {\n\t                idsAvailable: {\n\t                  userId: userId,\n\t                  registrationId: registrationId\n\t                }\n\t              }, OneSignal._initOptions.origin, null);\n\t\n\t              if (opener) window.close();\n\t            }\n\t          });\n\t        });\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _sendUnsentTags: function _sendUnsentTags() {\n\t    if (OneSignal._tagsToSendOnRegister) {\n\t      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n\t      OneSignal._tagsToSendOnRegister = null;\n\t    }\n\t  },\n\t\n\t  setDefaultNotificationUrl: function setDefaultNotificationUrl(url) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultUrl\", value: url });\n\t  },\n\t\n\t  setDefaultIcon: function setDefaultIcon(icon) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultIcon\", value: icon });\n\t  },\n\t\n\t  setDefaultTitle: function setDefaultTitle(title) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultTitle\", value: title });\n\t  },\n\t\n\t  _visibilitychange: function _visibilitychange() {\n\t    if (document.visibilityState == \"visible\") {\n\t      document.removeEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n\t      OneSignal._sessionInit({});\n\t    }\n\t  },\n\t\n\t  onCustomPromptClicked: function onCustomPromptClicked(event) {\n\t    _loglevel2.default.debug('Event onesignal.prompt.custom.clicked:', event.detail);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  onNativePromptChanged: function onNativePromptChanged(event) {\n\t    _loglevel2.default.debug('Event onesignal.prompt.native.permissionchanged:', event.detail);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _onSubscriptionChanged: function _onSubscriptionChanged(event) {\n\t    _loglevel2.default.debug('Event onesignal.subscription.changed:', event.detail);\n\t    if (OneSignal._isNewVisitor && event.detail === true) {\n\t      OneSignal._getDbValue('Ids', 'userId').then(function (result) {\n\t        var welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n\t        var welcome_notification_disabled = welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true;\n\t        var title = welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null ? welcome_notification_opts['title'] : '';\n\t        var message = welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0 ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n\t        if (!welcome_notification_disabled) {\n\t          _loglevel2.default.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n\t          (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message });\n\t          (0, _events.triggerEvent)('onesignal.actions.welcomenotificationsent', { title: title, message: message });\n\t          OneSignal._isNewVisitor = false;\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t    _limitStore2.default.put('subscription.value', event.detail);\n\t  },\n\t\n\t  _onDbValueRetrieved: function _onDbValueRetrieved(event) {\n\t    _loglevel2.default.debug('Event onesignal.db.retrieved:', event.detail);\n\t  },\n\t\n\t  _onDbValueSet: function _onDbValueSet(event) {\n\t    _loglevel2.default.debug('Event onesignal.db.valueset:', event.detail);\n\t    var info = event.detail;\n\t    if (info.type === 'userId') {\n\t      _limitStore2.default.put('db.ids.userId', info.id);\n\t      OneSignal._checkTrigger_eventSubscriptionChanged();\n\t    }\n\t  },\n\t\n\t  _onInternalSubscriptionSet: function _onInternalSubscriptionSet(event) {\n\t    _loglevel2.default.debug('Event onesignal.internal.subscriptionset:', event.detail);\n\t    var newSubscriptionValue = event.detail;\n\t    _limitStore2.default.put('setsubscription.value', newSubscriptionValue);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _onSdkInitialized: function _onSdkInitialized() {\n\t    if ((0, _utils.isBrowserEnv)()) {\n\t      _loglevel2.default.info('Showing bell.');\n\t      OneSignal.bell = new _bell2.default({\n\t        size: 'large',\n\t        position: 'bottom-right',\n\t        theme: 'default'\n\t      });\n\t      OneSignal.bell.create();\n\t    }\n\t\n\t    OneSignal._isInitialized = true;\n\t    _loglevel2.default.trace('OneSignal SDK has been fully initialized.');\n\t  },\n\t\n\t  _checkTrigger_eventSubscriptionChanged: function _checkTrigger_eventSubscriptionChanged() {\n\t    _loglevel2.default.debug('Called _checkTrigger_eventSubscriptionChanged().');\n\t    var permissions = _limitStore2.default.get('notification.permission');\n\t    var lastPermission = permissions[permissions.length - 2];\n\t    var currentPermission = permissions[permissions.length - 1];\n\t\n\t    var ids = _limitStore2.default.get('db.ids.userId');\n\t    var lastId = ids[ids.length - 2];\n\t    var currentId = ids[ids.length - 1];\n\t\n\t    var subscriptionStates = _limitStore2.default.get('setsubscription.value');\n\t    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n\t    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\t\n\t    var newSubscriptionState = 'unchanged';\n\t\n\t    if ((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' && currentId !== null && currentSubscriptionState === true || lastSubscriptionState === false && currentSubscriptionState === true && currentId != null && currentPermission === 'granted') {\n\t      newSubscriptionState = true;\n\t    }\n\t\n\t    if (lastPermission !== 'denied' && currentPermission === 'denied' || lastPermission === 'granted' && currentPermission !== 'granted' || lastId !== null && currentId === null || lastSubscriptionState !== false && currentSubscriptionState === false) {\n\t      newSubscriptionState = false;\n\t    }\n\t\n\t    if (newSubscriptionState !== \"unchanged\") {\n\t      var lastTriggerTimes = _limitStore2.default.put('event.subscriptionchanged.lastriggered', Date.now());\n\t      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n\t      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n\t      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\t\n\t      var lastEventStates = _limitStore2.default.put('event.subscriptionchanged.laststates', newSubscriptionState);\n\t      var currentState = lastEventStates[lastEventStates.length - 1];\n\t      var lastState = lastEventStates[lastEventStates.length - 2];\n\t\n\t      // If event already triggered within the last second, don't re-trigger.\n\t      var shouldNotTriggerEvent = lastTriggerTime != null && elapsedTimeSeconds <= 1 || currentState === lastState;\n\t      if (shouldNotTriggerEvent === false) {\n\t        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState);\n\t      }\n\t    }\n\t  },\n\t\n\t  isPushNotificationsSupported: function isPushNotificationsSupported() {\n\t    return (0, _utils.isPushNotificationsSupported)();\n\t  },\n\t\n\t  init: function init(options) {\n\t    if (OneSignal._isInitialized) {\n\t      _loglevel2.default.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n\t      return;\n\t    }\n\t    OneSignal._initOptions = options;\n\t\n\t    if (OneSignal.LOGGING) _loglevel2.default.enableAll();else _loglevel2.default.setDefaultLevel('error');\n\t\n\t    _loglevel2.default.info('OneSignal Web SDK loaded (version ' + OneSignal._VERSION + ').');\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    if (navigator.permissions && !((0, _utils.isBrowserFirefox)() && (0, _utils.getFirefoxVersion)() <= 45)) {\n\t      OneSignal._usingNativePermissionHook = true;\n\t      var currentNotificationPermission = OneSignal._getNotificationPermission();\n\t      _limitStore2.default.put('notification.permission', currentNotificationPermission);\n\t      // If the browser natively supports hooking the subscription prompt permission change event\n\t      //     use it instead of our SDK method\n\t      navigator.permissions.query({ name: 'notifications' }).then(function (permissionStatus) {\n\t        permissionStatus.onchange = function () {\n\t          var recentPermissions = _limitStore2.default.get('notification.permission');\n\t          var permissionBeforePrompt = recentPermissions[0];\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    } else {\n\t      var currentNotificationPermission = OneSignal._getNotificationPermission();\n\t      _limitStore2.default.put('notification.permission', currentNotificationPermission);\n\t    }\n\t\n\t    // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n\t    OneSignal._getDbValue('Ids', 'userId').then(function (result) {\n\t      if (result === undefined) {\n\t        OneSignal._isNewVisitor = true;\n\t      }\n\t      var storeValue = result ? result.id : null;\n\t      _limitStore2.default.put('db.ids.userId', storeValue);\n\t    });\n\t\n\t    // Store the current value of subscription, so that we can see if the value changes in the future\n\t    OneSignal._getSubscription(function (currentSubscription) {\n\t      _limitStore2.default.put('setsubscription.value', currentSubscription);\n\t    });\n\t\n\t    window.addEventListener('onesignal.prompt.custom.clicked', OneSignal.onCustomPromptClicked);\n\t    window.addEventListener('onesignal.prompt.native.permissionchanged', OneSignal.onNativePromptChanged);\n\t    window.addEventListener('onesignal.subscription.changed', OneSignal._onSubscriptionChanged);\n\t    window.addEventListener('onesignal.db.valueretrieved', OneSignal._onDbValueRetrieved);\n\t    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n\t    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n\t    window.addEventListener('onesignal.internal.subscriptionset', OneSignal._onInternalSubscriptionSet);\n\t    window.addEventListener('onesignal.sdk.initialized', OneSignal._onSdkInitialized);\n\t\n\t    OneSignal._useHttpMode = !(0, _utils.isSupportedSafari)() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\t\n\t    if (OneSignal._useHttpMode) OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';else OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\t\n\t    if (false) OneSignal._initOneSignalHttp = _vars.DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\t\n\t    // If Safari - add 'fetch' pollyfill if it isn't already added.\n\t    if ((0, _utils.isSupportedSafari)() && typeof window.fetch == \"undefined\") {\n\t      var s = document.createElement('script');\n\t      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n\t      document.head.appendChild(s);\n\t    }\n\t\n\t    if (document.readyState === \"complete\") OneSignal._internalInit();else window.addEventListener('load', OneSignal._internalInit);\n\t  },\n\t\n\t  _internalInit: function _internalInit() {\n\t    _loglevel2.default.trace('Called _internalInit()');\n\t    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var appIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      // If AppId changed delete playerId and continue.\n\t      if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n\t        OneSignal._deleteDbValue(\"Ids\", \"userId\");\n\t        sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n\t      }\n\t\n\t      // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n\t      if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\") && !OneSignal._initOptions.subdomainName && (Notification.permission == \"denied\" || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) return;\n\t\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      if (OneSignal._initOptions.autoRegister == false && !registrationIdResult && OneSignal._initOptions.subdomainName == null) return;\n\t\n\t      if (document.visibilityState != \"visible\") {\n\t        document.addEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n\t        return;\n\t      }\n\t\n\t      OneSignal._sessionInit({});\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  registerForPushNotifications: function registerForPushNotifications(options) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n\t    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n\t    if (!options) options = {};\n\t    options.fromRegisterFor = true;\n\t    OneSignal._sessionInit(options);\n\t  },\n\t\n\t  // Http only - Only called from iframe's init.js\n\t  _initHttp: function _initHttp(options) {\n\t    OneSignal._initOptions = options;\n\t\n\t    if (options.continuePressed) {\n\t      OneSignal.setSubscription(true);\n\t    }\n\t\n\t    var isIframe = parent != null && parent != window;\n\t    var creator = opener || parent;\n\t\n\t    if (!creator) {\n\t      _loglevel2.default.debug(\"ERROR:_initHttp: No opener or parent found!\");\n\t      return;\n\t    }\n\t    // Setting up message channel to receive message from host page.\n\t    var messageChannel = new MessageChannel();\n\t    messageChannel.port1.onmessage = function (event) {\n\t      _loglevel2.default.debug(\"_initHttp.messageChannel.port1.onmessage\", event);\n\t\n\t      if (event.data.initOptions) {\n\t        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n\t        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n\t        if (event.data.initOptions.defaultIcon) OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\t\n\t        _loglevel2.default.debug(\"document.URL\", event.data.initOptions.parent_url);\n\t        OneSignal._getDbValue(\"NotificationOpened\", event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n\t          _loglevel2.default.debug(\"_initHttp NotificationOpened db\", notificationOpenedResult);\n\t          if (notificationOpenedResult) {\n\t            OneSignal._deleteDbValue(\"NotificationOpened\", event.data.initOptions.parent_url);\n\t            _loglevel2.default.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\t\n\t            debugger;\n\t            OneSignal._safePostMessage(creator, { openedNotification: notificationOpenedResult.data }, OneSignal._initOptions.origin, null);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t        ;\n\t      } else if (event.data.getNotificationPermission) {\n\t        debugger;\n\t        _loglevel2.default.warn(\"I FINALLY GOT HERE OMGGGGG\");\n\t        OneSignal._getSubdomainState(function (curState) {\n\t          debugger;\n\t          OneSignal._safePostMessage(creator, { currentNotificationPermission: curState }, OneSignal._initOptions.origin, null);\n\t        });\n\t      } else if (event.data.setSubdomainState) OneSignal.setSubscription(event.data.setSubdomainState.setSubscription);\n\t    };\n\t\n\t    OneSignal._getSubdomainState(function (curState) {\n\t      curState[\"isIframe\"] = isIframe;\n\t      OneSignal._safePostMessage(creator, { oneSignalInitPageReady: curState }, OneSignal._initOptions.origin, [messageChannel.port2]);\n\t    });\n\t\n\t    OneSignal._initSaveState();\n\t    OneSignal._httpRegistration = true;\n\t    if (location.search.indexOf(\"?session=true\") == 0) return;\n\t\n\t    OneSignal._getPlayerId(null, function (player_id) {\n\t      if (!isIframe || player_id) {\n\t        _loglevel2.default.debug(\"Before navigator.serviceWorker.register\");\n\t        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t        _loglevel2.default.debug(\"After navigator.serviceWorker.register\");\n\t      }\n\t    });\n\t  },\n\t\n\t  _getSubdomainState: function _getSubdomainState(callback) {\n\t    var state = {};\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var userIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      callback({\n\t        userId: userIdResult ? userIdResult.id : null,\n\t        registrationId: registrationIdResult ? registrationIdResult.id : null,\n\t        notifPermssion: Notification.permission,\n\t        subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n\t        isPushEnabled: Notification.permission == \"granted\" && userIdResult && registrationIdResult && (subscriptionResult && subscriptionResult.value || subscriptionResult == null)\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _initSaveState: function _initSaveState() {\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t    OneSignal._putDbValue(\"Ids\", { type: \"appId\", id: OneSignal._app_id });\n\t    OneSignal._putDbValue(\"Options\", { key: \"pageTitle\", value: document.title });\n\t  },\n\t\n\t  _supportsDirectPermission: function _supportsDirectPermission() {\n\t    return (0, _utils.isSupportedSafari)() || location.protocol == 'https:' || location.host.indexOf(\"localhost\") == 0 || location.host.indexOf(\"127.0.0.1\") == 0;\n\t  },\n\t\n\t  _sessionInit: function _sessionInit(options) {\n\t    _loglevel2.default.trace(\"Called OneSignal._sessionInit():\", options);\n\t    OneSignal._initSaveState();\n\t\n\t    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\t\n\t    // If HTTP or using subdomain mode\n\t    if (OneSignal._useHttpMode) {\n\t      if (options.fromRegisterFor) {\n\t        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n\t        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\t\n\t        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n\t        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\t        var childWidth = OneSignal._windowWidth;\n\t        var childHeight = OneSignal._windowHeight;\n\t\n\t        var left = thisWidth / 2 - childWidth / 2 + dualScreenLeft;\n\t        var top = thisHeight / 2 - childHeight / 2 + dualScreenTop;\n\t\n\t        _loglevel2.default.debug('Opening popup window.');\n\t        var message_localization_opts = OneSignal._initOptions['promptOptions'];\n\t        var message_localization_opts_str = '';\n\t        if (message_localization_opts) {\n\t          var message_localization_params = ['actionMessage', 'exampleNotificationTitleDesktop', 'exampleNotificationMessageDesktop', 'exampleNotificationTitleMobile', 'exampleNotificationMessageMobile', 'exampleNotificationCaption', 'acceptButtonText', 'cancelButtonText'];\n\t          for (var i = 0; i < message_localization_params.length; i++) {\n\t            var key = message_localization_params[i];\n\t            var value = message_localization_opts[key];\n\t            var encoded_value = encodeURIComponent(value);\n\t            if (value || value === '') {\n\t              message_localization_opts_str += '&' + key + '=' + encoded_value;\n\t            }\n\t          }\n\t        }\n\t        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\t\n\t        if (childWindow) childWindow.focus();\n\t      } else {\n\t        _loglevel2.default.debug('Opening iFrame.');\n\t        OneSignal._addSessionIframe(hostPageProtocol);\n\t      }\n\t    } else {\n\t      if ((0, _utils.isSupportedSafari)()) {\n\t        if (OneSignal._initOptions.safari_web_id) {\n\t          var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t          window.safari.pushNotification.requestPermission(OneSignal._HOST_URL + 'safari', OneSignal._initOptions.safari_web_id, { app_id: OneSignal._app_id }, function (data) {\n\t            _loglevel2.default.debug(data);\n\t            var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t            if (data.deviceToken) {\n\t              OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n\t            } else {\n\t              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t            }\n\t            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t          });\n\t        }\n\t      } else if (options.modalPrompt && options.fromRegisterFor) {\n\t        // If HTTPS - Show modal\n\t        if (!(0, _utils.isPushNotificationsSupported)()) {\n\t          _loglevel2.default.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n\t          return;\n\t        }\n\t        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n\t          var element = document.createElement('div');\n\t          element.setAttribute('id', 'OneSignal-iframe-modal');\n\t          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block\"></div>';\n\t          document.body.appendChild(element);\n\t\n\t          var iframeStyle = document.createElement('style');\n\t          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\" + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n\t          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\t\n\t          var iframeNode = document.createElement(\"iframe\");\n\t          iframeNode.className = \"OneSignal-permission-iframe\";\n\t          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n\t          iframeNode.src = OneSignal._initOneSignalHttp + '?id=' + OneSignal._app_id + '&httpsPrompt=true' + '&pushEnabled=' + pushEnabled + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\") + '&hostPageProtocol=' + hostPageProtocol;\n\t          iframeNode.setAttribute('frameborder', '0');\n\t          iframeNode.width = OneSignal._windowWidth.toString();\n\t          iframeNode.height = OneSignal._windowHeight.toString();\n\t\n\t          _loglevel2.default.debug('Opening HTTPS modal prompt.');\n\t          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n\t        });\n\t      } else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n\t        OneSignal._registerForW3CPush(options);else _loglevel2.default.debug('Service workers are not supported in this browser.');\n\t\n\t      (0, _events.triggerEvent)('onesignal.sdk.initialized');\n\t    }\n\t  },\n\t\n\t  _registerForW3CPush: function _registerForW3CPush(options) {\n\t\n\t    OneSignal._getDbValue('Ids', 'registrationId').then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n\t      if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n\t        navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n\t          var sw_path = \"\";\n\t\n\t          if (OneSignal._initOptions.path) sw_path = OneSignal._initOptions.path;\n\t\n\t          if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n\t            OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);else {\n\t            if (serviceWorkerRegistration.active) {\n\t              if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\t\n\t                OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              } else if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\t\n\t                OneSignal._getDbValue('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              }\n\t            } else if (serviceWorkerRegistration.installing == null) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _registerServiceWorker: function _registerServiceWorker(full_sw_and_path) {\n\t    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t  },\n\t\n\t  _addSessionIframe: function _addSessionIframe(hostPageProtocol) {\n\t\n\t    var node = document.createElement(\"iframe\");\n\t    node.style.display = \"none\";\n\t    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n\t    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")) node.src += \"?session=true\" + \"&hostPageProtocol=\" + hostPageProtocol;else node.src += \"?hostPageProtocol=\" + hostPageProtocol;\n\t    document.body.appendChild(node);\n\t    _loglevel2.default.trace('Adding session iFrame.');\n\t\n\t    OneSignal._sessionIframeAdded = true;\n\t  },\n\t\n\t  _registerError: function _registerError(err) {\n\t    _loglevel2.default.error(\"ServiceWorker registration\", err);\n\t  },\n\t\n\t  _enableNotifications: function _enableNotifications(existingServiceWorkerRegistration) {\n\t    // is ServiceWorkerRegistration type\n\t    if (existingServiceWorkerRegistration) _loglevel2.default.debug('There is an older ServiceWorker:', existingServiceWorkerRegistration);\n\t    if (!('PushManager' in window)) {\n\t      _loglevel2.default.debug(\"Push messaging is not supported. No PushManager.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n\t      _loglevel2.default.debug(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (Notification.permission === 'denied') {\n\t      _loglevel2.default.warn(\"The user has disabled notifications.\");\n\t      return;\n\t    }\n\t\n\t    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n\t      _loglevel2.default.info('Service worker active:', serviceWorkerRegistration);\n\t\n\t      OneSignal._subscribeForPush(serviceWorkerRegistration);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  /*\n\t   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n\t   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n\t   */\n\t  _getNotificationPermission: function _getNotificationPermission(safariWebId) {\n\t    if (window.safari) {\n\t      // The user is on Safari\n\t      // A web ID is required to determine the current notificiation permission\n\t      if (safariWebId) {\n\t        return window.safari.pushNotification.permission(safariWebId).permission;\n\t      } else {\n\t        // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n\t        return \"default\";\n\t      }\n\t    } else {\n\t      // Identical API on Firefox and Chrome\n\t      return Notification.permission;\n\t    }\n\t  },\n\t\n\t  _triggerEvent_customPromptClicked: function _triggerEvent_customPromptClicked(clickResult) {\n\t    var recentPermissions = _limitStore2.default.put('notification.permission', clickResult);\n\t    (0, _events.triggerEvent)('onesignal.prompt.custom.clicked', {\n\t      result: clickResult\n\t    });\n\t  },\n\t\n\t  _triggerEvent_nativePromptPermissionChanged: function _triggerEvent_nativePromptPermissionChanged(from, to) {\n\t    if (to === undefined) {\n\t      to = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t    }\n\t    if (from !== to) {\n\t      var recentPermissions = _limitStore2.default.put('notification.permission', to);\n\t      (0, _events.triggerEvent)('onesignal.prompt.native.permissionchanged', {\n\t        from: from,\n\t        to: to\n\t      });\n\t    }\n\t  },\n\t\n\t  _triggerEvent_subscriptionChanged: function _triggerEvent_subscriptionChanged(to) {\n\t    (0, _events.triggerEvent)('onesignal.subscription.changed', to);\n\t  },\n\t\n\t  _triggerEvent_dbValueRetrieved: function _triggerEvent_dbValueRetrieved(value) {\n\t    (0, _events.triggerEvent)('onesignal.db.valueretrieved', value);\n\t  },\n\t\n\t  _triggerEvent_dbValueSet: function _triggerEvent_dbValueSet(value) {\n\t    (0, _events.triggerEvent)('onesignal.db.valueset', value);\n\t  },\n\t\n\t  _triggerEvent_internalSubscriptionSet: function _triggerEvent_internalSubscriptionSet(value) {\n\t    (0, _events.triggerEvent)('onesignal.internal.subscriptionset', value);\n\t  },\n\t\n\t  _subscribeForPush: function _subscribeForPush(serviceWorkerRegistration) {\n\t    var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t    serviceWorkerRegistration.pushManager.subscribe({ userVisibleOnly: true }).then(function (subscription) {\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      OneSignal._getDbValue('Ids', 'appId').then(function _subscribeForPush_GotAppId(appIdResult) {\n\t        var appId = appIdResult.id;\n\t        _loglevel2.default.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\t\n\t        var registrationId = null;\n\t        if (subscription) {\n\t          if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n\t            registrationId = subscription.subscriptionId;else // Chrome 44+ and FireFox\n\t            registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n\t        } else _loglevel2.default.warn('Could not subscribe your browser for push notifications.');\n\t\n\t        OneSignal._registerWithOneSignal(appId, registrationId, (0, _utils.isSupportedFireFox)() ? 8 : 5);\n\t\n\t        if (!OneSignal._usingNativePermissionHook) {\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('Error while subscribing for push:', e);\n\t\n\t      if (!OneSignal._usingNativePermissionHook) OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t\n\t      if (e.code == 20 && opener && OneSignal._httpRegistration) window.close();\n\t    });\n\t  },\n\t\n\t  sendTag: function sendTag(key, value) {\n\t    var jsonKeyValue = {};\n\t    jsonKeyValue[key] = value;\n\t    OneSignal.sendTags(jsonKeyValue);\n\t  },\n\t\n\t  sendTags: function sendTags(jsonPair) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function sendTags_GotUserId(userIdResult) {\n\t      if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t        app_id: OneSignal._app_id,\n\t        tags: jsonPair\n\t      });else {\n\t        if (OneSignal._tagsToSendOnRegister == null) OneSignal._tagsToSendOnRegister = jsonPair;else {\n\t          var resultObj = {};\n\t          for (var _obj in OneSignal._tagsToSendOnRegister) {\n\t            resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n\t          }for (var _obj in jsonPair) {\n\t            resultObj[_obj] = jsonPair[_obj];\n\t          }OneSignal._tagsToSendOnRegister = resultObj;\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('sendTags:', e);\n\t    });\n\t  },\n\t\n\t  deleteTag: function deleteTag(key) {\n\t    OneSignal.deleteTags([key]);\n\t  },\n\t\n\t  deleteTags: function deleteTags(keyArray) {\n\t    var jsonPair = {};\n\t    var length = keyArray.length;\n\t    for (var i = 0; i < length; i++) {\n\t      jsonPair[keyArray[i]] = \"\";\n\t    }OneSignal.sendTags(jsonPair);\n\t  },\n\t\n\t  _handleNotificationOpened: function _handleNotificationOpened(event) {\n\t    var notificationData = JSON.parse(event.notification.tag);\n\t    event.notification.close();\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'userId')]).then(function _handleNotificationOpened_GotAppUserIds(results) {\n\t      var appIdResult = results[0];\n\t      var userIdResult = results[1];\n\t      if (appIdResult && userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n\t          app_id: appIdResult.id,\n\t          player_id: userIdResult.id,\n\t          opened: true\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t\n\t    event.waitUntil(clients.matchAll({ type: \"window\" }).then(function (clientList) {\n\t      var launchURL = registration.scope;\n\t      if (OneSignal._defaultLaunchURL) launchURL = OneSignal._defaultLaunchURL;\n\t      if (notificationData.launchURL) launchURL = notificationData.launchURL;\n\t\n\t      for (var i = 0; i < clientList.length; i++) {\n\t        var client = clientList[i];\n\t        if ('focus' in client && client.url == launchURL) {\n\t          client.focus();\n\t\n\t          // targetOrigin not valid here as the service worker owns the page.\n\t          client.postMessage(notificationData);\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n\t        OneSignal._putDbValue(\"NotificationOpened\", { url: launchURL, data: notificationData });\n\t        clients.openWindow(launchURL).catch(function (error) {\n\t          // Should only fall into here if going to an external URL on Chrome older than 43.\n\t          clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    }));\n\t  },\n\t\n\t  _getTitle: function _getTitle(incomingTitle, callback) {\n\t    if (incomingTitle != null) {\n\t      callback(incomingTitle);\n\t      return;\n\t    }\n\t\n\t    Promise.all([OneSignal._getDbValue('Options', 'defaultTitle'), OneSignal._getDbValue('Options', 'pageTitle')]).then(function _getTitle_GotDefaultPageTitles(results) {\n\t      var defaultTitleResult = results[0];\n\t      var pageTitleResult = results[1];\n\t\n\t      if (defaultTitleResult) {\n\t        callback(defaultTitleResult.value);\n\t        return;\n\t      } else if (pageTitleResult && pageTitleResult.value != null) {\n\t        callback(pageTitleResult.value);\n\t        return;\n\t      } else {\n\t        callback('');\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  // Displays notification from content received from OneSignal.\n\t  // This method is only called by ServiceWorker\n\t  _handleGCMMessage: function _handleGCMMessage(serviceWorker, event) {\n\t    // TODO: Read data from the GCM payload when Chrome no longer requires the below command line parameter.\n\t    // --enable-push-message-payload\n\t    // The command line param is required even on Chrome 43 nightly build 2015/03/17.\n\t    if (event.data && event.data.text()[0] == \"{\") {\n\t      _loglevel2.default.debug('Received data.text: ', event.data.text());\n\t      _loglevel2.default.debug('Received data.json: ', event.data.json());\n\t    }\n\t\n\t    event.waitUntil(new Promise(function (resolve, reject) {\n\t      OneSignal._getTitle(null, function (title) {\n\t        OneSignal._getDbValue('Options', 'defaultIcon').then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult) {\n\t          OneSignal._getLastNotifications(function (response, appId) {\n\t            var notificationData = {\n\t              id: response.custom.i,\n\t              message: response.alert,\n\t              additionalData: response.custom.a\n\t            };\n\t\n\t            if (response.title) notificationData.title = response.title;else notificationData.title = title;\n\t\n\t            if (response.custom.u) notificationData.launchURL = response.custom.u;\n\t\n\t            if (response.icon) notificationData.icon = response.icon;else if (defaultIconResult) notificationData.icon = defaultIconResult.value;\n\t\n\t            // Never nest the following line in a callback from the point of entering from _getLastNotifications\n\t            serviceWorker.registration.showNotification(notificationData.title, {\n\t              body: response.alert,\n\t              icon: notificationData.icon,\n\t              tag: JSON.stringify(notificationData)\n\t            }).then(resolve).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t\n\t            OneSignal._getDbValue('Options', 'defaultUrl').then(function (defaultUrlResult) {\n\t              if (defaultUrlResult) OneSignal._defaultLaunchURL = defaultUrlResult.value;\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t            ;\n\t          }, resolve);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      });\n\t    }));\n\t  },\n\t\n\t  _getLastNotifications: function _getLastNotifications(itemCallback, completeCallback) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function _getLastNotifications_GotUserId(userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\", null, function (response) {\n\t          for (var i = 0; i < response.length; i++) {\n\t            itemCallback(JSON.parse(response[i]));\n\t          }\n\t        }, function () {\n\t          completeCallback();\n\t        }); // Failed callback\n\t      } else {\n\t          _loglevel2.default.debug(\"Error: could not get notificationId\");\n\t          completeCallback();\n\t        }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n\t  _listener_receiveMessage: function receiveMessage(event) {\n\t    _loglevel2.default.debug(\"_listener_receiveMessage: \", event);\n\t\n\t    if (OneSignal._initOptions == undefined) return;\n\t\n\t    if (!(false) && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\") return;\n\t\n\t    if (event.data.oneSignalInitPageReady) {\n\t      // Only called on HTTP pages.\n\t      var eventData = event.data.oneSignalInitPageReady;\n\t\n\t      if (eventData.isIframe) {\n\t        OneSignal._iframePort = event.ports[0];\n\t      }\n\t\n\t      if (eventData.userId) OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: eventData.userId });\n\t      if (eventData.registrationId) OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: eventData.registrationId });\n\t\n\t      debugger;\n\t      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n\t      OneSignal._sendUnsentTags();\n\t\n\t      OneSignal._getDbValues(\"Options\").then(function _listener_receiveMessage(options) {\n\t        _loglevel2.default.debug(\"current options\", options);\n\t        if (!options.defaultUrl) options.defaultUrl = document.URL;\n\t        if (!options.defaultTitle) options.defaultTitle = document.title;\n\t\n\t        options.parent_url = document.URL;\n\t        _loglevel2.default.debug(\"Posting message to port[0]\", event.ports[0]);\n\t        event.ports[0].postMessage({ initOptions: options });\n\t\n\t        // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n\t        (0, _events.triggerEvent)('onesignal.sdk.initialized');\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error('_listener_receiveMessage:', e);\n\t      });\n\t    } else if (event.data.currentNotificationPermission) // Subdomain Only\n\t      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);else if (event.data.idsAvailable) {\n\t      // Only called on HTTP pages.\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: event.data.idsAvailable.userId });\n\t      OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: event.data.idsAvailable.registrationId });\n\t\n\t      if (OneSignal._idsAvailable_callback.length > 0) {\n\t        while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({\n\t            userId: event.data.idsAvailable.userId,\n\t            registrationId: event.data.idsAvailable.registrationId\n\t          });\n\t        }\n\t      }\n\t      OneSignal._sendUnsentTags();\n\t    } else if (event.data.httpsPromptAccepted) {\n\t      // HTTPS Only\n\t      OneSignal.registerForPushNotifications();\n\t      OneSignal.setSubscription(true);\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpsPromptCanceled) {\n\t      // HTTPS Only\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpPromptAccepted) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpPromptCanceled) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (OneSignal._notificationOpened_callback) // HTTP and HTTPS\n\t      OneSignal._notificationOpened_callback(event.data);\n\t  },\n\t\n\t  addListenerForNotificationOpened: function addListenerForNotificationOpened(callback) {\n\t    OneSignal._notificationOpened_callback = callback;\n\t    if (window) {\n\t      OneSignal._getDbValue(\"NotificationOpened\", document.URL).then(function (notificationOpenedResult) {\n\t        if (notificationOpenedResult) {\n\t          OneSignal._deleteDbValue(\"NotificationOpened\", document.URL);\n\t          OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  // Subdomain - Fired from message received from iframe.\n\t  _fireNotificationEnabledCallback: function _fireNotificationEnabledCallback(notifPermssion) {\n\t    if (OneSignal._isNotificationEnabledCallback) {\n\t      OneSignal._isNotificationEnabledCallback(notifPermssion);\n\t      OneSignal._isNotificationEnabledCallback = null;\n\t    }\n\t  },\n\t\n\t  getIdsAvailable: function getIdsAvailable(callback) {\n\t    if (callback === undefined) return;\n\t\n\t    OneSignal._idsAvailable_callback.push(callback);\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId')]).then(function getIdsAvailable_GotUserRegistrationIds(results) {\n\t      var userIdResult = results[0];\n\t      var registrationIdResult = results[1];\n\t\n\t      if (userIdResult) {\n\t        if (registrationIdResult) {\n\t          while (OneSignal._idsAvailable_callback.length > 0) {\n\t            var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t            curr_callback({\n\t              userId: userIdResult.id,\n\t              registrationId: registrationIdResult.id\n\t            });\n\t          }\n\t        } else while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({ userId: userIdResult.id, registrationId: null });\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  getTags: function getTags(callback) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function (userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n\t          callback(response.tags);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  isPushNotificationsEnabled: function isPushNotificationsEnabled(callback) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    // If Subdomain\n\t    if (OneSignal._initOptions.subdomainName && !(0, _utils.isBrowserSafari)()) {\n\t      OneSignal._isNotificationEnabledCallback = callback;\n\t      if (OneSignal._iframePort) {\n\t        debugger;\n\t        OneSignal._iframePort.postMessage({ getNotificationPermission: true });\n\t      }\n\t      return;\n\t    }\n\t\n\t    // If HTTPS\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function (results) {\n\t      var registrationIdResult = results[0];\n\t      var subscriptionResult = results[1];\n\t\n\t      if (registrationIdResult) {\n\t        if (subscriptionResult && !subscriptionResult.value) return callback(false);\n\t\n\t        callback(Notification.permission == \"granted\");\n\t      } else callback(false);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _getNotificationTypes: function _getNotificationTypes(callback) {\n\t    OneSignal._getSubscription(function (db_subscriptionSet) {\n\t      callback(db_subscriptionSet ? 1 : -2);\n\t    });\n\t  },\n\t\n\t  setSubscription: function setSubscription(newSubscription) {\n\t    if (OneSignal._iframePort) OneSignal._iframePort.postMessage({ setSubdomainState: { setSubscription: newSubscription } });else {\n\t      OneSignal._getSubscription(function (currentSubscription) {\n\t        if (currentSubscription != newSubscription) {\n\t          OneSignal._putDbValue(\"Options\", { key: \"subscription\", value: newSubscription });\n\t          OneSignal._getDbValue('Ids', 'userId').then(function (userIdResult) {\n\t            if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t              app_id: OneSignal._app_id,\n\t              notification_types: newSubscription ? 1 : -2\n\t            }, function setSubscriptionSetCallback() {\n\t              OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n\t            });\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        }\n\t      });\n\t    }\n\t  },\n\t\n\t  _getSubscription: function _getSubscription(callback) {\n\t    OneSignal._getDbValue('Options', 'subscription').then(function (subscriptionResult) {\n\t      callback(!(subscriptionResult && subscriptionResult.value == false));\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _safePostMessage: function _safePostMessage(creator, data, targetOrigin, receiver) {\n\t    var tOrigin = targetOrigin.toLowerCase();\n\t\n\t    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n\t    if (tOrigin.startsWith(\"http://\")) {\n\t      var queryDict = {};\n\t      location.search.substr(1).split(\"&\").forEach(function (item) {\n\t        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1];\n\t      });\n\t      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n\t      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n\t    }\n\t\n\t    if (receiver) creator.postMessage(data, tOrigin, receiver);else creator.postMessage(data, tOrigin);\n\t  },\n\t\n\t  _process_pushes: function _process_pushes(array) {\n\t    for (var i = 0; i < array.length; i++) {\n\t      OneSignal.push(array[i]);\n\t    }\n\t  },\n\t\n\t  push: function push(item) {\n\t    if (typeof item == \"function\") item();else {\n\t      var functionName = item.shift();\n\t      OneSignal[functionName].apply(null, item);\n\t    }\n\t  }\n\t};\n\t\n\t// If imported on your page.\n\tif (typeof window !== \"undefined\") window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);else {\n\t  // if imported from the service worker.\n\t  importScripts('https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js');\n\t\n\t  self.addEventListener('push', function (event) {\n\t    OneSignal._handleGCMMessage(self, event); // Can handle messages from any browser (except Safari), rename method\n\t  });\n\t  self.addEventListener('notificationclick', function (event) {\n\t    // Also only by SW\n\t    OneSignal._handleNotificationOpened(event);\n\t  });\n\t\n\t  var isSWonSubdomain = location.href.match(/https\\:\\/\\/.*\\.onesignal.com\\/sdks\\//) != null;\n\t  if (false) isSWonSubdomain = true;\n\t\n\t  self.addEventListener('install', function (event) {\n\t    _loglevel2.default.debug(\"OneSignal Installed service worker \" + self.location.pathname + \":\" + OneSignal._VERSION);\n\t    if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1) OneSignal._putDbValue(\"Ids\", { type: \"WORKER1_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION });else OneSignal._putDbValue(\"Ids\", { type: \"WORKER2_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION });\n\t\n\t    if (isSWonSubdomain) {\n\t      event.waitUntil(caches.open(\"OneSignal_\" + OneSignal._VERSION).then(function (cache) {\n\t        return cache.addAll(['/sdks/initOneSignalHttpIframe', '/sdks/initOneSignalHttpIframe?session=*', '/sdks/manifest_json']);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      }));\n\t    }\n\t  });\n\t\n\t  if (isSWonSubdomain) {\n\t    self.addEventListener('fetch', function (event) {\n\t      event.respondWith(caches.match(event.request).then(function (response) {\n\t        // Cache hit - return response\n\t        if (response) return response;\n\t\n\t        return fetch(event.request);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      }));\n\t    });\n\t  }\n\t}\n\t\n\tmodule.exports = OneSignal;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t(function() {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t      list = []\n\t      this.map[name] = list\n\t    }\n\t    list.push(value)\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t  }\n\t\n\t  Headers.prototype.getAll = function(name) {\n\t    return this.map[normalizeName(name)] || []\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n\t      this.map[name].forEach(function(value) {\n\t        callback.call(thisArg, value, name, this)\n\t      }, this)\n\t    }, this)\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  var support = {\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob();\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (!body) {\n\t        this._bodyText = ''\n\t      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n\t        // Only support ArrayBuffers for POST method.\n\t        // Receiving ArrayBuffers happens via Blobs, instead.\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        return this.blob().then(readBlobAsArrayBuffer)\n\t      }\n\t\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text')\n\t        } else {\n\t          return Promise.resolve(this._bodyText)\n\t        }\n\t      }\n\t    } else {\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        return rejected ? rejected : Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t    if (Request.prototype.isPrototypeOf(input)) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = input\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this)\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function headers(xhr) {\n\t    var head = new Headers()\n\t    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n\t    pairs.forEach(function(header) {\n\t      var split = header.trim().split(':')\n\t      var key = split.shift().trim()\n\t      var value = split.join(':').trim()\n\t      head.append(key, value)\n\t    })\n\t    return head\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this._initBody(bodyInit)\n\t    this.type = 'default'\n\t    this.status = options.status\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n\t    this.url = options.url || ''\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request\n\t      if (Request.prototype.isPrototypeOf(input) && !init) {\n\t        request = input\n\t      } else {\n\t        request = new Request(input, init)\n\t      }\n\t\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL\n\t        }\n\t\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL')\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      xhr.onload = function() {\n\t        var status = (xhr.status === 1223) ? 204 : xhr.status\n\t        if (status < 100 || status > 599) {\n\t          reject(new TypeError('Network request failed'))\n\t          return\n\t        }\n\t        var options = {\n\t          status: status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        }\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})();\n\t\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = global.fetch\n\t}.call(global));\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.HOST_URL = exports.PROD_HOST = exports.DEV_HOST = undefined;\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar DEV_HOST = exports.DEV_HOST = 'http://192.168.1.206:3000';\n\tvar PROD_HOST = exports.PROD_HOST = 'https://onesignal.com';\n\tvar HOST_URL = exports.HOST_URL = ((0, _utils.isDev)() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.isArray = isArray;\n\texports.getHumanizedTimeDuration = getHumanizedTimeDuration;\n\texports.isBrowserEnv = isBrowserEnv;\n\texports.isDev = isDev;\n\texports.isPushNotificationsSupported = isPushNotificationsSupported;\n\texports.isBrowserSafari = isBrowserSafari;\n\texports.isSupportedFireFox = isSupportedFireFox;\n\texports.isBrowserFirefox = isBrowserFirefox;\n\texports.getFirefoxVersion = getFirefoxVersion;\n\texports.isSupportedSafari = isSupportedSafari;\n\texports.removeDomElement = removeDomElement;\n\texports.addDomElement = addDomElement;\n\texports.clearDomElementChildren = clearDomElementChildren;\n\texports.addCssClass = addCssClass;\n\texports.removeCssClass = removeCssClass;\n\texports.on = on;\n\texports.once = once;\n\texports.off = off;\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction isArray(variable) {\n\t  return Object.prototype.toString.call(variable) === '[object Array]';\n\t}\n\t\n\tfunction getHumanizedTimeDuration(timeDurationInMilliseconds) {\n\t  function addPluralSuffix(number) {\n\t    return number > 1 ? 's' : '';\n\t  }\n\t  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\t\n\t  var years = Math.floor(duration / 31536000);\n\t  if (years) return years + ' year' + addPluralSuffix(years);\n\t\n\t  var days = Math.floor((duration %= 31536000) / 86400);\n\t  if (days) return days + ' day' + addPluralSuffix(days);\n\t\n\t  var hours = Math.floor((duration %= 86400) / 3600);\n\t  if (hours) return hours + ' hour' + addPluralSuffix(hours);\n\t\n\t  var minutes = Math.floor((duration %= 3600) / 60);\n\t  if (minutes) return minutes + ' minute' + addPluralSuffix(minutes);\n\t\n\t  var seconds = duration % 60;\n\t  if (seconds) return seconds + ' second' + addPluralSuffix(seconds);\n\t\n\t  return 'just now';\n\t}\n\t\n\tfunction isBrowserEnv() {\n\t  return typeof window !== \"undefined\";\n\t}\n\t\n\tfunction isDev() {\n\t  return (false);\n\t}\n\t\n\tfunction isPushNotificationsSupported() {\n\t  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\t\n\t  if (isSupportedFireFox()) return true;\n\t\n\t  if (isSupportedSafari()) return true;\n\t\n\t  // Chrome is not found in appVersion.\n\t  if (!chromeVersion) return false;\n\t\n\t  // Microsoft Edge\n\t  if (navigator.appVersion.match(/Edge/)) return false;\n\t\n\t  // Android Chrome WebView\n\t  if (navigator.appVersion.match(/ wv/)) return false;\n\t\n\t  // Opera\n\t  if (navigator.appVersion.match(/OPR\\//)) return false;\n\t\n\t  // The user is on iOS\n\t  if (/iPad|iPhone|iPod/.test(navigator.platform)) return false;\n\t\n\t  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n\t}\n\t\n\tfunction isBrowserSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  return safariVersion != null;\n\t}\n\t\n\tfunction isSupportedFireFox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n\t  return false;\n\t}\n\t\n\tfunction isBrowserFirefox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  return fireFoxVersion != null;\n\t}\n\t\n\tfunction getFirefoxVersion() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2));else return -1;\n\t}\n\t\n\tfunction isSupportedSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  if (safariVersion == null) return false;\n\t  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) return false;\n\t  return parseInt(safariVersion[1]) > 6;\n\t}\n\t\n\tfunction removeDomElement(selector) {\n\t  var els = document.querySelectorAll(selector);\n\t  if (els.length > 0) {\n\t    for (var i = 0; i < els.length; i++) {\n\t      els[i].parentNode.removeChild(els[i]);\n\t    }\n\t  }\n\t}\n\t\n\tfunction addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction clearDomElementChildren(targetSelectorOrElement) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var element = document.querySelector(targetSelectorOrElement);\n\t    while (element.firstChild) {\n\t      element.removeChild(element.firstChild);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    while (targetSelectorOrElement.firstChild) {\n\t      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n\t    }\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction addCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction removeCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction on(targetSelectorOrElement, event, task) {\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  _loglevel2.default.debug('Debug me here.');\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        on(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      on(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.addEventListener(event, task);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction once(targetSelectorOrElement, event, task) {\n\t  var manualDestroy = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        once(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      once(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    var taskWrapper = (function () {\n\t      var internalTaskFunction = function internalTaskFunction(e) {\n\t        var destroyEventListener = function destroyEventListener() {\n\t          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n\t        };\n\t        if (!manualDestroy) {\n\t          destroyEventListener();\n\t        }\n\t        task(e, destroyEventListener);\n\t      };\n\t      return internalTaskFunction;\n\t    })();\n\t    targetSelectorOrElement.addEventListener(event, taskWrapper);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\t/**\n\t * Removes event handler from selector.\n\t * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n\t * @param event The event to target (e.g. 'transitionend')\n\t * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n\t */\n\tfunction off(targetSelectorOrElement, event, task) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        off(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      off(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    if (task) targetSelectorOrElement.removeEventListener(event, task);else targetSelectorOrElement.removeEventListener(event);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n\t* loglevel - https://github.com/pimterry/loglevel\r\n\t*\r\n\t* Copyright (c) 2013 Tim Perry\r\n\t* Licensed under the MIT license.\r\n\t*/\r\n\t(function (root, definition) {\r\n\t    \"use strict\";\r\n\t    if (typeof module === 'object' && module.exports && \"function\" === 'function') {\r\n\t        module.exports = definition();\r\n\t    } else if (true) {\r\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else {\r\n\t        root.log = definition();\r\n\t    }\r\n\t}(this, function () {\r\n\t    \"use strict\";\r\n\t    var noop = function() {};\r\n\t    var undefinedType = \"undefined\";\r\n\t\r\n\t    function realMethod(methodName) {\r\n\t        if (typeof console === undefinedType) {\r\n\t            return false; // We can't build a real method without a console to log to\r\n\t        } else if (console[methodName] !== undefined) {\r\n\t            return bindMethod(console, methodName);\r\n\t        } else if (console.log !== undefined) {\r\n\t            return bindMethod(console, 'log');\r\n\t        } else {\r\n\t            return noop;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function bindMethod(obj, methodName) {\r\n\t        var method = obj[methodName];\r\n\t        if (typeof method.bind === 'function') {\r\n\t            return method.bind(obj);\r\n\t        } else {\r\n\t            try {\r\n\t                return Function.prototype.bind.call(method, obj);\r\n\t            } catch (e) {\r\n\t                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n\t                return function() {\r\n\t                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n\t                };\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    // these private functions always need `this` to be set properly\r\n\t\r\n\t    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n\t        return function () {\r\n\t            if (typeof console !== undefinedType) {\r\n\t                replaceLoggingMethods.call(this, level, loggerName);\r\n\t                this[methodName].apply(this, arguments);\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function replaceLoggingMethods(level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        for (var i = 0; i < logMethods.length; i++) {\r\n\t            var methodName = logMethods[i];\r\n\t            this[methodName] = (i < level) ?\r\n\t                noop :\r\n\t                this.methodFactory(methodName, level, loggerName);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function defaultMethodFactory(methodName, level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        return realMethod(methodName) ||\r\n\t               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n\t    }\r\n\t\r\n\t    var logMethods = [\r\n\t        \"trace\",\r\n\t        \"debug\",\r\n\t        \"info\",\r\n\t        \"warn\",\r\n\t        \"error\"\r\n\t    ];\r\n\t\r\n\t    function Logger(name, defaultLevel, factory) {\r\n\t      var self = this;\r\n\t      var currentLevel;\r\n\t      var storageKey = \"loglevel\";\r\n\t      if (name) {\r\n\t        storageKey += \":\" + name;\r\n\t      }\r\n\t\r\n\t      function persistLevelIfPossible(levelNum) {\r\n\t          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\t\r\n\t          // Use localStorage if available\r\n\t          try {\r\n\t              window.localStorage[storageKey] = levelName;\r\n\t              return;\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          // Use session cookie as fallback\r\n\t          try {\r\n\t              window.document.cookie =\r\n\t                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n\t          } catch (ignore) {}\r\n\t      }\r\n\t\r\n\t      function getPersistedLevel() {\r\n\t          var storedLevel;\r\n\t\r\n\t          try {\r\n\t              storedLevel = window.localStorage[storageKey];\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          if (typeof storedLevel === undefinedType) {\r\n\t              try {\r\n\t                  var cookie = window.document.cookie;\r\n\t                  var location = cookie.indexOf(\r\n\t                      encodeURIComponent(storageKey) + \"=\");\r\n\t                  if (location) {\r\n\t                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n\t                  }\r\n\t              } catch (ignore) {}\r\n\t          }\r\n\t\r\n\t          // If the stored level is not valid, treat it as if nothing was stored.\r\n\t          if (self.levels[storedLevel] === undefined) {\r\n\t              storedLevel = undefined;\r\n\t          }\r\n\t\r\n\t          return storedLevel;\r\n\t      }\r\n\t\r\n\t      /*\r\n\t       *\r\n\t       * Public API\r\n\t       *\r\n\t       */\r\n\t\r\n\t      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n\t          \"ERROR\": 4, \"SILENT\": 5};\r\n\t\r\n\t      self.methodFactory = factory || defaultMethodFactory;\r\n\t\r\n\t      self.getLevel = function () {\r\n\t          return currentLevel;\r\n\t      };\r\n\t\r\n\t      self.setLevel = function (level, persist) {\r\n\t          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n\t              level = self.levels[level.toUpperCase()];\r\n\t          }\r\n\t          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n\t              currentLevel = level;\r\n\t              if (persist !== false) {  // defaults to true\r\n\t                  persistLevelIfPossible(level);\r\n\t              }\r\n\t              replaceLoggingMethods.call(self, level, name);\r\n\t              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n\t                  return \"No console available for logging\";\r\n\t              }\r\n\t          } else {\r\n\t              throw \"log.setLevel() called with invalid level: \" + level;\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.setDefaultLevel = function (level) {\r\n\t          if (!getPersistedLevel()) {\r\n\t              self.setLevel(level, false);\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.enableAll = function(persist) {\r\n\t          self.setLevel(self.levels.TRACE, persist);\r\n\t      };\r\n\t\r\n\t      self.disableAll = function(persist) {\r\n\t          self.setLevel(self.levels.SILENT, persist);\r\n\t      };\r\n\t\r\n\t      // Initialize with the right level\r\n\t      var initialLevel = getPersistedLevel();\r\n\t      if (initialLevel == null) {\r\n\t          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n\t      }\r\n\t      self.setLevel(initialLevel, false);\r\n\t    }\r\n\t\r\n\t    /*\r\n\t     *\r\n\t     * Package-level API\r\n\t     *\r\n\t     */\r\n\t\r\n\t    var defaultLogger = new Logger();\r\n\t\r\n\t    var _loggersByName = {};\r\n\t    defaultLogger.getLogger = function getLogger(name) {\r\n\t        if (typeof name !== \"string\" || name === \"\") {\r\n\t          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n\t        }\r\n\t\r\n\t        var logger = _loggersByName[name];\r\n\t        if (!logger) {\r\n\t          logger = _loggersByName[name] = new Logger(\r\n\t            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n\t        }\r\n\t        return logger;\r\n\t    };\r\n\t\r\n\t    // Grab the current global log variable in case of overwrite\r\n\t    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n\t    defaultLogger.noConflict = function() {\r\n\t        if (typeof window !== undefinedType &&\r\n\t               window.log === defaultLogger) {\r\n\t            window.log = _log;\r\n\t        }\r\n\t\r\n\t        return defaultLogger;\r\n\t    };\r\n\t\r\n\t    return defaultLogger;\r\n\t}));\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.apiCall = apiCall;\n\texports.sendNotification = sendNotification;\n\t\n\tvar _vars = __webpack_require__(4);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction apiCall(action, method, data) {\n\t  var headers = new Headers();\n\t  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\t\n\t  var contents = {\n\t    method: method || 'NO_METHOD_SPECIFIED',\n\t    headers: headers,\n\t    cache: 'no-cache',\n\t    body: JSON.stringify(data)\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    fetch(_vars.HOST_URL + action, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) resolve(response.json());else reject(new Error(response.statusText));\n\t    }).catch(function (e) {\n\t      reject(e);\n\t    });\n\t  });\n\t}\n\t\n\tfunction sendNotification(appId, playerIds, titles, contents) {\n\t  var params = {\n\t    'app_id': appId,\n\t    'headings': titles,\n\t    'contents': contents,\n\t    'include_player_ids': playerIds,\n\t    'isAnyWeb': true,\n\t    'url': 'javascript:void(0);'\n\t  };\n\t  return apiCall('notifications', 'POST', params);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t LimitStore.put('colorado', 'rocky');\n\t [\"rocky\"]\n\t LimitStore.put('colorado', 'mountain');\n\t [\"rocky\", \"mountain\"]\n\t LimitStore.put('colorado', 'national');\n\t [\"mountain\", \"national\"]\n\t LimitStore.put('colorado', 'park');\n\t [\"national\", \"park\"]\n\t */\n\tfunction LimitStore() {}\n\t\n\tLimitStore.store = {};\n\tLimitStore.LIMIT = 2;\n\t\n\tLimitStore.put = function (key, value) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  LimitStore.store[key].push(value);\n\t  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n\t    LimitStore.store[key].shift();\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.get = function (key) {\n\t  return LimitStore.store[key];\n\t};\n\t\n\texports.default = LimitStore;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tif (typeof window !== \"undefined\") {\n\t  (function () {\n\t    function CustomEvent(event, params) {\n\t      params = params || { bubbles: false, cancelable: false, details: undefined };\n\t      var evt = document.createEvent('CustomEvent');\n\t      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.details);\n\t      return evt;\n\t    }\n\t\n\t    CustomEvent.prototype = window.Event.prototype;\n\t\n\t    window.CustomEvent = CustomEvent;\n\t  })();\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.triggerEvent = triggerEvent;\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction triggerEvent(eventName, data) {\n\t  if (typeof window === \"undefined\") {\n\t    _loglevel2.default.debug('Skipping triggering of event:', eventName, 'because we are running in a ServiceWorker context.');\n\t    return;\n\t  }\n\t  var event = new CustomEvent(eventName, {\n\t    bubbles: true, cancelable: true, details: data\n\t  });\n\t  window.dispatchEvent(event);\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar _limitStore = __webpack_require__(8);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tif ((0, _utils.isBrowserEnv)()) {\n\t  __webpack_require__(12);\n\t  var logoSvg = __webpack_require__(16);\n\t\n\t  /*\n\t    {\n\t      size = ['small', 'medium', 'large'],\n\t      position = 'bottom-left', 'bottom-right'],\n\t      offset = '15px 15px',\n\t      theme = ['red-white', 'white-red'],\n\t      inactiveOpacity: 0.75,\n\t      showLauncherAfter: 1000,\n\t      messages: {\n\t          'unsubscribed': 'Subscribe to notifications',\n\t          'subscribed': 'You're subscribed to notifications'\n\t        }\n\t    }\n\t   */\n\t\n\t  var Bell = (function () {\n\t    function Bell() {\n\t      var _this = this;\n\t\n\t      var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t      var _ref$size = _ref.size;\n\t      var size = _ref$size === undefined ? 'small' : _ref$size;\n\t      var _ref$position = _ref.position;\n\t      var position = _ref$position === undefined ? 'bottom-left' : _ref$position;\n\t      var _ref$theme = _ref.theme;\n\t      var theme = _ref$theme === undefined ? 'red-white' : _ref$theme;\n\t      var _ref$showLauncherAfte = _ref.showLauncherAfter;\n\t      var showLauncherAfter = _ref$showLauncherAfte === undefined ? 10 : _ref$showLauncherAfte;\n\t      var _ref$showBadgeAfter = _ref.showBadgeAfter;\n\t      var showBadgeAfter = _ref$showBadgeAfter === undefined ? 300 : _ref$showBadgeAfter;\n\t      var _ref$messages = _ref.messages;\n\t      var messages = _ref$messages === undefined ? {\n\t        'unsubscribed': 'Subscribe to notifications',\n\t        'subscribed': \"You're subscribed to notifications\"\n\t      } : _ref$messages;\n\t      var _ref$prenotify = _ref.prenotify;\n\t      var prenotify = _ref$prenotify === undefined ? true : _ref$prenotify;\n\t\n\t      _classCallCheck(this, Bell);\n\t\n\t      this.options = {\n\t        size: size,\n\t        position: position,\n\t        theme: theme,\n\t        showLauncherAfter: showLauncherAfter,\n\t        showBadgeAfter: showBadgeAfter,\n\t        messages: messages,\n\t        prenotify: prenotify\n\t      };\n\t      this.size = this.options.size;\n\t      this.position = this.options.position;\n\t      this.messages = this.options.messages;\n\t      this.messages.queued = [];\n\t      if (!this.messages.unsubscribed) {\n\t        this.messages.unsubscribed = 'Subscribe to notifications';\n\t      }\n\t      if (!this.messages.subscribed) {\n\t        this.messages.subscribed = \"You're subscribed to notifications\";\n\t      }\n\t      this.states = {\n\t        uninitialized: 'The bell is loading.',\n\t        subscribed: 'The user is subscribed',\n\t        unsubscribed: 'The user is unsubscribed',\n\t        blocked: 'The user has blocked us.'\n\t      };\n\t      this.state = 'uninitialized';\n\t\n\t      // Install event hooks\n\t      window.addEventListener('onesignal.bell.state.changed', function (state) {\n\t        _loglevel2.default.info('onesignal.bell.state.changed', state.detail);\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.click', function () {\n\t        var originalCall = function originalCall() {\n\t          _loglevel2.default.debug('Bell was clicked.');\n\t          var currentSetSubscriptionState = _this._getCurrentSetSubscriptionState();\n\t          _this.hideMessage();\n\t          if (_this.state === 'unsubscribed') {\n\t\n\t            //&& currentSetSubscriptionState === true\n\t            OneSignal.registerForPushNotifications();\n\t          } else {\n\t            if (!_this.isDialogOpened()) {\n\t              _this.showDialog().then(function (e) {\n\t                var self = _this;\n\t                (0, _utils.once)(document, 'click', function (e, destroyEventListener) {\n\t                  var wasDialogClicked = self.launcherDialog.contains(e.target);\n\t                  if (wasDialogClicked) {} else {\n\t                    destroyEventListener();\n\t                    self.hideDialog().then(function (e) {\n\t                      if (_this.wasInactive) {\n\t                        _this.setInactive(true);\n\t                        _this.wasInactive = undefined;\n\t                      }\n\t                    }).catch(function (e) {\n\t                      _loglevel2.default.error(e);\n\t                    });\n\t                  }\n\t                }, true);\n\t              }).catch(function (e) {\n\t                _loglevel2.default.error(e);\n\t              });\n\t            }\n\t          }\n\t        };\n\t        if (_this.isInactive()) {\n\t          _this.wasInactive = true;\n\t          _this.setInactive(false).then(function () {\n\t            originalCall();\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        } else {\n\t          originalCall();\n\t        }\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.hovering', function () {\n\t        if (_this.isInactive()) {\n\t          _this.wasInactive = true;\n\t          _this.setInactive(false);\n\t        }\n\t        // If there's already a message being force shown, do not override\n\t        if (_this.isMessageOpened() || _this.isDialogOpened()) {\n\t          console.debug('There is already a message being displayed; wait until it is hidden again.');\n\t          return;\n\t        }\n\t        if (messages.queued.length > 0) {\n\t          var dequeuedMessage = _this.dequeueMessage();\n\t          _this.setMessage(dequeuedMessage);\n\t        } else {\n\t          _this.setMessage(_this.messages[_this.state]);\n\t        }\n\t        _this.showMessage();\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.hovered', function () {\n\t        if (_this.isMessageOpened()) {\n\t          _this.hideMessage().then(function () {\n\t            _this.setMessage(_this.messages[_this.state]);\n\t            if (_this.wasInactive && !_this.isDialogOpened()) {\n\t              _this.setInactive(true);\n\t              _this.wasInactive = undefined;\n\t            }\n\t          });\n\t        }\n\t      });\n\t\n\t      window.addEventListener('onesignal.subscription.changed', function (e) {\n\t        _this.setState(e.detail ? 'subscribed' : 'unsubscribed');\n\t      });\n\t\n\t      window.addEventListener('onesignal.actions.welcomenotificationsent', function (e) {\n\t        _this.displayMessage(\"Thanks for subscribing!\", 2500).then(function () {\n\t          _this.setInactive(true);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      });\n\t\n\t      this.updateState();\n\t    }\n\t\n\t    _createClass(Bell, [{\n\t      key: 'create',\n\t      value: function create() {\n\t        var _this2 = this;\n\t\n\t        if (!(0, _utils.isPushNotificationsSupported)()) return;\n\t\n\t        // Remove any existing bell\n\t        if (this.container) {\n\t          (0, _utils.removeDomElement)('onesignal-bell-container');\n\t        }\n\t\n\t        window.addDomElement = _utils.addDomElement;\n\t        // Insert the bell container\n\t        (0, _utils.addDomElement)('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n\t        // Insert the bell launcher\n\t        (0, _utils.addDomElement)(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n\t        // Insert the bell launcher button\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n\t        // Insert the bell launcher badge\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n\t        // Insert the bell launcher message\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n\t        (0, _utils.addDomElement)(this.launcherMessage, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n\t        // Insert the bell launcher dialog\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n\t        (0, _utils.addDomElement)(this.launcherDialog, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\t\n\t        // Install events\n\t        this.launcherButton.addEventListener('mouseover', function () {\n\t          var isHoveringData = _limitStore2.default.get('bell.launcherButton.mouse', 'over');\n\t          if (isHoveringData === undefined || isHoveringData[isHoveringData.length - 1] === 'out') {\n\t            (0, _events.triggerEvent)('onesignal.bell.hovering');\n\t          }\n\t          _limitStore2.default.put('bell.launcherButton.mouse', 'over');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mouseleave', function () {\n\t          _limitStore2.default.put('bell.launcherButton.mouse', 'out');\n\t          (0, _events.triggerEvent)('onesignal.bell.hovered');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mousedown', function () {\n\t          (0, _utils.removeDomElement)('.pulse-ring');\n\t          (0, _utils.addDomElement)(_this2.launcherButton, 'beforeend', '<div class=\"pulse-ring\"></div>');\n\t          (0, _utils.addCssClass)(_this2.launcherButton, 'onesignal-bell-launcher-button-active');\n\t          (0, _utils.addCssClass)(_this2.launcherBadge, 'onesignal-bell-launcher-badge-active');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mouseup', function () {\n\t          (0, _utils.removeCssClass)(_this2.launcherButton, 'onesignal-bell-launcher-button-active');\n\t          (0, _utils.removeCssClass)(_this2.launcherBadge, 'onesignal-bell-launcher-badge-active');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('click', function () {\n\t          (0, _events.triggerEvent)('onesignal.bell.button.click');\n\t          (0, _events.triggerEvent)('onesignal.bell.click');\n\t        });\n\t\n\t        // Add visual elements\n\t        (0, _utils.addDomElement)(this.launcherButton, 'beforeEnd', logoSvg);\n\t\n\t        // Add default classes\n\t        this.setSize(this.options.size);\n\t\n\t        if (this.options.position === 'bottom-left') {\n\t          (0, _utils.addCssClass)(this.container, 'onesignal-bell-container-bottom-left');\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-bottom-left');\n\t        } else if (this.options.position === 'bottom-right') {\n\t          (0, _utils.addCssClass)(this.container, 'onesignal-bell-container-bottom-right');\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-bottom-right');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell position ' + this.options.position);\n\t        }\n\t\n\t        if (this.options.theme === 'default') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-theme-default');\n\t        } else if (this.options.theme === 'inverse') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-theme-inverse');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell theme ' + this.options.theme);\n\t        }\n\t\n\t        OneSignal.isPushNotificationsEnabled(function (isPushEnabled) {\n\t          if (isPushEnabled) {\n\t            console.log('isPushEnabled', isPushEnabled);\n\t            var promise = _this2.setInactive(true);\n\t          } else {\n\t            var promise = Promise.resolve(); // Do nothing, returns a promise that executes immediately\n\t          }\n\t\n\t          promise.then(function () {\n\t            _this2._scheduleEvent(_this2.options.showLauncherAfter, function () {\n\t              _this2.showLauncher();\n\t            }).then(function () {\n\t              return _this2._scheduleEvent(_this2.options.showBadgeAfter, function () {\n\t                if (_this2.options.prenotify) {\n\t                  if (!isPushEnabled) {\n\t                    _this2.enqueueMessage('Click to subscribe to notifications');\n\t                    _this2.showBadge();\n\t                  }\n\t                }\n\t                _this2.initialized = true;\n\t              });\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: '_getCurrentSetSubscriptionState',\n\t      value: function _getCurrentSetSubscriptionState() {\n\t        var setSubscriptionState = _limitStore2.default.get('setsubscription.value');\n\t        var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n\t        return currentSetSubscription;\n\t      }\n\t    }, {\n\t      key: 'updateBellLauncherDialogBody',\n\t      value: function updateBellLauncherDialogBody() {\n\t        var _this3 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.clearDomElementChildren)(_this3.launcherDialogBody);\n\t\n\t          var currentSetSubscription = _this3._getCurrentSetSubscriptionState();\n\t          var contents = 'Nothing to show.';\n\t\n\t          if (_this3.state === 'subscribed' && currentSetSubscription === true || _this3.state === 'unsubscribed' && currentSetSubscription === false) {\n\t            contents = '\\n                  <h1>Manage Site Notifications</h1>\\n                  <div class=\"push-notification\">\\n                    <div class=\"push-notification-icon\"></div>\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    <button type=\"button\" id=\"action-button\">' + (_this3.state === 'subscribed' ? 'Unsubscribe' : 'Subscribe') + '</button>\\n                  </div>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by OneSignal</div>\\n                ';\n\t          } else if (_this3.state === 'blocked') {\n\t            contents = '\\n                  <h1>Receiving Notifications</h1>\\n                  <div class=\"blurb\">\\n                    <p>To receive notifications:</p>\\n                  </div>\\n                  <div class=\"push-notification\">\\n                    <div class=\"push-notification-icon\"></div>\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    <button type=\"button\" id=\"action-button\">' + (_this3.state === 'subscribed' ? 'Unsubscribe' : 'Subscribe') + '</button>\\n                  </div>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by OneSignal</div>\\n                ';\n\t          }\n\t\n\t          (0, _utils.addDomElement)(_this3.launcherDialogBody, 'beforeend', contents);\n\t          resolve();\n\t        });\n\t      }\n\t    }, {\n\t      key: '_scheduleEvent',\n\t      value: function _scheduleEvent(msInFuture, task) {\n\t        if (typeof task !== 'function') throw new Error('Task to be scheduled must be a function.');\n\t        if (msInFuture <= 0) {\n\t          task();\n\t          return Promise.resolve();\n\t        }\n\t        return new Promise(function (resolve, reject) {\n\t          setTimeout(function () {\n\t            task();\n\t            resolve();\n\t          }, msInFuture);\n\t        });\n\t      }\n\t\n\t      /**\n\t       * Updates the current state to the correct new current state. Returns a promise.\n\t       */\n\t\n\t    }, {\n\t      key: 'updateState',\n\t      value: function updateState() {\n\t        var _this4 = this;\n\t\n\t        debugger;\n\t        OneSignal.isPushNotificationsEnabled(function (isEnabled) {\n\t          console.info('Finally called this callback back.');\n\t          debugger;\n\t          _this4.setState(isEnabled ? 'subscribed' : 'unsubscribed');\n\t        });\n\t      }\n\t\n\t      /**\n\t       * Updates the current state to the specified new state.\n\t       * @param newState One of ['subscribed', 'unsubscribed'].\n\t       */\n\t\n\t    }, {\n\t      key: 'setState',\n\t      value: function setState(newState) {\n\t        if (this.states.hasOwnProperty(newState)) {\n\t          var lastState = this.state;\n\t          this.state = newState;\n\t          if (lastState !== newState) {\n\t            (0, _events.triggerEvent)('onesignal.bell.state.changed', { from: lastState, to: newState });\n\t            // Update anything that should be changed here in the new state\n\t          }\n\t\n\t          // Update anything that should be reset to the same state\n\t          this.setMessage(this.messages[newState]);\n\t        } else {\n\t          _loglevel2.default.error('Cannot update to invalid new state', newState);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'enqueueMessage',\n\t      value: function enqueueMessage(message) {\n\t        var _this5 = this;\n\t\n\t        var notify = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t        this.messages.queued.push(message);\n\t        if (this.isBadgeOpen()) {\n\t          this.hideBadge().then(function () {\n\t            _this5.incrementBadge();\n\t            _this5.showBadge();\n\t          });\n\t        } else {\n\t          this.incrementBadge();\n\t          // Special case so the badge doesn't immediately render\n\t          if (this.initialized) {\n\t            this.showBadge();\n\t          }\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dequeueMessage',\n\t      value: function dequeueMessage(message) {\n\t        var _this6 = this;\n\t\n\t        var dequeuedMessage = this.messages.queued.pop(message);\n\t        if (this.isBadgeOpen()) {\n\t          this.hideBadge().then(function () {\n\t            _this6.decrementBadge();\n\t            _this6.showBadge();\n\t          });\n\t        } else {\n\t          var newBadgeNumber = this.decrementBadge();\n\t          if (newBadgeNumber <= 0) {\n\t            this.hideBadge();\n\t          }\n\t        }\n\t        return dequeuedMessage;\n\t      }\n\t    }, {\n\t      key: 'showDialog',\n\t      value: function showDialog() {\n\t        var _this7 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          _this7.updateBellLauncherDialogBody().then(function () {\n\t            (0, _utils.addCssClass)(_this7.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n\t            (0, _utils.once)(_this7.launcherDialog, 'transitionend', function (e) {\n\t              if (e.target === _this7.launcherDialog) {\n\t                e.stopPropagation();\n\t                return resolve(e);\n\t              }\n\t            });\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'hideDialog',\n\t      value: function hideDialog() {\n\t        var _this8 = this;\n\t\n\t        (0, _utils.removeCssClass)(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.once)(_this8.launcherDialog, 'transitionend', function (e) {\n\t            if (e.target === _this8.launcherDialog) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isDialogOpened',\n\t      value: function isDialogOpened() {\n\t        return document.querySelector('.onesignal-bell-launcher-dialog-opened');\n\t      }\n\t    }, {\n\t      key: 'showLauncher',\n\t      value: function showLauncher() {\n\t        (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-active');\n\t      }\n\t    }, {\n\t      key: 'hideLauncher',\n\t      value: function hideLauncher() {\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-active');\n\t      }\n\t    }, {\n\t      key: 'setMessage',\n\t      value: function setMessage(message) {\n\t        this.launcherMessageBody.innerHTML = message;\n\t      }\n\t    }, {\n\t      key: 'showMessage',\n\t      value: function showMessage() {\n\t        (0, _utils.addCssClass)(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n\t      }\n\t    }, {\n\t      key: 'hideMessage',\n\t      value: function hideMessage() {\n\t        var _this9 = this;\n\t\n\t        (0, _utils.removeCssClass)(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.once)(_this9.launcherMessage, 'transitionend', function (e) {\n\t            if (e.target === _this9.launcherMessage) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isMessageOpened',\n\t      value: function isMessageOpened() {\n\t        return document.querySelector('.onesignal-bell-launcher-message-opened');\n\t      }\n\t    }, {\n\t      key: 'displayMessage',\n\t      value: function displayMessage(content) {\n\t        var _this10 = this;\n\t\n\t        var hideAfter = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t        _loglevel2.default.info('Displaying message.');\n\t        return new Promise(function (resolve, reject) {\n\t          if (_this10.isMessageOpened()) {\n\t            _this10.hideMessage().then(function () {\n\t              _this10.setMessage(content);\n\t              _this10.showMessage();\n\t              if (hideAfter) {\n\t                setTimeout(function () {\n\t                  _this10.hideMessage();\n\t                  return resolve();\n\t                }, hideAfter);\n\t              } else {\n\t                return resolve();\n\t              }\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            _this10.setMessage(content);\n\t            _this10.showMessage();\n\t            if (hideAfter) {\n\t              setTimeout(function () {\n\t                _this10.hideMessage();\n\t                return resolve();\n\t              }, hideAfter);\n\t            } else {\n\t              return resolve();\n\t            }\n\t          }\n\t        });\n\t      }\n\t    }, {\n\t      key: 'setBadge',\n\t      value: function setBadge(content) {\n\t        this.launcherBadge.innerHTML = content;\n\t      }\n\t    }, {\n\t      key: 'showBadge',\n\t      value: function showBadge() {\n\t        if (this.badgeHasContent()) {\n\t          (0, _utils.addCssClass)(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n\t        }\n\t      }\n\t    }, {\n\t      key: 'isBadgeOpen',\n\t      value: function isBadgeOpen() {\n\t        return document.querySelector('.onesignal-bell-badge-opened');\n\t      }\n\t    }, {\n\t      key: 'badgeHasContent',\n\t      value: function badgeHasContent() {\n\t        return this.launcherBadge.innerHTML.length > 0;\n\t      }\n\t    }, {\n\t      key: 'getBadgeContent',\n\t      value: function getBadgeContent() {\n\t        return this.launcherBadge.innerHTML;\n\t      }\n\t    }, {\n\t      key: 'incrementBadge',\n\t      value: function incrementBadge() {\n\t        var content = this.getBadgeContent();\n\t        // If it IS a number (is not not a number)\n\t        if (!isNaN(content)) {\n\t          var badgeNumber = +content; // Coerce to int\n\t          badgeNumber += 1;\n\t          this.setBadge(badgeNumber);\n\t          return badgeNumber;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'decrementBadge',\n\t      value: function decrementBadge() {\n\t        var content = this.getBadgeContent();\n\t        // If it IS a number (is not not a number)\n\t        if (!isNaN(content)) {\n\t          var badgeNumber = +content; // Coerce to int\n\t          badgeNumber -= 1;\n\t          if (badgeNumber > 0) this.setBadge(badgeNumber);else this.setBadge(\"\");\n\t          return badgeNumber;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'hideBadge',\n\t      value: function hideBadge() {\n\t        var _this11 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.removeCssClass)(_this11.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n\t          (0, _utils.once)(_this11.launcherBadge, 'transitionend', function (e) {\n\t            if (e.target === _this11.launcherBadge) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isInactive',\n\t      value: function isInactive() {\n\t        return document.querySelector('.onesignal-bell-launcher-inactive');\n\t      }\n\t    }, {\n\t      key: 'setInactive',\n\t      value: function setInactive(isInactive) {\n\t        var _this12 = this;\n\t\n\t        if (isInactive) {\n\t          this.hideMessage();\n\t          if (this.badgeHasContent()) {\n\t            return this.hideBadge().then(function () {\n\t              (0, _utils.addCssClass)(_this12.launcher, 'onesignal-bell-launcher-inactive');\n\t              _this12.setSize('small');;\n\t              var launcher = _this12.launcher;\n\t              return new Promise(function (resolve, reject) {\n\t                // Once the launcher has finished shrinking down\n\t                (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                  if (e.target === _this12.launcher) {\n\t                    e.stopPropagation();\n\t                    return resolve(e);\n\t                  }\n\t                });\n\t              });\n\t            }).then(function () {\n\t              _this12.showBadge();\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-inactive');\n\t            this.setSize('small');\n\t            var launcher = this.launcher;\n\t            return new Promise(function (resolve, reject) {\n\t              // Once the launcher has finished shrinking down\n\t              (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                if (e.target === _this12.launcher) {\n\t                  e.stopPropagation();\n\t                  return resolve(e);\n\t                }\n\t              });\n\t            });\n\t          }\n\t        } else {\n\t          if (this.badgeHasContent()) {\n\t            return this.hideBadge().then(function () {\n\t              (0, _utils.removeCssClass)(_this12.launcher, 'onesignal-bell-launcher-inactive');\n\t              _this12.setSize(_this12.options.size);\n\t              var launcher = _this12.launcher;\n\t              return new Promise(function (resolve, reject) {\n\t                // Once the launcher has finished shrinking down\n\t                (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                  if (e.target === _this12.launcher) {\n\t                    e.stopPropagation();\n\t                    return resolve(e);\n\t                  }\n\t                });\n\t              });\n\t            }).then(function () {\n\t              _this12.showBadge();\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-inactive');\n\t            this.setSize(this.options.size);\n\t            var launcher = this.launcher;\n\t            return new Promise(function (resolve, reject) {\n\t              // Once the launcher has finished shrinking down\n\t              (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                if (e.target === _this12.launcher) {\n\t                  e.stopPropagation();\n\t                  return resolve(e);\n\t                }\n\t              });\n\t            });\n\t          }\n\t        }\n\t      }\n\t    }, {\n\t      key: 'setSize',\n\t      value: function setSize(size) {\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-sm');\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-md');\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-lg');\n\t        if (size === 'small') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-sm');\n\t        } else if (size === 'medium') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-md');\n\t        } else if (size === 'large') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-lg');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell size ' + size);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'container',\n\t      get: function get() {\n\t        return document.querySelector('#onesignal-bell-container');\n\t      }\n\t    }, {\n\t      key: 'launcher',\n\t      get: function get() {\n\t        return this.container.querySelector('#onesignal-bell-launcher');\n\t      }\n\t    }, {\n\t      key: 'launcherButton',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-button');\n\t      }\n\t    }, {\n\t      key: 'launcherBadge',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-badge');\n\t      }\n\t    }, {\n\t      key: 'launcherMessage',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-message');\n\t      }\n\t    }, {\n\t      key: 'launcherMessageBody',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-message-body');\n\t      }\n\t    }, {\n\t      key: 'launcherDialog',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-dialog');\n\t      }\n\t    }, {\n\t      key: 'launcherDialogBody',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-dialog-body');\n\t      }\n\t    }]);\n\t\n\t    return Bell;\n\t  })();\n\t\n\t  module.exports = Bell;\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(13);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(15)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(14)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:right bottom;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** OneSignalSDK.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 104eb6c115e8d7e6dc2f\n **/","if (typeof OneSignal !== \"undefined\")\n  var predefinedOneSignalPushes = OneSignal;\n\nrequire(\"expose?OneSignal!./sdk.js\");\n\nif (predefinedOneSignalPushes)\n  OneSignal._process_pushes(predefinedOneSignalPushes);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entry.js\n **/","module.exports = global[\"OneSignal\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/sdk.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?OneSignal!./src/sdk.js\n ** module id = 1\n ** module chunks = 0\n **/","import { DEV_HOST, PROD_HOST, HOST_URL } from './vars.js';\nimport { sendNotification } from './api.js';\nimport log from 'loglevel';\nimport LimitStore from './limitStore.js';\nimport \"./events-polyfill.js\";\nimport { triggerEvent } from \"./events.js\";\nimport Bell from \"./bell.js\";\nimport { isBrowserEnv, isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari } from './utils.js';\n\nvar OneSignal = {\n  _VERSION: 109013,\n  _HOST_URL: HOST_URL,\n  _app_id: null,\n  _tagsToSendOnRegister: null,\n  _notificationOpened_callback: null,\n  _idsAvailable_callback: [],\n  _defaultLaunchURL: null,\n  _initOptions: null,\n  _httpRegistration: false,\n  _main_page_port: null,\n  _isNotificationEnabledCallback: null,\n  _subscriptionSet: true,\n  _initOneSignalHttp: null,\n  _sessionIframeAdded: false,\n  _useHttpMode: null,\n  _windowWidth: 550,\n  _windowHeight: 480,\n  _isNewVisitor: false,\n  _isInitialized: false,\n  bell: null,\n  LOGGING: true,\n  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n  SERVICE_WORKER_PARAM: {},\n\n  _ensureDbInstance: function () {\n    return new Promise(function (resolve, reject) {\n      if (OneSignal._oneSignal_db) {\n        resolve(OneSignal._oneSignal_db);\n      }\n      else {\n        var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n        request.onsuccess = function (event) {\n          var database = event.target.result;\n          OneSignal._oneSignal_db = database;\n          resolve(database);\n        };\n        request.onerror = function (event) {\n          log.error('Unable to open IndexedDB.', event);\n          reject(event);\n        };\n\n        request.onupgradeneeded = function (event) {\n          log.debug('Rebuilding schema in IndexedDB...');\n          var db = event.target.result;\n          db.createObjectStore(\"Ids\", {keyPath: \"type\"});\n          db.createObjectStore(\"NotificationOpened\", {keyPath: \"url\"});\n          db.createObjectStore(\"Options\", {keyPath: \"key\"});\n        };\n      }\n    });\n  },\n\n  _getDbValue: function (table, key) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          var request = database.transaction(table).objectStore(table).get(key);\n          request.onsuccess = function (event) {\n            if (request.result)\n              OneSignal._triggerEvent_dbValueRetrieved(request.result);\n            resolve(request.result);\n          };\n          request.onerror = function (event) {\n            reject(request.errorCode);\n          };\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    });\n  },\n\n  _getDbValues: function (table) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          var jsonResult = {};\n          var cursor = database.transaction(table).objectStore(table).openCursor();\n          cursor.onsuccess = function (event) {\n            var cursor = event.target.result;\n            if (cursor) {\n              OneSignal._triggerEvent_dbValueRetrieved(cursor);\n              jsonResult[cursor.key] = cursor.value.value;\n              cursor.continue();\n            }\n            else\n              resolve(jsonResult);\n          };\n          cursor.onerror = function (event) {\n            reject(cursor.errorCode);\n          };\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    });\n  },\n\n  _putDbValue: function (table, value) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          database.transaction([table], \"readwrite\").objectStore(table).put(value);\n          OneSignal._triggerEvent_dbValueSet(value);\n          resolve(value);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    });\n  },\n\n  _deleteDbValue: function (table, key) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          database.transaction([table], \"readwrite\").objectStore(table).delete(key);\n          resolve(key);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    });\n  },\n\n  _sendToOneSignalApi: function (url, action, inData, callback, failedCallback) {\n    log.debug(`Calling ${action} ${OneSignal._HOST_URL + url} with data:`, inData);\n    var contents = {\n      method: action,\n      //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n    };\n\n    if (inData) {\n      contents.headers = {\"Content-type\": \"application/json;charset=UTF-8\"};\n      contents.body = JSON.stringify(inData);\n    }\n\n    fetch(OneSignal._HOST_URL + url, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          return Promise.resolve(response);\n        else\n          return Promise.reject(new Error(response.statusText));\n      })\n      .then(function status(response) {\n        return response.json();\n      })\n      .then(function (jsonData) {\n        if (callback != null)\n          callback(jsonData);\n      })\n      .catch(function (e) {\n        log.error('OneSignal._sendToOneSignalApi() failed:', e);\n        if (failedCallback != null)\n          failedCallback();\n      });\n  },\n\n  _getLanguage: function () {\n    return navigator.language ? (navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language) : 'en';\n  },\n\n  _getPlayerId: function (value, callback) {\n    if (value)\n      callback(value)\n    else {\n      OneSignal._getDbValue('Ids', 'userId')\n        .then(function _getPlayerId_gotUserId(result) {\n          if (result)\n            callback(result.id);\n          else\n            callback(null);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  _getBrowserName: function () {\n    if (navigator.appVersion.match(/Chrome\\/(.*?) /))\n      return \"Chrome\";\n    if (navigator.appVersion.match(\"Version/(.*) (Safari)\"))\n      return \"Safari\";\n    if (navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))\n      return \"Firefox\";\n\n    return \"\";\n  },\n\n  _registerWithOneSignal: function (appId, registrationId, deviceType) {\n\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function _registerWithOneSignal_GotUserId(userIdResult) {\n        OneSignal._getNotificationTypes(function (notif_types) {\n          var requestUrl = 'players';\n\n          var jsonData = {\n            app_id: appId,\n            device_type: deviceType,\n            language: OneSignal._getLanguage(),\n            timezone: new Date().getTimezoneOffset() * -60,\n            device_model: navigator.platform + \" \" + OneSignal._getBrowserName(),\n            device_os: (navigator.appVersion.match(/Chrome\\/(.*?) /) || navigator.appVersion.match(\"Version/(.*) Safari\") || navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))[1],\n            sdk: OneSignal._VERSION\n          };\n\n          if (userIdResult) {\n            requestUrl = 'players/' + userIdResult.id + '/on_session';\n            jsonData.notification_types = notif_types\n          }\n          else if (notif_types != 1)\n            jsonData.notification_types = notif_types\n\n          if (registrationId) {\n            jsonData.identifier = registrationId;\n            OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: registrationId});\n          }\n\n          OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData,\n            function registeredCallback(responseJSON) {\n              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\n              if (responseJSON.id) {\n                OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: responseJSON.id});\n                OneSignal._sendUnsentTags();\n              }\n\n              OneSignal._getPlayerId(responseJSON.id, function (userId) {\n                if (OneSignal._idsAvailable_callback.length > 0) {\n                  while (OneSignal._idsAvailable_callback.length > 0) {\n                    var curr_callback = OneSignal._idsAvailable_callback.pop();\n                    curr_callback({userId: userId, registrationId: registrationId});\n                  }\n                }\n\n                if (OneSignal._httpRegistration) {\n                  log.debug(\"Sending player Id and registrationId back to host page\");\n                  log.debug(OneSignal._initOptions);\n                  var creator = opener || parent;\n                  OneSignal._safePostMessage(creator, {\n                    idsAvailable: {\n                      userId: userId,\n                      registrationId: registrationId\n                    }\n                  }, OneSignal._initOptions.origin, null);\n\n                  if (opener)\n                    window.close();\n                }\n              });\n            }\n          );\n\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _sendUnsentTags: function () {\n    if (OneSignal._tagsToSendOnRegister) {\n      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n      OneSignal._tagsToSendOnRegister = null;\n    }\n  },\n\n  setDefaultNotificationUrl: function (url) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultUrl\", value: url});\n  },\n\n  setDefaultIcon: function (icon) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultIcon\", value: icon});\n  },\n\n  setDefaultTitle: function (title) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultTitle\", value: title});\n  },\n\n  _visibilitychange: function () {\n    if (document.visibilityState == \"visible\") {\n      document.removeEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n      OneSignal._sessionInit({});\n    }\n  },\n\n  onCustomPromptClicked: function (event) {\n    log.debug('Event onesignal.prompt.custom.clicked:', event.detail);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  onNativePromptChanged: function (event) {\n    log.debug('Event onesignal.prompt.native.permissionchanged:', event.detail);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _onSubscriptionChanged: function (event) {\n    log.debug('Event onesignal.subscription.changed:', event.detail);\n    if (OneSignal._isNewVisitor && event.detail === true) {\n      OneSignal._getDbValue('Ids', 'userId')\n        .then(function (result) {\n          let welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n          let welcome_notification_disabled = (welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true);\n          let title = (welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null) ? welcome_notification_opts['title'] : '';\n          let message = (welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0) ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n          if (!welcome_notification_disabled) {\n            log.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n            sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message})\n            triggerEvent('onesignal.actions.welcomenotificationsent', {title: title, message: message});\n            OneSignal._isNewVisitor = false;\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    LimitStore.put('subscription.value', event.detail);\n  },\n\n  _onDbValueRetrieved: function (event) {\n    log.debug('Event onesignal.db.retrieved:', event.detail);\n  },\n\n  _onDbValueSet: function (event) {\n    log.debug('Event onesignal.db.valueset:', event.detail);\n    var info = event.detail;\n    if (info.type === 'userId') {\n      LimitStore.put('db.ids.userId', info.id);\n      OneSignal._checkTrigger_eventSubscriptionChanged();\n    }\n  },\n\n  _onInternalSubscriptionSet: function (event) {\n    log.debug('Event onesignal.internal.subscriptionset:', event.detail);\n    var newSubscriptionValue = event.detail;\n    LimitStore.put('setsubscription.value', newSubscriptionValue);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _onSdkInitialized: function() {\n    if (isBrowserEnv()) {\n      log.info('Showing bell.');\n      OneSignal.bell = new Bell({\n        size: 'large',\n        position: 'bottom-right',\n        theme: 'default'\n      });\n      OneSignal.bell.create();\n    }\n\n    OneSignal._isInitialized = true;\n    log.trace('OneSignal SDK has been fully initialized.');\n  },\n\n  _checkTrigger_eventSubscriptionChanged: function () {\n    log.debug('Called _checkTrigger_eventSubscriptionChanged().');\n    var permissions = LimitStore.get('notification.permission');\n    var lastPermission = permissions[permissions.length - 2];\n    var currentPermission = permissions[permissions.length - 1];\n\n    var ids = LimitStore.get('db.ids.userId');\n    var lastId = ids[ids.length - 2];\n    var currentId = ids[ids.length - 1];\n\n    var subscriptionStates = LimitStore.get('setsubscription.value');\n    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\n\n    var newSubscriptionState = 'unchanged';\n\n    if (((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' &&\n        currentId !== null &&\n        currentSubscriptionState === true\n      ) ||\n      (\n        (lastSubscriptionState === false && currentSubscriptionState === true) &&\n        currentId != null &&\n        currentPermission === 'granted'\n      )) {\n      newSubscriptionState = true;\n    }\n\n    if ((lastPermission !== 'denied' && currentPermission === 'denied') ||\n      (lastPermission === 'granted' && currentPermission !== 'granted') ||\n      (lastId !== null && currentId === null) ||\n      (lastSubscriptionState !== false && currentSubscriptionState === false)) {\n      newSubscriptionState = false;\n    }\n\n    if (newSubscriptionState !== \"unchanged\") {\n      var lastTriggerTimes = LimitStore.put('event.subscriptionchanged.lastriggered', Date.now());\n      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\n      var lastEventStates = LimitStore.put('event.subscriptionchanged.laststates', newSubscriptionState);\n      var currentState = lastEventStates[lastEventStates.length - 1];\n      var lastState = lastEventStates[lastEventStates.length - 2];\n\n      // If event already triggered within the last second, don't re-trigger.\n      var shouldNotTriggerEvent = (lastTriggerTime != null && (elapsedTimeSeconds <= 1)) || (currentState === lastState);\n      if (shouldNotTriggerEvent === false) {\n        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)\n      }\n    }\n  },\n\n  isPushNotificationsSupported: function() {\n    return isPushNotificationsSupported();\n  },\n\n  init: function (options) {\n    if (OneSignal._isInitialized) {\n      log.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n      return;\n    }\n    OneSignal._initOptions = options;\n\n    if (OneSignal.LOGGING)\n      log.enableAll();\n    else\n      log.setDefaultLevel('error');\n\n    log.info(`OneSignal Web SDK loaded (version ${OneSignal._VERSION}).`);\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    if (navigator.permissions && !(isBrowserFirefox() && getFirefoxVersion() <= 45)) {\n      OneSignal._usingNativePermissionHook = true;\n      var currentNotificationPermission = OneSignal._getNotificationPermission();\n      LimitStore.put('notification.permission', currentNotificationPermission);\n      // If the browser natively supports hooking the subscription prompt permission change event\n      //     use it instead of our SDK method\n      navigator.permissions.query({name: 'notifications'}).then(function (permissionStatus) {\n        permissionStatus.onchange = function () {\n          var recentPermissions = LimitStore.get('notification.permission');\n          var permissionBeforePrompt = recentPermissions[0];\n          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n        };\n      })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    else {\n      var currentNotificationPermission = OneSignal._getNotificationPermission();\n      LimitStore.put('notification.permission', currentNotificationPermission);\n    }\n\n    // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function (result) {\n        if (result === undefined) {\n          OneSignal._isNewVisitor = true;\n        }\n        var storeValue = result ? result.id : null;\n        LimitStore.put('db.ids.userId', storeValue);\n      });\n\n    // Store the current value of subscription, so that we can see if the value changes in the future\n    OneSignal._getSubscription(function (currentSubscription) {\n      LimitStore.put('setsubscription.value', currentSubscription);\n    });\n\n\n    window.addEventListener('onesignal.prompt.custom.clicked', OneSignal.onCustomPromptClicked);\n    window.addEventListener('onesignal.prompt.native.permissionchanged', OneSignal.onNativePromptChanged);\n    window.addEventListener('onesignal.subscription.changed', OneSignal._onSubscriptionChanged);\n    window.addEventListener('onesignal.db.valueretrieved', OneSignal._onDbValueRetrieved);\n    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n    window.addEventListener('onesignal.internal.subscriptionset', OneSignal._onInternalSubscriptionSet);\n    window.addEventListener('onesignal.sdk.initialized', OneSignal._onSdkInitialized);\n\n    OneSignal._useHttpMode = !isSupportedSafari() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\n    if (OneSignal._useHttpMode)\n      OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';\n    else\n      OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\n    if (__DEV__)\n      OneSignal._initOneSignalHttp = DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\n    // If Safari - add 'fetch' pollyfill if it isn't already added.\n    if (isSupportedSafari() && typeof window.fetch == \"undefined\") {\n      var s = document.createElement('script');\n      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n      document.head.appendChild(s);\n    }\n\n    if (document.readyState === \"complete\")\n      OneSignal._internalInit();\n    else\n      window.addEventListener('load', OneSignal._internalInit);\n  },\n\n  _internalInit: function () {\n    log.trace('Called _internalInit()');\n    Promise.all([OneSignal._getDbValue('Ids', 'appId'),\n      OneSignal._getDbValue('Ids', 'registrationId'),\n      OneSignal._getDbValue('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var appIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        // If AppId changed delete playerId and continue.\n        if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n          OneSignal._deleteDbValue(\"Ids\", \"userId\");\n          sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n        }\n\n        // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n        if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")\n          && !OneSignal._initOptions.subdomainName\n          && (Notification.permission == \"denied\"\n          || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission))\n          return;\n\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        if (OneSignal._initOptions.autoRegister == false && !registrationIdResult && OneSignal._initOptions.subdomainName == null)\n          return;\n\n        if (document.visibilityState != \"visible\") {\n          document.addEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n          return;\n        }\n\n        OneSignal._sessionInit({});\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  registerForPushNotifications: function (options) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n    if (!options)\n      options = {};\n    options.fromRegisterFor = true;\n    OneSignal._sessionInit(options);\n  },\n\n  // Http only - Only called from iframe's init.js\n  _initHttp: function (options) {\n    OneSignal._initOptions = options;\n\n    if (options.continuePressed) {\n      OneSignal.setSubscription(true);\n    }\n\n    var isIframe = (parent != null && parent != window);\n    var creator = opener || parent;\n\n    if (!creator) {\n      log.debug(\"ERROR:_initHttp: No opener or parent found!\");\n      return;\n    }\n    // Setting up message channel to receive message from host page.\n    var messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function (event) {\n      log.debug(\"_initHttp.messageChannel.port1.onmessage\", event);\n\n      if (event.data.initOptions) {\n        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n        if (event.data.initOptions.defaultIcon)\n          OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\n        log.debug(\"document.URL\", event.data.initOptions.parent_url);\n        OneSignal._getDbValue(\"NotificationOpened\", event.data.initOptions.parent_url)\n          .then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n            log.debug(\"_initHttp NotificationOpened db\", notificationOpenedResult);\n            if (notificationOpenedResult) {\n              OneSignal._deleteDbValue(\"NotificationOpened\", event.data.initOptions.parent_url);\n              log.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\n              debugger;\n              OneSignal._safePostMessage(creator, {openedNotification: notificationOpenedResult.data}, OneSignal._initOptions.origin, null);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n        ;\n      }\n      else if (event.data.getNotificationPermission) {\n        debugger;\n        log.warn(\"I FINALLY GOT HERE OMGGGGG\");\n        OneSignal._getSubdomainState(function (curState) {\n          debugger;\n          OneSignal._safePostMessage(creator, {currentNotificationPermission: curState}, OneSignal._initOptions.origin, null);\n        });\n      }\n      else if (event.data.setSubdomainState)\n        OneSignal.setSubscription(event.data.setSubdomainState.setSubscription);\n    };\n\n    OneSignal._getSubdomainState(function (curState) {\n      curState[\"isIframe\"] = isIframe;\n      OneSignal._safePostMessage(creator, {oneSignalInitPageReady: curState}, OneSignal._initOptions.origin, [messageChannel.port2]);\n    });\n\n    OneSignal._initSaveState();\n    OneSignal._httpRegistration = true;\n    if (location.search.indexOf(\"?session=true\") == 0)\n      return;\n\n    OneSignal._getPlayerId(null, function (player_id) {\n      if (!isIframe || player_id) {\n        log.debug(\"Before navigator.serviceWorker.register\");\n        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n        log.debug(\"After navigator.serviceWorker.register\");\n      }\n    });\n  },\n\n  _getSubdomainState: function (callback) {\n    var state = {};\n\n    Promise.all([OneSignal._getDbValue('Ids', 'userId'),\n      OneSignal._getDbValue('Ids', 'registrationId'),\n      OneSignal._getDbValue('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var userIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        callback({\n          userId: userIdResult ? userIdResult.id : null,\n          registrationId: registrationIdResult ? registrationIdResult.id : null,\n          notifPermssion: Notification.permission,\n          subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n          isPushEnabled: ( Notification.permission == \"granted\"\n          && userIdResult\n          && registrationIdResult\n          && ((subscriptionResult && subscriptionResult.value) || subscriptionResult == null))\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _initSaveState: function () {\n    OneSignal._app_id = OneSignal._initOptions.appId;\n    OneSignal._putDbValue(\"Ids\", {type: \"appId\", id: OneSignal._app_id});\n    OneSignal._putDbValue(\"Options\", {key: \"pageTitle\", value: document.title});\n  },\n\n  _supportsDirectPermission: function () {\n    return isSupportedSafari()\n      || location.protocol == 'https:'\n      || location.host.indexOf(\"localhost\") == 0\n      || location.host.indexOf(\"127.0.0.1\") == 0;\n  },\n\n\n  _sessionInit: function (options) {\n    log.trace(\"Called OneSignal._sessionInit():\", options);\n    OneSignal._initSaveState();\n\n    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\n    // If HTTP or using subdomain mode\n    if (OneSignal._useHttpMode) {\n      if (options.fromRegisterFor) {\n        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\n        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n        var childWidth = OneSignal._windowWidth;\n        var childHeight = OneSignal._windowHeight;\n\n        var left = ((thisWidth / 2) - (childWidth / 2)) + dualScreenLeft;\n        var top = ((thisHeight / 2) - (childHeight / 2)) + dualScreenTop;\n\n        log.debug('Opening popup window.');\n        var message_localization_opts = OneSignal._initOptions['promptOptions'];\n        var message_localization_opts_str = '';\n        if (message_localization_opts) {\n          var message_localization_params = ['actionMessage',\n            'exampleNotificationTitleDesktop',\n            'exampleNotificationMessageDesktop',\n            'exampleNotificationTitleMobile',\n            'exampleNotificationMessageMobile',\n            'exampleNotificationCaption',\n            'acceptButtonText',\n            'cancelButtonText'];\n          for (var i = 0; i < message_localization_params.length; i++) {\n            var key = message_localization_params[i];\n            var value = message_localization_opts[key];\n            var encoded_value = encodeURIComponent(value);\n            if (value || value === '') {\n              message_localization_opts_str += '&' + key + '=' + encoded_value;\n            }\n          }\n        }\n        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\n        if (childWindow)\n          childWindow.focus();\n      }\n      else {\n        log.debug('Opening iFrame.');\n        OneSignal._addSessionIframe(hostPageProtocol);\n      }\n\n    }\n    else {\n      if (isSupportedSafari()) {\n        if (OneSignal._initOptions.safari_web_id) {\n          var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n          window.safari.pushNotification.requestPermission(\n            OneSignal._HOST_URL + 'safari',\n            OneSignal._initOptions.safari_web_id,\n            {app_id: OneSignal._app_id},\n            function (data) {\n              log.debug(data);\n              var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n              if (data.deviceToken) {\n                OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n              }\n              else {\n                sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n              }\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          );\n        }\n      }\n      else if (options.modalPrompt && options.fromRegisterFor) { // If HTTPS - Show modal\n        if (!isPushNotificationsSupported()) {\n          log.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n          return;\n        }\n        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n          var element = document.createElement('div');\n          element.setAttribute('id', 'OneSignal-iframe-modal');\n          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block\"></div>';\n          document.body.appendChild(element);\n\n          var iframeStyle = document.createElement('style');\n          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\"\n            + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\n          var iframeNode = document.createElement(\"iframe\");\n          iframeNode.className = \"OneSignal-permission-iframe\"\n          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n          iframeNode.src = OneSignal._initOneSignalHttp\n            + '?id=' + OneSignal._app_id\n            + '&httpsPrompt=true'\n            + '&pushEnabled=' + pushEnabled\n            + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\")\n            + '&hostPageProtocol=' + hostPageProtocol;\n          iframeNode.setAttribute('frameborder', '0');\n          iframeNode.width = OneSignal._windowWidth.toString();\n          iframeNode.height = OneSignal._windowHeight.toString();\n\n          log.debug('Opening HTTPS modal prompt.');\n          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n        });\n      }\n      else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n        OneSignal._registerForW3CPush(options);\n      else\n        log.debug('Service workers are not supported in this browser.');\n\n      triggerEvent('onesignal.sdk.initialized');\n    }\n  },\n\n  _registerForW3CPush: function (options) {\n\n    OneSignal._getDbValue('Ids', 'registrationId')\n      .then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n        if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n          navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n            var sw_path = \"\";\n\n            if (OneSignal._initOptions.path)\n              sw_path = OneSignal._initOptions.path;\n\n            if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n              OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            else {\n              if (serviceWorkerRegistration.active) {\n                if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\n                  OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION)\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                }\n                else if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\n                  OneSignal._getDbValue('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION)\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                }\n              }\n              else if (serviceWorkerRegistration.installing == null)\n                OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            }\n          })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n  \n  _registerServiceWorker: function(full_sw_and_path) {\n    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n  },\n\n  _addSessionIframe: function (hostPageProtocol) {\n\n    var node = document.createElement(\"iframe\");\n    node.style.display = \"none\";\n    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\"))\n      node.src += \"?session=true\"\n        + \"&hostPageProtocol=\" + hostPageProtocol;\n    else\n      node.src += \"?hostPageProtocol=\" + hostPageProtocol\n    document.body.appendChild(node);\n    log.trace('Adding session iFrame.');\n\n    OneSignal._sessionIframeAdded = true;\n  },\n\n  _registerError: function (err) {\n    log.error(\"ServiceWorker registration\", err);\n  },\n\n  _enableNotifications: function (existingServiceWorkerRegistration) { // is ServiceWorkerRegistration type\n    if (existingServiceWorkerRegistration)\n      log.debug('There is an older ServiceWorker:', existingServiceWorkerRegistration);\n    if (!('PushManager' in window)) {\n      log.debug(\"Push messaging is not supported. No PushManager.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n      log.debug(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (Notification.permission === 'denied') {\n      log.warn(\"The user has disabled notifications.\");\n      return;\n    }\n\n    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n      log.info('Service worker active:', serviceWorkerRegistration);\n\n      OneSignal._subscribeForPush(serviceWorkerRegistration);\n    })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  /*\n   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n   */\n  _getNotificationPermission: function (safariWebId) {\n    if (window.safari) {\n      // The user is on Safari\n      // A web ID is required to determine the current notificiation permission\n      if (safariWebId) {\n        return window.safari.pushNotification.permission(safariWebId).permission;\n      }\n      else {\n        // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n        return \"default\";\n      }\n    }\n    else {\n      // Identical API on Firefox and Chrome\n      return Notification.permission;\n    }\n  },\n\n  _triggerEvent_customPromptClicked: function (clickResult) {\n    var recentPermissions = LimitStore.put('notification.permission', clickResult);\n    triggerEvent('onesignal.prompt.custom.clicked', {\n      result: clickResult\n    });\n  },\n\n  _triggerEvent_nativePromptPermissionChanged: function (from, to) {\n    if (to === undefined) {\n      to = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n    }\n    if (from !== to) {\n      var recentPermissions = LimitStore.put('notification.permission', to);\n      triggerEvent('onesignal.prompt.native.permissionchanged', {\n        from: from,\n        to: to\n      });\n    }\n  },\n\n  _triggerEvent_subscriptionChanged: function (to) {\n    triggerEvent('onesignal.subscription.changed', to);\n  },\n\n  _triggerEvent_dbValueRetrieved: function (value) {\n    triggerEvent('onesignal.db.valueretrieved', value);\n  },\n\n  _triggerEvent_dbValueSet: function (value) {\n    triggerEvent('onesignal.db.valueset', value);\n  },\n\n  _triggerEvent_internalSubscriptionSet: function (value) {\n    triggerEvent('onesignal.internal.subscriptionset', value);\n  },\n\n  _subscribeForPush: function (serviceWorkerRegistration) {\n    var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n    serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly: true})\n      .then(function (subscription) {\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        OneSignal._getDbValue('Ids', 'appId')\n          .then(function _subscribeForPush_GotAppId(appIdResult) {\n            var appId = appIdResult.id;\n            log.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\n            var registrationId = null;\n            if (subscription) {\n              if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n                registrationId = subscription.subscriptionId;\n              else  // Chrome 44+ and FireFox\n                registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n            }\n            else\n              log.warn('Could not subscribe your browser for push notifications.');\n\n            OneSignal._registerWithOneSignal(appId, registrationId, isSupportedFireFox() ? 8 : 5);\n\n            if (!OneSignal._usingNativePermissionHook) {\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n      })\n      .catch(function (e) {\n        log.error('Error while subscribing for push:', e);\n\n        if (!OneSignal._usingNativePermissionHook)\n          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\n        if (e.code == 20 && opener && OneSignal._httpRegistration)\n          window.close();\n      });\n  },\n\n  sendTag: function (key, value) {\n    var jsonKeyValue = {};\n    jsonKeyValue[key] = value;\n    OneSignal.sendTags(jsonKeyValue);\n  },\n\n  sendTags: function (jsonPair) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function sendTags_GotUserId(userIdResult) {\n        if (userIdResult)\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n            app_id: OneSignal._app_id,\n            tags: jsonPair\n          });\n        else {\n          if (OneSignal._tagsToSendOnRegister == null)\n            OneSignal._tagsToSendOnRegister = jsonPair;\n          else {\n            var resultObj = {};\n            for (var _obj in OneSignal._tagsToSendOnRegister) resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n            for (var _obj in jsonPair) resultObj[_obj] = jsonPair[_obj];\n            OneSignal._tagsToSendOnRegister = resultObj;\n          }\n        }\n      })\n      .catch(function (e) {\n        log.error('sendTags:', e);\n      });\n  },\n\n  deleteTag: function (key) {\n    OneSignal.deleteTags([key]);\n  },\n\n  deleteTags: function (keyArray) {\n    var jsonPair = {};\n    var length = keyArray.length;\n    for (var i = 0; i < length; i++)\n      jsonPair[keyArray[i]] = \"\";\n\n    OneSignal.sendTags(jsonPair);\n  },\n\n  _handleNotificationOpened: function (event) {\n    var notificationData = JSON.parse(event.notification.tag);\n    event.notification.close();\n\n    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'userId')])\n      .then(function _handleNotificationOpened_GotAppUserIds(results) {\n        var appIdResult = results[0];\n        var userIdResult = results[1];\n        if (appIdResult && userIdResult) {\n          OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n            app_id: appIdResult.id,\n            player_id: userIdResult.id,\n            opened: true\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n\n    event.waitUntil(\n      clients.matchAll({type: \"window\"})\n        .then(function (clientList) {\n          var launchURL = registration.scope;\n          if (OneSignal._defaultLaunchURL)\n            launchURL = OneSignal._defaultLaunchURL;\n          if (notificationData.launchURL)\n            launchURL = notificationData.launchURL;\n\n          for (var i = 0; i < clientList.length; i++) {\n            var client = clientList[i];\n            if ('focus' in client && client.url == launchURL) {\n              client.focus();\n\n              // targetOrigin not valid here as the service worker owns the page.\n              client.postMessage(notificationData);\n              return;\n            }\n          }\n\n          if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n            OneSignal._putDbValue(\"NotificationOpened\", {url: launchURL, data: notificationData});\n            clients.openWindow(launchURL).catch(function (error) {\n              // Should only fall into here if going to an external URL on Chrome older than 43.\n              clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n            });\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        })\n    );\n  },\n\n  _getTitle: function (incomingTitle, callback) {\n    if (incomingTitle != null) {\n      callback(incomingTitle);\n      return;\n    }\n\n    Promise.all([OneSignal._getDbValue('Options', 'defaultTitle'), OneSignal._getDbValue('Options', 'pageTitle')])\n      .then(function _getTitle_GotDefaultPageTitles(results) {\n        var defaultTitleResult = results[0];\n        var pageTitleResult = results[1];\n\n        if (defaultTitleResult) {\n          callback(defaultTitleResult.value);\n          return;\n        }\n        else if (pageTitleResult && pageTitleResult.value != null) {\n          callback(pageTitleResult.value);\n          return;\n        }\n        else {\n          callback('');\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  // Displays notification from content received from OneSignal.\n  // This method is only called by ServiceWorker\n  _handleGCMMessage: function (serviceWorker, event) {\n    // TODO: Read data from the GCM payload when Chrome no longer requires the below command line parameter.\n    // --enable-push-message-payload\n    // The command line param is required even on Chrome 43 nightly build 2015/03/17.\n    if (event.data && event.data.text()[0] == \"{\") {\n      log.debug('Received data.text: ', event.data.text());\n      log.debug('Received data.json: ', event.data.json());\n    }\n\n    event.waitUntil(new Promise(\n      function (resolve, reject) {\n        OneSignal._getTitle(null, function (title) {\n          OneSignal._getDbValue('Options', 'defaultIcon')\n            .then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult) {\n              OneSignal._getLastNotifications(function (response, appId) {\n                var notificationData = {\n                  id: response.custom.i,\n                  message: response.alert,\n                  additionalData: response.custom.a\n                };\n\n                if (response.title)\n                  notificationData.title = response.title;\n                else\n                  notificationData.title = title;\n\n                if (response.custom.u)\n                  notificationData.launchURL = response.custom.u;\n\n                if (response.icon)\n                  notificationData.icon = response.icon;\n                else if (defaultIconResult)\n                  notificationData.icon = defaultIconResult.value;\n\n                // Never nest the following line in a callback from the point of entering from _getLastNotifications\n                serviceWorker.registration.showNotification(notificationData.title, {\n                  body: response.alert,\n                  icon: notificationData.icon,\n                  tag: JSON.stringify(notificationData)\n                }).then(resolve)\n                  .catch(function (e) {\n                    log.error(e);\n                  });\n\n                OneSignal._getDbValue('Options', 'defaultUrl')\n                  .then(function (defaultUrlResult) {\n                    if (defaultUrlResult)\n                      OneSignal._defaultLaunchURL = defaultUrlResult.value;\n                  })\n                  .catch(function (e) {\n                    log.error(e);\n                  });\n                ;\n              }, resolve);\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        });\n      }))\n  },\n\n  _getLastNotifications: function (itemCallback, completeCallback) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function _getLastNotifications_GotUserId(userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\", null, function (response) {\n            for (var i = 0; i < response.length; i++)\n              itemCallback(JSON.parse(response[i]));\n          }, function () {\n            completeCallback();\n          });  // Failed callback\n        }\n        else {\n          log.debug(\"Error: could not get notificationId\");\n          completeCallback();\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n  _listener_receiveMessage: function receiveMessage(event) {\n    log.debug(\"_listener_receiveMessage: \", event);\n\n    if (OneSignal._initOptions == undefined)\n      return;\n\n    if (!__DEV__ && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\")\n      return;\n\n    if (event.data.oneSignalInitPageReady) { // Only called on HTTP pages.\n      var eventData = event.data.oneSignalInitPageReady;\n\n      if (eventData.isIframe) {\n        OneSignal._iframePort = event.ports[0];\n      }\n\n      if (eventData.userId)\n        OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: eventData.userId});\n      if (eventData.registrationId)\n        OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: eventData.registrationId});\n\n      debugger;\n      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n      OneSignal._sendUnsentTags();\n\n      OneSignal._getDbValues(\"Options\")\n        .then(function _listener_receiveMessage(options) {\n          log.debug(\"current options\", options);\n          if (!options.defaultUrl)\n            options.defaultUrl = document.URL;\n          if (!options.defaultTitle)\n            options.defaultTitle = document.title;\n\n          options.parent_url = document.URL;\n          log.debug(\"Posting message to port[0]\", event.ports[0]);\n          event.ports[0].postMessage({initOptions: options});\n\n          // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n          triggerEvent('onesignal.sdk.initialized');\n        })\n        .catch(function (e) {\n          log.error('_listener_receiveMessage:', e);\n        });\n    }\n    else if (event.data.currentNotificationPermission) // Subdomain Only\n      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n    else if (event.data.idsAvailable) { // Only called on HTTP pages.\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: event.data.idsAvailable.userId});\n      OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: event.data.idsAvailable.registrationId});\n\n      if (OneSignal._idsAvailable_callback.length > 0) {\n        while (OneSignal._idsAvailable_callback.length > 0) {\n          var curr_callback = OneSignal._idsAvailable_callback.pop()\n          curr_callback({\n            userId: event.data.idsAvailable.userId,\n            registrationId: event.data.idsAvailable.registrationId\n          });\n        }\n      }\n      OneSignal._sendUnsentTags();\n    }\n    else if (event.data.httpsPromptAccepted) { // HTTPS Only\n      OneSignal.registerForPushNotifications();\n      OneSignal.setSubscription(true);\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpsPromptCanceled) { // HTTPS Only\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpPromptAccepted) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpPromptCanceled) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (OneSignal._notificationOpened_callback) // HTTP and HTTPS\n      OneSignal._notificationOpened_callback(event.data);\n  },\n\n  addListenerForNotificationOpened: function (callback) {\n    OneSignal._notificationOpened_callback = callback;\n    if (window) {\n      OneSignal._getDbValue(\"NotificationOpened\", document.URL)\n        .then(function (notificationOpenedResult) {\n          if (notificationOpenedResult) {\n            OneSignal._deleteDbValue(\"NotificationOpened\", document.URL);\n            OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  // Subdomain - Fired from message received from iframe.\n  _fireNotificationEnabledCallback: function (notifPermssion) {\n    if (OneSignal._isNotificationEnabledCallback) {\n      OneSignal._isNotificationEnabledCallback(notifPermssion);\n      OneSignal._isNotificationEnabledCallback = null;\n    }\n  },\n\n  getIdsAvailable: function (callback) {\n    if (callback === undefined)\n      return;\n\n    OneSignal._idsAvailable_callback.push(callback);\n\n    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId')])\n      .then(function getIdsAvailable_GotUserRegistrationIds(results) {\n        var userIdResult = results[0];\n        var registrationIdResult = results[1];\n\n        if (userIdResult) {\n          if (registrationIdResult) {\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({\n                userId: userIdResult.id,\n                registrationId: registrationIdResult.id\n              });\n            }\n          }\n          else\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({userId: userIdResult.id, registrationId: null});\n            }\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  getTags: function (callback) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function (userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n            callback(response.tags);\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  isPushNotificationsEnabled: function (callback) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    // If Subdomain\n    if (OneSignal._initOptions.subdomainName && !isBrowserSafari()) {\n      OneSignal._isNotificationEnabledCallback = callback;\n      if (OneSignal._iframePort) {\n        debugger;\n        OneSignal._iframePort.postMessage({getNotificationPermission: true});\n      }\n      return;\n    }\n\n    // If HTTPS\n\n    Promise.all([OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')])\n      .then(function (results) {\n        var registrationIdResult = results[0];\n        var subscriptionResult = results[1];\n\n        if (registrationIdResult) {\n          if (subscriptionResult && !subscriptionResult.value)\n            return callback(false);\n\n          callback(Notification.permission == \"granted\");\n        }\n        else\n          callback(false);\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  _getNotificationTypes: function (callback) {\n    OneSignal._getSubscription(function (db_subscriptionSet) {\n      callback(db_subscriptionSet ? 1 : -2);\n    });\n  },\n\n  setSubscription: function (newSubscription) {\n    if (OneSignal._iframePort)\n      OneSignal._iframePort.postMessage({setSubdomainState: {setSubscription: newSubscription}});\n    else {\n      OneSignal._getSubscription(function (currentSubscription) {\n        if (currentSubscription != newSubscription) {\n          OneSignal._putDbValue(\"Options\", {key: \"subscription\", value: newSubscription});\n          OneSignal._getDbValue('Ids', 'userId')\n            .then(function (userIdResult) {\n              if (userIdResult)\n                OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n                  app_id: OneSignal._app_id,\n                  notification_types: newSubscription ? 1 : -2\n                }, function setSubscriptionSetCallback() {\n                  OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n                });\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      });\n    }\n  },\n\n  _getSubscription: function (callback) {\n    OneSignal._getDbValue('Options', 'subscription')\n      .then(function (subscriptionResult) {\n        callback(!(subscriptionResult && subscriptionResult.value == false));\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _safePostMessage: function (creator, data, targetOrigin, receiver) {\n    var tOrigin = targetOrigin.toLowerCase();\n\n    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n    if (tOrigin.startsWith(\"http://\")) {\n      var queryDict = {};\n      location.search.substr(1).split(\"&\").forEach(function (item) {\n        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]\n      });\n      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n    }\n\n    if (receiver)\n      creator.postMessage(data, tOrigin, receiver);\n    else\n      creator.postMessage(data, tOrigin);\n  },\n\n  _process_pushes: function (array) {\n    for (var i = 0; i < array.length; i++)\n      OneSignal.push(array[i]);\n  },\n\n  push: function (item) {\n    if (typeof(item) == \"function\")\n      item();\n    else {\n      var functionName = item.shift();\n      OneSignal[functionName].apply(null, item);\n    }\n  }\n};\n\n// If imported on your page.\nif (typeof window !== \"undefined\")\n  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\nelse { // if imported from the service worker.\n  importScripts('https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js');\n\n  self.addEventListener('push', function (event) {\n    OneSignal._handleGCMMessage(self, event); // Can handle messages from any browser (except Safari), rename method\n  });\n  self.addEventListener('notificationclick', function (event) {\n    // Also only by SW\n    OneSignal._handleNotificationOpened(event);\n  });\n\n  var isSWonSubdomain = location.href.match(/https\\:\\/\\/.*\\.onesignal.com\\/sdks\\//) != null;\n  if (__DEV__)\n    isSWonSubdomain = true;\n\n  self.addEventListener('install', function (event) {\n    log.debug(\"OneSignal Installed service worker \" + self.location.pathname + \":\" + OneSignal._VERSION);\n    if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1)\n      OneSignal._putDbValue(\"Ids\", {type: \"WORKER1_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION});\n    else\n      OneSignal._putDbValue(\"Ids\", {type: \"WORKER2_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION});\n\n    if (isSWonSubdomain) {\n      event.waitUntil(\n        caches.open(\"OneSignal_\" + OneSignal._VERSION).then(function (cache) {\n          return cache.addAll([\n            '/sdks/initOneSignalHttpIframe',\n            '/sdks/initOneSignalHttpIframe?session=*',\n            '/sdks/manifest_json']);\n        })\n          .catch(function (e) {\n            log.error(e);\n          })\n      );\n    }\n  });\n\n  if (isSWonSubdomain) {\n    self.addEventListener('fetch', function (event) {\n      event.respondWith(\n        caches.match(event.request)\n          .then(function (response) {\n            // Cache hit - return response\n            if (response)\n              return response;\n\n            return fetch(event.request);\n          }\n        )\n          .catch(function (e) {\n            log.error(e);\n          })\n      );\n    });\n  }\n}\n\nmodule.exports = OneSignal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/sdk.js\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = global.fetch\n}.call(global));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>global!./~/exports-loader?global.fetch!./~/whatwg-fetch/fetch.js\n ** module id = 3\n ** module chunks = 0\n **/","import { isDev } from './utils.js';\n\nexport const DEV_HOST = 'http://192.168.1.206:3000';\nexport const PROD_HOST = 'https://onesignal.com';\nexport const HOST_URL = (isDev() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n\n/** WEBPACK FOOTER **\n ** ./src/vars.js\n **/","import log from 'loglevel';\n\nexport function isArray(variable) {\n  return Object.prototype.toString.call( variable ) === '[object Array]';\n}\n\nexport function getHumanizedTimeDuration(timeDurationInMilliseconds) {\n  function addPluralSuffix(number) {\n    return (number > 1) ? 's' : '';\n  }\n  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\n  var years = Math.floor(duration / 31536000);\n  if (years)\n    return years + ' year' + addPluralSuffix(years);\n\n  var days = Math.floor((duration %= 31536000) / 86400);\n  if (days)\n    return days + ' day' + addPluralSuffix(days);\n\n  var hours = Math.floor((duration %= 86400) / 3600);\n  if (hours)\n    return hours + ' hour' + addPluralSuffix(hours);\n\n  var minutes = Math.floor((duration %= 3600) / 60);\n  if (minutes)\n    return minutes + ' minute' + addPluralSuffix(minutes);\n\n  var seconds = duration % 60;\n  if (seconds)\n    return seconds + ' second' + addPluralSuffix(seconds);\n\n  return 'just now';\n}\n\nexport function isBrowserEnv() {\n  return typeof window !== \"undefined\";\n}\n\nexport function isDev() {\n  return __DEV__;\n}\n\nexport function isPushNotificationsSupported () {\n  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\n  if (isSupportedFireFox())\n    return true;\n\n  if (isSupportedSafari())\n    return true;\n\n  // Chrome is not found in appVersion.\n  if (!chromeVersion)\n    return false;\n\n  // Microsoft Edge\n  if (navigator.appVersion.match(/Edge/))\n    return false;\n\n  // Android Chrome WebView\n  if (navigator.appVersion.match(/ wv/))\n    return false;\n\n  // Opera\n  if (navigator.appVersion.match(/OPR\\//))\n    return false;\n\n  // The user is on iOS\n  if (/iPad|iPhone|iPod/.test(navigator.platform))\n    return false;\n\n  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n}\n\nexport function isBrowserSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  return safariVersion != null ;\n}\n\nexport function isSupportedFireFox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n  return false;\n}\n\nexport function isBrowserFirefox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  return fireFoxVersion != null ;\n}\n\nexport function getFirefoxVersion() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2));\n  else return -1;\n}\n\nexport function isSupportedSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  if (safariVersion == null)\n    return false;\n  if (/iPhone|iPad|iPod/i.test(navigator.userAgent))\n    return false;\n  return (parseInt(safariVersion[1]) > 6);\n}\n\nexport function removeDomElement(selector) {\n  var els = document.querySelectorAll(selector);\n  if (els.length > 0) {\n    for (let i = 0; i < els.length; i++)\n      els[i].parentNode.removeChild(els[i]);\n  }\n}\n\nexport function addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function clearDomElementChildren(targetSelectorOrElement) {\n  if (typeof targetSelectorOrElement === 'string') {\n    var element = document.querySelector(targetSelectorOrElement);\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    while (targetSelectorOrElement.firstChild) {\n      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n    }\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function addCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.add(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.add(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function removeCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.remove(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.remove(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function on(targetSelectorOrElement, event, task) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  log.debug('Debug me here.');\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        on(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      on(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.addEventListener(event, task);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function once(targetSelectorOrElement, event, task, manualDestroy=false) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        once(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      once(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    var taskWrapper = (function () {\n      var internalTaskFunction = function (e) {\n        var destroyEventListener = function() {\n          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n        };\n        if (!manualDestroy) {\n          destroyEventListener();\n        }\n        task(e, destroyEventListener);\n      };\n      return internalTaskFunction;\n    })();\n    targetSelectorOrElement.addEventListener(event, taskWrapper);\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n/**\n * Removes event handler from selector.\n * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n * @param event The event to target (e.g. 'transitionend')\n * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n */\nexport function off(targetSelectorOrElement, event, task) {\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        off(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      off(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    if (task)\n      targetSelectorOrElement.removeEventListener(event, task);\n    else\n      targetSelectorOrElement.removeEventListener(event);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/loglevel/lib/loglevel.js\n ** module id = 6\n ** module chunks = 0\n **/","import { HOST_URL } from './vars.js'\nimport log from 'loglevel';\n\nexport function apiCall(action, method, data) {\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\n  let contents = {\n    method: method || 'NO_METHOD_SPECIFIED',\n    headers: headers,\n    cache: 'no-cache',\n    body: JSON.stringify(data)\n  };\n\n  return new Promise((resolve, reject) => {\n    fetch(HOST_URL + action, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          resolve(response.json());\n        else\n          reject(new Error(response.statusText));\n      })\n      .catch(function (e) {\n        reject(e);\n      });\n  });\n}\n\nexport function sendNotification(appId, playerIds, titles, contents) {\n  var params = {\n    'app_id': appId,\n    'headings': titles,\n    'contents': contents,\n    'include_player_ids': playerIds,\n    'isAnyWeb': true,\n    'url': 'javascript:void(0);'\n  };\n  return apiCall('notifications', 'POST', params);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/api.js\n **/","/*\n LimitStore.put('colorado', 'rocky');\n [\"rocky\"]\n LimitStore.put('colorado', 'mountain');\n [\"rocky\", \"mountain\"]\n LimitStore.put('colorado', 'national');\n [\"mountain\", \"national\"]\n LimitStore.put('colorado', 'park');\n [\"national\", \"park\"]\n */\nfunction LimitStore() {\n}\n\nLimitStore.store = {};\nLimitStore.LIMIT = 2;\n\nLimitStore.put = function (key, value) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  LimitStore.store[key].push(value);\n  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n    LimitStore.store[key].shift();\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.get = function (key) {\n  return LimitStore.store[key];\n};\n\nexport default LimitStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/limitStore.js\n **/","if (typeof window !== \"undefined\") {\n  (function () {\n    function CustomEvent(event, params) {\n      params = params || {bubbles: false, cancelable: false, details: undefined};\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.details);\n      return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n  })();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events-polyfill.js\n **/","import log from 'loglevel';\n\nexport function triggerEvent (eventName, data) {\n  if (typeof window === \"undefined\") {\n    log.debug('Skipping triggering of event:', eventName, 'because we are running in a ServiceWorker context.');\n    return;\n  }\n  var event = new CustomEvent(eventName, {\n    bubbles: true, cancelable: true, details: data\n  });\n  window.dispatchEvent(event);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events.js\n **/","import { isBrowserEnv, isPushNotificationsSupported, removeDomElement, addDomElement, clearDomElementChildren, addCssClass, removeCssClass, once, on, off } from './utils.js';\nimport LimitStore from './limitStore.js';\nimport log from 'loglevel';\nimport { triggerEvent } from './events.js'\n\nif (isBrowserEnv()) {\n  require(\"./bell.scss\");\n  var logoSvg = require('raw!./bell.svg');\n\n  /*\n    {\n      size = ['small', 'medium', 'large'],\n      position = 'bottom-left', 'bottom-right'],\n      offset = '15px 15px',\n      theme = ['red-white', 'white-red'],\n      inactiveOpacity: 0.75,\n      showLauncherAfter: 1000,\n      messages: {\n          'unsubscribed': 'Subscribe to notifications',\n          'subscribed': 'You're subscribed to notifications'\n        }\n    }\n   */\n  class Bell {\n    constructor({\n        size = 'small',\n        position = 'bottom-left',\n        theme = 'red-white',\n        showLauncherAfter = 10,\n        showBadgeAfter = 300,\n        messages = {\n            'unsubscribed': 'Subscribe to notifications',\n            'subscribed': \"You're subscribed to notifications\"\n          },\n        prenotify = true\n      } = {}) {\n      this.options = {\n        size: size,\n        position: position,\n        theme: theme,\n        showLauncherAfter: showLauncherAfter,\n        showBadgeAfter: showBadgeAfter,\n        messages: messages,\n        prenotify: prenotify\n      };\n      this.size = this.options.size;\n      this.position = this.options.position;\n      this.messages = this.options.messages;\n      this.messages.queued = [];\n      if (!this.messages.unsubscribed) {\n        this.messages.unsubscribed = 'Subscribe to notifications'\n      }\n      if (!this.messages.subscribed) {\n        this.messages.subscribed = \"You're subscribed to notifications\"\n      }\n      this.states = {\n        uninitialized: 'The bell is loading.',\n        subscribed: 'The user is subscribed',\n        unsubscribed: 'The user is unsubscribed',\n        blocked: 'The user has blocked us.'\n      };\n      this.state = 'uninitialized';\n\n      // Install event hooks\n      window.addEventListener('onesignal.bell.state.changed', (state) => {\n        log.info('onesignal.bell.state.changed', state.detail);\n      });\n\n      window.addEventListener('onesignal.bell.click', () => {\n        var originalCall = () => {\n          log.debug('Bell was clicked.');\n          let currentSetSubscriptionState = this._getCurrentSetSubscriptionState();\n          this.hideMessage();\n          if (this.state === 'unsubscribed') {\n\n            //&& currentSetSubscriptionState === true\n            OneSignal.registerForPushNotifications();\n          } else {\n            if (!this.isDialogOpened()) {\n              this.showDialog()\n                .then((e) => {\n                  var self = this;\n                  once(document, 'click', (e, destroyEventListener) => {\n                    let wasDialogClicked = self.launcherDialog.contains(e.target);\n                    if (wasDialogClicked) {\n                    } else {\n                      destroyEventListener();\n                      self.hideDialog()\n                        .then((e) => {\n                          if (this.wasInactive) {\n                            this.setInactive(true);\n                            this.wasInactive = undefined;\n                          }\n                        })\n                        .catch((e) => {\n                          log.error(e);\n                        });\n                    }\n                  }, true);\n                })\n                .catch((e) => {\n                  log.error(e);\n                });\n            }\n          }\n        };\n        if (this.isInactive()) {\n          this.wasInactive = true;\n          this.setInactive(false)\n            .then(function () {\n              originalCall();\n            })\n            .catch(function (e) {\n              log.error(e);\n            })\n        } else {\n          originalCall();\n        }\n      });\n\n      window.addEventListener('onesignal.bell.hovering', () => {\n        if (this.isInactive()) {\n          this.wasInactive = true;\n          this.setInactive(false);\n        }\n        // If there's already a message being force shown, do not override\n        if (this.isMessageOpened() || this.isDialogOpened()) {\n          console.debug('There is already a message being displayed; wait until it is hidden again.');\n          return;\n        }\n        if (messages.queued.length > 0) {\n          let dequeuedMessage = this.dequeueMessage();\n          this.setMessage(dequeuedMessage);\n        } else {\n          this.setMessage(this.messages[this.state]);\n        }\n        this.showMessage();\n      });\n\n      window.addEventListener('onesignal.bell.hovered', () => {\n        if (this.isMessageOpened()) {\n          this.hideMessage()\n            .then(() => {\n              this.setMessage(this.messages[this.state]);\n              if (this.wasInactive && !this.isDialogOpened()) {\n                this.setInactive(true);\n                this.wasInactive = undefined;\n              }\n            });\n        }\n      });\n\n      window.addEventListener('onesignal.subscription.changed', (e) => {\n        this.setState(e.detail ? 'subscribed' : 'unsubscribed');\n      });\n\n      window.addEventListener('onesignal.actions.welcomenotificationsent', (e) => {\n        this.displayMessage(\"Thanks for subscribing!\", 2500)\n        .then(() => {\n            this.setInactive(true);\n          })\n        .catch((e) => {\n            log.error(e);\n          });\n      });\n\n      this.updateState();\n    }\n\n    create() {\n      if (!isPushNotificationsSupported())\n        return;\n\n      // Remove any existing bell\n      if (this.container) {\n        removeDomElement('onesignal-bell-container');\n      }\n\n      window.addDomElement = addDomElement;\n      // Insert the bell container\n      addDomElement('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n      // Insert the bell launcher\n      addDomElement(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n      // Insert the bell launcher button\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n      // Insert the bell launcher badge\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n      // Insert the bell launcher message\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n      addDomElement(this.launcherMessage, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n      // Insert the bell launcher dialog\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n      addDomElement(this.launcherDialog, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\n      // Install events\n      this.launcherButton.addEventListener('mouseover', () => {\n        var isHoveringData = LimitStore.get('bell.launcherButton.mouse', 'over');\n        if (isHoveringData === undefined || isHoveringData[isHoveringData.length - 1] === 'out') {\n          triggerEvent('onesignal.bell.hovering');\n        }\n        LimitStore.put('bell.launcherButton.mouse', 'over');\n      });\n\n      this.launcherButton.addEventListener('mouseleave', () => {\n        LimitStore.put('bell.launcherButton.mouse', 'out');\n        triggerEvent('onesignal.bell.hovered');\n      });\n\n      this.launcherButton.addEventListener('mousedown', () => {\n        removeDomElement('.pulse-ring');\n        addDomElement(this.launcherButton, 'beforeend', '<div class=\"pulse-ring\"></div>');\n        addCssClass(this.launcherButton, 'onesignal-bell-launcher-button-active');\n        addCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-active');\n      });\n\n      this.launcherButton.addEventListener('mouseup', () => {\n        removeCssClass(this.launcherButton, 'onesignal-bell-launcher-button-active');\n        removeCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-active');\n      });\n\n      this.launcherButton.addEventListener('click', () => {\n        triggerEvent('onesignal.bell.button.click');\n        triggerEvent('onesignal.bell.click');\n      });\n\n      // Add visual elements\n      addDomElement(this.launcherButton, 'beforeEnd', logoSvg);\n\n      // Add default classes\n      this.setSize(this.options.size);\n\n      if (this.options.position === 'bottom-left') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-left')\n        addCssClass(this.launcher, 'onesignal-bell-launcher-bottom-left')\n      }\n      else if (this.options.position === 'bottom-right') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-right')\n        addCssClass(this.launcher, 'onesignal-bell-launcher-bottom-right')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell position ' + this.options.position);\n      }\n\n      if (this.options.theme === 'default') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-theme-default')\n      }\n      else if (this.options.theme === 'inverse') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-theme-inverse')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell theme ' + this.options.theme);\n      }\n\n      OneSignal.isPushNotificationsEnabled((isPushEnabled) => {\n        if (isPushEnabled) {\n          console.log('isPushEnabled', isPushEnabled);\n          var promise = this.setInactive(true);\n        } else {\n          var promise = Promise.resolve(); // Do nothing, returns a promise that executes immediately\n        }\n\n        promise.then(() => {\n          this._scheduleEvent(this.options.showLauncherAfter, () => {\n            this.showLauncher();\n          })\n            .then(() => {\n              return this._scheduleEvent(this.options.showBadgeAfter, () => {\n                if (this.options.prenotify) {\n                  if (!isPushEnabled) {\n                    this.enqueueMessage('Click to subscribe to notifications');\n                    this.showBadge();\n                  }\n                }\n                this.initialized = true;\n              });\n            })\n            .catch((e) => {\n              log.error(e);\n            });\n        });\n      });\n    }\n\n    _getCurrentSetSubscriptionState() {\n      let setSubscriptionState = LimitStore.get('setsubscription.value');\n      var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n      return currentSetSubscription;\n    }\n\n    updateBellLauncherDialogBody() {\n      return new Promise((resolve, reject) => {\n        clearDomElementChildren(this.launcherDialogBody);\n\n        let currentSetSubscription = this._getCurrentSetSubscriptionState();\n        let contents = 'Nothing to show.';\n\n        if (this.state === 'subscribed' && currentSetSubscription === true ||\n            this.state === 'unsubscribed' && currentSetSubscription === false) {\n          contents = `\n                  <h1>Manage Site Notifications</h1>\n                  <div class=\"push-notification\">\n                    <div class=\"push-notification-icon\"></div>\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    <button type=\"button\" id=\"action-button\">${(this.state === 'subscribed') ? 'Unsubscribe' : 'Subscribe'}</button>\n                  </div>\n                  <div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by OneSignal</div>\n                `;\n        }\n        else if (this.state === 'blocked') {\n          contents = `\n                  <h1>Receiving Notifications</h1>\n                  <div class=\"blurb\">\n                    <p>To receive notifications:</p>\n                  </div>\n                  <div class=\"push-notification\">\n                    <div class=\"push-notification-icon\"></div>\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    <button type=\"button\" id=\"action-button\">${(this.state === 'subscribed') ? 'Unsubscribe' : 'Subscribe'}</button>\n                  </div>\n                  <div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by OneSignal</div>\n                `;\n        }\n\n\n        addDomElement(this.launcherDialogBody, 'beforeend', contents);\n        resolve();\n      });\n    }\n\n    _scheduleEvent(msInFuture, task) {\n      if (typeof task !== 'function')\n        throw new Error('Task to be scheduled must be a function.');\n      if (msInFuture <= 0) {\n        task();\n        return Promise.resolve();\n      }\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          task();\n          resolve();\n        }, msInFuture);\n      });\n    }\n\n    /**\n     * Updates the current state to the correct new current state. Returns a promise.\n     */\n    updateState() {\n      debugger;\n      OneSignal.isPushNotificationsEnabled((isEnabled) => {\n        console.info('Finally called this callback back.');\n        debugger;\n        this.setState(isEnabled ? 'subscribed' : 'unsubscribed');\n      });\n    }\n\n    /**\n     * Updates the current state to the specified new state.\n     * @param newState One of ['subscribed', 'unsubscribed'].\n     */\n    setState(newState) {\n      if (this.states.hasOwnProperty(newState)) {\n        let lastState = this.state;\n        this.state = newState;\n        if (lastState !== newState) {\n          triggerEvent('onesignal.bell.state.changed', {from: lastState, to: newState});\n          // Update anything that should be changed here in the new state\n        }\n\n        // Update anything that should be reset to the same state\n        this.setMessage(this.messages[newState]);\n      }\n      else {\n        log.error('Cannot update to invalid new state', newState);\n      }\n    }\n\n    enqueueMessage(message, notify = false) {\n      this.messages.queued.push(message);\n      if (this.isBadgeOpen()) {\n        this.hideBadge()\n        .then(() => {\n            this.incrementBadge();\n            this.showBadge();\n          });\n      } else {\n        this.incrementBadge();\n        // Special case so the badge doesn't immediately render\n        if (this.initialized) {\n          this.showBadge();\n        }\n      }\n    }\n\n    dequeueMessage(message) {\n      let dequeuedMessage = this.messages.queued.pop(message);\n      if (this.isBadgeOpen()) {\n        this.hideBadge()\n          .then(() => {\n            this.decrementBadge();\n            this.showBadge();\n          });\n      } else {\n        let newBadgeNumber = this.decrementBadge();\n        if (newBadgeNumber <= 0) {\n          this.hideBadge();\n        }\n      }\n      return dequeuedMessage;\n    }\n\n    showDialog() {\n      return new Promise((resolve, reject) => {\n        this.updateBellLauncherDialogBody().then(() => {\n          addCssClass(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n          once(this.launcherDialog, 'transitionend', (e) => {\n            if (e.target === this.launcherDialog) {\n              e.stopPropagation();\n              return resolve(e);\n            }\n          })\n        })\n        .catch((e) => {\n            log.error(e);\n          });\n      });\n    }\n\n    hideDialog() {\n      removeCssClass(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n      return new Promise((resolve, reject) => {\n        once(this.launcherDialog, 'transitionend', (e) => {\n          if (e.target === this.launcherDialog) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      });\n    }\n\n    isDialogOpened() {\n      return document.querySelector('.onesignal-bell-launcher-dialog-opened');\n    }\n\n    showLauncher() {\n      addCssClass(this.launcher, 'onesignal-bell-launcher-active');\n    }\n\n    hideLauncher() {\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-active');\n    }\n\n    setMessage(message) {\n      this.launcherMessageBody.innerHTML = message;\n    }\n\n    showMessage() {\n      addCssClass(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n    }\n\n    hideMessage() {\n      removeCssClass(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n      return new Promise((resolve, reject) => {\n        once(this.launcherMessage, 'transitionend', (e) => {\n          if (e.target === this.launcherMessage) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      });\n    }\n\n    isMessageOpened() {\n      return document.querySelector('.onesignal-bell-launcher-message-opened');\n    }\n\n    displayMessage(content, hideAfter = 0) {\n      log.info('Displaying message.');\n      return new Promise((resolve, reject) => {\n        if (this.isMessageOpened()) {\n          this.hideMessage()\n            .then(() => {\n              this.setMessage(content);\n              this.showMessage();\n              if (hideAfter) {\n                setTimeout(() => {\n                  this.hideMessage();\n                  return resolve();\n                }, hideAfter);\n              } else {\n                return resolve();\n              }\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        } else {\n          this.setMessage(content);\n          this.showMessage();\n          if (hideAfter) {\n            setTimeout(() => {\n              this.hideMessage();\n              return resolve();\n            }, hideAfter);\n          } else {\n            return resolve();\n          }\n        }\n      });\n    }\n\n    setBadge(content) {\n      this.launcherBadge.innerHTML = content;\n    }\n\n    showBadge() {\n      if (this.badgeHasContent()) {\n        addCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n      }\n    }\n\n    isBadgeOpen() {\n      return document.querySelector('.onesignal-bell-badge-opened');\n    }\n\n    badgeHasContent() {\n      return this.launcherBadge.innerHTML.length > 0;\n    }\n\n    getBadgeContent() {\n      return this.launcherBadge.innerHTML;\n    }\n\n    incrementBadge() {\n      let content = this.getBadgeContent();\n      // If it IS a number (is not not a number)\n      if (!isNaN(content)) {\n        let badgeNumber = +content; // Coerce to int\n        badgeNumber += 1;\n        this.setBadge(badgeNumber)\n        return badgeNumber;\n      }\n    }\n\n    decrementBadge() {\n      let content = this.getBadgeContent();\n      // If it IS a number (is not not a number)\n      if (!isNaN(content)) {\n        let badgeNumber = +content; // Coerce to int\n        badgeNumber -= 1;\n        if (badgeNumber > 0)\n          this.setBadge(badgeNumber)\n        else\n          this.setBadge(\"\");\n        return badgeNumber;\n      }\n    }\n\n    hideBadge() {\n      return new Promise((resolve, reject) => {\n        removeCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n        once(this.launcherBadge, 'transitionend', (e) => {\n          if (e.target === this.launcherBadge) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      })\n      .catch(function (e) {\n          log.error(e);\n          reject(e);\n      });\n    }\n\n    isInactive() {\n      return document.querySelector('.onesignal-bell-launcher-inactive');\n    }\n\n    setInactive(isInactive) {\n      if (isInactive) {\n        this.hideMessage();\n        if (this.badgeHasContent()) {\n          return this.hideBadge()\n            .then(() => {\n              addCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n              this.setSize('small');;\n              var launcher = this.launcher;\n              return new Promise((resolve, reject) => {\n                // Once the launcher has finished shrinking down\n                once(this.launcher, 'transitionend', (e) => {\n                  if (e.target === this.launcher) {\n                    e.stopPropagation();\n                    return resolve(e);\n                  }\n                })\n              });\n            })\n            .then(() => {\n              this.showBadge();\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n        else {\n          addCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n          this.setSize('small');\n          var launcher = this.launcher;\n          return new Promise((resolve, reject) => {\n            // Once the launcher has finished shrinking down\n            once(this.launcher, 'transitionend', (e) => {\n              if (e.target === this.launcher) {\n                e.stopPropagation();\n                return resolve(e);\n              }\n            })\n          });\n        }\n      }\n      else {\n        if (this.badgeHasContent()) {\n          return this.hideBadge()\n            .then(() => {\n              removeCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n              this.setSize(this.options.size);\n              var launcher = this.launcher;\n              return new Promise((resolve, reject) => {\n                // Once the launcher has finished shrinking down\n                once(this.launcher, 'transitionend', (e) => {\n                  if (e.target === this.launcher) {\n                    e.stopPropagation();\n                    return resolve(e);\n                  }\n                })\n              });\n            })\n            .then(() => {\n              this.showBadge();\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        } else {\n          removeCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n          this.setSize(this.options.size);\n          var launcher = this.launcher;\n          return new Promise((resolve, reject) => {\n            // Once the launcher has finished shrinking down\n            once(this.launcher, 'transitionend', (e) => {\n              if (e.target === this.launcher) {\n                e.stopPropagation();\n                return resolve(e);\n              }\n            })\n          });\n        }\n      }\n    }\n\n    setSize(size) {\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-sm');\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-md');\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-lg');\n      if (size === 'small') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-sm')\n      }\n      else if (size === 'medium') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-md')\n      }\n      else if (size === 'large') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-lg')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell size ' + size);\n      }\n    }\n\n    get container() {\n      return document.querySelector('#onesignal-bell-container');\n    }\n\n    get launcher() {\n      return this.container.querySelector('#onesignal-bell-launcher');\n    }\n\n    get launcherButton() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-button');\n    }\n\n    get launcherBadge() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-badge');\n    }\n\n    get launcherMessage() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-message');\n    }\n\n    get launcherMessageBody() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-message-body');\n    }\n\n    get launcherDialog() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-dialog');\n    }\n\n    get launcherDialogBody() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-dialog-body');\n    }\n  }\n\n  module.exports = Bell;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bell.scss\n ** module id = 12\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:right bottom;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/bell.scss\n ** module id = 13\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 14\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/raw-loader!./src/bell.svg\n ** module id = 16\n ** module chunks = 0\n **/"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///OneSignalSDK.js","webpack:///webpack/bootstrap c77f77540c9bc91b32ff","webpack:///./src/entry.js","webpack:///./src/sdk.js?dfb0","webpack:///./src/sdk.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/vars.js","webpack:///./src/utils.js","webpack:///./~/loglevel/lib/loglevel.js","webpack:///./src/api.js","webpack:///./src/limitStore.js","webpack:///./src/events-polyfill.js","webpack:///./src/events.js","webpack:///./src/bell.js","webpack:///./src/bell.scss?6b8c","webpack:///./src/bell.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/bell.svg"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","OneSignal","predefinedOneSignalPushes","_process_pushes","global","this","fetch","_interopRequireDefault","obj","__esModule","default","_vars","_api","_loglevel","_loglevel2","_limitStore","_limitStore2","_events","_bell","_bell2","_utils","_VERSION","_HOST_URL","HOST_URL","_app_id","_tagsToSendOnRegister","_notificationOpened_callback","_idsAvailable_callback","_defaultLaunchURL","_initOptions","_httpRegistration","_main_page_port","_isNotificationEnabledCallback","_subscriptionSet","_initOneSignalHttp","_sessionIframeAdded","_useHttpMode","_windowWidth","_windowHeight","_isNewVisitor","_isInitialized","bell","LOGGING","SERVICE_WORKER_UPDATER_PATH","SERVICE_WORKER_PATH","SERVICE_WORKER_PARAM","_ensureDbInstance","Promise","resolve","reject","_oneSignal_db","request","indexedDB","open","onsuccess","event","database","target","result","onerror","error","onupgradeneeded","debug","db","createObjectStore","keyPath","_getDbValue","table","key","then","transaction","objectStore","get","_triggerEvent_dbValueRetrieved","errorCode","e","_getDbValues","jsonResult","cursor","openCursor","value","_putDbValue","put","_triggerEvent_dbValueSet","_deleteDbValue","_sendToOneSignalApi","url","action","inData","callback","failedCallback","contents","method","headers","Content-type","body","JSON","stringify","status","response","Error","statusText","json","jsonData","_getLanguage","navigator","language","length","substring","_getPlayerId","_getPlayerId_gotUserId","_getBrowserName","appVersion","match","userAgent","_registerWithOneSignal","appId","registrationId","deviceType","_registerWithOneSignal_GotUserId","userIdResult","_getNotificationTypes","notif_types","requestUrl","app_id","device_type","timezone","Date","getTimezoneOffset","device_model","platform","device_os","sdk","notification_types","identifier","type","registeredCallback","responseJSON","sessionStorage","setItem","_sendUnsentTags","userId","curr_callback","pop","creator","opener","parent","_safePostMessage","idsAvailable","origin","window","close","sendTags","setDefaultNotificationUrl","setDefaultIcon","icon","setDefaultTitle","title","_visibilitychange","document","visibilityState","removeEventListener","_sessionInit","onCustomPromptClicked","detail","_checkTrigger_eventSubscriptionChanged","onNativePromptChanged","_onSubscriptionChanged","welcome_notification_opts","welcome_notification_disabled","undefined","message","sendNotification","en","triggerEvent","_onDbValueRetrieved","_onDbValueSet","info","_onInternalSubscriptionSet","newSubscriptionValue","_onSdkInitialized","isBrowserEnv","size","position","theme","create","trace","permissions","lastPermission","currentPermission","ids","lastId","currentId","subscriptionStates","lastSubscriptionState","currentSubscriptionState","newSubscriptionState","lastTriggerTimes","now","currentTime","lastTriggerTime","elapsedTimeSeconds","lastEventStates","currentState","lastState","shouldNotTriggerEvent","_triggerEvent_subscriptionChanged","isPushNotificationsSupported","init","options","warn","enableAll","setDefaultLevel","isBrowserFirefox","getFirefoxVersion","_usingNativePermissionHook","currentNotificationPermission","_getNotificationPermission","query","name","permissionStatus","onchange","recentPermissions","permissionBeforePrompt","_triggerEvent_nativePromptPermissionChanged","storeValue","_getSubscription","currentSubscription","addEventListener","isSupportedSafari","_supportsDirectPermission","subdomainName","DEV_HOST","s","createElement","setAttribute","head","appendChild","readyState","_internalInit","all","_internalInit_GotAppRegistrationSubscriptionIds","appIdResult","registrationIdResult","subscriptionResult","removeItem","getItem","Notification","permission","autoRegister","registerForPushNotifications","fromRegisterFor","_initHttp","continuePressed","setSubscription","isIframe","messageChannel","MessageChannel","port1","onmessage","data","initOptions","defaultUrl","defaultTitle","defaultIcon","parent_url","registerForPushNotifications_GotNotificationOpened","notificationOpenedResult","openedNotification","getNotificationPermission","_getSubdomainState","curState","setSubdomainState","oneSignalInitPageReady","port2","_initSaveState","location","search","indexOf","player_id","serviceWorker","register","_enableNotifications","_registerError","state","notifPermssion","subscriptionSet","isPushEnabled","protocol","host","hostPageProtocol","dualScreenLeft","screenLeft","screen","left","dualScreenTop","screenTop","top","thisWidth","innerWidth","documentElement","clientWidth","width","thisHeight","innerHeight","clientHeight","height","childWidth","childHeight","message_localization_opts","message_localization_opts_str","message_localization_params","i","encoded_value","encodeURIComponent","childWindow","focus","_addSessionIframe","safari_web_id","notificationPermissionBeforeRequest","safari","pushNotification","requestPermission","notificationPermissionAfterRequest","deviceToken","toLowerCase","modalPrompt","isPushNotificationsEnabled","pushEnabled","element","innerHTML","iframeStyle","getElementsByTagName","iframeNode","className","style","cssText","src","toString","getElementById","_registerForW3CPush","_registerForW3CPush_GotRegistrationId","getRegistration","sw_path","path","active","scriptURL","versionResult","unregister","installing","node","display","err","existingServiceWorkerRegistration","ServiceWorkerRegistration","prototype","ready","serviceWorkerRegistration","_subscribeForPush","safariWebId","_triggerEvent_customPromptClicked","clickResult","from","to","_triggerEvent_internalSubscriptionSet","pushManager","subscribe","userVisibleOnly","subscription","_subscribeForPush_GotAppId","subscriptionId","endpoint","replace","RegExp","isSupportedFireFox","code","sendTag","jsonKeyValue","jsonPair","sendTags_GotUserId","tags","resultObj","_obj","deleteTag","deleteTags","keyArray","_handleNotificationOpened","notificationData","parse","notification","tag","_handleNotificationOpened_GotAppUserIds","results","opened","waitUntil","clients","matchAll","clientList","launchURL","registration","scope","client","postMessage","openWindow","_getTitle","incomingTitle","_getTitle_GotDefaultPageTitles","defaultTitleResult","pageTitleResult","_handleGCMMessage","text","_handleGCMMessage_GotDefaultIcon","defaultIconResult","_getLastNotifications","custom","alert","additionalData","a","u","showNotification","defaultUrlResult","itemCallback","completeCallback","_getLastNotifications_GotUserId","_listener_receiveMessage","receiveMessage","eventData","_iframePort","ports","_fireNotificationEnabledCallback","URL","httpsPromptAccepted","elem","parentNode","removeChild","httpsPromptCanceled","httpPromptAccepted","httpPromptCanceled","addListenerForNotificationOpened","getIdsAvailable","push","getIdsAvailable_GotUserRegistrationIds","getTags","isBrowserSafari","db_subscriptionSet","newSubscription","setSubscriptionSetCallback","targetOrigin","receiver","tOrigin","startsWith","queryDict","substr","split","forEach","item","validPreURLRegex","array","functionName","shift","apply","importScripts","self","isSWonSubdomain","href","pathname","caches","cache","addAll","respondWith","normalizeName","String","test","TypeError","normalizeValue","Headers","map","append","Object","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","rejected","decode","normalizeMethod","upcased","toUpperCase","methods","Request","input","credentials","mode","referrer","form","trim","bytes","join","decodeURIComponent","xhr","pairs","getAllResponseHeaders","header","Response","bodyInit","ok","list","values","getAll","has","hasOwnProperty","set","thisArg","clone","redirectStatuses","redirect","RangeError","responseURL","getResponseHeader","XMLHttpRequest","responseText","withCredentials","responseType","setRequestHeader","send","polyfill","defineProperty","PROD_HOST","isDev","_typeof","Symbol","constructor","isArray","variable","getHumanizedTimeDuration","timeDurationInMilliseconds","addPluralSuffix","number","duration","Math","floor","years","days","hours","minutes","seconds","chromeVersion","parseInt","safariVersion","fireFoxVersion","removeDomElement","selector","els","querySelectorAll","addDomElement","targetSelectorOrElement","addOrder","elementHtml","querySelector","insertAdjacentHTML","clearDomElementChildren","firstChild","addCssClass","cssClass","classList","add","removeCssClass","remove","on","task","once","manualDestroy","arguments","taskWrapper","internalTaskFunction","destroyEventListener","off","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","root","definition","log","realMethod","methodName","console","undefinedType","bindMethod","noop","bind","Function","enableLoggingWhenConsoleArrives","level","loggerName","replaceLoggingMethods","logMethods","methodFactory","defaultMethodFactory","Logger","defaultLevel","factory","persistLevelIfPossible","levelNum","levelName","localStorage","storageKey","ignore","cookie","getPersistedLevel","storedLevel","exec","slice","levels","currentLevel","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setLevel","persist","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","apiCall","playerIds","titles","params","headings","include_player_ids","isAnyWeb","LimitStore","store","LIMIT","CustomEvent","bubbles","cancelable","details","evt","createEvent","initCustomEvent","Event","eventName","dispatchEvent","_classCallCheck","instance","Constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","logoSvg","Bell","_this","_ref","_ref$size","_ref$position","_ref$theme","_ref$showLauncherAfte","showLauncherAfter","_ref$showBadgeAfter","showBadgeAfter","_ref$messages","messages","unsubscribed","subscribed","_ref$prenotify","prenotify","queued","states","uninitialized","blocked","originalCall","currentSetSubscriptionState","_getCurrentSetSubscriptionState","hideMessage","isDialogOpened","showDialog","wasDialogClicked","launcherDialog","contains","hideDialog","wasInactive","setInactive","isInactive","isMessageOpened","dequeuedMessage","dequeueMessage","setMessage","showMessage","setState","displayMessage","updateState","_this2","container","launcher","launcherMessage","launcherButton","isHoveringData","launcherBadge","setSize","promise","_scheduleEvent","showLauncher","enqueueMessage","showBadge","initialized","setSubscriptionState","currentSetSubscription","updateBellLauncherDialogBody","_this3","launcherDialogBody","msInFuture","setTimeout","_this4","isEnabled","newState","_this5","notify","isBadgeOpen","hideBadge","incrementBadge","_this6","decrementBadge","newBadgeNumber","_this7","stopPropagation","_this8","hideLauncher","launcherMessageBody","_this9","content","_this10","hideAfter","setBadge","badgeHasContent","getBadgeContent","isNaN","badgeNumber","_this11","_this12","update","locals","hot","accept","newContent","require","dispose","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","insertBefore","nextSibling","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","createObjectURL","revokeObjectURL","btoa","updateLink","applyToTag","updateStyle","newObj","index","styleSheet","replaceText","cssNode","createTextNode","childNodes","unescape","oldSrc","memoize","fn","memo","isOldIE","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"CAAS,SAAUA,SCInB,QAAAC,qBAAAC,UAGA,GAAAC,iBAAAD,UACA,MAAAC,kBAAAD,UAAAE,OAGA,IAAAC,QAAAF,iBAAAD,WACAE,WACAE,GAAAJ,SACAK,OAAA,MAIAP,SAAAE,UAAAM,KAAAH,OAAAD,QAAAC,cAAAD,QAAAH,oBAGAI,QAAAE,OAAA,IAGA,OAAAF,QAAAD,QAvBA,GAAAD,oBA4BAF,qBAAAQ,EAAAT,OAGAC,qBAAAS,EAAAP,gBAGAF,qBAAAU,EAAA,EAGA,OAAAV,qBAAA,KDMM,SAASI,OAAQD,QAASH,qBAE/B,YE9CD,IAAyB,mBAAdW,WACT,GAAIC,2BAA4BD,SAElCX,qBAAQ,EAER,IAAIY,0BACFD,UAAUE,gBAAgBD,4BFkDtB,SAASR,OAAQD,QAASH,sBGxDhC,SAAAc,QAAAV,OAAAD,QAAAW,OAAA,UAAAd,oBAAA,KH2D8BO,KAAKJ,QAAU,WAAa,MAAOY,WAI3D,SAASX,OAAQD,QAASH,sBAEH,SAASgB,OAAQ,YAwB7C,SAASC,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAASF,KAtBvF,GAAIG,OAAQrB,oBAAoB,EAEhC,IAAIsB,MAAOtB,oBAAoB,EAE/B,IAAIuB,WAAYvB,oBAAoB,EAEpC,IAAIwB,YAAaP,uBAAuBM,UAExC,IAAIE,aAAczB,oBAAoB,EAEtC,IAAI0B,cAAeT,uBAAuBQ,YAE1CzB,qBAAoB,EAEpB,IAAI2B,SAAU3B,oBAAoB,GAElC,IAAI4B,OAAQ5B,oBAAoB,GAEhC,IAAI6B,QAASZ,uBAAuBW,MAEpC,IAAIE,QAAS9B,oBAAoB,EI9ElC,IAAIW,YACFoB,SAAU,OACVC,UAASX,MAXmBY,SAY5BC,QAAS,KACTC,sBAAuB,KACvBC,6BAA8B,KAC9BC,0BACAC,kBAAmB,KACnBC,aAAc,KACdC,kBAAmB,MACnBC,gBAAiB,KACjBC,+BAAgC,KAChCC,iBAAkB,KAClBC,mBAAoB,KACpBC,oBAAqB,MACrBC,aAAc,KACdC,aAAc,IACdC,cAAe,IACfC,cAAe,MACfC,eAAgB,MAChBC,KAAM,KACNC,QAAS,KACTC,4BAA6B,+BAC7BC,oBAAqB,wBACrBC,wBAEAC,kBAAmB,QAAAA,qBACjB,MAAO,IAAIC,SAAQ,SAAUC,QAASC,QACpC,GAAIhD,UAAUiD,cACZF,QAAQ/C,UAAUiD,mBAEf,CACH,GAAIC,SAAUC,UAAUC,KAAK,oBAAqB,EAClDF,SAAQG,UAAY,SAAUC,OAC5B,GAAIC,UAAWD,MAAME,OAAOC,MAC5BzD,WAAUiD,cAAgBM,QAC1BR,SAAQQ,UAEVL,SAAQQ,QAAU,SAAUJ,OAC1BzC,sBAAI8C,MAAM,4BAA6BL,MACvCN,QAAOM,OAGTJ,SAAQU,gBAAkB,SAAUN,OAClCzC,sBAAIgD,MAAM,oCACV,IAAIC,IAAKR,MAAME,OAAOC,MACtBK,IAAGC,kBAAkB,OAAQC,QAAS,QACtCF,IAAGC,kBAAkB,sBAAuBC,QAAS,OACrDF,IAAGC,kBAAkB,WAAYC,QAAS,aAMlDC,YAAa,QAAAA,aAAUC,MAAOC,KAC5B,MAAO,IAAIrB,SAAQ,SAAUC,QAASC,QACpChD,UAAU6C,oBACPuB,KAAK,SAAUb,UACd,GAAIL,SAAUK,SAASc,YAAYH,OAAOI,YAAYJ,OAAOK,IAAIJ,IACjEjB,SAAQG,UAAY,SAAUC,OAC5B,GAAIJ,QAAQO,OACVzD,UAAUwE,+BAA+BtB,QAAQO,OACnDV,SAAQG,QAAQO,QAElBP,SAAQQ,QAAU,SAAUJ,OAC1BN,OAAOE,QAAQuB,cATrBzE,SAYS,SAAU0E,GACf7D,sBAAI8C,MAAMe,QAMlBC,aAAc,QAAAA,cAAUT,OACtB,MAAO,IAAIpB,SAAQ,SAAUC,QAASC,QACpChD,UAAU6C,oBACPuB,KAAK,SAAUb,UACd,GAAIqB,cACJ,IAAIC,QAAStB,SAASc,YAAYH,OAAOI,YAAYJ,OAAOY,YAC5DD,QAAOxB,UAAY,SAAUC,OAC3B,GAAIuB,QAASvB,MAAME,OAAOC,MAC1B,IAAIoB,OAAQ,CACV7E,UAAUwE,+BAA+BK,OACzCD,YAAWC,OAAOV,KAAOU,OAAOE,MAAMA,KACtCF,0BAGA9B,SAAQ6B,YAEZC,QAAOnB,QAAU,SAAUJ,OACzBN,OAAO6B,OAAOJ,cAfpBzE,SAkBS,SAAU0E,GACf7D,sBAAI8C,MAAMe,QAKlBM,YAAa,QAAAA,aAAUd,MAAOa,OAC5B,MAAO,IAAIjC,SAAQ,SAAUC,QAASC,QACpChD,UAAU6C,oBACPuB,KAAK,SAAUb,UACdA,SAASc,aAAaH,OAAQ,aAAaI,YAAYJ,OAAOe,IAAIF,MAClE/E,WAAUkF,yBAAyBH,MACnChC,SAAQgC,SAJZ/E,SAMS,SAAU0E,GACf7D,sBAAI8C,MAAMe,QAKlBS,eAAgB,QAAAA,gBAAUjB,MAAOC,KAC/B,MAAO,IAAIrB,SAAQ,SAAUC,QAASC,QACpChD,UAAU6C,oBACPuB,KAAK,SAAUb,UACdA,SAASc,aAAaH,OAAQ,aAAaI,YAAYJ,OAAvDX,UAAqEY,IACrEpB,SAAQoB,OAHZnE,SAKS,SAAU0E,GACf7D,sBAAI8C,MAAMe,QAMlBU,oBAAqB,QAAAA,qBAAUC,IAAKC,OAAQC,OAAQC,SAAUC,gBAC5D5E,sBAAIgD,MAAK,WAAYyB,OAAM,KAAItF,UAAUqB,UAAYgE,KAAG,cAAeE,OACvE,IAAIG,WACFC,OAAQL,OAIV,IAAIC,OAAQ,CACVG,SAASE,SAAWC,eAAgB,iCACpCH,UAASI,KAAOC,KAAKC,UAAUT,QAGjClF,MAAML,UAAUqB,UAAYgE,IAAKK,UAC9BtB,KAAK,QAAS6B,QAAOC,UACpB,GAAIA,SAASD,QAAU,KAAOC,SAASD,OAAS,IAC9C,MAAOnD,SAAQC,QAAQmD,cAEvB,OAAOpD,SAAQE,OAAO,GAAImD,OAAMD,SAASE,eAE5ChC,KAAK,QAAS6B,QAAOC,UACpB,MAAOA,UAASG,SAEjBjC,KAAK,SAAUkC,UACd,GAAgB,MAAZd,SACFA,SAASc,YAZfjG,SAcS,SAAUqE,GACf7D,sBAAI8C,MAAM,0CAA2Ce,EACrD,IAAsB,MAAlBe,eACFA,oBAIRc,aAAc,QAAAA,gBACZ,MAAOC,WAAUC,SAAYD,UAAUC,SAASC,OAAS,EAAIF,UAAUC,SAASE,UAAU,EAAG,GAAKH,UAAUC,SAAY,MAG1HG,aAAc,QAAAA,cAAU7B,MAAOS,UAC7B,GAAIT,MACFS,SAAST,WAET/E,WAAUiE,YAAY,MAAO,UAC1BG,KAAK,QAASyC,wBAAuBpD,QACpC,GAAIA,OACF+B,SAAS/B,OAAO/D,QAEhB8F,UAAS,QALfxF,SAOS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAMlBoC,gBAAiB,QAAAA,mBACf,GAAIN,UAAUO,WAAWC,MAAM,kBAC7B,MAAO,QACT,IAAIR,UAAUO,WAAWC,MAAM,yBAC7B,MAAO,QACT,IAAIR,UAAUS,UAAUD,MAAM,mCAC5B,MAAO,SAET,OAAO,IAGTE,uBAAwB,QAAAA,wBAAUC,MAAOC,eAAgBC,YAEvDrH,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,QAASkD,kCAAiCC,cAC9CvH,UAAUwH,sBAAsB,SAAUC,aACxC,GAAIC,YAAa,SAEjB,IAAIpB,WACFqB,OAAQR,MACRS,YAAaP,WACbZ,SAAUzG,UAAUuG,eACpBsB,SAA2C,KAAjC,GAAIC,OAAOC,oBACrBC,aAAcxB,UAAUyB,SAAW,IAAMjI,UAAU8G,kBACnDoB,WAAY1B,UAAUO,WAAWC,MAAM,mBAAqBR,UAAUO,WAAWC,MAAM,wBAA0BR,UAAUS,UAAUD,MAAM,oCAAoC,GAC/KmB,IAAKnI,UAAUoB,SAGjB,IAAImG,aAAc,CAChBG,WAAa,WAAaH,aAAa7H,GAAK,aAC5C4G,UAAS8B,mBAAqBX,gBAE3B,IAAmB,GAAfA,YACPnB,SAAS8B,mBAAqBX,WAEhC,IAAIL,eAAgB,CAClBd,SAAS+B,WAAajB,cACtBpH,WAAUgF,YAAY,OAAQsD,KAAM,iBAAkB5I,GAAI0H,iBAG5DpH,UAAUoF,oBAAoBsC,WAAY,OAAQpB,SAChD,QAASiC,oBAAmBC,cAC1BC,eAAeC,QAAQ,qBAAsB,KAE7C,IAAIF,aAAa9I,GAAI,CACnBM,UAAUgF,YAAY,OAAQsD,KAAM,SAAU5I,GAAI8I,aAAa9I,IAC/DM,WAAU2I,kBAGZ3I,UAAU4G,aAAa4B,aAAa9I,GAAI,SAAUkJ,QAChD,GAAI5I,UAAU0B,uBAAuBgF,OAAS,EAC5C,KAAO1G,UAAU0B,uBAAuBgF,OAAS,GAAG,CAClD,GAAImC,eAAgB7I,UAAU0B,uBAAuBoH,KACrDD,gBAAeD,OAAQA,OAAQxB,eAAgBA,iBAInD,GAAIpH,UAAU6B,kBAAmB,CAC/BhB,sBAAIgD,MAAM,yDACVhD,uBAAIgD,MAAM7D,UAAU4B,aACpB,IAAImH,SAAUC,QAAUC,MACxBjJ,WAAUkJ,iBAAiBH,SACzBI,cACEP,OAAQA,OACRxB,eAAgBA,iBAEjBpH,UAAU4B,aAAawH,OAAQ,KAElC,IAAIJ,OACFK,OAAOC,iBAxDvBtJ,SAgES,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAKhBiE,gBAAiB,QAAAA,mBACf,GAAI3I,UAAUwB,sBAAuB,CACnCxB,UAAUuJ,SAASvJ,UAAUwB,sBAC7BxB,WAAUwB,sBAAwB,OAItCgI,0BAA2B,QAAAA,2BAAUnE,KACnCrF,UAAUgF,YAAY,WAAYb,IAAK,aAAcY,MAAOM,OAG9DoE,eAAgB,QAAAA,gBAAUC,MACxB1J,UAAUgF,YAAY,WAAYb,IAAK,cAAeY,MAAO2E,QAG/DC,gBAAiB,QAAAA,iBAAUC,OACzB5J,UAAUgF,YAAY,WAAYb,IAAK,eAAgBY,MAAO6E,SAGhEC,kBAAmB,QAAAA,qBACjB,GAAgC,WAA5BC,SAASC,gBAA8B,CACzCD,SAASE,oBAAoB,mBAAoBhK,UAAU6J,kBAC3D7J,WAAUiK,mBAIdC,sBAAuB,QAAAA,uBAAU5G,OAC/BzC,sBAAIgD,MAAM,yCAA0CP,MAAM6G,OAC1DnK,WAAUoK,0CAGZC,sBAAuB,QAAAA,uBAAU/G,OAC/BzC,sBAAIgD,MAAM,mDAAoDP,MAAM6G,OACpEnK,WAAUoK,0CAGZE,uBAAwB,QAAAA,wBAAUhH,OAChCzC,sBAAIgD,MAAM,wCAAyCP,MAAM6G,OACzD,IAAInK,UAAUsC,eAAkC,OAAjBgB,MAAM6G,OACnCnK,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,SAAUX,QACd,GAAI8G,2BAA4BvK,UAAU4B,aAAkC,mBAC5E,IAAI4I,+BAA+DC,SAA9BF,2BAAoF,OAAzCA,0BAAmC,OACnH,IAAIX,OAAuCa,SAA9BF,2BAAkFE,SAAvCF,0BAAiC,OAA0D,OAAvCA,0BAAiC,MAAcA,0BAAiC,MAAI,EAChM,IAAIG,SAAyCD,SAA9BF,2BAAoFE,SAAzCF,0BAAmC,SAA4D,OAAzCA,0BAAmC,SAAcA,0BAAmC,QAAE7D,OAAS,EAAK6D,0BAAmC,QAAI,yBAC3P,KAAKC,8BAA+B,CAClC3J,sBAAIgD,MAAM,kFACV,EAAAlD,KAlUHgK,kBAkUoB3K,UAAUuB,SAAUkC,OAAO/D,KAAMkL,GAAMhB,QAASgB,GAAMF,WACvE,EAAA1J,QA/TH6J,cA+TgB,6CAA8CjB,MAAOA,MAAOc,QAASA,SAClF1K,WAAUsC,cAAgB,SAVhCtC,SAaS,SAAU0E,GACf7D,sBAAI8C,MAAMe,IAGhB3D,yBAAWkE,IAAI,qBAAsB3B,MAAM6G,SAG7CW,oBAAqB,QAAAA,qBAAUxH,OAC7BzC,sBAAIgD,MAAM,gCAAiCP,MAAM6G,SAGnDY,cAAe,QAAAA,eAAUzH,OACvBzC,sBAAIgD,MAAM,+BAAgCP,MAAM6G,OAChD,IAAIa,MAAO1H,MAAM6G,MACjB,IAAkB,WAAda,KAAK1C,KAAmB,CAC1BvH,wBAAWkE,IAAI,gBAAiB+F,KAAKtL,GACrCM,WAAUoK,2CAIda,2BAA4B,QAAAA,4BAAU3H,OACpCzC,sBAAIgD,MAAM,4CAA6CP,MAAM6G,OAC7D,IAAIe,sBAAuB5H,MAAM6G,MACjCpJ,yBAAWkE,IAAI,wBAAyBiG,qBACxClL,WAAUoK,0CAGZe,kBAAmB,QAAAA,qBACjB,IAAI,EAAAhK,OA7VCiK,gBA6Ve,CAClBvK,sBAAImK,KAAK,gBACThL,WAAUwC,KAAO,GAAAtB,oBACfmK,KAAM,QACNC,SAAU,eACVC,MAAO,WAETvL,WAAUwC,KAAKgJ,SAGjBxL,UAAUuC,eAAiB,IAC3B1B,uBAAI4K,MAAM,8CAGZrB,uCAAwC,QAAAA,0CACtCvJ,sBAAIgD,MAAM,mDACV,IAAI6H,aAAc3K,wBAAWwD,IAAI,0BACjC,IAAIoH,gBAAiBD,YAAYA,YAAYhF,OAAS,EACtD,IAAIkF,mBAAoBF,YAAYA,YAAYhF,OAAS,EAEzD,IAAImF,KAAM9K,wBAAWwD,IAAI,gBACzB,IAAIuH,QAASD,IAAIA,IAAInF,OAAS,EAC9B,IAAIqF,WAAYF,IAAIA,IAAInF,OAAS,EAEjC,IAAIsF,oBAAqBjL,wBAAWwD,IAAI,wBACxC,IAAI0H,uBAAwBD,mBAAmBA,mBAAmBtF,OAAS,EAC3E,IAAIwF,0BAA2BF,mBAAmBA,mBAAmBtF,OAAS,EAG9E,IAAIyF,sBAAuB,WAE3B,KAAyB,YAAnBR,gBAAmD,WAAnBA,gBAAkD,OAAnBA,iBAAkD,YAAtBC,mBAC/E,OAAdG,WAC6B,OAA7BG,0BAG2B,QAA1BD,uBAAgE,OAA7BC,0BACvB,MAAbH,WACsB,YAAtBH,kBAEFO,qBAAuB,IAGzB,IAAwB,WAAnBR,gBAAqD,WAAtBC,mBACd,YAAnBD,gBAAsD,YAAtBC,mBACrB,OAAXE,QAAiC,OAAdC,WACO,QAA1BE,uBAAgE,QAA7BC,yBACpCC,qBAAuB,KAGzB,IAA6B,cAAzBA,qBAAsC,CACxC,GAAIC,kBAAmBrL,wBAAWkE,IAAI,yCAA0C6C,KAAKuE,MACrF,IAAIC,aAAcF,iBAAiBA,iBAAiB1F,OAAS,EAC7D,IAAI6F,iBAAkBH,iBAAiBA,iBAAiB1F,OAAS,EACjE,IAAI8F,qBAAsBF,YAAcC,iBAAmB,GAE3D,IAAIE,iBAAkB1L,wBAAWkE,IAAI,uCAAwCkH,qBAC7E,IAAIO,cAAeD,gBAAgBA,gBAAgB/F,OAAS,EAC5D,IAAIiG,WAAYF,gBAAgBA,gBAAgB/F,OAAS,EAGzD,IAAIkG,uBAA4C,MAAnBL,iBAAkD,GAAtBC,oBAA8BE,eAAiBC,SACxG,IAA8B,QAA1BC,sBACF5M,UAAU6M,kCAAkCV,wBAKlDW,6BAA8B,QAAAA,gCAC5B,OAAO,EAAA3L,OAlaY2L,iCAqarBC,KAAM,QAAAA,MAAUC,SACd,GAAIhN,UAAUuC,eAAgB,CAC5B1B,sBAAIoM,KAAK,kGACT,QAEFjN,UAAU4B,aAAeoL,OAEzB,IAAIhN,UAAUyC,QACZ5B,sBAAIqM,gBAEJrM,uBAAIsM,gBAAgB,QAEtBtM,uBAAImK,KAAI,qCAAsChL,UAAUoB,SAAQ,KAChE,MAAK,EAAAD,OAlbc2L,gCAkbkB,CACnCjM,sBAAIoM,KAAK,oDACT,QAEF,GAAIzG,UAAUkF,gBAAiB,EAAAvK,OAtbuDiM,sBAsbjC,EAAAjM,OAtbmDkM,sBAsb5B,IAAK,CAC/ErN,UAAUsN,2BAA6B,IACvC,IAAIC,+BAAgCvN,UAAUwN,4BAC9CzM,yBAAWkE,IAAI,0BAA2BsI,8BAG1C/G,WAAUkF,YAAY+B,OAAOC,KAAM,kBAAkBtJ,KAAK,SAAUuJ,kBAClEA,iBAAiBC,SAAW,WAC1B,GAAIC,mBAAoB9M,wBAAWwD,IAAI,0BACvC,IAAIuJ,wBAAyBD,kBAAkB,EAC/C7N,WAAU+N,4CAA4CD,2BAJ1DtH,SAOS,SAAU9B,GACf7D,sBAAI8C,MAAMe,SAGX,CACH,GAAI6I,+BAAgCvN,UAAUwN,4BAC9CzM,yBAAWkE,IAAI,0BAA2BsI,+BAI5CvN,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,SAAUX,QACd,GAAegH,SAAXhH,OACFzD,UAAUsC,cAAgB,IAE5B,IAAI0L,YAAavK,OAASA,OAAO/D,GAAK,IACtCqB,yBAAWkE,IAAI,gBAAiB+I,aAIpChO,WAAUiO,iBAAiB,SAAUC,qBACnCnN,wBAAWkE,IAAI,wBAAyBiJ,sBAI1C7E,QAAO8E,iBAAiB,kCAAmCnO,UAAUkK,sBACrEb,QAAO8E,iBAAiB,4CAA6CnO,UAAUqK,sBAC/EhB,QAAO8E,iBAAiB,iCAAkCnO,UAAUsK,uBACpEjB,QAAO8E,iBAAiB,8BAA+BnO,UAAU8K,oBACjEzB,QAAO8E,iBAAiB,wBAAyBnO,UAAU+K,cAC3D1B,QAAO8E,iBAAiB,wBAAyBnO,UAAU+K,cAC3D1B,QAAO8E,iBAAiB,qCAAsCnO,UAAUiL,2BACxE5B,QAAO8E,iBAAiB,4BAA6BnO,UAAUmL,kBAE/DnL,WAAUmC,eAAgB,EAAAhB,OAreiGiN,wBAqexEpO,UAAUqO,6BAA+BrO,UAAU4B,aAAa0M,cAEnH,IAAItO,UAAUmC,aACZnC,UAAUiC,mBAAqB,WAAajC,UAAU4B,aAAa0M,cAAgB,4CAEnFtO,WAAUiC,mBAAqB,+CAEjC,IAAI,MACFjC,UAAUiC,mBAAqBvB,MApf5B6N,SAofuC,6BAG5C,KAAI,EAAApN,OAhfuHiN,sBAgfzE,mBAAhB/E,QAAOhJ,MAAsB,CAC7D,GAAImO,GAAI1E,SAAS2E,cAAc,SAC/BD,GAAEE,aAAa,MAAO,8DACtB5E,UAAS6E,KAAKC,YAAYJ,GAG5B,GAA4B,aAAxB1E,SAAS+E,WACX7O,UAAU8O,oBAEVzF,QAAO8E,iBAAiB,OAAQnO,UAAU8O,gBAG9CA,cAAe,QAAAA,iBACbjO,sBAAI4K,MAAM,yBACV3I,SAAQiM,KAAK/O,UAAUiE,YAAY,MAAO,SACxCjE,UAAUiE,YAAY,MAAO,kBAC7BjE,UAAUiE,YAAY,UAAW,kBAChCG,KAAK,QAAS4K,iDAAgDvL,QAC7D,GAAIwL,aAAcxL,OAAO,EACzB,IAAIyL,sBAAuBzL,OAAO,EAClC,IAAI0L,oBAAqB1L,OAAO,EAGhC,IAAIwL,aAAeA,YAAYvP,IAAMM,UAAU4B,aAAauF,MAAO,CACjEnH,UAAUmF,eAAe,MAAO,SAChCsD,gBAAe2G,WAAW,sBAI5B,GAAI3G,eAAe4G,QAAQ,wBACrBrP,UAAU4B,aAAa0M,gBACI,UAA3BgB,aAAaC,YACd9G,eAAe4G,QAAQ,uCAAyCC,aAAaC,YAChF,MAEF9G,gBAAeC,QAAQ,qCAAsC4G,aAAaC,WAE1E,IAA2C,OAAvCvP,UAAU4B,aAAa4N,eAA0BN,sBAAgE,MAAxClP,UAAU4B,aAAa0M,cAClG,MAEF,IAAgC,WAA5BxE,SAASC,gBAA8B,CACzCD,SAASqE,iBAAiB,mBAAoBnO,UAAU6J,kBACxD,QAGF7J,UAAUiK,mBA/BdnH,SAiCS,SAAU4B,GACf7D,sBAAI8C,MAAMe,MAIhB+K,6BAA8B,QAAAA,8BAAUzC,SACtC,KAAK,EAAA7L,OAriBc2L,gCAqiBkB,CACnCjM,sBAAIoM,KAAK,oDACT,QAIF,IAAKD,QACHA,UACFA,SAAQ0C,gBAAkB,IAC1B1P,WAAUiK,aAAa+C,UAIzB2C,UAAW,QAAAA,WAAU3C,SACnBhN,UAAU4B,aAAeoL,OAEzB,IAAIA,QAAQ4C,gBACV5P,UAAU6P,gBAAgB,KAG5B,IAAIC,UAAsB,MAAV7G,QAAkBA,QAAUI,MAC5C,IAAIN,SAAUC,QAAUC,MAExB,KAAKF,QAAS,CACZlI,sBAAIgD,MAAM,8CACV,QAGF,GAAIkM,gBAAiB,GAAIC,eACzBD,gBAAeE,MAAMC,UAAY,SAAU5M,OACzCzC,sBAAIgD,MAAM,2CAA4CP,MAEtD,IAAIA,MAAM6M,KAAKC,YAAa,CAC1BpQ,UAAUwJ,0BAA0BlG,MAAM6M,KAAKC,YAAYC,WAC3DrQ,WAAU2J,gBAAgBrG,MAAM6M,KAAKC,YAAYE,aACjD,IAAIhN,MAAM6M,KAAKC,YAAYG,YACzBvQ,UAAUyJ,eAAenG,MAAM6M,KAAKC,YAAYG,YAElD1P,uBAAIgD,MAAM,eAAgBP,MAAM6M,KAAKC,YAAYI,WACjDxQ,WAAUiE,YAAY,qBAAsBX,MAAM6M,KAAKC,YAAYI,YAChEpM,KAAK,QAASqM,oDAAmDC,0BAChE7P,sBAAIgD,MAAM,kCAAmC6M,yBAC7C,IAAIA,yBAA0B,CAC5B1Q,UAAUmF,eAAe,qBAAsB7B,MAAM6M,KAAKC,YAAYI,WACtE3P,uBAAIgD,MAAM,2CAA4C7D,UAAU4B,aAAawH,OAE7E,SACApJ,WAAUkJ,iBAAiBH,SAAU4H,mBAAoBD,yBAAyBP,MAAOnQ,UAAU4B,aAAawH,OAAQ,SAR9HpJ,SAWS,SAAU0E,GACf7D,sBAAI8C,MAAMe,SAIX,IAAIpB,MAAM6M,KAAKS,0BAA2B,CAC7C,QACA/P,uBAAIoM,KAAK,6BACTjN,WAAU6Q,mBAAmB,SAAUC,UACrC,QACA9Q,WAAUkJ,iBAAiBH,SAAUwE,8BAA+BuD,UAAW9Q,UAAU4B,aAAawH,OAAQ,YAG7G,IAAI9F,MAAM6M,KAAKY,kBAClB/Q,UAAU6P,gBAAgBvM,MAAM6M,KAAKY,kBAAkBlB,iBAG3D7P,WAAU6Q,mBAAmB,SAAUC,UACrCA,SAAmB,SAAIhB,QACvB9P,WAAUkJ,iBAAiBH,SAAUiI,uBAAwBF,UAAW9Q,UAAU4B,aAAawH,QAAS2G,eAAekB,SAGzHjR,WAAUkR,gBACVlR,WAAU6B,kBAAoB,IAC9B,IAAgD,GAA5CsP,SAASC,OAAOC,QAAQ,iBAC1B,MAEFrR,WAAU4G,aAAa,KAAM,SAAU0K,WACrC,IAAKxB,UAAYwB,UAAW,CAC1BzQ,sBAAIgD,MAAM,0CACV2C,WAAU+K,cAAcC,SAASxR,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,eAC/I7Q,uBAAIgD,MAAM,8CAKhBgN,mBAAoB,QAAAA,oBAAUrL,UAC5B,GAAImM,SAEJ7O,SAAQiM,KAAK/O,UAAUiE,YAAY,MAAO,UACxCjE,UAAUiE,YAAY,MAAO,kBAC7BjE,UAAUiE,YAAY,UAAW,kBAChCG,KAAK,QAAS4K,iDAAgDvL,QAC7D,GAAI8D,cAAe9D,OAAO,EAC1B,IAAIyL,sBAAuBzL,OAAO,EAClC,IAAI0L,oBAAqB1L,OAAO,EAEhC+B,WACEoD,OAAQrB,aAAeA,aAAa7H,GAAK,KACzC0H,eAAgB8H,qBAAuBA,qBAAqBxP,GAAK,KACjEkS,eAAgBtC,aAAaC,WAC7BsC,gBAAiB1C,mBAAqBA,mBAAmBpK,MAAQ,KACjE+M,cAA4C,WAA3BxC,aAAaC,YAC3BhI,cACA2H,uBACEC,oBAAsBA,mBAAmBpK,OAAgC,MAAtBoK,wBAhB9DrM,SAmBS,SAAU4B,GACf7D,sBAAI8C,MAAMe,MAKhBwM,eAAgB,QAAAA,kBACdlR,UAAUuB,QAAUvB,UAAU4B,aAAauF,KAC3CnH,WAAUgF,YAAY,OAAQsD,KAAM,QAAS5I,GAAIM,UAAUuB,SAC3DvB,WAAUgF,YAAY,WAAYb,IAAK,YAAaY,MAAO+E,SAASF,SAGtEyE,0BAA2B,QAAAA,6BACzB,OAAO,EAAAlN,OA9pBoHiN,sBA+pBjG,UAArB+C,SAASY,UAC6B,GAAtCZ,SAASa,KAAKX,QAAQ,cACgB,GAAtCF,SAASa,KAAKX,QAAQ,cAI7BpH,aAAc,QAAAA,cAAU+C,SACtBnM,sBAAI4K,MAAM,mCAAoCuB,QAC9ChN,WAAUkR,gBAEV,IAAIe,kBAAmBd,SAAS/H,OAAOpC,MAAM,0BAA0B,EAGvE,IAAIhH,UAAUmC,aACZ,GAAI6K,QAAQ0C,gBAAiB,CAC3B,GAAIwC,gBAAsCzH,QAArBpB,OAAO8I,WAA0B9I,OAAO8I,WAAaC,OAAOC,IACjF,IAAIC,eAAoC7H,QAApBpB,OAAOkJ,UAAyBlJ,OAAOkJ,UAAYH,OAAOI,GAE9E,IAAIC,WAAYpJ,OAAOqJ,WAAarJ,OAAOqJ,WAAa5I,SAAS6I,gBAAgBC,YAAc9I,SAAS6I,gBAAgBC,YAAcR,OAAOS,KAC7I,IAAIC,YAAazJ,OAAO0J,YAAc1J,OAAO0J,YAAcjJ,SAAS6I,gBAAgBK,aAAelJ,SAAS6I,gBAAgBK,aAAeZ,OAAOa,MAClJ,IAAIC,YAAalT,UAAUoC,YAC3B,IAAI+Q,aAAcnT,UAAUqC,aAE5B,IAAIgQ,MAASI,UAAY,EAAMS,WAAa,EAAMhB,cAClD,IAAIM,KAAQM,WAAa,EAAMK,YAAc,EAAMb,aAEnDzR,uBAAIgD,MAAM,wBACV,IAAIuP,2BAA4BpT,UAAU4B,aAA4B,aACtE,IAAIyR,+BAAgC,EACpC,IAAID,0BAA2B,CAC7B,GAAIE,8BAA+B,gBACjC,kCACA,oCACA,iCACA,mCACA,6BACA,mBACA,mBACF,KAAK,GAAIC,GAAI,EAAGA,EAAID,4BAA4B5M,OAAQ6M,IAAK,CAC3D,GAAIpP,KAAMmP,4BAA4BC,EACtC,IAAIxO,OAAQqO,0BAA0BjP,IACtC,IAAIqP,eAAgBC,mBAAmB1O,MACvC,IAAIA,OAAmB,KAAVA,MACXsO,+BAAiC,IAAMlP,IAAM,IAAMqP,eAIzD,GAAIE,aAAcrK,OAAOjG,KAAKpD,UAAUiC,mBAAqB,IAAMoR,8BAAgC,qBAAuBpB,iBAAkB,SAAU,yBAA2BiB,WAAa,YAAcC,YAAc,SAAWX,IAAM,UAAYH,KAEvP,IAAIqB,YACFA,YAAYC,YAEX,CACH9S,sBAAIgD,MAAM,kBACV7D,WAAU4T,kBAAkB3B,sBAI3B,CACH,IAAI,EAAA9Q,OA1tBqHiN,sBA2tBvH,GAAIpO,UAAU4B,aAAaiS,cAAe,CACxC,GAAIC,qCAAsC9T,UAAUwN,2BAA2BxN,UAAU4B,aAAaiS,cACtGxK,QAAO0K,OAAOC,iBAAiBC,kBAC7BjU,UAAUqB,UAAY,SACtBrB,UAAU4B,aAAaiS,eACtBlM,OAAQ3H,UAAUuB,SACnB,SAAU4O,MACRtP,sBAAIgD,MAAMsM,KACV,IAAI+D,oCAAqClU,UAAUwN,2BAA2BxN,UAAU4B,aAAaiS,cACrG,IAAI1D,KAAKgE,YACPnU,UAAUkH,uBAAuBlH,UAAUuB,QAAS4O,KAAKgE,YAAYC,cAAe,OAGpF3L,gBAAeC,QAAQ,qBAAsB,KAE/C1I,WAAU+N,4CAA4C+F,4CAKzD,IAAI9G,QAAQqH,aAAerH,QAAQ0C,gBAAiB,CACvD,KAAK,EAAAvO,OAhvBU2L,gCAgvBsB,CACnCjM,sBAAIoM,KAAK,6IACT,QAEFjN,UAAUsU,2BAA2B,SAAUC,aAC7C,GAAIC,SAAU1K,SAAS2E,cAAc,MACrC+F,SAAQ9F,aAAa,KAAM,yBAC3B8F,SAAQC,UAAY,gKACpB3K,UAAShE,KAAK8I,YAAY4F,QAE1B,IAAIE,aAAc5K,SAAS2E,cAAc,QACzCiG,aAAYD,UAAY,qNAExB3K,UAAS6K,qBAAqB,QAAQ,GAAG/F,YAAY8F,YAErD,IAAIE,YAAa9K,SAAS2E,cAAc,SACxCmG,YAAWC,UAAY,6BACvBD,YAAWE,MAAMC,QAAU,sDAC3BH,YAAWI,IAAMhV,UAAUiC,mBACvB,OAASjC,UAAUuB,QACnB,iCACkBgT,YAClB,uBAAiD,mBAAjBjF,eAA2D,UAA3BA,aAAaC,YAC7E,qBAAuB0C,gBAC3B2C,YAAWlG,aAAa,cAAe,IACvCkG,YAAW/B,MAAQ7S,UAAUoC,aAAa6S,UAC1CL,YAAW3B,OAASjT,UAAUqC,cAAc4S,UAE5CpU,uBAAIgD,MAAM,8BACViG,UAASoL,eAAe,oBAAoBtG,YAAYgG,kBAGvD,IAAI,iBAAmBpO,WAC1BxG,UAAUmV,oBAAoBnI,aAE9BnM,uBAAIgD,MAAM,uDAEZ,EAAA7C,QAvxBG6J,cAuxBU,+BAIjBsK,oBAAqB,QAAAA,qBAAUnI,SAE7BhN,UAAUiE,YAAY,MAAO,kBAC1BG,KAAK,QAASgR,uCAAsClG,sBACnD,IAAKA,uBAAyBlC,QAAQ0C,iBAA8C,WAA3BJ,aAAaC,WACpE/I,UAAU+K,cAAc8D,kBAAkBjR,KAAK,SAAUd,OACvD,GAAIgS,SAAU,EAEd,IAAItV,UAAU4B,aAAa2T,KACzBD,QAAUtV,UAAU4B,aAAa2T,IAEnC,IAAqB,mBAAVjS,OACTkD,UAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,oBAEzJ,IAAIpO,MAAMkS,QACR,GAAIlS,MAAMkS,OAAOC,UAAUpE,QAAQiE,QAAUtV,UAAU2C,qBAAuB,GAE5E3C,UAAUiE,YAAY,MAAO,iCAC1BG,KAAK,SAAUsR,eACd,GAAIA,cACF,GAAIA,cAAchW,IAAMM,UAAUoB,SAChCkC,MAAMqS,aAAavR,KAAK,WACtBoC,UAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU0C,4BAA6B1C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,kBADnKpO,SAGS,SAAUoB,GACf7D,sBAAI8C,MAAMe,SAKd8B,WAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,oBAG3JlL,WAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,kBAhB/J1R,SAmBS,SAAU0E,GACf7D,sBAAI8C,MAAMe,SAIX,IAAIpB,MAAMkS,OAAOC,UAAUpE,QAAQiE,QAAUtV,UAAU0C,6BAA+B,GAEzF1C,UAAUiE,YAAY,MAAO,iCAC1BG,KAAK,SAAUsR,eACd,GAAIA,cACF,GAAIA,cAAchW,IAAMM,UAAUoB,SAChCkC,MAAMqS,aAAavR,KAAK,WACtBoC,UAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,sBAI3JlL,WAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU0C,4BAA6B1C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,oBAGnKlL,WAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU0C,4BAA6B1C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,kBAZvK1R,SAcS,SAAU0E,GACf7D,sBAAI8C,MAAMe,SAKb,IAAwB,MAApBpB,MAAMsS,WACbpP,UAAU+K,cAAcC,SAAS8D,QAAUtV,UAAU2C,oBAAqB3C,UAAU4C,sBAAsBwB,KAAKpE,UAAUyR,qBAAsBzR,UAAU0R,kBA3D/JlL,SA8DS,SAAU9B,GACf7D,sBAAI8C,MAAMe,OAlEpB1E,SAsES,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAKhBkP,kBAAmB,QAAAA,mBAAU3B,kBAE3B,GAAI4D,MAAO/L,SAAS2E,cAAc,SAClCoH,MAAKf,MAAMgB,QAAU,MACrBD,MAAKb,IAAMhV,UAAUiC,mBAAqB,QAC1C,IAAIwG,eAAe4G,QAAQ,sBACzBwG,KAAKb,KAAO,kCACe/C,qBAE3B4D,MAAKb,KAAO,qBAAuB/C,gBACrCnI,UAAShE,KAAK8I,YAAYiH,KAC1BhV,uBAAI4K,MAAM,yBAEVzL,WAAUkC,oBAAsB,MAGlCwP,eAAgB,QAAAA,gBAAUqE,KACxBlV,sBAAI8C,MAAM,6BAA8BoS,MAG1CtE,qBAAsB,QAAAA,sBAAUuE,mCAC9B,GAAIA,kCACFnV,sBAAIgD,MAAM,mCAAoCmS,kCAChD,MAAM,eAAiB3M,SAAS,CAC9BxI,sBAAIgD,MAAM,mDACV4E,gBAAeC,QAAQ,qBAAsB,KAC7C,QAGF,KAAM,oBAAsBuN,2BAA0BC,WAAY,CAChErV,sBAAIgD,MAAM,gGACV4E,gBAAeC,QAAQ,qBAAsB,KAC7C,QAGF,GAAgC,WAA5B4G,aAAaC,WAAyB,CACxC1O,sBAAIoM,KAAK,uCACT,QAGFzG,UAAU+K,cAAc4E,MAAM/R,KAAK,SAAUgS,2BAC3CvV,sBAAImK,KAAK,yBAA0BoL,0BAEnCpW,WAAUqW,kBAAkBD,6BAH9B5P,SAKS,SAAU9B,GACf7D,sBAAI8C,MAAMe,MAShB8I,2BAA4B,QAAAA,4BAAU8I,aACpC,GAAIjN,OAAO0K,OAGT,GAAIuC,YACF,MAAOjN,QAAO0K,OAAOC,iBAAiBzE,WAAW+G,aAAa/G,eAI9D,OAAO,cAKT,OAAOD,cAAaC,YAIxBgH,kCAAmC,QAAAA,mCAAUC,aAC3C,GAAI3I,mBAAoB9M,wBAAWkE,IAAI,0BAA2BuR,cAClE,EAAAxV,QAp7BK6J,cAo7BQ,mCACXpH,OAAQ+S,eAIZzI,4CAA6C,QAAAA,6CAAU0I,KAAMC,IAC3D,GAAWjM,SAAPiM,GACFA,GAAK1W,UAAUwN,2BAA2BxN,UAAU4B,aAAaiS,cAEnE,IAAI4C,OAASC,GAAI,CACf,GAAI7I,mBAAoB9M,wBAAWkE,IAAI,0BAA2ByR,KAClE,EAAA1V,QA/7BG6J,cA+7BU,6CACX4L,KAAMA,KACNC,GAAIA,OAKV7J,kCAAmC,QAAAA,mCAAU6J,KAC3C,EAAA1V,QAv8BK6J,cAu8BQ,iCAAkC6L,KAGjDlS,+BAAgC,QAAAA,gCAAUO,QACxC,EAAA/D,QA38BK6J,cA28BQ,8BAA+B9F,QAG9CG,yBAA0B,QAAAA,0BAAUH,QAClC,EAAA/D,QA/8BK6J,cA+8BQ,wBAAyB9F;EAGxC4R,sCAAuC,QAAAA,uCAAU5R,QAC/C,EAAA/D,QAn9BK6J,cAm9BQ,qCAAsC9F,QAGrDsR,kBAAmB,QAAAA,mBAAUD,2BAC3B,GAAItC,qCAAsC9T,UAAUwN,2BAA2BxN,UAAU4B,aAAaiS,cACtGuC,2BAA0BQ,YAAYC,WAAWC,gBAAiB,OAC/D1S,KAAK,SAAU2S,cACdtO,eAAeC,QAAQ,qCAAsC4G,aAAaC,WAE1EvP,WAAUiE,YAAY,MAAO,SAC1BG,KAAK,QAAS4S,4BAA2B/H,aACxC,GAAI9H,OAAQ8H,YAAYvP,EACxBmB,uBAAIgD,MAAM,6FAEV,IAAIuD,gBAAiB,IACrB,IAAI2P,aACF,GAA0C,mBAA/BA,cAAaE,eACtB7P,eAAiB2P,aAAaE,mBAE9B7P,gBAAiB2P,aAAaG,SAASC,QAAQ,GAAIC,QAAO,+FAAgG,QAG5JvW,uBAAIoM,KAAK,2DAEXjN,WAAUkH,uBAAuBC,MAAOC,gBAAgB,EAAAjG,OAz+BEkW,sBAy+BqB,EAAI,EAEnF,KAAKrX,UAAUsN,2BACbtN,UAAU+N,4CAA4C+F,uCAlB5D9T,SAqBS,SAAU0E,GACf7D,sBAAI8C,MAAMe,OA1BlB0R,SA6BS,SAAU1R,GACf7D,sBAAI8C,MAAM,oCAAqCe,EAE/C,KAAK1E,UAAUsN,2BACbtN,UAAU+N,4CAA4C+F,oCAExD,IAAc,IAAVpP,EAAE4S,MAActO,QAAUhJ,UAAU6B,kBACtCwH,OAAOC,WAIfiO,QAAS,QAAAA,SAAUpT,IAAKY,OACtB,GAAIyS,gBACJA,cAAarT,KAAOY,KACpB/E,WAAUuJ,SAASiO,eAGrBjO,SAAU,QAAAA,UAAUkO,UAClBzX,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,QAASsT,oBAAmBnQ,cAChC,GAAIA,aACFvH,UAAUoF,oBAAoB,WAAamC,aAAa7H,GAAI,OAC1DiI,OAAQ3H,UAAUuB,QAClBoW,KAAMF,eAGR,IAAuC,MAAnCzX,UAAUwB,sBACZxB,UAAUwB,sBAAwBiW,aAC/B,CACH,GAAIG,aACJ,KAAK,GAAIC,QAAQ7X,WAAUwB,sBAAuBoW,UAAUC,MAAQ7X,UAAUwB,sBAAsBqW,KACpG,KAAK,GAAIA,QAAQJ,UAAUG,UAAUC,MAAQJ,SAASI,KACtD7X,WAAUwB,sBAAwBoW,aAd1C5X,SAkBS,SAAU0E,GACf7D,sBAAI8C,MAAM,YAAae,MAI7BoT,UAAW,QAAAA,WAAU3T,KACnBnE,UAAU+X,YAAY5T,OAGxB4T,WAAY,QAAAA,YAAUC,UACpB,GAAIP,YACJ,IAAI/Q,QAASsR,SAAStR,MACtB,KAAK,GAAI6M,GAAI,EAAO7M,OAAJ6M,EAAYA,IAC1BkE,SAASO,SAASzE,IAAM,EAE1BvT,WAAUuJ,SAASkO,WAGrBQ,0BAA2B,QAAAA,2BAAU3U,OACnC,GAAI4U,kBAAmBnS,KAAKoS,MAAM7U,MAAM8U,aAAaC,IACrD/U,OAAM8U,aAAa9O,OAEnBxG,SAAQiM,KAAK/O,UAAUiE,YAAY,MAAO,SAAUjE,UAAUiE,YAAY,MAAO,YAC9EG,KAAK,QAASkU,yCAAwCC,SACrD,GAAItJ,aAAcsJ,QAAQ,EAC1B,IAAIhR,cAAegR,QAAQ,EAC3B,IAAItJ,aAAe1H,aACjBvH,UAAUoF,oBAAoB,iBAAmB8S,iBAAiBxY,GAAI,OACpEiI,OAAQsH,YAAYvP,GACpB4R,UAAW/J,aAAa7H,GACxB8Y,OAAQ,SARhB1V,SAYS,SAAU4B,GACf7D,sBAAI8C,MAAMe,IAIdpB,OAAMmV,UACJC,QAAQC,UAAUrQ,KAAM,WACrBlE,KAAK,SAAUwU,YACd,GAAIC,WAAYC,aAAaC,KAC7B,IAAI/Y,UAAU2B,kBACZkX,UAAY7Y,UAAU2B,iBACxB,IAAIuW,iBAAiBW,UACnBA,UAAYX,iBAAiBW,SAE/B,KAAK,GAAItF,GAAI,EAAGA,EAAIqF,WAAWlS,OAAQ6M,IAAK,CAC1C,GAAIyF,QAASJ,WAAWrF,EACxB,IAAI,SAAWyF,SAAUA,OAAO3T,KAAOwT,UAAW,CAChDG,OAAOrF,OAGPqF,QAAOC,YAAYf,iBACnB,SAIJ,GAAkB,wBAAdW,WAAqD,gBAAdA,UAA6B,CACtE7Y,UAAUgF,YAAY,sBAAuBK,IAAKwT,UAAW1I,KAAM+H,kBACnEQ,SAAQQ,WAAWL,WAAnBH,SAAoC,SAAU/U,OAE5C+U,QAAQQ,WAAWJ,aAAaC,MAAQ,uBAAyBF,gBAvBzEH,SA2BS,SAAUhU,GACf7D,sBAAI8C,MAAMe,OAKlByU,UAAW,QAAAA,WAAUC,cAAe5T,UAClC,GAAqB,MAAjB4T,cAAuB,CACzB5T,SAAS4T,cACT,QAGFtW,QAAQiM,KAAK/O,UAAUiE,YAAY,UAAW,gBAAiBjE,UAAUiE,YAAY,UAAW,eAC7FG,KAAK,QAASiV,gCAA+Bd,SAC5C,GAAIe,oBAAqBf,QAAQ,EACjC,IAAIgB,iBAAkBhB,QAAQ,EAE9B,IAAIe,mBAAoB,CACtB9T,SAAS8T,mBAAmBvU,MAC5B,YAEG,IAAIwU,iBAA4C,MAAzBA,gBAAgBxU,MAAe,CACzDS,SAAS+T,gBAAgBxU,MACzB,YAGAS,UAAS,MAdf1C,SAiBS,SAAU4B,GACf7D,sBAAI8C,MAAMe,MAMhB8U,kBAAmB,QAAAA,mBAAUjI,cAAejO,OAI1C,GAAIA,MAAM6M,MAAgC,KAAxB7M,MAAM6M,KAAKsJ,OAAO,GAAW,CAC7C5Y,sBAAIgD,MAAM,uBAAwBP,MAAM6M,KAAKsJ,OAC7C5Y,uBAAIgD,MAAM,uBAAwBP,MAAM6M,KAAK9J,QAG/C/C,MAAMmV,UAAU,GAAI3V,SAClB,SAAUC,QAASC,QACjBhD,UAAUmZ,UAAU,KAAM,SAAUvP,OAClC5J,UAAUiE,YAAY,UAAW,eAC9BG,KAAK,QAASsV,kCAAiCC,mBAC9C3Z,UAAU4Z,sBAAsB,SAAU1T,SAAUiB,OAClD,GAAI+Q,mBACFxY,GAAIwG,SAAS2T,OAAOtG,EACpB7I,QAASxE,SAAS4T,MAClBC,eAAgB7T,SAAS2T,OAAOG,EAGlC,IAAI9T,SAAS0D,MACXsO,iBAAiBtO,MAAQ1D,SAAS0D,UAElCsO,kBAAiBtO,MAAQA,KAE3B,IAAI1D,SAAS2T,OAAOI,EAClB/B,iBAAiBW,UAAY3S,SAAS2T,OAAOI,CAE/C,IAAI/T,SAASwD,KACXwO,iBAAiBxO,KAAOxD,SAASwD,SAC9B,IAAIiQ,kBACPzB,iBAAiBxO,KAAOiQ,kBAAkB5U,KAG5CwM,eAAcuH,aAAaoB,iBAAiBhC,iBAAiBtO,OAC3D9D,KAAMI,SAAS4T,MACfpQ,KAAMwO,iBAAiBxO,KACvB2O,IAAKtS,KAAKC,UAAUkS,oBACnB9T,KAAKrB,SAJRwO,SAKS,SAAU7M,GACf7D,sBAAI8C,MAAMe,IAGd1E,WAAUiE,YAAY,UAAW,cAC9BG,KAAK,SAAU+V,kBACd,GAAIA,iBACFna,UAAU2B,kBAAoBwY,iBAAiBpV,QAHrD/E,SAKS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAGb3B,WAzCP/C,SA2CS,SAAU0E,GACf7D,sBAAI8C,MAAMe,WAMtBkV,sBAAuB,QAAAA,uBAAUQ,aAAcC,kBAC7Cra,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,QAASkW,iCAAgC/S,cAC7C,GAAIA,aACFvH,UAAUoF,oBAAoB,WAAamC,aAAa7H,GAAK,0BAA2B,MAAO,KAAM,SAAUwG,UAC7G,IAAK,GAAIqN,GAAI,EAAGA,EAAIrN,SAASQ,OAAQ6M,IACnC6G,aAAarU,KAAKoS,MAAMjS,SAASqN,MAClC,WACD8G,yBAGC,CACHxZ,sBAAIgD,MAAM,sCACVwW,uBAZNra,SAeS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAMhB6V,yBAA0B,QAASC,gBAAelX,OAChDzC,sBAAIgD,MAAM,6BAA8BP,MAExC,IAA8BmH,QAA1BzK,UAAU4B,aACZ,MAEF,IAAI,MAA6B,KAAjB0B,MAAM8F,QAAkC,0BAAjB9F,MAAM8F,QAAsC9F,MAAM8F,SAAW,WAAapJ,UAAU4B,aAAa0M,cAAgB,iBACtJ,MAEF,IAAIhL,MAAM6M,KAAKa,uBAAwB,CACrC,GAAIyJ,WAAYnX,MAAM6M,KAAKa,sBAE3B,IAAIyJ,UAAU3K,SACZ9P,UAAU0a,YAAcpX,MAAMqX,MAAM,EAGtC,IAAIF,UAAU7R,OACZ5I,UAAUgF,YAAY,OAAQsD,KAAM,SAAU5I,GAAI+a,UAAU7R,QAC9D,IAAI6R,UAAUrT,eACZpH,UAAUgF,YAAY,OAAQsD,KAAM,iBAAkB5I,GAAI+a,UAAUrT,gBAEtE,SACApH,WAAU4a,iCAAiCH,UAAU3I,cACrD9R,WAAU2I,iBAEV3I,WAAU2E,aAAa,WACpBP,KAAK,QAASmW,0BAAyBvN,SACtCnM,sBAAIgD,MAAM,kBAAmBmJ,QAC7B,KAAKA,QAAQqD,WACXrD,QAAQqD,WAAavG,SAAS+Q,GAChC,KAAK7N,QAAQsD,aACXtD,QAAQsD,aAAexG,SAASF,KAElCoD,SAAQwD,WAAa1G,SAAS+Q,GAC9Bha,uBAAIgD,MAAM,6BAA8BP,MAAMqX,MAAM,GACpDrX,OAAMqX,MAAM,GAAG1B,aAAa7I,YAAapD,WAGzC,EAAAhM,QA3vCD6J,cA2vCc,+BAbjB7K,SAeS,SAAU0E,GACf7D,sBAAI8C,MAAM,4BAA6Be,SAGxC,IAAIpB,MAAM6M,KAAK5C,8BAClBvN,UAAU4a,iCAAiCtX,MAAM6M,KAAK5C,8BAA8BuE,mBACjF,IAAIxO,MAAM6M,KAAKhH,aAAc,CAChCV,eAAeC,QAAQ,qBAAsB,KAC7C1I,WAAUgF,YAAY,OAAQsD,KAAM,SAAU5I,GAAI4D,MAAM6M,KAAKhH,aAAaP,QAC1E5I,WAAUgF,YAAY,OAAQsD,KAAM,iBAAkB5I,GAAI4D,MAAM6M,KAAKhH,aAAa/B,gBAElF,IAAIpH,UAAU0B,uBAAuBgF,OAAS,EAC5C,KAAO1G,UAAU0B,uBAAuBgF,OAAS,GAAG,CAClD,GAAImC,eAAgB7I,UAAU0B,uBAAuBoH,KACrDD,gBACED,OAAQtF,MAAM6M,KAAKhH,aAAaP,OAChCxB,eAAgB9D,MAAM6M,KAAKhH,aAAa/B,iBAI9CpH,UAAU2I,sBAEP,IAAIrF,MAAM6M,KAAK2K,oBAAqB,CACvC9a,UAAUyP,8BACVzP,WAAU6P,gBAAgB,KAC1B,IAAIkL,MAAOjR,SAASoL,eAAe,yBACnC6F,MAAKC,WAAWC,YAAYF,KAC5B/a,WAAUuW,kCAAkC,eAEzC,IAAIjT,MAAM6M,KAAK+K,oBAAqB,CACvC,GAAIH,MAAOjR,SAASoL,eAAe,yBACnC6F,MAAKC,WAAWC,YAAYF,KAC5B/a,WAAUuW,kCAAkC,cAEzC,IAAIjT,MAAM6M,KAAKgL,mBAClBnb,UAAUuW,kCAAkC,eAEzC,IAAIjT,MAAM6M,KAAKiL,mBAClBpb,UAAUuW,kCAAkC,cAEzC,IAAIvW,UAAUyB,6BACjBzB,UAAUyB,6BAA6B6B,MAAM6M,OAGjDkL,iCAAkC,QAAAA,kCAAU7V,UAC1CxF,UAAUyB,6BAA+B+D,QACzC,IAAI6D,OACFrJ,UAAUiE,YAAY,qBAAsB6F,SAAS+Q,KAClDzW,KAAK,SAAUsM,0BACd,GAAIA,yBAA0B,CAC5B1Q,UAAUmF,eAAe,qBAAsB2E,SAAS+Q,IACxD7a,WAAUyB,6BAA6BiP,yBAAyBP,SAJtEnQ,SAOS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAOlBkW,iCAAkC,QAAAA,kCAAUhJ,gBAC1C,GAAI5R,UAAU+B,+BAAgC,CAC5C/B,UAAU+B,+BAA+B6P,eACzC5R,WAAU+B,+BAAiC,OAI/CuZ,gBAAiB,QAAAA,iBAAU9V,UACzB,GAAiBiF,SAAbjF,SACF,MAEFxF,WAAU0B,uBAAuB6Z,KAAK/V,SAEtC1C,SAAQiM,KAAK/O,UAAUiE,YAAY,MAAO,UAAWjE,UAAUiE,YAAY,MAAO,oBAC/EG,KAAK,QAASoX,wCAAuCjD,SACpD,GAAIhR,cAAegR,QAAQ,EAC3B,IAAIrJ,sBAAuBqJ,QAAQ,EAEnC,IAAIhR,aACF,GAAI2H,qBACF,KAAOlP,UAAU0B,uBAAuBgF,OAAS,GAAG,CAClD,GAAImC,eAAgB7I,UAAU0B,uBAAuBoH,KACrDD,gBACED,OAAQrB,aAAa7H,GACrB0H,eAAgB8H,qBAAqBxP,SAKzC,MAAOM,UAAU0B,uBAAuBgF,OAAS,GAAG,CAClD,GAAImC,eAAgB7I,UAAU0B,uBAAuBoH,KACrDD,gBAAeD,OAAQrB,aAAa7H,GAAI0H,eAAgB,UAlBlEtE,SAsBS,SAAU4B,GACf7D,sBAAI8C,MAAMe,MAKhB+W,QAAS,QAAAA,SAAUjW,UACjBxF,UAAUiE,YAAY,MAAO,UAC1BG,KAAK,SAAUmD,cACd,GAAIA,aACFvH,UAAUoF,oBAAoB,WAAamC,aAAa7H,GAAI,MAAO,KAAM,SAAUwG,UACjFV,SAASU,SAASyR,UAJ1B3X,SAQS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAKhB4P,2BAA4B,QAAAA,4BAAU9O,UACpC,KAAK,EAAArE,OAl3Cc2L,gCAk3CkB,CACnCjM,sBAAIoM,KAAK,oDACT,QAIF,GAAIjN,UAAU4B,aAAa0M,iBAAkB,EAAAnN,OAx3CIua,mBAw3Ce,CAC9D1b,UAAU+B,+BAAiCyD,QAC3C,IAAIxF,UAAU0a,YAAa,CACzB,QACA1a,WAAU0a,YAAYzB,aAAarI,0BAA2B,OAEhE,OAKF9N,QAAQiM,KAAK/O,UAAUiE,YAAY,MAAO,kBAAmBjE,UAAUiE,YAAY,UAAW,kBAC3FG,KAAK,SAAUmU,SACd,GAAIrJ,sBAAuBqJ,QAAQ,EACnC,IAAIpJ,oBAAqBoJ,QAAQ,EAEjC,IAAIrJ,qBAAsB,CACxB,GAAIC,qBAAuBA,mBAAmBpK,MAC5C,MAAOS,UAAS,MAElBA,UAAoC,WAA3B8J,aAAaC,gBAGtB/J,UAAS,SAZf1C,SAcS,SAAU4B,GACf7D,sBAAI8C,MAAMe,MAIhB8C,sBAAuB,QAAAA,uBAAUhC,UAC/BxF,UAAUiO,iBAAiB,SAAU0N,oBACnCnW,SAASmW,mBAAqB,EAAI,OAItC9L,gBAAiB,QAAAA,iBAAU+L,iBACzB,GAAI5b,UAAU0a,YACZ1a,UAAU0a,YAAYzB,aAAalI,mBAAoBlB,gBAAiB+L,uBAExE5b,WAAUiO,iBAAiB,SAAUC,qBACnC,GAAIA,qBAAuB0N,gBAAiB,CAC1C5b,UAAUgF,YAAY,WAAYb,IAAK,eAAgBY,MAAO6W,iBAC9D5b,WAAUiE,YAAY,MAAO,UAC1BG,KAAK,SAAUmD,cACd,GAAIA,aACFvH,UAAUoF,oBAAoB,WAAamC,aAAa7H,GAAI,OAC1DiI,OAAQ3H,UAAUuB,QAClB6G,mBAAoBwT,gBAAkB,EAAI,IACzC,QAASC,8BACV7b,UAAU2W,sCAAsCiF,qBAPxD5b,SAUS,SAAU0E,GACf7D,sBAAI8C,MAAMe,SAOtBuJ,iBAAkB,QAAAA,kBAAUzI,UAC1BxF,UAAUiE,YAAY,UAAW,gBAC9BG,KAAK,SAAU+K,oBACd3J,WAAW2J,oBAAkD,OAA5BA,mBAAmBpK,UAFxD/E,SAIS,SAAU0E,GACf7D,sBAAI8C,MAAMe,MAKhBwE,iBAAkB,QAAAA,kBAAUH,QAASoH,KAAM2L,aAAcC,UACvD,GAAIC,SAAUF,aAAa1H,aAG3B,IAAI4H,QAAQC,WAAW,WAAY,CACjC,GAAIC,aACJ/K,UAASC,OAAO+K,OAAO,GAAGC,MAAM,KAAKC,QAAQ,SAAUC,MACrDJ,UAAUI,KAAKF,MAAM,KAAK,IAAME,KAAKF,MAAM,KAAK,IAElD,IAAIG,kBAAmB,wBACvBP,SAAUA,QAAQ7E,QAAQoF,iBAAkBL,UAA4B,kBAG1E,GAAIH,SACFhT,QAAQkQ,YAAY9I,KAAM6L,QAASD,cAEnChT,SAAQkQ,YAAY9I,KAAM6L,UAG9B9b,gBAAiB,QAAAA,iBAAUsc,OACzB,IAAK,GAAIjJ,GAAI,EAAGA,EAAIiJ,MAAM9V,OAAQ6M,IAChCvT,UAAUub,KAAKiB,MAAMjJ,KAGzBgI,KAAM,QAAAA,MAAUe,MACd,GAAoB,kBAATA,MACTA,WACG,CACH,GAAIG,cAAeH,KAAKI,OACxB1c,WAAUyc,cAAcE,MAAM,KAAML,QAM1C,IAAsB,mBAAXjT,QACTA,OAAO8E,iBAAiB,UAAWnO,UAAUua,yBAA0B,WACpE,CACHqC,cAAc,iEAEdC,MAAK1O,iBAAiB,OAAQ,SAAU7K,OACtCtD,UAAUwZ,kBAAkBqD,KAAMvZ,QAEpCuZ,MAAK1O,iBAAiB,oBAAqB,SAAU7K,OAEnDtD,UAAUiY,0BAA0B3U,QAGtC,IAAIwZ,iBAAiF,MAA/D3L,SAAS4L,KAAK/V,MAAM,uCAC1C,IAAI,MACF8V,gBAAkB,IAEpBD,MAAK1O,iBAAiB,UAAW,SAAU7K,OACzCzC,sBAAIgD,MAAM,uCAAyC7D,UAAUoB,SAC7D,IAAIyb,KAAK1L,SAAS6L,SAAS3L,QAAQ,yBAA2B,GAC5DrR,UAAUgF,YAAY,OAAQsD,KAAM,gCAAiC5I,GAAIM,UAAUoB,eAEnFpB,WAAUgF,YAAY,OAAQsD,KAAM,gCAAiC5I,GAAIM,UAAUoB,UAErF,IAAI0b,gBACFxZ,MAAMmV,UACJwE,OAAO7Z,KAAK,aAAepD,UAAUoB,UAAUgD,KAAK,SAAU8Y,OAC5D,MAAOA,OAAMC,QACX,gCACA,0CACA,0BAJJF,SAMS,SAAUvY,GACf7D,sBAAI8C,MAAMe,OAMpB,IAAIoY,gBACFD,KAAK1O,iBAAiB,QAAS,SAAU7K,OACvCA,MAAM8Z,YACJH,OAAOjW,MAAM1D,MAAMJ,SAChBkB,KAAK,SAAU8B,UAEd,GAAIA,SACF,MAAOA,SAET,OAAO7F,OAAMiD,MAAMJ,WANvB+Z,SASS,SAAUvY,GACf7D,sBAAI8C,MAAMe,QAOtBjF,OAAOD,QAAUQ,YJhKaJ,KAAKJ,QAASH,oBAAoB,KAI1D,SAASI,OAAQD,UKz4CvB,SAAAW,SACA,YAEA,WACA,YAMA,SAAAkd,eAAA3P,MACA,mBAAAA,MACAA,KAAA4P,OAAA5P,KAEA,iCAAA6P,KAAA7P,MACA,SAAA8P,WAAA,yCAEA,OAAA9P,MAAA0G,cAGA,QAAAqJ,gBAAA1Y,OACA,mBAAAA,OACAA,MAAAuY,OAAAvY,MAEA,OAAAA,OAGA,QAAA2Y,SAAA9X,SACAxF,KAAAud,MAEA,IAAA/X,kBAAA8X,SACA9X,QAAAyW,QAAA,SAAAtX,MAAA2I,MACAtN,KAAAwd,OAAAlQ,KAAA3I,QACO3E,UAEF,IAAAwF,QACLiY,OAAAC,oBAAAlY,SAAAyW,QAAA,SAAA3O,MACAtN,KAAAwd,OAAAlQ,KAAA9H,QAAA8H,QACOtN,MA4CP,QAAA2d,UAAAjY,MACA,GAAAA,KAAAkY,SACA,MAAAlb,SAAAE,OAAA,GAAAwa,WAAA,gBAEA1X,MAAAkY,SAAA,KAGA,QAAAC,iBAAAC,QACA,UAAApb,SAAA,SAAAC,QAAAC,QACAkb,OAAAC,OAAA,WACApb,QAAAmb,OAAAza,QAEAya,QAAAxa,QAAA,WACAV,OAAAkb,OAAAva,UAKA,QAAAya,uBAAAC,MACA,GAAAH,QAAA,GAAAI,WACAJ,QAAAK,kBAAAF,KACA,OAAAJ,iBAAAC,QAGA,QAAAM,gBAAAH,MACA,GAAAH,QAAA,GAAAI,WACAJ,QAAAO,WAAAJ,KACA,OAAAJ,iBAAAC,QAgBA,QAAAQ,QACAte,KAAA4d,SAAA,KAGA5d,MAAAue,UAAA,SAAA7Y,MACA1F,KAAAwe,UAAA9Y,IACA,oBAAAA,MACA1F,KAAAye,UAAA/Y,SACO,IAAAgZ,QAAAT,MAAAU,KAAA7I,UAAA8I,cAAAlZ,MACP1F,KAAA6e,UAAAnZ,SACO,IAAAgZ,QAAAI,UAAAC,SAAAjJ,UAAA8I,cAAAlZ,MACP1F,KAAAgf,cAAAtZ,SACO,KAAAA,KACP1F,KAAAye,UAAA,OACO,IAAAC,QAAAO,aAAAC,YAAApJ,UAAA8I,cAAAlZ,WAIP,UAAAK,OAAA,6BAIA,IAAA2Y,QAAAT,KAAA,CACAje,KAAAie,KAAA,WACA,GAAAkB,UAAAxB,SAAA3d,KACA,IAAAmf,SACA,MAAAA,SAGA,IAAAnf,KAAA6e,UACA,MAAAnc,SAAAC,QAAA3C,KAAA6e,eACS,IAAA7e,KAAAgf,cACT,SAAAjZ,OAAA,4CAEA,OAAArD,SAAAC,QAAA,GAAAgc,OAAA3e,KAAAye,aAIAze,MAAAif,YAAA,WACA,MAAAjf,MAAAie,OAAAja,KAAAga,uBAGAhe,MAAAqZ,KAAA,WACA,GAAA8F,UAAAxB,SAAA3d,KACA,IAAAmf,SACA,MAAAA,SAGA,IAAAnf,KAAA6e,UACA,MAAAT,gBAAApe,KAAA6e,eACS,IAAA7e,KAAAgf,cACT,SAAAjZ,OAAA,4CAEA,OAAArD,SAAAC,QAAA3C,KAAAye,gBAIAze,MAAAqZ,KAAA,WACA,GAAA8F,UAAAxB,SAAA3d,KACA,OAAAmf,mBAAAzc,QAAAC,QAAA3C,KAAAye,WAIA,IAAAC,QAAAI,SACA9e,KAAA8e,SAAA,WACA,MAAA9e,MAAAqZ,OAAArV,KAAAob,QAIApf,MAAAiG,KAAA,WACA,MAAAjG,MAAAqZ,OAAArV,KAAA2B,KAAAoS,OAGA,OAAA/X,MAMA,QAAAqf,iBAAA9Z,QACA,GAAA+Z,SAAA/Z,OAAAga,aACA,OAAAC,SAAAvO,QAAAqO,SAAA,GAAAA,QAAA/Z,OAGA,QAAAka,SAAAC,MAAA9S,SACAA,mBACA,IAAAlH,MAAAkH,QAAAlH,IACA,IAAA+Z,QAAA3J,UAAA8I,cAAAc,OAAA,CACA,GAAAA,MAAA9B,SACA,SAAAR,WAAA,eAEApd,MAAAiF,IAAAya,MAAAza,GACAjF,MAAA2f,YAAAD,MAAAC,WACA,KAAA/S,QAAApH,QACAxF,KAAAwF,QAAA,GAAA8X,SAAAoC,MAAAla,QAEAxF,MAAAuF,OAAAma,MAAAna,MACAvF,MAAA4f,KAAAF,MAAAE,IACA,KAAAla,KAAA,CACAA,KAAAga,MAAAlB,SACAkB,OAAA9B,SAAA,UAGA5d,MAAAiF,IAAAya,KAGA1f,MAAA2f,YAAA/S,QAAA+S,aAAA3f,KAAA2f,aAAA,MACA,IAAA/S,QAAApH,UAAAxF,KAAAwF,QACAxF,KAAAwF,QAAA,GAAA8X,SAAA1Q,QAAApH,QAEAxF,MAAAuF,OAAA8Z,gBAAAzS,QAAArH,QAAAvF,KAAAuF,QAAA,MACAvF,MAAA4f,KAAAhT,QAAAgT,MAAA5f,KAAA4f,MAAA,IACA5f,MAAA6f,SAAA,IAEA,aAAA7f,KAAAuF,QAAA,SAAAvF,KAAAuF,SAAAG,KACA,SAAA0X,WAAA,4CAEApd,MAAAue,UAAA7Y,MAOA,QAAA0Z,QAAA1Z,MACA,GAAAoa,MAAA,GAAAf,SACArZ,MAAAqa,OAAA/D,MAAA,KAAAC,QAAA,SAAA+D,OACA,GAAAA,MAAA,CACA,GAAAhE,OAAAgE,MAAAhE,MAAA,IACA,IAAA1O,MAAA0O,MAAAM,QAAAvF,QAAA,UACA,IAAApS,OAAAqX,MAAAiE,KAAA,KAAAlJ,QAAA,UACA+I,MAAAtC,OAAA0C,mBAAA5S,MAAA4S,mBAAAvb,UAGA,OAAAmb,MAGA,QAAAta,SAAA2a,KACA,GAAA5R,MAAA,GAAA+O,QACA,IAAA8C,OAAAD,IAAAE,wBAAAN,OAAA/D,MAAA,KACAoE,OAAAnE,QAAA,SAAAqE,QACA,GAAAtE,OAAAsE,OAAAP,OAAA/D,MAAA,IACA,IAAAjY,KAAAiY,MAAAM,QAAAyD,MACA,IAAApb,OAAAqX,MAAAiE,KAAA,KAAAF,MACAxR,MAAAiP,OAAAzZ,IAAAY,QAEA,OAAA4J,MAKA,QAAAgS,UAAAC,SAAA5T,SACA,IAAAA,QACAA,UAGA5M,MAAAue,UAAAiC,SACAxgB,MAAAkI,KAAA,SACAlI,MAAA6F,OAAA+G,QAAA/G,MACA7F,MAAAygB,GAAAzgB,KAAA6F,QAAA,KAAA7F,KAAA6F,OAAA,GACA7F,MAAAgG,WAAA4G,QAAA5G,UACAhG,MAAAwF,QAAAoH,QAAApH,kBAAA8X,SAAA1Q,QAAApH,QAAA,GAAA8X,SAAA1Q,QAAApH,QACAxF,MAAAiF,IAAA2H,QAAA3H,KAAA,GAzRA,GAAAwX,KAAAxc,MACA,MAmCAqd,SAAAxH,UAAA0H,OAAA,SAAAlQ,KAAA3I,OACA2I,KAAA2P,cAAA3P,KACA3I,OAAA0Y,eAAA1Y,MACA,IAAA+b,MAAA1gB,KAAAud,IAAAjQ,KACA,KAAAoT,KAAA,CACAA,OACA1gB,MAAAud,IAAAjQ,MAAAoT,KAEAA,KAAAvF,KAAAxW,OAGA2Y,SAAAxH,UAAA,mBAAAxI,YACAtN,MAAAud,IAAAN,cAAA3P,OAGAgQ,SAAAxH,UAAA3R,IAAA,SAAAmJ,MACA,GAAAqT,QAAA3gB,KAAAud,IAAAN,cAAA3P,MACA,OAAAqT,eAAA,QAGArD,SAAAxH,UAAA8K,OAAA,SAAAtT,MACA,MAAAtN,MAAAud,IAAAN,cAAA3P,WAGAgQ,SAAAxH,UAAA+K,IAAA,SAAAvT,MACA,MAAAtN,MAAAud,IAAAuD,eAAA7D,cAAA3P,OAGAgQ,SAAAxH,UAAAiL,IAAA,SAAAzT,KAAA3I,OACA3E,KAAAud,IAAAN,cAAA3P,QAAA+P,eAAA1Y,QAGA2Y,SAAAxH,UAAAmG,QAAA,SAAA7W,SAAA4b,SACAvD,OAAAC,oBAAA1d,KAAAud,KAAAtB,QAAA,SAAA3O,MACAtN,KAAAud,IAAAjQ,MAAA2O,QAAA,SAAAtX,OACAS,SAAA5F,KAAAwhB,QAAArc,MAAA2I,KAAAtN,OACOA,OACFA,MAiCL,IAAA0e,UACAT,KAAA,cAAAxB,OAAA,QAAAA,OAAA,WACA,IACA,GAAAkC,KACA,aACO,MAAAra,GACP,iBAGAwa,SAAA,YAAArC,MACAwC,YAAA,eAAAxC,MAgFA,IAAA+C,UAAA,6CA2CAC,SAAA3J,UAAAmL,MAAA,WACA,UAAAxB,SAAAzf,MA4BAse,MAAA9e,KAAAigB,QAAA3J,UAgBAwI,MAAA9e,KAAA+gB,SAAAzK,UAEAyK,UAAAzK,UAAAmL,MAAA,WACA,UAAAV,UAAAvgB,KAAAwe,WACA3Y,OAAA7F,KAAA6F,OACAG,WAAAhG,KAAAgG,WACAR,QAAA,GAAA8X,SAAAtd,KAAAwF,SACAP,IAAAjF,KAAAiF,MAIAsb,UAAAhd,MAAA,WACA,GAAAuC,UAAA,GAAAya,UAAA,MAAuC1a,OAAA,EAAAG,WAAA,IACvCF,UAAAoC,KAAA,OACA,OAAApC,UAGA,IAAAob,mBAAA,oBAEAX,UAAAY,SAAA,SAAAlc,IAAAY,QACA,QAAAqb,iBAAAjQ,QAAApL,QACA,SAAAub,YAAA,sBAGA,WAAAb,UAAA,MAA+B1a,cAAAL,SAA0BuL,SAAA9L,OAGzDwX,MAAAa,eACAb,MAAAgD,eACAhD,MAAA8D,iBAEA9D,MAAAxc,MAAA,SAAAyf,MAAA/S,MACA,UAAAjK,SAAA,SAAAC,QAAAC,QAUA,QAAAye,eACA,kBAAAlB,KACA,MAAAA,KAAAkB,WAIA,uBAAAlE,KAAAgD,IAAAE,yBACA,MAAAF,KAAAmB,kBAAA,gBAGA,QAnBA,GAAAxe,QACA,IAAA2c,QAAA3J,UAAA8I,cAAAc,SAAA/S,KACA7J,QAAA4c,UAEA5c,SAAA,GAAA2c,SAAAC,MAAA/S,KAGA,IAAAwT,KAAA,GAAAoB,eAeApB,KAAApC,OAAA,WACA,GAAAlY,QAAA,OAAAsa,IAAAta,OAAA,IAAAsa,IAAAta,MACA,QAAAA,eAAA,KACAjD,OAAA,GAAAwa,WAAA,0BACA,QAEA,GAAAxQ,UACA/G,cACAG,WAAAma,IAAAna,WACAR,gBAAA2a,KACAlb,IAAAoc,cAEA,IAAA3b,MAAA,YAAAya,SAAAra,SAAAqa,IAAAqB,YACA7e,SAAA,GAAA4d,UAAA7a,KAAAkH,UAGAuT,KAAA7c,QAAA,WACAV,OAAA,GAAAwa,WAAA,2BAGA+C,KAAAnd,KAAAF,QAAAyC,OAAAzC,QAAAmC,IAAA,KAEA,gBAAAnC,QAAA6c,YACAQ,IAAAsB,gBAAA,IAGA,oBAAAtB,MAAAzB,QAAAT,KACAkC,IAAAuB,aAAA,MAGA5e,SAAA0C,QAAAyW,QAAA,SAAAtX,MAAA2I,MACA6S,IAAAwB,iBAAArU,KAAA3I,QAGAwb,KAAAyB,KAAA,mBAAA9e,SAAA0b,UAAA,KAAA1b,QAAA0b,aAGA/B,MAAAxc,MAAA4hB,SAAA,OAKAxiB,QAAAD,QAAAW,OAAAE,QACCT,KAAAO,UL44C6BP,KAAKJ,QAAU,WAAa,MAAOY,WAI3D,SAASX,OAAQD,QAASH,qBAE/B,YAEAwe,QAAOqE,eAAe1iB,QAAS,cAC7BuF,MAAO,MAETvF,SAAQ8B,SAAW9B,QAAQ2iB,UAAY3iB,QAAQ+O,SAAW9D,MAE1D,IAAItJ,QAAS9B,oBAAoB,EM3xD3B,IAAMkP,UAAQ/O,QAAR+O,SAAW,2BACjB,IAAM4T,WAAS3iB,QAAT2iB,UAAY,uBAClB,IAAM7gB,UAAQ9B,QAAR8B,WAAY,EAAAH,OAJhBihB,SAI0B7T,SAAW4T,WAAa,YNiyDrD,SAAS1iB,OAAQD,QAASH,qBAE/B,YA4BA,SAASiB,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAASF,KAEvF,QAAS8hB,SAAQ9hB,KAAO,MAAOA,MAAyB,mBAAX+hB,SAA0B/hB,IAAIgiB,cAAgBD,OAAS,eAAkB/hB,KOn0DhH,QAASiiB,SAAQC,UACtB,MAAsD,mBAA/C5E,OAAO3H,UAAUjB,SAASrV,KAAM6iB,UAGlC,QAASC,0BAAyBC,4BACvC,QAASC,iBAAgBC,QACvB,MAAQA,QAAS,EAAK,IAAM,GAE9B,GAAIC,UAAWC,KAAKC,MAAML,2BAA6B,IAEvD,IAAIM,OAAQF,KAAKC,MAAMF,SAAW,QAClC,IAAIG,MACF,MAAOA,OAAQ,QAAUL,gBAAgBK,MAE3C,IAAIC,MAAOH,KAAKC,OAAOF,UAAY,SAAY,MAC/C,IAAII,KACF,MAAOA,MAAO,OAASN,gBAAgBM,KAEzC,IAAIC,OAAQJ,KAAKC,OAAOF,UAAY,OAAS,KAC7C,IAAIK,MACF,MAAOA,OAAQ,QAAUP,gBAAgBO,MAE3C,IAAIC,SAAUL,KAAKC,OAAOF,UAAY,MAAQ,GAC9C,IAAIM,QACF,MAAOA,SAAU,UAAYR,gBAAgBQ,QAE/C,IAAIC,SAAUP,SAAW,EACzB,IAAIO,QACF,MAAOA,SAAU,UAAYT,gBAAgBS,QAE/C,OAAO,WAGF,QAASjY,gBACd,MAAyB,mBAAX/B,QAGT,QAAS+Y,SACd,MAAO,OAGF,QAAStV,gCACd,GAAIwW,eAAgB9c,UAAUO,WAAWC,MAAM,iBAE/C,IAAIqQ,qBACF,MAAO,KAET,IAAIjJ,oBACF,MAAO,KAGT,KAAKkV,cACH,MAAO,MAGT,IAAI9c,UAAUO,WAAWC,MAAM,QAC7B,MAAO,MAGT,IAAIR,UAAUO,WAAWC,MAAM,OAC7B,MAAO,MAGT,IAAIR,UAAUO,WAAWC,MAAM,SAC7B,MAAO,MAGT,IAAI,mBAAmBuW,KAAK/W,UAAUyB,UACpC,MAAO,MAET,OAAOsb,UAASD,cAAc,GAAG3c,UAAU,EAAG,IAAM,GAG/C,QAAS+U,mBACd,GAAI8H,eAAgBhd,UAAUO,WAAWC,MAAM,4BAC/C,OAAwB,OAAjBwc,cAGF,QAASnM,sBACd,GAAIoM,gBAAiBjd,UAAUS,UAAUD,MAAM,oCAC/C,IAAIyc,eACF,MAAOF,UAASE,eAAe,GAAG9c,UAAU,EAAG,IAAM,EACvD,OAAO,OAGF,QAASyG,oBACd,GAAIqW,gBAAiBjd,UAAUS,UAAUD,MAAM,oCAC/C,OAAyB,OAAlByc,eAGF,QAASpW,qBACd,GAAIoW,gBAAiBjd,UAAUS,UAAUD,MAAM,oCAC/C,IAAIyc,eACF,MAAOF,UAASE,eAAe,GAAG9c,UAAU,EAAG,QAC5C,OAAO,GAGP,QAASyH,qBACd,GAAIoV,eAAgBhd,UAAUO,WAAWC,MAAM,4BAC/C,IAAqB,MAAjBwc,cACF,MAAO,MACT,IAAI,oBAAoBjG,KAAK/W,UAAUS,WACrC,MAAO,MACT,OAAQsc,UAASC,cAAc,IAAM,EAGhC,QAASE,kBAAiBC,UAC/B,GAAIC,KAAM9Z,SAAS+Z,iBAAiBF,SACpC,IAAIC,IAAIld,OAAS,EACf,IAAK,GAAI6M,GAAI,EAAGA,EAAIqQ,IAAIld,OAAQ6M,IAC9BqQ,IAAIrQ,GAAGyH,WAAWC,YAAY2I,IAAIrQ,IAIjC,QAASuQ,eAAcC,wBAAyBC,SAAUC,aAC/D,GAAuC,gBAA5BF,yBACTja,SAASoa,cAAcH,yBAAyBI,mBAAmBH,SAAUC,iBAC1E,IAAuC,YAAL,mBAAvBF,yBAAuB,YAAA1B,QAAvB0B,0BACdA,wBAAwBI,mBAAmBH,SAAUC,iBAErD,MAAM,IAAI9d,OAAS4d,wBAAuB,yDAGvC,QAASK,yBAAwBL,yBACtC,GAAuC,gBAA5BA,yBAAsC,CAC/C,GAAIvP,SAAU1K,SAASoa,cAAcH,wBACrC,MAAOvP,QAAQ6P,YACb7P,QAAQyG,YAAYzG,QAAQ6P,gBAG3B,IAAuC,YAAL,mBAAvBN,yBAAuB,YAAA1B,QAAvB0B,0BACd,KAAOA,wBAAwBM,YAC7BN,wBAAwB9I,YAAY8I,wBAAwBM,gBAI9D,MAAM,IAAIle,OAAS4d,wBAAuB,yDAGvC,QAASO,aAAYP,wBAAyBQ,UACnD,GAAuC,gBAA5BR,yBACTja,SAASoa,cAAcH,yBAAyBS,UAAUC,IAAIF,cAC3D,IAAuC,YAAL,mBAAvBR,yBAAuB,YAAA1B,QAAvB0B,0BACdA,wBAAwBS,UAAUC,IAAIF,cAEtC,MAAM,IAAIpe,OAAS4d,wBAAuB,yDAGvC,QAASW,gBAAeX,wBAAyBQ,UACtD,GAAuC,gBAA5BR,yBACTja,SAASoa,cAAcH,yBAAyBS,UAAUG,OAAOJ,cAC9D,IAAuC,YAAL,mBAAvBR,yBAAuB,YAAA1B,QAAvB0B,0BACdA,wBAAwBS,UAAUG,OAAOJ,cAEzC,MAAM,IAAIpe,OAAS4d,wBAAuB,yDAGvC,QAASa,IAAGb,wBAAyBzgB,MAAOuhB,MACjD,IAAKvhB,MACHzC,sBAAI8C,MAAM,mCAAoCL,MAEhD,KAAKuhB,KACHhkB,sBAAI8C,MAAM,kCAAmCkhB,KAE/ChkB,uBAAIgD,MAAM,iBACV,IAAuC,gBAA5BkgB,yBAAsC,CAC/C,GAAIH,KAAM9Z,SAAS+Z,iBAAiBF,SACpC,IAAIC,IAAIld,OAAS,EACf,IAAK,GAAI6M,GAAI,EAAGA,EAAIqQ,IAAIld,OAAQ6M,IAC9BqR,GAAGhB,IAAIrQ,GAAIsR,UAGZ,IAAIrC,QAAQuB,yBACf,IAAK,GAAIxQ,GAAI,EAAGA,EAAIwQ,wBAAwBrd,OAAQ6M,IAClDqR,GAAGb,wBAAwBxQ,GAAIsR,UAE9B,IAAuC,YAAL,mBAAvBd,yBAAuB,YAAA1B,QAAvB0B,0BACdA,wBAAwB5V,iBAAiB7K,MAAOuhB,UAEhD,MAAM,IAAI1e,OAAS4d,wBAAuB,yDAGvC,QAASe,MAAKf,wBAAyBzgB,MAAOuhB,MPiyDlD,GOjyDwDE,eAAaC,UAAAte,QAAA,GAAA+D,SAAAua,UAAA,GAAC,MAAKA,UAAA,EAC5E,KAAK1hB,MACHzC,sBAAI8C,MAAM,mCAAoCL,MAEhD,KAAKuhB,KACHhkB,sBAAI8C,MAAM,kCAAmCkhB,KAE/C,IAAuC,gBAA5Bd,yBAAsC,CAC/C,GAAIH,KAAM9Z,SAAS+Z,iBAAiBF,SACpC,IAAIC,IAAIld,OAAS,EACf,IAAK,GAAI6M,GAAI,EAAGA,EAAIqQ,IAAIld,OAAQ6M,IAC9BuR,KAAKlB,IAAIrQ,GAAIsR,UAGd,IAAIrC,QAAQuB,yBACf,IAAK,GAAIxQ,GAAI,EAAGA,EAAIwQ,wBAAwBrd,OAAQ6M,IAClDuR,KAAKf,wBAAwBxQ,GAAIsR,UAEhC,IAAuC,YAAL,mBAAvBd,yBAAuB,YAAA1B,QAAvB0B,0BAAsC,CACpD,GAAIkB,aAAc,WAChB,GAAIC,sBAAuB,QAAvBA,sBAAiCxgB,GACnC,GAAIygB,sBAAuB,QAAvBA,wBACFpB,wBAAwB/Z,oBAAoBtF,EAAE4D,KAAM2c,aAEtD,KAAKF,cACHI,sBAEFN,MAAKngB,EAAGygB,sBAEV,OAAOD,wBAETnB,yBAAwB5V,iBAAiB7K,MAAO2hB,iBAGhD,MAAM,IAAI9e,OAAS4d,wBAAuB,yDASvC,QAASqB,KAAIrB,wBAAyBzgB,MAAOuhB,MAClD,GAAuC,gBAA5Bd,yBAAsC,CAC/C,GAAIH,KAAM9Z,SAAS+Z,iBAAiBF,SACpC,IAAIC,IAAIld,OAAS,EACf,IAAK,GAAI6M,GAAI,EAAGA,EAAIqQ,IAAIld,OAAQ6M,IAC9B6R,IAAIxB,IAAIrQ,GAAIsR,UAGb,IAAIrC,QAAQuB,yBACf,IAAK,GAAIxQ,GAAI,EAAGA,EAAIwQ,wBAAwBrd,OAAQ6M,IAClD6R,IAAIrB,wBAAwBxQ,GAAIsR,UAE/B,IAAuC,YAAL,mBAAvBd,yBAAuB,YAAA1B,QAAvB0B,0BACd,GAAIc,KACFd,wBAAwB/Z,oBAAoB1G,MAAOuhB,UAEnDd,yBAAwB/Z,oBAAoB1G,WAE9C,MAAM,IAAI6C,OAAS4d,wBAAuB,yDPojD7ClG,OAAOqE,eAAe1iB,QAAS,cAC7BuF,MAAO,MAETvF,SO1yDegjB,eP2yDfhjB,SOvyDekjB,iDPwyDfljB,SO3wDe4L,yBP4wDf5L,SOxwDe4iB,WPywDf5iB,SOrwDesN,yDPswDftN,SOtuDekc,+BPuuDflc,SOluDe6X,qCPmuDf7X,SO5tDe4N,iCP6tDf5N,SOxtDe6N,mCPytDf7N,SOltDe4O,mCPmtDf5O,SO1sDekkB,iCP2sDflkB,SOnsDeskB,2BPosDftkB,SO3rDe4kB,+CP4rDf5kB,SO5qDe8kB,uBP6qDf9kB,SOpqDeklB,6BPqqDfllB,SO5pDeolB,KP6pDfplB,SOpoDeslB,SPqoDftlB,SO1lDe4lB,OP4lDf,IAAIxkB,WAAYvB,oBAAoB,EAEpC,IAAIwB,YAAaP,uBAAuBM,YAqNnC,SAASnB,OAAQD,QAASH,qBQthEhC,GAAAgmB,gCAAAC,+BAMA,SAAAC,KAAAC,YACA,YACA,oBAAA/lB,gBAAAD,SAAA,KACAC,OAAAD,QAAAgmB,iBACK,WACLH,+BAAA,WAAAC,8BAAA,kBAAAD,+DAAAzlB,KAAAJ,QAAAH,oBAAAG,QAAAC,QAAA4lB,+BAAA5a,SAAA6a,gCAAA7lB,OAAAD,QAAA8lB,oCAEAC,MAAAE,IAAAD,cAECplB,KAAA,WACD,YAIA,SAAAslB,YAAAC,YACA,SAAAC,WAAAC,cACA,iBACS,IAAApb,SAAAmb,QAAAD,YACT,MAAAG,YAAAF,QAAAD,gBACS,IAAAlb,SAAAmb,QAAAH,IACT,MAAAK,YAAAF,QAAA,WAEA,OAAAG,MAIA,QAAAD,YAAAvlB,IAAAolB,YACA,GAAAhgB,QAAApF,IAAAolB,WACA,sBAAAhgB,QAAAqgB,KACA,MAAArgB,QAAAqgB,KAAAzlB,SAEA,KACA,MAAA0lB,UAAA/P,UAAA8P,KAAApmB,KAAA+F,OAAApF,KACa,MAAAmE,GAEb;AACA,MAAAuhB,UAAA/P,UAAAyG,YAAAhX,QAAApF,IAAAykB,cAQA,QAAAkB,iCAAAP,WAAAQ,MAAAC,YACA,kBACA,SAAAR,WAAAC,cAAA,CACAQ,sBAAAzmB,KAAAQ,KAAA+lB,MAAAC,WACAhmB,MAAAulB,YAAAhJ,MAAAvc,KAAA4kB,aAKA,QAAAqB,uBAAAF,MAAAC,YAEA,OAAA7S,GAAA,EAAuBA,EAAA+S,WAAA5f,OAAuB6M,IAAA,CAC9C,GAAAoS,YAAAW,WAAA/S,EACAnT,MAAAulB,YAAAQ,MAAA5S,EACAwS,KACA3lB,KAAAmmB,cAAAZ,WAAAQ,MAAAC,aAIA,QAAAI,sBAAAb,WAAAQ,MAAAC,YAEA,MAAAV,YAAAC,aACAO,gCAAAvJ,MAAAvc,KAAA4kB,WAWA,QAAAyB,QAAA/Y,KAAAgZ,aAAAC,SAQA,QAAAC,wBAAAC,UACA,GAAAC,YAAAR,WAAAO,WAAA,UAAAlH,aAGA,KACAtW,OAAA0d,aAAAC,YAAAF,SACA,QACW,MAAAG,SAGX,IACA5d,OAAAS,SAAAod,OACAzT,mBAAAuT,YAAA,IAAAF,UAAA,IACW,MAAAG,UAGX,QAAAE,qBACA,GAAAC,YAEA,KACAA,YAAA/d,OAAA0d,aAAAC,YACW,MAAAC,SAEX,SAAAG,eAAAvB,cACA,IACA,GAAAqB,QAAA7d,OAAAS,SAAAod,MACA,IAAA/V,UAAA+V,OAAA7V,QACAoC,mBAAAuT,YAAA,IACA,IAAA7V,SACAiW,YAAA,WAA0CC,KAAAH,OAAAI,MAAAnW,WAAA,GAE3B,MAAA8V,SAIf,GAAAxc,SAAAoS,KAAA0K,OAAAH,aACAA,YAAA3c,MAGA,OAAA2c,aA9CA,GAAAvK,MAAAzc,IACA,IAAAonB,aACA,IAAAR,YAAA,UACA,IAAAtZ,KACAsZ,YAAA,IAAAtZ,IAmDAmP,MAAA0K,QAAqBE,MAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,KAAA,EACrBC,MAAA,EAAAC,OAAA,EAEAjL,MAAA0J,cAAAI,SAAAH,oBAEA3J,MAAAkL,SAAA,WACA,MAAAP,cAGA3K,MAAAmL,SAAA,SAAA7B,MAAA8B,SACA,mBAAA9B,QAAA1b,SAAAoS,KAAA0K,OAAApB,MAAAxG,eACAwG,MAAAtJ,KAAA0K,OAAApB,MAAAxG,cAEA,oBAAAwG,eAAA,GAAAA,OAAAtJ,KAAA0K,OAAAO,OAAA,CACAN,aAAArB,KACA,YAAA8B,QACArB,uBAAAT,MAEAE,uBAAAzmB,KAAAid,KAAAsJ,MAAAzY,KACA,UAAAkY,WAAAC,eAAAM,MAAAtJ,KAAA0K,OAAAO,OACA,6CAGA,mDAAA3B,MAIAtJ,MAAA1P,gBAAA,SAAAgZ,OACA,IAAAgB,oBACAtK,KAAAmL,SAAA7B,MAAA,OAIAtJ,MAAA3P,UAAA,SAAA+a,SACApL,KAAAmL,SAAAnL,KAAA0K,OAAAE,MAAAQ,SAGApL,MAAAqL,WAAA,SAAAD,SACApL,KAAAmL,SAAAnL,KAAA0K,OAAAO,OAAAG,SAIA,IAAAE,cAAAhB,mBACA,UAAAgB,aACAA,aAAA,MAAAzB,aAAA,OAAAA,YAEA7J,MAAAmL,SAAAG,aAAA,OAxKA,GAAApC,MAAA,YACA,IAAAF,eAAA,WAyDA,IAAAS,aACA,QACA,QACA,OACA,OACA,QAkHA,IAAA8B,eAAA,GAAA3B,OAEA,IAAA4B,kBACAD,eAAAE,UAAA,QAAAA,WAAA5a,MACA,mBAAAA,OAAA,KAAAA,KACA,SAAA8P,WAAA,iDAGA,IAAA+K,QAAAF,eAAA3a,KACA,KAAA6a,OACAA,OAAAF,eAAA3a,MAAA,GAAA+Y,QACA/Y,KAAA0a,cAAAL,WAAAK,cAAA7B,cAEA,OAAAgC,QAIA,IAAAC,YAAAnf,UAAAwc,cAAAxc,OAAAoc,IAAAhb,MACA2d,eAAAK,WAAA,WACA,SAAApf,UAAAwc,eACAxc,OAAAoc,MAAA2C,cACA/e,OAAAoc,IAAA+C,IAGA,OAAAJ,eAGA,OAAAA,kBR8hEM,SAAS3oB,OAAQD,QAASH,sBAEH,SAASgB,OAAQ,YAc7C,SAASC,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAASF,KSxwEjF,QAASmoB,SAAQpjB,OAAQK,OAAQwK,MACtC,GAAIvK,SAAU,GAAI8X,QAClB9X,SAAQgY,OAAO,eAAgB,iCAE/B,IAAIlY,WACFC,OAAQA,QAAU,sBAClBC,QAASA,QACTsX,MAAO,WACPpX,KAAMC,KAAKC,UAAUmK,MAGvB,OAAO,IAAIrN,SAAQ,SAACC,QAASC,QAC3B3C,MAAMK,MAfDY,SAeYgE,OAAQI,UACtBtB,KAAK,QAAS6B,QAAOC,UACpB,GAAIA,SAASD,QAAU,KAAOC,SAASD,OAAS,IAC9ClD,QAAQmD,SAASG,YAEjBrD,QAAO,GAAImD,OAAMD,SAASE,eALhC/F,SAOS,SAAUqE,GACf1B,OAAO0B,OAKR,QAASiG,kBAAiBxD,MAAOwhB,UAAWC,OAAQljB,UACzD,GAAImjB,SACFlhB,OAAUR,MACV2hB,SAAYF,OACZljB,SAAYA,SACZqjB,mBAAsBJ,UACtBK,SAAY,KACZ3jB,IAAO,sBAET,OAAOqjB,SAAQ,gBAAiB,OAAQG,QT0tEzChL,OAAOqE,eAAe1iB,QAAS,cAC7BuF,MAAO,MAETvF,SS/vEekpB,eTgwEflpB,SSvuEemL,iCTyuEf,IAAIjK,OAAQrB,oBAAoB,EAEhC,IAAIuB,WAAYvB,oBAAoB,EAEpC,IAAIwB,YAAaP,uBAAuBM,aAmCXhB,KAAKJ,QAASH,oBAAoB,KAI1D,SAASI,OAAQD,SAEtB,YUxyED,SAASypB,eV0yERpL,OAAOqE,eAAe1iB,QAAS,cAC7BuF,MAAO,MUxyEVkkB,YAAWC,QACXD,YAAWE,MAAQ,CAEnBF,YAAWhkB,IAAM,SAAUd,IAAKY,OAC9B,GAA8B0F,SAA1Bwe,WAAWC,MAAM/kB,KACnB8kB,WAAWC,MAAM/kB,MAAQ,KAAM,KAEjC8kB,YAAWC,MAAM/kB,KAAKoX,KAAKxW,MAC3B,IAAIkkB,WAAWC,MAAM/kB,KAAKuC,QAAUuiB,WAAWE,MAAQ,EACrDF,WAAWC,MAAM/kB,KAAKuY,OAExB,OAAOuM,YAAWC,MAAM/kB,KAG1B8kB,YAAW1kB,IAAM,SAAUJ,KACzB,MAAO8kB,YAAWC,MAAM/kB,KVyzEzB3E,oBUtzEcypB,YV0zET,SAASxpB,OAAQD,SAEtB,YW31ED,IAAsB,mBAAX6J,SACT,WACE,QAAS+f,aAAY9lB,MAAOulB,QAC1BA,OAASA,SAAWQ,QAAS,MAAOC,WAAY,MAAOC,QAAS9e,OAChE,IAAI+e,KAAM1f,SAAS2f,YAAY,cAC/BD,KAAIE,gBAAgBpmB,MAAOulB,OAAOQ,QAASR,OAAOS,WAAYT,OAAOU,QACrE,OAAOC,KAGTJ,YAAYlT,UAAY7M,OAAOsgB,MAAMzT,SAErC7M,QAAO+f,YAAcA,gBXm2EnB,SAAS3pB,OAAQD,QAASH,qBAE/B,YAWA,SAASiB,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAASF,KYz3EjF,QAASsK,cAAc+e,UAAWzZ,MACvC,GAAsB,mBAAX9G,QAAwB,CACjCxI,sBAAIgD,MAAM,gCAAiC+lB,UAAW,qDACtD,QAEF,GAAItmB,OAAQ,GAAI8lB,aAAYQ,WAC1BP,QAAS,KAAMC,WAAY,KAAMC,QAASpZ,MAE5C9G,QAAOwgB,cAAcvmB,OZw2EtBua,OAAOqE,eAAe1iB,QAAS,cAC7BuF,MAAO,MAETvF,SYn3EeqL,yBZq3Ef,IAAIjK,WAAYvB,oBAAoB,EAEpC,IAAIwB,YAAaP,uBAAuBM,YAiBnC,SAASnB,OAAQD,QAASH,qBAE/B,YAgBA,SAASiB,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAASF,KAEvF,QAASupB,iBAAgBC,SAAUC,aAAe,KAAMD,mBAAoBC,cAAgB,KAAM,IAAIxM,WAAU,qCAhBhH,GAAIyM,cAAe,WAAe,QAASC,kBAAiB1mB,OAAQ2mB,OAAS,IAAK,GAAI5W,GAAI,EAAGA,EAAI4W,MAAMzjB,OAAQ6M,IAAK,CAAE,GAAI6W,YAAaD,MAAM5W,EAAI6W,YAAWC,WAAaD,WAAWC,YAAc,KAAOD,YAAWE,aAAe,IAAM,IAAI,SAAWF,YAAYA,WAAWG,SAAW,IAAM1M,QAAOqE,eAAe1e,OAAQ4mB,WAAWjmB,IAAKimB,aAAiB,MAAO,UAAUJ,YAAaQ,WAAYC,aAAe,GAAID,WAAYN,iBAAiBF,YAAY9T,UAAWsU,WAAa,IAAIC,YAAaP,iBAAiBF,YAAaS,YAAc,OAAOT,gBAEjiB,IAAI7oB,QAAS9B,oBAAoB,EAEjC,IAAIyB,aAAczB,oBAAoB,EAEtC,IAAI0B,cAAeT,uBAAuBQ,YAE1C,IAAIF,WAAYvB,oBAAoB,EAEpC,IAAIwB,YAAaP,uBAAuBM,UAExC,IAAII,SAAU3B,oBAAoB,Gar5EnC,KAAI,EAAA8B,OALKiK,gBAKW,CAClB/L,oBAAQ,GACR,IAAIqrB,SAAUrrB,oBAAQ,Gb46ErB,Ia55EKsrB,MAAI,WACR,QADIA,Qb85ED,GAAIC,OAAQxqB,IAEZ,IAAIyqB,MAAO7F,UAAUte,QAAU,GAAsB+D,SAAjBua,UAAU,Map5EzCA,UAAA,Ebs5EL,IAAI8F,WAAYD,Kah6Efxf,Ibi6ED,Iaj6ECA,MAAIZ,SAAAqgB,UAAG,QAAOA,Sbk6Ef,IAAIC,eAAgBF,Kaj6EnBvf,Qbk6ED,Ial6ECA,UAAQb,SAAAsgB,cAAG,cAAaA,abm6EzB,IAAIC,YAAaH,Kal6EhBtf,Kbm6ED,Ian6ECA,OAAKd,SAAAugB,WAAG,YAAWA,Ubo6EpB,IAAIC,uBAAwBJ,Kan6E3BK,iBbo6ED,Iap6ECA,mBAAiBzgB,SAAAwgB,sBAAG,GAAEA,qBbq6EvB,IAAIE,qBAAsBN,Kap6EzBO,cbq6ED,Iar6ECA,gBAAc3gB,SAAA0gB,oBAAG,IAAGA,mBbs6ErB,IAAIE,eAAgBR,Kar6EnBS,Qbs6ED,Iat6ECA,UAAQ7gB,SAAA4gB,eACJE,aAAgB,6BAChBC,WAAc,sCACfH,abu6EJ,IAAII,gBAAiBZ,Kat6EpBa,Sbu6ED,Iav6ECA,WAASjhB,SAAAghB,eAAG,KAAIA,cby6EjB3B,iBAAgB1pB,Kap7EfuqB,KAaFvqB,MAAK4M,SACH3B,KAAMA,KACNC,SAAUA,SACVC,MAAOA,MACP2f,kBAAmBA,kBACnBE,eAAgBA,eAChBE,SAAUA,SACVI,UAAWA,UAEbtrB,MAAKiL,KAAOjL,KAAK4M,QAAQ3B,IACzBjL,MAAKkL,SAAWlL,KAAK4M,QAAQ1B,QAC7BlL,MAAKkrB,SAAWlrB,KAAK4M,QAAQse,QAC7BlrB,MAAKkrB,SAASK,SACd,KAAKvrB,KAAKkrB,SAASC,aACjBnrB,KAAKkrB,SAASC,aAAe,4BAE/B,KAAKnrB,KAAKkrB,SAASE,WACjBprB,KAAKkrB,SAASE,WAAa,oCAE7BprB,MAAKwrB,QACHC,cAAe,uBACfL,WAAY,yBACZD,aAAc,2BACdO,QAAS,2BAEX1rB,MAAKuR,MAAQ,eAGbtI,QAAO8E,iBAAiB,+BAAgC,SAACwD,OACvD9Q,sBAAImK,KAAK,+BAAgC2G,MAAMxH,SAGjDd,QAAO8E,iBAAiB,uBAAwB,WAC9C,GAAI4d,cAAe,QAAfA,gBACFlrB,sBAAIgD,MAAM,oBACV,IAAImoB,6BAA8BpB,MAAKqB,iCACvCrB,OAAKsB,aACL,IAAmB,iBAAftB,MAAKjZ,MAGP3R,UAAUyP,mCAEV,KAAKmb,MAAKuB,iBACRvB,MAAKwB,aACFhoB,KAAK,SAACM,GACL,GAAImY,MAAI+N,OACR,EAAAzpB,OAlF0H2jB,MAkFrHhb,SAAU,QAAS,SAACpF,EAAGygB,sBAC1B,GAAIkH,kBAAmBxP,KAAKyP,eAAeC,SAAS7nB,EAAElB,OACtD,IAAI6oB,sBACG,CACLlH,sBACAtI,MAAK2P,aACFpoB,KAAK,SAACM,GACL,GAAIkmB,MAAK6B,YAAa,CACpB7B,MAAK8B,YAAY,KACjB9B,OAAK6B,YAAchiB,UAJzBoS,SAOS,SAACnY,GACN7D,sBAAI8C,MAAMe,OAGf,QAnBPkmB,SAqBS,SAAClmB,GACN7D,sBAAI8C,MAAMe,KAKpB,IAAIkmB,MAAK+B,aAAc,CACrB/B,MAAK6B,YAAc,IACnB7B,OAAK8B,YAAY,OACdtoB,KAAK,WACJ2nB,iBAFJnB,SAIS,SAAUlmB,GACf7D,sBAAI8C,MAAMe,SAGdqnB,iBAIJ1iB,QAAO8E,iBAAiB,0BAA2B,WACjD,GAAIyc,MAAK+B,aAAc,CACrB/B,MAAK6B,YAAc,IACnB7B,OAAK8B,YAAY,OAGnB,GAAI9B,MAAKgC,mBAAqBhC,MAAKuB,iBAAkB,CACnDvG,QAAQ/hB,MAAM,6EACd,QAEF,GAAIynB,SAASK,OAAOjlB,OAAS,EAAG,CAC9B,GAAImmB,iBAAkBjC,MAAKkC,gBAC3BlC,OAAKmC,WAAWF,qBAEhBjC,OAAKmC,WAAWnC,MAAKU,SAASV,MAAKjZ,OAErCiZ,OAAKoC,eAGP3jB,QAAO8E,iBAAiB,yBAA0B,WAChD,GAAIyc,MAAKgC,kBACPhC,MAAKsB,cACF9nB,KAAK,WACJwmB,MAAKmC,WAAWnC,MAAKU,SAASV,MAAKjZ,OACnC,IAAIiZ,MAAK6B,cAAgB7B,MAAKuB,iBAAkB,CAC9CvB,MAAK8B,YAAY,KACjB9B,OAAK6B,YAAchiB,WAM7BpB,QAAO8E,iBAAiB,iCAAkC,SAACzJ,GACzDkmB,MAAKqC,SAASvoB,EAAEyF,OAAS,aAAe,iBAG1Cd,QAAO8E,iBAAiB,4CAA6C,SAACzJ,GACpEkmB,MAAKsC,eAAe,0BAA2B,MAC9C9oB,KAAK,WACFwmB,MAAK8B,YAAY,QAFrB9B,SAIO,SAAClmB,GACJ7D,sBAAI8C,MAAMe,MAIhBtE,MAAK+sB,cbk6ENlD,aajjFGU,ObkjFDxmB,IAAK,SACLY,MAAO,QAASyG,UACd,GAAI4hB,QAAShtB,Iaj6EhB,MAAK,EAAAe,OA1KY2L,gCA2Kf,MAGF,IAAI1M,KAAKitB,WACP,EAAAlsB,OA/K6CuiB,kBA+K5B,2BAGnBra,QAAOya,cAAa3iB,OAlL6C2iB,eAoLjE,EAAA3iB,OApLiE2iB,eAoLnD,OAAQ,YAAa,+FAEnC,EAAA3iB,OAtLiE2iB,eAsLnD1jB,KAAKitB,UAAW,YAAa,6EAE3C,EAAAlsB,OAxLiE2iB,eAwLnD1jB,KAAKktB,SAAU,YAAa,uDAE1C,EAAAnsB,OA1LiE2iB,eA0LnD1jB,KAAKktB,SAAU,YAAa,sDAE1C,EAAAnsB,OA5LiE2iB,eA4LnD1jB,KAAKktB,SAAU,YAAa,wDAC1C,EAAAnsB,OA7LiE2iB,eA6LnD1jB,KAAKmtB,gBAAiB,YAAa,6DAEjD,EAAApsB,OA/LiE2iB,eA+LnD1jB,KAAKktB,SAAU,YAAa,uDAC1C,EAAAnsB,OAhMiE2iB,eAgMnD1jB,KAAKksB,eAAgB,YAAa,0DAGhDlsB,MAAKotB,eAAerf,iBAAiB,YAAa,WAChD,GAAIsf,gBAAiB1sB,wBAAWwD,IAAI,4BAA6B,OACjE,IAAuBkG,SAAnBgjB,gBAA8E,QAA9CA,eAAeA,eAAe/mB,OAAS,IACzE,EAAA1F,QAnMD6J,cAmMc,0BAEf9J,yBAAWkE,IAAI,4BAA6B,SAG9C7E,MAAKotB,eAAerf,iBAAiB,aAAc,WACjDpN,wBAAWkE,IAAI,4BAA6B,QAC5C,EAAAjE,QA1MC6J,cA0MY,2BAGfzK,MAAKotB,eAAerf,iBAAiB,YAAa,YAChD,EAAAhN,OAjN6CuiB,kBAiN5B,gBACjB,EAAAviB,OAlN+D2iB,eAkNjDsJ,OAAKI,eAAgB,YAAa,mCAChD,EAAArsB,OAnNuGmjB,aAmN3F8I,OAAKI,eAAgB,0CACjC,EAAArsB,OApNuGmjB,aAoN3F8I,OAAKM,cAAe,yCAGlCttB,MAAKotB,eAAerf,iBAAiB,UAAW,YAC9C,EAAAhN,OAxNoHujB,gBAwNrG0I,OAAKI,eAAgB,0CACpC,EAAArsB,OAzNoHujB,gBAyNrG0I,OAAKM,cAAe,yCAGrCttB,MAAKotB,eAAerf,iBAAiB,QAAS,YAC5C,EAAAnN,QA1NC6J,cA0NY,gCACb,EAAA7J,QA3NC6J,cA2NY,2BAIf,EAAA1J,OAlOiE2iB,eAkOnD1jB,KAAKotB,eAAgB,YAAa9C,QAGhDtqB,MAAKutB,QAAQvtB,KAAK4M,QAAQ3B,KAE1B,IAA8B,gBAA1BjL,KAAK4M,QAAQ1B,SAA4B,EAC3C,EAAAnK,OAxOuGmjB,aAwO3FlkB,KAAKitB,UAAW,yCAC5B,EAAAlsB,OAzOuGmjB,aAyO3FlkB,KAAKktB,SAAU,2CAExB,IAA8B,iBAA1BltB,KAAK4M,QAAQ1B,SAA6B,EACjD,EAAAnK,OA5OuGmjB,aA4O3FlkB,KAAKitB,UAAW,0CAC5B,EAAAlsB,OA7OuGmjB,aA6O3FlkB,KAAKktB,SAAU,4CAG3B,MAAM,IAAInnB,OAAM,mCAAqC/F,KAAK4M,QAAQ1B,SAGpE,IAA2B,YAAvBlL,KAAK4M,QAAQzB,OACf,EAAApK,OApPuGmjB,aAoP3FlkB,KAAKktB,SAAU,6CAExB,IAA2B,YAAvBltB,KAAK4M,QAAQzB,OACpB,EAAApK,OAvPuGmjB,aAuP3FlkB,KAAKktB,SAAU,6CAG3B,MAAM,IAAInnB,OAAM,gCAAkC/F,KAAK4M,QAAQzB,MAGjEvL,WAAUsU,2BAA2B,SAACxC,eACpC,GAAIA,cAAe,CACjB8T,QAAQH,IAAI,gBAAiB3T,cAC7B,IAAI8b,SAAUR,OAAKV,YAAY,UAE/B,IAAIkB,SAAU9qB,QAAQC,SAGxB6qB,SAAQxpB,KAAK,WACXgpB,OAAKS,eAAeT,OAAKpgB,QAAQke,kBAAmB,WAClDkC,OAAKU,iBAEJ1pB,KAAK,WACJ,MAAOgpB,QAAKS,eAAeT,OAAKpgB,QAAQoe,eAAgB,WACtD,GAAIgC,OAAKpgB,QAAQ0e,UACf,IAAK5Z,cAAe,CAClBsb,OAAKW,eAAe,sCACpBX,QAAKY,YAGTZ,OAAKa,YAAc,SAXzBb,SAcS,SAAC1oB,GACN7D,sBAAI8C,MAAMe,Ybk6EjBP,IAAK,kCACLY,MAAO,QAASknB,mCa55EjB,GAAIiC,sBAAuBntB,wBAAWwD,IAAI,wBAC1C,IAAI4pB,wBAAyBD,qBAAqBA,qBAAqBxnB,OAAS,EAChF,OAAOynB,2Bbg6ENhqB,IAAK,+BACLY,MAAO,QAASqpB,gCACd,GAAIC,QAASjuB,Ia95EhB,OAAO,IAAI0C,SAAQ,SAACC,QAASC,SAC3B,EAAA7B,OAnS8EijB,yBAmStDiK,OAAKC,mBAE7B,IAAIH,wBAAyBE,OAAKpC,iCAClC,IAAIvmB,UAAW,kBAEf,IAAmB,eAAf2oB,OAAK1c,OAAqD,OAA3Bwc,wBAChB,iBAAfE,OAAK1c,OAAuD,QAA3Bwc,uBACnCzoB,SAAQ,omBAW6D,eAAf2oB,OAAK1c,MAA0B,cAAgB,aAAW,+KAM7G,IAAmB,YAAf0c,OAAK1c,MACZjM,SAAQ,ytBAc6D,eAAf2oB,OAAK1c,MAA0B,cAAgB,aAAW,4KAQlH,EAAAxQ,OAlV+D2iB,eAkVjDuK,OAAKC,mBAAoB,YAAa5oB,SACpD3C,gBbg4EDoB,IAAK,iBACLY,MAAO,QAAS8oB,gBa73EJU,WAAY1J,MACzB,GAAoB,kBAATA,MACT,KAAM,IAAI1e,OAAM,2CAClB,IAAkB,GAAdooB,WAAiB,CACnB1J,MACA,OAAO/hB,SAAQC,UAEjB,MAAO,IAAID,SAAQ,SAACC,QAASC,QAC3BwrB,WAAW,WACT3J,MACA9hB,YACCwrB,iBbq4EJpqB,IAAK,cACLY,MAAO,QAASooB,eACd,GAAIsB,QAASruB,Ia/3EhB,SACAJ,WAAUsU,2BAA2B,SAACoa,WACpC9I,QAAQ5a,KAAK,qCACb,SACAyjB,QAAKxB,SAASyB,UAAY,aAAe,qBb24E1CvqB,IAAK,WACLY,MAAO,QAASkoB,Uap4EV0B,UACP,GAAIvuB,KAAKwrB,OAAO1K,eAAeyN,UAAW,CACxC,GAAIhiB,WAAYvM,KAAKuR,KACrBvR,MAAKuR,MAAQgd,QACb,IAAIhiB,YAAcgiB,UAChB,EAAA3tB,QAxXD6J,cAwXc,gCAAiC4L,KAAM9J,UAAW+J,GAAIiY,UAKrEvuB,MAAK2sB,WAAW3sB,KAAKkrB,SAASqD,eAG9B9tB,uBAAI8C,MAAM,qCAAsCgrB,abu4EjDxqB,IAAK,iBACLY,MAAO,QAASgpB,gBap4EJrjB,Sbq4EV,GAAIkkB,QAASxuB,IAEb,Iav4EmByuB,QAAM7J,UAAAte,QAAA,GAAA+D,SAAAua,UAAA,GAAG,MAAKA,UAAA,EACpC5kB,MAAKkrB,SAASK,OAAOpQ,KAAK7Q,QAC1B,IAAItK,KAAK0uB,cACP1uB,KAAK2uB,YACJ3qB,KAAK,WACFwqB,OAAKI,gBACLJ,QAAKZ,kBAEJ,CACL5tB,KAAK4uB,gBAEL,IAAI5uB,KAAK6tB,YACP7tB,KAAK4tB,gBb44ER7pB,IAAK,iBACLY,MAAO,QAAS+nB,gBax4EJpiB,Sby4EV,GAAIukB,QAAS7uB,Iax4EhB,IAAIysB,iBAAkBzsB,KAAKkrB,SAASK,OAAO7iB,IAAI4B,QAC/C,IAAItK,KAAK0uB,cACP1uB,KAAK2uB,YACF3qB,KAAK,WACJ6qB,OAAKC,gBACLD,QAAKjB,kBAEJ,CACL,GAAImB,gBAAiB/uB,KAAK8uB,gBAC1B,IAAsB,GAAlBC,eACF/uB,KAAK2uB,YAGT,MAAOlC,oBb44EN1oB,IAAK,aACLY,MAAO,QAASqnB,cACd,GAAIgD,QAAShvB,Ia14EhB,OAAO,IAAI0C,SAAQ,SAACC,QAASC,QAC3BosB,OAAKhB,+BAA+BhqB,KAAK,YACvC,EAAAjD,OA5aqGmjB,aA4azF8K,OAAK9C,eAAgB,0CACjC,EAAAnrB,OA7akI2jB,MA6a7HsK,OAAK9C,eAAgB,gBAAiB,SAAC5nB,GAC1C,GAAIA,EAAElB,SAAW4rB,OAAK9C,eAAgB,CACpC5nB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,QALrB0qB,SASO,SAAC1qB,GACJ7D,sBAAI8C,MAAMe,Ubg5EfP,IAAK,aACLY,MAAO,QAASynB,cACd,GAAI8C,QAASlvB,Ma54EhB,EAAAe,OA3bsHujB,gBA2bvGtkB,KAAKksB,eAAgB,wCACpC,OAAO,IAAIxpB,SAAQ,SAACC,QAASC,SAC3B,EAAA7B,OA7boI2jB,MA6b/HwK,OAAKhD,eAAgB,gBAAiB,SAAC5nB,GAC1C,GAAIA,EAAElB,SAAW8rB,OAAKhD,eAAgB,CACpC5nB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,Wbo5EpBP,IAAK,iBACLY,MAAO,QAASonB,kBa94EjB,MAAOriB,UAASoa,cAAc,6Cbk5E7B/f,IAAK,eACLY,MAAO,QAAS+oB,iBa/4EjB,EAAA3sB,OA3cyGmjB,aA2c7FlkB,KAAKktB,SAAU,qCbm5E1BnpB,IAAK,eACLY,MAAO,QAASwqB,iBah5EjB,EAAApuB,OA/csHujB,gBA+cvGtkB,KAAKktB,SAAU,qCbo5E7BnpB,IAAK,aACLY,MAAO,QAASgoB,Yal5ERriB,SACTtK,KAAKovB,oBAAoB/a,UAAY/J,Wbq5EpCvG,IAAK,cACLY,MAAO,QAASioB,gBal5EjB,EAAA7rB,OAvdyGmjB,aAud7FlkB,KAAKmtB,gBAAiB,6Cbs5EjCppB,IAAK,cACLY,MAAO,QAASmnB,eACd,GAAIuD,QAASrvB,Map5EhB,EAAAe,OA3dsHujB,gBA2dvGtkB,KAAKmtB,gBAAiB,yCACrC,OAAO,IAAIzqB,SAAQ,SAACC,QAASC,SAC3B,EAAA7B,OA7doI2jB,MA6d/H2K,OAAKlC,gBAAiB,gBAAiB,SAAC7oB,GAC3C,GAAIA,EAAElB,SAAWisB,OAAKlC,gBAAiB,CACrC7oB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,Wb45EpBP,IAAK,kBACLY,MAAO,QAAS6nB,mBat5EjB,MAAO9iB,UAASoa,cAAc,8Cb05E7B/f,IAAK,iBACLY,MAAO,QAASmoB,gBax5EJwC,Sby5EV,GAAIC,SAAUvvB,IAEd,Ia35EmBwvB,WAAS5K,UAAAte,QAAA,GAAA+D,SAAAua,UAAA,GAAG,EAACA,UAAA,EACnCnkB,uBAAImK,KAAK,sBACT,OAAO,IAAIlI,SAAQ,SAACC,QAASC,QAC3B,GAAI2sB,QAAK/C,kBACP+C,QAAKzD,cACF9nB,KAAK,WACJurB,QAAK5C,WAAW2C,QAChBC,SAAK3C,aACL,IAAI4C,UACFpB,WAAW,WACTmB,QAAKzD,aACL,OAAOnpB,YACN6sB,eAEH,OAAO7sB,aAVb4sB,SAaS,SAAUjrB,GACf7D,sBAAI8C,MAAMe,SAET,CACLirB,QAAK5C,WAAW2C,QAChBC,SAAK3C,aACL,IAAI4C,UACFpB,WAAW,WACTmB,QAAKzD,aACL,OAAOnpB,YACN6sB,eAEH,OAAO7sB,iBbg6EZoB,IAAK,WACLY,MAAO,QAAS8qB,Ua35EVH,SACPtvB,KAAKstB,cAAcjZ,UAAYib,Wb85E9BvrB,IAAK,YACLY,MAAO,QAASipB,aa35EjB,GAAI5tB,KAAK0vB,mBACP,EAAA3uB,OAnhBuGmjB,aAmhB3FlkB,KAAKstB,cAAe,2Cbg6EjCvpB,IAAK,cACLY,MAAO,QAAS+pB,ea55EjB,MAAOhlB,UAASoa,cAAc,mCbg6E7B/f,IAAK,kBACLY,MAAO,QAAS+qB,mBa75EjB,MAAO1vB,MAAKstB,cAAcjZ,UAAU/N,OAAS,Kbi6E5CvC,IAAK,kBACLY,MAAO,QAASgrB,mBa95EjB,MAAO3vB,MAAKstB,cAAcjZ,abk6EzBtQ,IAAK,iBACLY,MAAO,QAASiqB,kBa/5EjB,GAAIU,SAAUtvB,KAAK2vB,iBAEnB,KAAKC,MAAMN,SAAU,CACnB,GAAIO,cAAeP,OACnBO,cAAe,CACf7vB,MAAKyvB,SAASI,YACd,OAAOA,iBbo6ER9rB,IAAK,iBACLY,MAAO,QAASmqB,kBah6EjB,GAAIQ,SAAUtvB,KAAK2vB,iBAEnB,KAAKC,MAAMN,SAAU,CACnB,GAAIO,cAAeP,OACnBO,cAAe,CACf,IAAIA,YAAc,EAChB7vB,KAAKyvB,SAASI,iBAEd7vB,MAAKyvB,SAAS,GAChB,OAAOI,iBbk6ER9rB,IAAK,YACLY,MAAO,QAASgqB,aACd,GAAImB,SAAU9vB,Ia/5EjB,OAAO,IAAI0C,SAAQ,SAACC,QAASC,SAC3B,EAAA7B,OA9jBoHujB,gBA8jBrGwL,QAAKxC,cAAe,yCACnC,EAAAvsB,OA/jBoI2jB,MA+jB/HoL,QAAKxC,cAAe,gBAAiB,SAAChpB,GACzC,GAAIA,EAAElB,SAAW0sB,QAAKxC,cAAe,CACnChpB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,QALd,SASA,SAAUA,GACb7D,sBAAI8C,MAAMe,EACV1B,QAAO0B,Qbo6EVP,IAAK,aACLY,MAAO,QAAS4nB,cah6EjB,MAAO7iB,UAASoa,cAAc,wCbo6E7B/f,IAAK,cACLY,MAAO,QAAS2nB,aal6EPC,Ybm6EP,GAAIwD,SAAU/vB,Ial6EjB,IAAIusB,WAAY,CACdvsB,KAAK8rB,aACL,IAAI9rB,KAAK0vB,kBACP,MAAO1vB,MAAK2uB,YACT3qB,KAAK,YACJ,EAAAjD,OAtlBiGmjB,aAslBrF6L,QAAK7C,SAAU,mCAC3B6C,SAAKxC,QAAQ,QACb,IAAIL,UAAW6C,QAAK7C,QACpB,OAAO,IAAIxqB,SAAQ,SAACC,QAASC,SAE3B,EAAA7B,OA3lB4H2jB,MA2lBvHqL,QAAK7C,SAAU,gBAAiB,SAAC5oB,GACpC,GAAIA,EAAElB,SAAW2sB,QAAK7C,SAAU,CAC9B5oB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,UAKtBN,KAAK,WACJ+rB,QAAKnC,cAhBF5tB,SAkBE,SAAUsE,GACf7D,sBAAI8C,MAAMe,SAGX,EACH,EAAAvD,OA3mBqGmjB,aA2mBzFlkB,KAAKktB,SAAU,mCAC3BltB,MAAKutB,QAAQ,QACb,IAAIL,UAAWltB,KAAKktB,QACpB,OAAO,IAAIxqB,SAAQ,SAACC,QAASC,SAE3B,EAAA7B,OAhnBgI2jB,MAgnB3HqL,QAAK7C,SAAU,gBAAiB,SAAC5oB,GACpC,GAAIA,EAAElB,SAAW2sB,QAAK7C,SAAU,CAC9B5oB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,aAOvB,IAAItE,KAAK0vB,kBACP,MAAO1vB,MAAK2uB,YACT3qB,KAAK,YACJ,EAAAjD,OA7nB8GujB,gBA6nB/FyL,QAAK7C,SAAU,mCAC9B6C,SAAKxC,QAAQwC,QAAKnjB,QAAQ3B,KAC1B,IAAIiiB,UAAW6C,QAAK7C,QACpB,OAAO,IAAIxqB,SAAQ,SAACC,QAASC,SAE3B,EAAA7B,OAloB4H2jB,MAkoBvHqL,QAAK7C,SAAU,gBAAiB,SAAC5oB,GACpC,GAAIA,EAAElB,SAAW2sB,QAAK7C,SAAU,CAC9B5oB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,UAKtBN,KAAK,WACJ+rB,QAAKnC,cAhBF5tB,SAkBE,SAAUsE,GACf7D,sBAAI8C,MAAMe,SAET,EACL,EAAAvD,OAjpBkHujB,gBAipBnGtkB,KAAKktB,SAAU,mCAC9BltB,MAAKutB,QAAQvtB,KAAK4M,QAAQ3B,KAC1B,IAAIiiB,UAAWltB,KAAKktB,QACpB,OAAO,IAAIxqB,SAAQ,SAACC,QAASC,SAE3B,EAAA7B,OAtpBgI2jB,MAspB3HqL,QAAK7C,SAAU,gBAAiB,SAAC5oB,GACpC,GAAIA,EAAElB,SAAW2sB,QAAK7C,SAAU,CAC9B5oB,EAAE2qB,iBACF,OAAOtsB,SAAQ2B,Ybo6ExBP,IAAK,UACLY,MAAO,QAAS4oB,Sa75EXtiB,OACN,EAAAlK,OAlqBsHujB,gBAkqBvGtkB,KAAKktB,SAAU,+BAC9B,EAAAnsB,OAnqBsHujB,gBAmqBvGtkB,KAAKktB,SAAU,+BAC9B,EAAAnsB,OApqBsHujB,gBAoqBvGtkB,KAAKktB,SAAU,6BAC9B,IAAa,UAATjiB,MACF,EAAAlK,OAtqBuGmjB,aAsqB3FlkB,KAAKktB,SAAU,kCAExB,IAAa,WAATjiB,MACP,EAAAlK,OAzqBuGmjB,aAyqB3FlkB,KAAKktB,SAAU,kCAExB,IAAa,UAATjiB,MACP,EAAAlK,OA5qBuGmjB,aA4qB3FlkB,KAAKktB,SAAU,kCAG3B,MAAM,IAAInnB,OAAM,+BAAiCkF,Sb85ElDlH,IAAK,YACLI,IAAK,QAASA,Oa15Ef,MAAOuF,UAASoa,cAAc,gCb85E7B/f,IAAK,WACLI,IAAK,QAASA,Oa35Ef,MAAOnE,MAAKitB,UAAUnJ,cAAc,+Bb+5EnC/f,IAAK,iBACLI,IAAK,QAASA,Oa55Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,sCbg6ElC/f,IAAK,gBACLI,IAAK,QAASA,Oa75Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,qCbi6ElC/f,IAAK,kBACLI,IAAK,QAASA,Oa95Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,uCbk6ElC/f,IAAK,sBACLI,IAAK,QAASA,Oa/5Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,4Cbm6ElC/f,IAAK,iBACLI,IAAK,QAASA,Oah6Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,sCbo6ElC/f,IAAK,qBACLI,IAAK,QAASA,Oaj6Ef,MAAOnE,MAAKktB,SAASpJ,cAAc,2Cbs6EpC,Oa/lGGyG,QA6rBNlrB,QAAOD,QAAUmrB,Ob06Eb,SAASlrB,OAAQD,QAASH,qBc3nGhC,GAAAqwB,SAAArwB,oBAAA,GACA,oBAAAqwB,mBAAAjwB,OAAAC,GAAAgwB,QAAA,IAEA,IAAAU,QAAA/wB,oBAAA,IAAAqwB,WACA,IAAAA,QAAAW,OAAA5wB,OAAAD,QAAAkwB,QAAAW,MAEA,WAEA,IAAAX,QAAAW,OACA5wB,OAAA6wB,IAAAC,OAAA,wGACA,GAAAC,YAAAC,QAAA,6FACA,oBAAAD,yBAAA/wB,OAAAC,GAAA8wB,WAAA,IACAJ,QAAAI,aAIA/wB,QAAA6wB,IAAAI,QAAA,WAAgCN,adqoG1B,SAAS3wB,OAAQD,QAASH,qBexpGhCG,QAAAC,OAAAD,QAAAH,oBAAA,KAKAG,SAAA+b,MAAA9b,OAAAC,GAAA,qp9BAAkr9B;EfiqG5q9B,SAASD,OAAQD,SgBjqGvBC,OAAAD,QAAA,WACA,GAAAshB,QAGAA,MAAA7L,SAAA,QAAAA,YACA,GAAAxR,UACA,QAAA8P,GAAA,EAAgBA,EAAAnT,KAAAsG,OAAiB6M,IAAA,CACjC,GAAA+I,MAAAlc,KAAAmT,EACA,IAAA+I,KAAA,GACA7Y,OAAA8X,KAAA,UAAAe,KAAA,OAAwCA,KAAA,YAExC7Y,QAAA8X,KAAAe,KAAA,IAGA,MAAA7Y,QAAA4c,KAAA,IAIAS,MAAAvN,EAAA,SAAAnU,QAAAuxB,YACA,mBAAAvxB,SACAA,UAAA,KAAAA,QAAA,IACA,IAAAwxB,0BACA,QAAArd,GAAA,EAAgBA,EAAAnT,KAAAsG,OAAiB6M,IAAA,CACjC,GAAA7T,IAAAU,KAAAmT,GAAA,EACA,oBAAA7T,IACAkxB,uBAAAlxB,IAAA,KAEA,IAAA6T,EAAA,EAAYA,EAAAnU,QAAAsH,OAAoB6M,IAAA,CAChC,GAAA+I,MAAAld,QAAAmU,EAKA,oBAAA+I,MAAA,KAAAsU,uBAAAtU,KAAA,KACA,GAAAqU,aAAArU,KAAA,GACAA,KAAA,GAAAqU,eACK,IAAAA,WACLrU,KAAA,OAAAA,KAAA,aAAAqU,WAAA,GAEA7P,MAAAvF,KAAAe,QAIA,OAAAwE,QhB8qGM,SAASrhB,OAAQD,QAASH,qBiBjqGhC,QAAAwxB,gBAAAC,OAAA9jB,SACA,OAAAuG,GAAA,EAAeA,EAAAud,OAAApqB,OAAmB6M,IAAA,CAClC,GAAA+I,MAAAwU,OAAAvd,EACA,IAAAwd,UAAAC,YAAA1U,KAAA5c,GACA,IAAAqxB,SAAA,CACAA,SAAAE,MACA,QAAAC,GAAA,EAAiBA,EAAAH,SAAAI,MAAAzqB,OAA2BwqB,IAC5CH,SAAAI,MAAAD,GAAA5U,KAAA6U,MAAAD,GAEA,MAAQA,EAAA5U,KAAA6U,MAAAzqB,OAAuBwqB,IAC/BH,SAAAI,MAAA5V,KAAA6V,SAAA9U,KAAA6U,MAAAD,GAAAlkB,cAEG,CACH,GAAAmkB,SACA,QAAAD,GAAA,EAAiBA,EAAA5U,KAAA6U,MAAAzqB,OAAuBwqB,IACxCC,MAAA5V,KAAA6V,SAAA9U,KAAA6U,MAAAD,GAAAlkB,SAEAgkB,aAAA1U,KAAA5c,KAA2BA,GAAA4c,KAAA5c,GAAAuxB,KAAA,EAAAE,eAK3B,QAAAE,cAAAvQ,MACA,GAAAgQ,UACA,IAAAQ,aACA,QAAA/d,GAAA,EAAeA,EAAAuN,KAAApa,OAAiB6M,IAAA,CAChC,GAAA+I,MAAAwE,KAAAvN,EACA,IAAA7T,IAAA4c,KAAA,EACA,IAAAiV,KAAAjV,KAAA,EACA,IAAAkV,OAAAlV,KAAA,EACA,IAAAmV,WAAAnV,KAAA,EACA,IAAAoV,OAAcH,QAAAC,YAAAC,oBACd,KAAAH,UAAA5xB,IACAoxB,OAAAvV,KAAA+V,UAAA5xB,KAAgCA,MAAAyxB,OAAAO,YAEhCJ,WAAA5xB,IAAAyxB,MAAA5V,KAAAmW,MAEA,MAAAZ,QAGA,QAAAa,oBAAA3kB,QAAA4kB,cACA,GAAAjjB,MAAAkjB,gBACA,IAAAC,+BAAAC,sDAAArrB,OAAA,EACA,YAAAsG,QAAAglB,SAAA,CACA,IAAAF,8BACAnjB,KAAAsjB,aAAAL,aAAAjjB,KAAA0V,gBACG,IAAAyN,8BAAAI,YACHvjB,KAAAsjB,aAAAL,aAAAE,8BAAAI,iBAEAvjB,MAAAC,YAAAgjB,aAEAG,4BAAAxW,KAAAqW,kBACE,eAAA5kB,QAAAglB,SACFrjB,KAAAC,YAAAgjB,kBAEA,UAAAzrB,OAAA,sEAIA,QAAAgsB,oBAAAP,cACAA,aAAA5W,WAAAC,YAAA2W,aACA,IAAAQ,KAAAL,2BAAA1gB,QAAAugB,aACA,IAAAQ,KAAA,EACAL,2BAAAM,OAAAD,IAAA,GAIA,QAAAE,oBAAAtlB,SACA,GAAA4kB,cAAA9nB,SAAA2E,cAAA,QACAmjB,cAAAtpB,KAAA,UACAqpB,oBAAA3kB,QAAA4kB,aACA,OAAAA,cAGA,QAAAW,mBAAAvlB,SACA,GAAAwlB,aAAA1oB,SAAA2E,cAAA,OACA+jB,aAAAC,IAAA,YACAd,oBAAA3kB,QAAAwlB,YACA,OAAAA,aAGA,QAAApB,UAAA7wB,IAAAyM,SACA,GAAA4kB,cAAAxB,OAAAzL,MAEA,IAAA3X,QAAA0lB,UAAA,CACA,GAAAC,YAAAC,kBACAhB,cAAAiB,oCAAAP,mBAAAtlB,SACAojB,QAAA0C,oBAAA9M,KAAA,KAAA4L,aAAAe,WAAA,MACAhO,QAAAmO,oBAAA9M,KAAA,KAAA4L,aAAAe,WAAA,UACE,IAAApyB,IAAAkxB,WACF,kBAAA5W,MACA,kBAAAA,KAAAkY,iBACA,kBAAAlY,KAAAmY,iBACA,kBAAAjU,OACA,kBAAAkU,MAAA,CACArB,aAAAW,kBAAAvlB,QACAojB,QAAA8C,WAAAlN,KAAA,KAAA4L,aACAjN,QAAA,WACAwN,mBAAAP,aACA,IAAAA,aAAA7U,KACAlC,IAAAmY,gBAAApB,aAAA7U,WAEE,CACF6U,aAAAU,mBAAAtlB,QACAojB,QAAA+C,WAAAnN,KAAA,KAAA4L,aACAjN,QAAA,WACAwN,mBAAAP,eAIAxB,OAAA7vB,IAEA,gBAAA6yB,aAAAC,QACA,GAAAA,OAAA,CACA,GAAAA,OAAA9B,MAAAhxB,IAAAgxB,KAAA8B,OAAA7B,QAAAjxB,IAAAixB,OAAA6B,OAAA5B,YAAAlxB,IAAAkxB,UACA,MACArB,QAAA7vB,IAAA8yB,YAEA1O,WAcA,QAAAmO,qBAAAlB,aAAA0B,MAAA3O,OAAApkB,KACA,GAAAgxB,KAAA5M,OAAA,GAAApkB,IAAAgxB,GAEA,IAAAK,aAAA2B,WACA3B,aAAA2B,WAAAxe,QAAAye,YAAAF,MAAA/B,SACE,CACF,GAAAkC,SAAA3pB,SAAA4pB,eAAAnC,IACA,IAAAoC,YAAA/B,aAAA+B,UACA,IAAAA,WAAAL,OAAA1B,aAAA3W,YAAA0Y,WAAAL,OACA,IAAAK,WAAAjtB,OACAkrB,aAAAK,aAAAwB,QAAAE,WAAAL,YAEA1B,cAAAhjB,YAAA6kB,UAKA,QAAAN,YAAAvB,aAAArxB,KACA,GAAAgxB,KAAAhxB,IAAAgxB,GACA,IAAAC,OAAAjxB,IAAAixB,KACA,IAAAC,WAAAlxB,IAAAkxB,SAEA,IAAAD,MACAI,aAAAljB,aAAA,QAAA8iB,MAGA,IAAAI,aAAA2B,WACA3B,aAAA2B,WAAAxe,QAAAwc,QACE,CACF,KAAAK,aAAAvN,YACAuN,aAAA3W,YAAA2W,aAAAvN,WAEAuN,cAAAhjB,YAAA9E,SAAA4pB,eAAAnC,OAIA,QAAA2B,YAAAV,YAAAjyB,KACA,GAAAgxB,KAAAhxB,IAAAgxB,GACA,IAAAC,OAAAjxB,IAAAixB,KACA,IAAAC,WAAAlxB,IAAAkxB,SAEA,IAAAA,UAEAF,KAAA,uDAAuD0B,KAAAW,SAAAngB,mBAAA1N,KAAAC,UAAAyrB,cAAA,KAGvD,IAAApT,MAAA,GAAAU,OAAAwS,MAA6BjpB,KAAA,YAE7B,IAAAurB,QAAArB,YAAAzV,IAEAyV,aAAAzV,KAAAlC,IAAAkY,gBAAA1U,KAEA,IAAAwV,OACAhZ,IAAAmY,gBAAAa,QAlPA,GAAA7C,gBACA8C,QAAA,SAAAC,IACA,GAAAC,KACA,mBACA,sBAAAA,WAAAD,GAAApX,MAAAvc,KAAA4kB,UACA,OAAAgP,QAGAC,QAAAH,QAAA,WACA,qBAAAvW,KAAAlU,OAAA7C,UAAAS,UAAAmN,iBAEAyd,eAAAiC,QAAA,WACA,MAAAhqB,UAAA6E,MAAA7E,SAAA6K,qBAAA,aAEAke,iBAAA,KACAD,iBAAA,EACAb,6BAEAtyB,QAAAD,QAAA,SAAAshB,KAAA9T,SACA,SACA,mBAAAlD,UAAA,SAAA3D,OAAA,+DAGA6G,oBAGA,uBAAAA,SAAA0lB,UAAA1lB,QAAA0lB,UAAAuB,SAGA,uBAAAjnB,SAAAglB,SAAAhlB,QAAAglB,SAAA,QAEA,IAAAlB,QAAAO,aAAAvQ,KACA+P,gBAAAC,OAAA9jB,QAEA,gBAAAojB,QAAA8D,SACA,GAAAC,aACA,QAAA5gB,GAAA,EAAgBA,EAAAud,OAAApqB,OAAmB6M,IAAA,CACnC,GAAA+I,MAAAwU,OAAAvd,EACA,IAAAwd,UAAAC,YAAA1U,KAAA5c,GACAqxB,UAAAE,MACAkD,WAAA5Y,KAAAwV,UAEA,GAAAmD,QAAA,CACA,GAAA5C,WAAAD,aAAA6C,QACArD,gBAAAS,UAAAtkB,SAEA,OAAAuG,GAAA,EAAgBA,EAAA4gB,UAAAztB,OAAsB6M,IAAA,CACtC,GAAAwd,UAAAoD,UAAA5gB,EACA,QAAAwd,SAAAE,KAAA,CACA,OAAAC,GAAA,EAAkBA,EAAAH,SAAAI,MAAAzqB,OAA2BwqB,IAC7CH,SAAAI,MAAAD,WACAF,aAAAD,SAAArxB,OAiIA,IAAA8zB,aAAA,WACA,GAAAY,aAEA,iBAAAd,MAAAe,aACAD,UAAAd,OAAAe,WACA,OAAAD,WAAAE,OAAAC,SAAAlU,KAAA,WjB+xGM,SAAS5gB,OAAQD,SkB59GvBC,OAAAD,QAAA","file":"OneSignalSDK.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tif (typeof OneSignal !== \"undefined\") var predefinedOneSignalPushes = OneSignal;\n\t\n\t__webpack_require__(1);\n\t\n\tif (predefinedOneSignalPushes) OneSignal._process_pushes(predefinedOneSignalPushes);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"OneSignal\"] = __webpack_require__(2);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _vars = __webpack_require__(4);\n\t\n\tvar _api = __webpack_require__(7);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _limitStore = __webpack_require__(8);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\t__webpack_require__(9);\n\t\n\tvar _events = __webpack_require__(10);\n\t\n\tvar _bell = __webpack_require__(11);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar OneSignal = {\n\t  _VERSION: 109013,\n\t  _HOST_URL: _vars.HOST_URL,\n\t  _app_id: null,\n\t  _tagsToSendOnRegister: null,\n\t  _notificationOpened_callback: null,\n\t  _idsAvailable_callback: [],\n\t  _defaultLaunchURL: null,\n\t  _initOptions: null,\n\t  _httpRegistration: false,\n\t  _main_page_port: null,\n\t  _isNotificationEnabledCallback: null,\n\t  _subscriptionSet: true,\n\t  _initOneSignalHttp: null,\n\t  _sessionIframeAdded: false,\n\t  _useHttpMode: null,\n\t  _windowWidth: 550,\n\t  _windowHeight: 480,\n\t  _isNewVisitor: false,\n\t  _isInitialized: false,\n\t  bell: null,\n\t  LOGGING: true,\n\t  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n\t  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n\t  SERVICE_WORKER_PARAM: {},\n\t\n\t  _ensureDbInstance: function _ensureDbInstance() {\n\t    return new Promise(function (resolve, reject) {\n\t      if (OneSignal._oneSignal_db) {\n\t        resolve(OneSignal._oneSignal_db);\n\t      } else {\n\t        var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n\t        request.onsuccess = function (event) {\n\t          var database = event.target.result;\n\t          OneSignal._oneSignal_db = database;\n\t          resolve(database);\n\t        };\n\t        request.onerror = function (event) {\n\t          _loglevel2.default.error('Unable to open IndexedDB.', event);\n\t          reject(event);\n\t        };\n\t\n\t        request.onupgradeneeded = function (event) {\n\t          _loglevel2.default.debug('Rebuilding schema in IndexedDB...');\n\t          var db = event.target.result;\n\t          db.createObjectStore(\"Ids\", { keyPath: \"type\" });\n\t          db.createObjectStore(\"NotificationOpened\", { keyPath: \"url\" });\n\t          db.createObjectStore(\"Options\", { keyPath: \"key\" });\n\t        };\n\t      }\n\t    });\n\t  },\n\t\n\t  _getDbValue: function _getDbValue(table, key) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        var request = database.transaction(table).objectStore(table).get(key);\n\t        request.onsuccess = function (event) {\n\t          if (request.result) OneSignal._triggerEvent_dbValueRetrieved(request.result);\n\t          resolve(request.result);\n\t        };\n\t        request.onerror = function (event) {\n\t          reject(request.errorCode);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    });\n\t  },\n\t\n\t  _getDbValues: function _getDbValues(table) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        var jsonResult = {};\n\t        var cursor = database.transaction(table).objectStore(table).openCursor();\n\t        cursor.onsuccess = function (event) {\n\t          var cursor = event.target.result;\n\t          if (cursor) {\n\t            OneSignal._triggerEvent_dbValueRetrieved(cursor);\n\t            jsonResult[cursor.key] = cursor.value.value;\n\t            cursor.continue();\n\t          } else resolve(jsonResult);\n\t        };\n\t        cursor.onerror = function (event) {\n\t          reject(cursor.errorCode);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _putDbValue: function _putDbValue(table, value) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        database.transaction([table], \"readwrite\").objectStore(table).put(value);\n\t        OneSignal._triggerEvent_dbValueSet(value);\n\t        resolve(value);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _deleteDbValue: function _deleteDbValue(table, key) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._ensureDbInstance().then(function (database) {\n\t        database.transaction([table], \"readwrite\").objectStore(table).delete(key);\n\t        resolve(key);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    });\n\t  },\n\t\n\t  _sendToOneSignalApi: function _sendToOneSignalApi(url, action, inData, callback, failedCallback) {\n\t    _loglevel2.default.debug('Calling ' + action + ' ' + (OneSignal._HOST_URL + url) + ' with data:', inData);\n\t    var contents = {\n\t      method: action\n\t    };\n\t\n\t    //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n\t    if (inData) {\n\t      contents.headers = { \"Content-type\": \"application/json;charset=UTF-8\" };\n\t      contents.body = JSON.stringify(inData);\n\t    }\n\t\n\t    fetch(OneSignal._HOST_URL + url, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) return Promise.resolve(response);else return Promise.reject(new Error(response.statusText));\n\t    }).then(function status(response) {\n\t      return response.json();\n\t    }).then(function (jsonData) {\n\t      if (callback != null) callback(jsonData);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('OneSignal._sendToOneSignalApi() failed:', e);\n\t      if (failedCallback != null) failedCallback();\n\t    });\n\t  },\n\t\n\t  _getLanguage: function _getLanguage() {\n\t    return navigator.language ? navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language : 'en';\n\t  },\n\t\n\t  _getPlayerId: function _getPlayerId(value, callback) {\n\t    if (value) callback(value);else {\n\t      OneSignal._getDbValue('Ids', 'userId').then(function _getPlayerId_gotUserId(result) {\n\t        if (result) callback(result.id);else callback(null);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  _getBrowserName: function _getBrowserName() {\n\t    if (navigator.appVersion.match(/Chrome\\/(.*?) /)) return \"Chrome\";\n\t    if (navigator.appVersion.match(\"Version/(.*) (Safari)\")) return \"Safari\";\n\t    if (navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/)) return \"Firefox\";\n\t\n\t    return \"\";\n\t  },\n\t\n\t  _registerWithOneSignal: function _registerWithOneSignal(appId, registrationId, deviceType) {\n\t\n\t    OneSignal._getDbValue('Ids', 'userId').then(function _registerWithOneSignal_GotUserId(userIdResult) {\n\t      OneSignal._getNotificationTypes(function (notif_types) {\n\t        var requestUrl = 'players';\n\t\n\t        var jsonData = {\n\t          app_id: appId,\n\t          device_type: deviceType,\n\t          language: OneSignal._getLanguage(),\n\t          timezone: new Date().getTimezoneOffset() * -60,\n\t          device_model: navigator.platform + \" \" + OneSignal._getBrowserName(),\n\t          device_os: (navigator.appVersion.match(/Chrome\\/(.*?) /) || navigator.appVersion.match(\"Version/(.*) Safari\") || navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))[1],\n\t          sdk: OneSignal._VERSION\n\t        };\n\t\n\t        if (userIdResult) {\n\t          requestUrl = 'players/' + userIdResult.id + '/on_session';\n\t          jsonData.notification_types = notif_types;\n\t        } else if (notif_types != 1) jsonData.notification_types = notif_types;\n\t\n\t        if (registrationId) {\n\t          jsonData.identifier = registrationId;\n\t          OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: registrationId });\n\t        }\n\t\n\t        OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData, function registeredCallback(responseJSON) {\n\t          sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t\n\t          if (responseJSON.id) {\n\t            OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: responseJSON.id });\n\t            OneSignal._sendUnsentTags();\n\t          }\n\t\n\t          OneSignal._getPlayerId(responseJSON.id, function (userId) {\n\t            if (OneSignal._idsAvailable_callback.length > 0) {\n\t              while (OneSignal._idsAvailable_callback.length > 0) {\n\t                var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t                curr_callback({ userId: userId, registrationId: registrationId });\n\t              }\n\t            }\n\t\n\t            if (OneSignal._httpRegistration) {\n\t              _loglevel2.default.debug(\"Sending player Id and registrationId back to host page\");\n\t              _loglevel2.default.debug(OneSignal._initOptions);\n\t              var creator = opener || parent;\n\t              OneSignal._safePostMessage(creator, {\n\t                idsAvailable: {\n\t                  userId: userId,\n\t                  registrationId: registrationId\n\t                }\n\t              }, OneSignal._initOptions.origin, null);\n\t\n\t              if (opener) window.close();\n\t            }\n\t          });\n\t        });\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _sendUnsentTags: function _sendUnsentTags() {\n\t    if (OneSignal._tagsToSendOnRegister) {\n\t      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n\t      OneSignal._tagsToSendOnRegister = null;\n\t    }\n\t  },\n\t\n\t  setDefaultNotificationUrl: function setDefaultNotificationUrl(url) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultUrl\", value: url });\n\t  },\n\t\n\t  setDefaultIcon: function setDefaultIcon(icon) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultIcon\", value: icon });\n\t  },\n\t\n\t  setDefaultTitle: function setDefaultTitle(title) {\n\t    OneSignal._putDbValue(\"Options\", { key: \"defaultTitle\", value: title });\n\t  },\n\t\n\t  _visibilitychange: function _visibilitychange() {\n\t    if (document.visibilityState == \"visible\") {\n\t      document.removeEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n\t      OneSignal._sessionInit({});\n\t    }\n\t  },\n\t\n\t  onCustomPromptClicked: function onCustomPromptClicked(event) {\n\t    _loglevel2.default.debug('Event onesignal.prompt.custom.clicked:', event.detail);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  onNativePromptChanged: function onNativePromptChanged(event) {\n\t    _loglevel2.default.debug('Event onesignal.prompt.native.permissionchanged:', event.detail);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _onSubscriptionChanged: function _onSubscriptionChanged(event) {\n\t    _loglevel2.default.debug('Event onesignal.subscription.changed:', event.detail);\n\t    if (OneSignal._isNewVisitor && event.detail === true) {\n\t      OneSignal._getDbValue('Ids', 'userId').then(function (result) {\n\t        var welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n\t        var welcome_notification_disabled = welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true;\n\t        var title = welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null ? welcome_notification_opts['title'] : '';\n\t        var message = welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0 ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n\t        if (!welcome_notification_disabled) {\n\t          _loglevel2.default.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n\t          (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message });\n\t          (0, _events.triggerEvent)('onesignal.actions.welcomenotificationsent', { title: title, message: message });\n\t          OneSignal._isNewVisitor = false;\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t    _limitStore2.default.put('subscription.value', event.detail);\n\t  },\n\t\n\t  _onDbValueRetrieved: function _onDbValueRetrieved(event) {\n\t    _loglevel2.default.debug('Event onesignal.db.retrieved:', event.detail);\n\t  },\n\t\n\t  _onDbValueSet: function _onDbValueSet(event) {\n\t    _loglevel2.default.debug('Event onesignal.db.valueset:', event.detail);\n\t    var info = event.detail;\n\t    if (info.type === 'userId') {\n\t      _limitStore2.default.put('db.ids.userId', info.id);\n\t      OneSignal._checkTrigger_eventSubscriptionChanged();\n\t    }\n\t  },\n\t\n\t  _onInternalSubscriptionSet: function _onInternalSubscriptionSet(event) {\n\t    _loglevel2.default.debug('Event onesignal.internal.subscriptionset:', event.detail);\n\t    var newSubscriptionValue = event.detail;\n\t    _limitStore2.default.put('setsubscription.value', newSubscriptionValue);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _onSdkInitialized: function _onSdkInitialized() {\n\t    if ((0, _utils.isBrowserEnv)()) {\n\t      _loglevel2.default.info('Showing bell.');\n\t      OneSignal.bell = new _bell2.default({\n\t        size: 'large',\n\t        position: 'bottom-right',\n\t        theme: 'default'\n\t      });\n\t      OneSignal.bell.create();\n\t    }\n\t\n\t    OneSignal._isInitialized = true;\n\t    _loglevel2.default.trace('OneSignal SDK has been fully initialized.');\n\t  },\n\t\n\t  _checkTrigger_eventSubscriptionChanged: function _checkTrigger_eventSubscriptionChanged() {\n\t    _loglevel2.default.debug('Called _checkTrigger_eventSubscriptionChanged().');\n\t    var permissions = _limitStore2.default.get('notification.permission');\n\t    var lastPermission = permissions[permissions.length - 2];\n\t    var currentPermission = permissions[permissions.length - 1];\n\t\n\t    var ids = _limitStore2.default.get('db.ids.userId');\n\t    var lastId = ids[ids.length - 2];\n\t    var currentId = ids[ids.length - 1];\n\t\n\t    var subscriptionStates = _limitStore2.default.get('setsubscription.value');\n\t    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n\t    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\t\n\t    var newSubscriptionState = 'unchanged';\n\t\n\t    if ((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' && currentId !== null && currentSubscriptionState === true || lastSubscriptionState === false && currentSubscriptionState === true && currentId != null && currentPermission === 'granted') {\n\t      newSubscriptionState = true;\n\t    }\n\t\n\t    if (lastPermission !== 'denied' && currentPermission === 'denied' || lastPermission === 'granted' && currentPermission !== 'granted' || lastId !== null && currentId === null || lastSubscriptionState !== false && currentSubscriptionState === false) {\n\t      newSubscriptionState = false;\n\t    }\n\t\n\t    if (newSubscriptionState !== \"unchanged\") {\n\t      var lastTriggerTimes = _limitStore2.default.put('event.subscriptionchanged.lastriggered', Date.now());\n\t      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n\t      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n\t      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\t\n\t      var lastEventStates = _limitStore2.default.put('event.subscriptionchanged.laststates', newSubscriptionState);\n\t      var currentState = lastEventStates[lastEventStates.length - 1];\n\t      var lastState = lastEventStates[lastEventStates.length - 2];\n\t\n\t      // If event already triggered within the last second, don't re-trigger.\n\t      var shouldNotTriggerEvent = lastTriggerTime != null && elapsedTimeSeconds <= 1 || currentState === lastState;\n\t      if (shouldNotTriggerEvent === false) {\n\t        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState);\n\t      }\n\t    }\n\t  },\n\t\n\t  isPushNotificationsSupported: function isPushNotificationsSupported() {\n\t    return (0, _utils.isPushNotificationsSupported)();\n\t  },\n\t\n\t  init: function init(options) {\n\t    if (OneSignal._isInitialized) {\n\t      _loglevel2.default.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n\t      return;\n\t    }\n\t    OneSignal._initOptions = options;\n\t\n\t    if (OneSignal.LOGGING) _loglevel2.default.enableAll();else _loglevel2.default.setDefaultLevel('error');\n\t\n\t    _loglevel2.default.info('OneSignal Web SDK loaded (version ' + OneSignal._VERSION + ').');\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    if (navigator.permissions && !((0, _utils.isBrowserFirefox)() && (0, _utils.getFirefoxVersion)() <= 45)) {\n\t      OneSignal._usingNativePermissionHook = true;\n\t      var currentNotificationPermission = OneSignal._getNotificationPermission();\n\t      _limitStore2.default.put('notification.permission', currentNotificationPermission);\n\t      // If the browser natively supports hooking the subscription prompt permission change event\n\t      //     use it instead of our SDK method\n\t      navigator.permissions.query({ name: 'notifications' }).then(function (permissionStatus) {\n\t        permissionStatus.onchange = function () {\n\t          var recentPermissions = _limitStore2.default.get('notification.permission');\n\t          var permissionBeforePrompt = recentPermissions[0];\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    } else {\n\t      var currentNotificationPermission = OneSignal._getNotificationPermission();\n\t      _limitStore2.default.put('notification.permission', currentNotificationPermission);\n\t    }\n\t\n\t    // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n\t    OneSignal._getDbValue('Ids', 'userId').then(function (result) {\n\t      if (result === undefined) {\n\t        OneSignal._isNewVisitor = true;\n\t      }\n\t      var storeValue = result ? result.id : null;\n\t      _limitStore2.default.put('db.ids.userId', storeValue);\n\t    });\n\t\n\t    // Store the current value of subscription, so that we can see if the value changes in the future\n\t    OneSignal._getSubscription(function (currentSubscription) {\n\t      _limitStore2.default.put('setsubscription.value', currentSubscription);\n\t    });\n\t\n\t    window.addEventListener('onesignal.prompt.custom.clicked', OneSignal.onCustomPromptClicked);\n\t    window.addEventListener('onesignal.prompt.native.permissionchanged', OneSignal.onNativePromptChanged);\n\t    window.addEventListener('onesignal.subscription.changed', OneSignal._onSubscriptionChanged);\n\t    window.addEventListener('onesignal.db.valueretrieved', OneSignal._onDbValueRetrieved);\n\t    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n\t    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n\t    window.addEventListener('onesignal.internal.subscriptionset', OneSignal._onInternalSubscriptionSet);\n\t    window.addEventListener('onesignal.sdk.initialized', OneSignal._onSdkInitialized);\n\t\n\t    OneSignal._useHttpMode = !(0, _utils.isSupportedSafari)() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\t\n\t    if (OneSignal._useHttpMode) OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';else OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\t\n\t    if (false) OneSignal._initOneSignalHttp = _vars.DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\t\n\t    // If Safari - add 'fetch' pollyfill if it isn't already added.\n\t    if ((0, _utils.isSupportedSafari)() && typeof window.fetch == \"undefined\") {\n\t      var s = document.createElement('script');\n\t      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n\t      document.head.appendChild(s);\n\t    }\n\t\n\t    if (document.readyState === \"complete\") OneSignal._internalInit();else window.addEventListener('load', OneSignal._internalInit);\n\t  },\n\t\n\t  _internalInit: function _internalInit() {\n\t    _loglevel2.default.trace('Called _internalInit()');\n\t    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var appIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      // If AppId changed delete playerId and continue.\n\t      if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n\t        OneSignal._deleteDbValue(\"Ids\", \"userId\");\n\t        sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n\t      }\n\t\n\t      // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n\t      if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\") && !OneSignal._initOptions.subdomainName && (Notification.permission == \"denied\" || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) return;\n\t\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      if (OneSignal._initOptions.autoRegister == false && !registrationIdResult && OneSignal._initOptions.subdomainName == null) return;\n\t\n\t      if (document.visibilityState != \"visible\") {\n\t        document.addEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n\t        return;\n\t      }\n\t\n\t      OneSignal._sessionInit({});\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  registerForPushNotifications: function registerForPushNotifications(options) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n\t    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n\t    if (!options) options = {};\n\t    options.fromRegisterFor = true;\n\t    OneSignal._sessionInit(options);\n\t  },\n\t\n\t  // Http only - Only called from iframe's init.js\n\t  _initHttp: function _initHttp(options) {\n\t    OneSignal._initOptions = options;\n\t\n\t    if (options.continuePressed) {\n\t      OneSignal.setSubscription(true);\n\t    }\n\t\n\t    var isIframe = parent != null && parent != window;\n\t    var creator = opener || parent;\n\t\n\t    if (!creator) {\n\t      _loglevel2.default.debug(\"ERROR:_initHttp: No opener or parent found!\");\n\t      return;\n\t    }\n\t    // Setting up message channel to receive message from host page.\n\t    var messageChannel = new MessageChannel();\n\t    messageChannel.port1.onmessage = function (event) {\n\t      _loglevel2.default.debug(\"_initHttp.messageChannel.port1.onmessage\", event);\n\t\n\t      if (event.data.initOptions) {\n\t        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n\t        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n\t        if (event.data.initOptions.defaultIcon) OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\t\n\t        _loglevel2.default.debug(\"document.URL\", event.data.initOptions.parent_url);\n\t        OneSignal._getDbValue(\"NotificationOpened\", event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n\t          _loglevel2.default.debug(\"_initHttp NotificationOpened db\", notificationOpenedResult);\n\t          if (notificationOpenedResult) {\n\t            OneSignal._deleteDbValue(\"NotificationOpened\", event.data.initOptions.parent_url);\n\t            _loglevel2.default.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\t\n\t            debugger;\n\t            OneSignal._safePostMessage(creator, { openedNotification: notificationOpenedResult.data }, OneSignal._initOptions.origin, null);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t        ;\n\t      } else if (event.data.getNotificationPermission) {\n\t        debugger;\n\t        _loglevel2.default.warn(\"I FINALLY GOT HERE OMGGGGG\");\n\t        OneSignal._getSubdomainState(function (curState) {\n\t          debugger;\n\t          OneSignal._safePostMessage(creator, { currentNotificationPermission: curState }, OneSignal._initOptions.origin, null);\n\t        });\n\t      } else if (event.data.setSubdomainState) OneSignal.setSubscription(event.data.setSubdomainState.setSubscription);\n\t    };\n\t\n\t    OneSignal._getSubdomainState(function (curState) {\n\t      curState[\"isIframe\"] = isIframe;\n\t      OneSignal._safePostMessage(creator, { oneSignalInitPageReady: curState }, OneSignal._initOptions.origin, [messageChannel.port2]);\n\t    });\n\t\n\t    OneSignal._initSaveState();\n\t    OneSignal._httpRegistration = true;\n\t    if (location.search.indexOf(\"?session=true\") == 0) return;\n\t\n\t    OneSignal._getPlayerId(null, function (player_id) {\n\t      if (!isIframe || player_id) {\n\t        _loglevel2.default.debug(\"Before navigator.serviceWorker.register\");\n\t        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t        _loglevel2.default.debug(\"After navigator.serviceWorker.register\");\n\t      }\n\t    });\n\t  },\n\t\n\t  _getSubdomainState: function _getSubdomainState(callback) {\n\t    var state = {};\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var userIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      callback({\n\t        userId: userIdResult ? userIdResult.id : null,\n\t        registrationId: registrationIdResult ? registrationIdResult.id : null,\n\t        notifPermssion: Notification.permission,\n\t        subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n\t        isPushEnabled: Notification.permission == \"granted\" && userIdResult && registrationIdResult && (subscriptionResult && subscriptionResult.value || subscriptionResult == null)\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _initSaveState: function _initSaveState() {\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t    OneSignal._putDbValue(\"Ids\", { type: \"appId\", id: OneSignal._app_id });\n\t    OneSignal._putDbValue(\"Options\", { key: \"pageTitle\", value: document.title });\n\t  },\n\t\n\t  _supportsDirectPermission: function _supportsDirectPermission() {\n\t    return (0, _utils.isSupportedSafari)() || location.protocol == 'https:' || location.host.indexOf(\"localhost\") == 0 || location.host.indexOf(\"127.0.0.1\") == 0;\n\t  },\n\t\n\t  _sessionInit: function _sessionInit(options) {\n\t    _loglevel2.default.trace(\"Called OneSignal._sessionInit():\", options);\n\t    OneSignal._initSaveState();\n\t\n\t    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\t\n\t    // If HTTP or using subdomain mode\n\t    if (OneSignal._useHttpMode) {\n\t      if (options.fromRegisterFor) {\n\t        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n\t        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\t\n\t        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n\t        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\t        var childWidth = OneSignal._windowWidth;\n\t        var childHeight = OneSignal._windowHeight;\n\t\n\t        var left = thisWidth / 2 - childWidth / 2 + dualScreenLeft;\n\t        var top = thisHeight / 2 - childHeight / 2 + dualScreenTop;\n\t\n\t        _loglevel2.default.debug('Opening popup window.');\n\t        var message_localization_opts = OneSignal._initOptions['promptOptions'];\n\t        var message_localization_opts_str = '';\n\t        if (message_localization_opts) {\n\t          var message_localization_params = ['actionMessage', 'exampleNotificationTitleDesktop', 'exampleNotificationMessageDesktop', 'exampleNotificationTitleMobile', 'exampleNotificationMessageMobile', 'exampleNotificationCaption', 'acceptButtonText', 'cancelButtonText'];\n\t          for (var i = 0; i < message_localization_params.length; i++) {\n\t            var key = message_localization_params[i];\n\t            var value = message_localization_opts[key];\n\t            var encoded_value = encodeURIComponent(value);\n\t            if (value || value === '') {\n\t              message_localization_opts_str += '&' + key + '=' + encoded_value;\n\t            }\n\t          }\n\t        }\n\t        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\t\n\t        if (childWindow) childWindow.focus();\n\t      } else {\n\t        _loglevel2.default.debug('Opening iFrame.');\n\t        OneSignal._addSessionIframe(hostPageProtocol);\n\t      }\n\t    } else {\n\t      if ((0, _utils.isSupportedSafari)()) {\n\t        if (OneSignal._initOptions.safari_web_id) {\n\t          var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t          window.safari.pushNotification.requestPermission(OneSignal._HOST_URL + 'safari', OneSignal._initOptions.safari_web_id, { app_id: OneSignal._app_id }, function (data) {\n\t            _loglevel2.default.debug(data);\n\t            var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t            if (data.deviceToken) {\n\t              OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n\t            } else {\n\t              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t            }\n\t            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t          });\n\t        }\n\t      } else if (options.modalPrompt && options.fromRegisterFor) {\n\t        // If HTTPS - Show modal\n\t        if (!(0, _utils.isPushNotificationsSupported)()) {\n\t          _loglevel2.default.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n\t          return;\n\t        }\n\t        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n\t          var element = document.createElement('div');\n\t          element.setAttribute('id', 'OneSignal-iframe-modal');\n\t          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block\"></div>';\n\t          document.body.appendChild(element);\n\t\n\t          var iframeStyle = document.createElement('style');\n\t          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\" + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n\t          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\t\n\t          var iframeNode = document.createElement(\"iframe\");\n\t          iframeNode.className = \"OneSignal-permission-iframe\";\n\t          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n\t          iframeNode.src = OneSignal._initOneSignalHttp + '?id=' + OneSignal._app_id + '&httpsPrompt=true' + '&pushEnabled=' + pushEnabled + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\") + '&hostPageProtocol=' + hostPageProtocol;\n\t          iframeNode.setAttribute('frameborder', '0');\n\t          iframeNode.width = OneSignal._windowWidth.toString();\n\t          iframeNode.height = OneSignal._windowHeight.toString();\n\t\n\t          _loglevel2.default.debug('Opening HTTPS modal prompt.');\n\t          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n\t        });\n\t      } else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n\t        OneSignal._registerForW3CPush(options);else _loglevel2.default.debug('Service workers are not supported in this browser.');\n\t\n\t      (0, _events.triggerEvent)('onesignal.sdk.initialized');\n\t    }\n\t  },\n\t\n\t  _registerForW3CPush: function _registerForW3CPush(options) {\n\t\n\t    OneSignal._getDbValue('Ids', 'registrationId').then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n\t      if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n\t        navigator.serviceWorker.getRegistration().then(function (event) {\n\t          var sw_path = \"\";\n\t\n\t          if (OneSignal._initOptions.path) sw_path = OneSignal._initOptions.path;\n\t\n\t          if (typeof event === \"undefined\") // Nothing registered, very first run\n\t            navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);else {\n\t            if (event.active) {\n\t              if (event.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\t\n\t                OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) {\n\t                      event.unregister().then(function () {\n\t                        navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                      }).catch(function (e) {\n\t                        _loglevel2.default.error(e);\n\t                      });\n\t                      ;\n\t                    } else navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                  } else navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t                ;\n\t              } else if (event.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\t\n\t                OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) {\n\t                      event.unregister().then(function () {\n\t                        navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                      });\n\t                    } else navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                  } else navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t                ;\n\t              }\n\t            } else if (event.installing == null) navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _addSessionIframe: function _addSessionIframe(hostPageProtocol) {\n\t\n\t    var node = document.createElement(\"iframe\");\n\t    node.style.display = \"none\";\n\t    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n\t    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")) node.src += \"?session=true\" + \"&hostPageProtocol=\" + hostPageProtocol;else node.src += \"?hostPageProtocol=\" + hostPageProtocol;\n\t    document.body.appendChild(node);\n\t    _loglevel2.default.trace('Adding session iFrame.');\n\t\n\t    OneSignal._sessionIframeAdded = true;\n\t  },\n\t\n\t  _registerError: function _registerError(err) {\n\t    _loglevel2.default.error(\"ServiceWorker registration\", err);\n\t  },\n\t\n\t  _enableNotifications: function _enableNotifications(existingServiceWorkerRegistration) {\n\t    // is ServiceWorkerRegistration type\n\t    if (existingServiceWorkerRegistration) _loglevel2.default.debug('There is an older ServiceWorker:', existingServiceWorkerRegistration);\n\t    if (!('PushManager' in window)) {\n\t      _loglevel2.default.debug(\"Push messaging is not supported. No PushManager.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n\t      _loglevel2.default.debug(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (Notification.permission === 'denied') {\n\t      _loglevel2.default.warn(\"The user has disabled notifications.\");\n\t      return;\n\t    }\n\t\n\t    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n\t      _loglevel2.default.info('Service worker active:', serviceWorkerRegistration);\n\t\n\t      OneSignal._subscribeForPush(serviceWorkerRegistration);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  /*\n\t   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n\t   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n\t   */\n\t  _getNotificationPermission: function _getNotificationPermission(safariWebId) {\n\t    if (window.safari) {\n\t      // The user is on Safari\n\t      // A web ID is required to determine the current notificiation permission\n\t      if (safariWebId) {\n\t        return window.safari.pushNotification.permission(safariWebId).permission;\n\t      } else {\n\t        // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n\t        return \"default\";\n\t      }\n\t    } else {\n\t      // Identical API on Firefox and Chrome\n\t      return Notification.permission;\n\t    }\n\t  },\n\t\n\t  _triggerEvent_customPromptClicked: function _triggerEvent_customPromptClicked(clickResult) {\n\t    var recentPermissions = _limitStore2.default.put('notification.permission', clickResult);\n\t    (0, _events.triggerEvent)('onesignal.prompt.custom.clicked', {\n\t      result: clickResult\n\t    });\n\t  },\n\t\n\t  _triggerEvent_nativePromptPermissionChanged: function _triggerEvent_nativePromptPermissionChanged(from, to) {\n\t    if (to === undefined) {\n\t      to = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t    }\n\t    if (from !== to) {\n\t      var recentPermissions = _limitStore2.default.put('notification.permission', to);\n\t      (0, _events.triggerEvent)('onesignal.prompt.native.permissionchanged', {\n\t        from: from,\n\t        to: to\n\t      });\n\t    }\n\t  },\n\t\n\t  _triggerEvent_subscriptionChanged: function _triggerEvent_subscriptionChanged(to) {\n\t    (0, _events.triggerEvent)('onesignal.subscription.changed', to);\n\t  },\n\t\n\t  _triggerEvent_dbValueRetrieved: function _triggerEvent_dbValueRetrieved(value) {\n\t    (0, _events.triggerEvent)('onesignal.db.valueretrieved', value);\n\t  },\n\t\n\t  _triggerEvent_dbValueSet: function _triggerEvent_dbValueSet(value) {\n\t    (0, _events.triggerEvent)('onesignal.db.valueset', value);\n\t  },\n\t\n\t  _triggerEvent_internalSubscriptionSet: function _triggerEvent_internalSubscriptionSet(value) {\n\t    (0, _events.triggerEvent)('onesignal.internal.subscriptionset', value);\n\t  },\n\t\n\t  _subscribeForPush: function _subscribeForPush(serviceWorkerRegistration) {\n\t    var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t    serviceWorkerRegistration.pushManager.subscribe({ userVisibleOnly: true }).then(function (subscription) {\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      OneSignal._getDbValue('Ids', 'appId').then(function _subscribeForPush_GotAppId(appIdResult) {\n\t        var appId = appIdResult.id;\n\t        _loglevel2.default.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\t\n\t        var registrationId = null;\n\t        if (subscription) {\n\t          if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n\t            registrationId = subscription.subscriptionId;else // Chrome 44+ and FireFox\n\t            registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n\t        } else _loglevel2.default.warn('Could not subscribe your browser for push notifications.');\n\t\n\t        OneSignal._registerWithOneSignal(appId, registrationId, (0, _utils.isSupportedFireFox)() ? 8 : 5);\n\t\n\t        if (!OneSignal._usingNativePermissionHook) {\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('Error while subscribing for push:', e);\n\t\n\t      if (!OneSignal._usingNativePermissionHook) OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t\n\t      if (e.code == 20 && opener && OneSignal._httpRegistration) window.close();\n\t    });\n\t  },\n\t\n\t  sendTag: function sendTag(key, value) {\n\t    var jsonKeyValue = {};\n\t    jsonKeyValue[key] = value;\n\t    OneSignal.sendTags(jsonKeyValue);\n\t  },\n\t\n\t  sendTags: function sendTags(jsonPair) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function sendTags_GotUserId(userIdResult) {\n\t      if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t        app_id: OneSignal._app_id,\n\t        tags: jsonPair\n\t      });else {\n\t        if (OneSignal._tagsToSendOnRegister == null) OneSignal._tagsToSendOnRegister = jsonPair;else {\n\t          var resultObj = {};\n\t          for (var _obj in OneSignal._tagsToSendOnRegister) {\n\t            resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n\t          }for (var _obj in jsonPair) {\n\t            resultObj[_obj] = jsonPair[_obj];\n\t          }OneSignal._tagsToSendOnRegister = resultObj;\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('sendTags:', e);\n\t    });\n\t  },\n\t\n\t  deleteTag: function deleteTag(key) {\n\t    OneSignal.deleteTags([key]);\n\t  },\n\t\n\t  deleteTags: function deleteTags(keyArray) {\n\t    var jsonPair = {};\n\t    var length = keyArray.length;\n\t    for (var i = 0; i < length; i++) {\n\t      jsonPair[keyArray[i]] = \"\";\n\t    }OneSignal.sendTags(jsonPair);\n\t  },\n\t\n\t  _handleNotificationOpened: function _handleNotificationOpened(event) {\n\t    var notificationData = JSON.parse(event.notification.tag);\n\t    event.notification.close();\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'userId')]).then(function _handleNotificationOpened_GotAppUserIds(results) {\n\t      var appIdResult = results[0];\n\t      var userIdResult = results[1];\n\t      if (appIdResult && userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n\t          app_id: appIdResult.id,\n\t          player_id: userIdResult.id,\n\t          opened: true\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t\n\t    event.waitUntil(clients.matchAll({ type: \"window\" }).then(function (clientList) {\n\t      var launchURL = registration.scope;\n\t      if (OneSignal._defaultLaunchURL) launchURL = OneSignal._defaultLaunchURL;\n\t      if (notificationData.launchURL) launchURL = notificationData.launchURL;\n\t\n\t      for (var i = 0; i < clientList.length; i++) {\n\t        var client = clientList[i];\n\t        if ('focus' in client && client.url == launchURL) {\n\t          client.focus();\n\t\n\t          // targetOrigin not valid here as the service worker owns the page.\n\t          client.postMessage(notificationData);\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n\t        OneSignal._putDbValue(\"NotificationOpened\", { url: launchURL, data: notificationData });\n\t        clients.openWindow(launchURL).catch(function (error) {\n\t          // Should only fall into here if going to an external URL on Chrome older than 43.\n\t          clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    }));\n\t  },\n\t\n\t  _getTitle: function _getTitle(incomingTitle, callback) {\n\t    if (incomingTitle != null) {\n\t      callback(incomingTitle);\n\t      return;\n\t    }\n\t\n\t    Promise.all([OneSignal._getDbValue('Options', 'defaultTitle'), OneSignal._getDbValue('Options', 'pageTitle')]).then(function _getTitle_GotDefaultPageTitles(results) {\n\t      var defaultTitleResult = results[0];\n\t      var pageTitleResult = results[1];\n\t\n\t      if (defaultTitleResult) {\n\t        callback(defaultTitleResult.value);\n\t        return;\n\t      } else if (pageTitleResult && pageTitleResult.value != null) {\n\t        callback(pageTitleResult.value);\n\t        return;\n\t      } else {\n\t        callback('');\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  // Displays notification from content received from OneSignal.\n\t  // This method is only called by ServiceWorker\n\t  _handleGCMMessage: function _handleGCMMessage(serviceWorker, event) {\n\t    // TODO: Read data from the GCM payload when Chrome no longer requires the below command line parameter.\n\t    // --enable-push-message-payload\n\t    // The command line param is required even on Chrome 43 nightly build 2015/03/17.\n\t    if (event.data && event.data.text()[0] == \"{\") {\n\t      _loglevel2.default.debug('Received data.text: ', event.data.text());\n\t      _loglevel2.default.debug('Received data.json: ', event.data.json());\n\t    }\n\t\n\t    event.waitUntil(new Promise(function (resolve, reject) {\n\t      OneSignal._getTitle(null, function (title) {\n\t        OneSignal._getDbValue('Options', 'defaultIcon').then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult) {\n\t          OneSignal._getLastNotifications(function (response, appId) {\n\t            var notificationData = {\n\t              id: response.custom.i,\n\t              message: response.alert,\n\t              additionalData: response.custom.a\n\t            };\n\t\n\t            if (response.title) notificationData.title = response.title;else notificationData.title = title;\n\t\n\t            if (response.custom.u) notificationData.launchURL = response.custom.u;\n\t\n\t            if (response.icon) notificationData.icon = response.icon;else if (defaultIconResult) notificationData.icon = defaultIconResult.value;\n\t\n\t            // Never nest the following line in a callback from the point of entering from _getLastNotifications\n\t            serviceWorker.registration.showNotification(notificationData.title, {\n\t              body: response.alert,\n\t              icon: notificationData.icon,\n\t              tag: JSON.stringify(notificationData)\n\t            }).then(resolve).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t\n\t            OneSignal._getDbValue('Options', 'defaultUrl').then(function (defaultUrlResult) {\n\t              if (defaultUrlResult) OneSignal._defaultLaunchURL = defaultUrlResult.value;\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t            ;\n\t          }, resolve);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      });\n\t    }));\n\t  },\n\t\n\t  _getLastNotifications: function _getLastNotifications(itemCallback, completeCallback) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function _getLastNotifications_GotUserId(userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\", null, function (response) {\n\t          for (var i = 0; i < response.length; i++) {\n\t            itemCallback(JSON.parse(response[i]));\n\t          }\n\t        }, function () {\n\t          completeCallback();\n\t        }); // Failed callback\n\t      } else {\n\t          _loglevel2.default.debug(\"Error: could not get notificationId\");\n\t          completeCallback();\n\t        }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n\t  _listener_receiveMessage: function receiveMessage(event) {\n\t    _loglevel2.default.debug(\"_listener_receiveMessage: \", event);\n\t\n\t    if (OneSignal._initOptions == undefined) return;\n\t\n\t    if (!(false) && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\") return;\n\t\n\t    if (event.data.oneSignalInitPageReady) {\n\t      // Only called on HTTP pages.\n\t      var eventData = event.data.oneSignalInitPageReady;\n\t\n\t      if (eventData.isIframe) {\n\t        OneSignal._iframePort = event.ports[0];\n\t      }\n\t\n\t      if (eventData.userId) OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: eventData.userId });\n\t      if (eventData.registrationId) OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: eventData.registrationId });\n\t\n\t      debugger;\n\t      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n\t      OneSignal._sendUnsentTags();\n\t\n\t      OneSignal._getDbValues(\"Options\").then(function _listener_receiveMessage(options) {\n\t        _loglevel2.default.debug(\"current options\", options);\n\t        if (!options.defaultUrl) options.defaultUrl = document.URL;\n\t        if (!options.defaultTitle) options.defaultTitle = document.title;\n\t\n\t        options.parent_url = document.URL;\n\t        _loglevel2.default.debug(\"Posting message to port[0]\", event.ports[0]);\n\t        event.ports[0].postMessage({ initOptions: options });\n\t\n\t        // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n\t        (0, _events.triggerEvent)('onesignal.sdk.initialized');\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error('_listener_receiveMessage:', e);\n\t      });\n\t    } else if (event.data.currentNotificationPermission) // Subdomain Only\n\t      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);else if (event.data.idsAvailable) {\n\t      // Only called on HTTP pages.\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      OneSignal._putDbValue(\"Ids\", { type: \"userId\", id: event.data.idsAvailable.userId });\n\t      OneSignal._putDbValue(\"Ids\", { type: \"registrationId\", id: event.data.idsAvailable.registrationId });\n\t\n\t      if (OneSignal._idsAvailable_callback.length > 0) {\n\t        while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({\n\t            userId: event.data.idsAvailable.userId,\n\t            registrationId: event.data.idsAvailable.registrationId\n\t          });\n\t        }\n\t      }\n\t      OneSignal._sendUnsentTags();\n\t    } else if (event.data.httpsPromptAccepted) {\n\t      // HTTPS Only\n\t      OneSignal.registerForPushNotifications();\n\t      OneSignal.setSubscription(true);\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpsPromptCanceled) {\n\t      // HTTPS Only\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpPromptAccepted) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpPromptCanceled) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (OneSignal._notificationOpened_callback) // HTTP and HTTPS\n\t      OneSignal._notificationOpened_callback(event.data);\n\t  },\n\t\n\t  addListenerForNotificationOpened: function addListenerForNotificationOpened(callback) {\n\t    OneSignal._notificationOpened_callback = callback;\n\t    if (window) {\n\t      OneSignal._getDbValue(\"NotificationOpened\", document.URL).then(function (notificationOpenedResult) {\n\t        if (notificationOpenedResult) {\n\t          OneSignal._deleteDbValue(\"NotificationOpened\", document.URL);\n\t          OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  // Subdomain - Fired from message received from iframe.\n\t  _fireNotificationEnabledCallback: function _fireNotificationEnabledCallback(notifPermssion) {\n\t    if (OneSignal._isNotificationEnabledCallback) {\n\t      OneSignal._isNotificationEnabledCallback(notifPermssion);\n\t      OneSignal._isNotificationEnabledCallback = null;\n\t    }\n\t  },\n\t\n\t  getIdsAvailable: function getIdsAvailable(callback) {\n\t    if (callback === undefined) return;\n\t\n\t    OneSignal._idsAvailable_callback.push(callback);\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId')]).then(function getIdsAvailable_GotUserRegistrationIds(results) {\n\t      var userIdResult = results[0];\n\t      var registrationIdResult = results[1];\n\t\n\t      if (userIdResult) {\n\t        if (registrationIdResult) {\n\t          while (OneSignal._idsAvailable_callback.length > 0) {\n\t            var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t            curr_callback({\n\t              userId: userIdResult.id,\n\t              registrationId: registrationIdResult.id\n\t            });\n\t          }\n\t        } else while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({ userId: userIdResult.id, registrationId: null });\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  getTags: function getTags(callback) {\n\t    OneSignal._getDbValue('Ids', 'userId').then(function (userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n\t          callback(response.tags);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  isPushNotificationsEnabled: function isPushNotificationsEnabled(callback) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    // If Subdomain\n\t    if (OneSignal._initOptions.subdomainName && !(0, _utils.isBrowserSafari)()) {\n\t      OneSignal._isNotificationEnabledCallback = callback;\n\t      if (OneSignal._iframePort) {\n\t        debugger;\n\t        OneSignal._iframePort.postMessage({ getNotificationPermission: true });\n\t      }\n\t      return;\n\t    }\n\t\n\t    // If HTTPS\n\t\n\t    Promise.all([OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')]).then(function (results) {\n\t      var registrationIdResult = results[0];\n\t      var subscriptionResult = results[1];\n\t\n\t      if (registrationIdResult) {\n\t        if (subscriptionResult && !subscriptionResult.value) return callback(false);\n\t\n\t        callback(Notification.permission == \"granted\");\n\t      } else callback(false);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _getNotificationTypes: function _getNotificationTypes(callback) {\n\t    OneSignal._getSubscription(function (db_subscriptionSet) {\n\t      callback(db_subscriptionSet ? 1 : -2);\n\t    });\n\t  },\n\t\n\t  setSubscription: function setSubscription(newSubscription) {\n\t    if (OneSignal._iframePort) OneSignal._iframePort.postMessage({ setSubdomainState: { setSubscription: newSubscription } });else {\n\t      OneSignal._getSubscription(function (currentSubscription) {\n\t        if (currentSubscription != newSubscription) {\n\t          OneSignal._putDbValue(\"Options\", { key: \"subscription\", value: newSubscription });\n\t          OneSignal._getDbValue('Ids', 'userId').then(function (userIdResult) {\n\t            if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t              app_id: OneSignal._app_id,\n\t              notification_types: newSubscription ? 1 : -2\n\t            }, function setSubscriptionSetCallback() {\n\t              OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n\t            });\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        }\n\t      });\n\t    }\n\t  },\n\t\n\t  _getSubscription: function _getSubscription(callback) {\n\t    OneSignal._getDbValue('Options', 'subscription').then(function (subscriptionResult) {\n\t      callback(!(subscriptionResult && subscriptionResult.value == false));\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _safePostMessage: function _safePostMessage(creator, data, targetOrigin, receiver) {\n\t    var tOrigin = targetOrigin.toLowerCase();\n\t\n\t    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n\t    if (tOrigin.startsWith(\"http://\")) {\n\t      var queryDict = {};\n\t      location.search.substr(1).split(\"&\").forEach(function (item) {\n\t        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1];\n\t      });\n\t      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n\t      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n\t    }\n\t\n\t    if (receiver) creator.postMessage(data, tOrigin, receiver);else creator.postMessage(data, tOrigin);\n\t  },\n\t\n\t  _process_pushes: function _process_pushes(array) {\n\t    for (var i = 0; i < array.length; i++) {\n\t      OneSignal.push(array[i]);\n\t    }\n\t  },\n\t\n\t  push: function push(item) {\n\t    if (typeof item == \"function\") item();else {\n\t      var functionName = item.shift();\n\t      OneSignal[functionName].apply(null, item);\n\t    }\n\t  }\n\t};\n\t\n\t// If imported on your page.\n\tif (typeof window !== \"undefined\") window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);else {\n\t  // if imported from the service worker.\n\t  importScripts('https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js');\n\t\n\t  self.addEventListener('push', function (event) {\n\t    OneSignal._handleGCMMessage(self, event); // Can handle messages from any browser (except Safari), rename method\n\t  });\n\t  self.addEventListener('notificationclick', function (event) {\n\t    // Also only by SW\n\t    OneSignal._handleNotificationOpened(event);\n\t  });\n\t\n\t  var isSWonSubdomain = location.href.match(/https\\:\\/\\/.*\\.onesignal.com\\/sdks\\//) != null;\n\t  if (false) isSWonSubdomain = true;\n\t\n\t  self.addEventListener('install', function (event) {\n\t    _loglevel2.default.debug(\"OneSignal Installed service worker: \" + OneSignal._VERSION);\n\t    if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1) OneSignal._putDbValue(\"Ids\", { type: \"WORKER1_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION });else OneSignal._putDbValue(\"Ids\", { type: \"WORKER2_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION });\n\t\n\t    if (isSWonSubdomain) {\n\t      event.waitUntil(caches.open(\"OneSignal_\" + OneSignal._VERSION).then(function (cache) {\n\t        return cache.addAll(['/sdks/initOneSignalHttpIframe', '/sdks/initOneSignalHttpIframe?session=*', '/sdks/manifest_json']);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      }));\n\t    }\n\t  });\n\t\n\t  if (isSWonSubdomain) {\n\t    self.addEventListener('fetch', function (event) {\n\t      event.respondWith(caches.match(event.request).then(function (response) {\n\t        // Cache hit - return response\n\t        if (response) return response;\n\t\n\t        return fetch(event.request);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      }));\n\t    });\n\t  }\n\t}\n\t\n\tmodule.exports = OneSignal;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t(function() {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t      list = []\n\t      this.map[name] = list\n\t    }\n\t    list.push(value)\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t  }\n\t\n\t  Headers.prototype.getAll = function(name) {\n\t    return this.map[normalizeName(name)] || []\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n\t      this.map[name].forEach(function(value) {\n\t        callback.call(thisArg, value, name, this)\n\t      }, this)\n\t    }, this)\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  var support = {\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob();\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (!body) {\n\t        this._bodyText = ''\n\t      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n\t        // Only support ArrayBuffers for POST method.\n\t        // Receiving ArrayBuffers happens via Blobs, instead.\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        return this.blob().then(readBlobAsArrayBuffer)\n\t      }\n\t\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text')\n\t        } else {\n\t          return Promise.resolve(this._bodyText)\n\t        }\n\t      }\n\t    } else {\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        return rejected ? rejected : Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t    if (Request.prototype.isPrototypeOf(input)) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = input\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this)\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function headers(xhr) {\n\t    var head = new Headers()\n\t    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n\t    pairs.forEach(function(header) {\n\t      var split = header.trim().split(':')\n\t      var key = split.shift().trim()\n\t      var value = split.join(':').trim()\n\t      head.append(key, value)\n\t    })\n\t    return head\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this._initBody(bodyInit)\n\t    this.type = 'default'\n\t    this.status = options.status\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n\t    this.url = options.url || ''\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request\n\t      if (Request.prototype.isPrototypeOf(input) && !init) {\n\t        request = input\n\t      } else {\n\t        request = new Request(input, init)\n\t      }\n\t\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL\n\t        }\n\t\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL')\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      xhr.onload = function() {\n\t        var status = (xhr.status === 1223) ? 204 : xhr.status\n\t        if (status < 100 || status > 599) {\n\t          reject(new TypeError('Network request failed'))\n\t          return\n\t        }\n\t        var options = {\n\t          status: status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        }\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})();\n\t\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = global.fetch\n\t}.call(global));\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.HOST_URL = exports.PROD_HOST = exports.DEV_HOST = undefined;\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar DEV_HOST = exports.DEV_HOST = 'http://192.168.1.206:3000';\n\tvar PROD_HOST = exports.PROD_HOST = 'https://onesignal.com';\n\tvar HOST_URL = exports.HOST_URL = ((0, _utils.isDev)() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.isArray = isArray;\n\texports.getHumanizedTimeDuration = getHumanizedTimeDuration;\n\texports.isBrowserEnv = isBrowserEnv;\n\texports.isDev = isDev;\n\texports.isPushNotificationsSupported = isPushNotificationsSupported;\n\texports.isBrowserSafari = isBrowserSafari;\n\texports.isSupportedFireFox = isSupportedFireFox;\n\texports.isBrowserFirefox = isBrowserFirefox;\n\texports.getFirefoxVersion = getFirefoxVersion;\n\texports.isSupportedSafari = isSupportedSafari;\n\texports.removeDomElement = removeDomElement;\n\texports.addDomElement = addDomElement;\n\texports.clearDomElementChildren = clearDomElementChildren;\n\texports.addCssClass = addCssClass;\n\texports.removeCssClass = removeCssClass;\n\texports.on = on;\n\texports.once = once;\n\texports.off = off;\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction isArray(variable) {\n\t  return Object.prototype.toString.call(variable) === '[object Array]';\n\t}\n\t\n\tfunction getHumanizedTimeDuration(timeDurationInMilliseconds) {\n\t  function addPluralSuffix(number) {\n\t    return number > 1 ? 's' : '';\n\t  }\n\t  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\t\n\t  var years = Math.floor(duration / 31536000);\n\t  if (years) return years + ' year' + addPluralSuffix(years);\n\t\n\t  var days = Math.floor((duration %= 31536000) / 86400);\n\t  if (days) return days + ' day' + addPluralSuffix(days);\n\t\n\t  var hours = Math.floor((duration %= 86400) / 3600);\n\t  if (hours) return hours + ' hour' + addPluralSuffix(hours);\n\t\n\t  var minutes = Math.floor((duration %= 3600) / 60);\n\t  if (minutes) return minutes + ' minute' + addPluralSuffix(minutes);\n\t\n\t  var seconds = duration % 60;\n\t  if (seconds) return seconds + ' second' + addPluralSuffix(seconds);\n\t\n\t  return 'just now';\n\t}\n\t\n\tfunction isBrowserEnv() {\n\t  return typeof window !== \"undefined\";\n\t}\n\t\n\tfunction isDev() {\n\t  return (false);\n\t}\n\t\n\tfunction isPushNotificationsSupported() {\n\t  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\t\n\t  if (isSupportedFireFox()) return true;\n\t\n\t  if (isSupportedSafari()) return true;\n\t\n\t  // Chrome is not found in appVersion.\n\t  if (!chromeVersion) return false;\n\t\n\t  // Microsoft Edge\n\t  if (navigator.appVersion.match(/Edge/)) return false;\n\t\n\t  // Android Chrome WebView\n\t  if (navigator.appVersion.match(/ wv/)) return false;\n\t\n\t  // Opera\n\t  if (navigator.appVersion.match(/OPR\\//)) return false;\n\t\n\t  // The user is on iOS\n\t  if (/iPad|iPhone|iPod/.test(navigator.platform)) return false;\n\t\n\t  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n\t}\n\t\n\tfunction isBrowserSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  return safariVersion != null;\n\t}\n\t\n\tfunction isSupportedFireFox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n\t  return false;\n\t}\n\t\n\tfunction isBrowserFirefox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  return fireFoxVersion != null;\n\t}\n\t\n\tfunction getFirefoxVersion() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2));else return -1;\n\t}\n\t\n\tfunction isSupportedSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  if (safariVersion == null) return false;\n\t  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) return false;\n\t  return parseInt(safariVersion[1]) > 6;\n\t}\n\t\n\tfunction removeDomElement(selector) {\n\t  var els = document.querySelectorAll(selector);\n\t  if (els.length > 0) {\n\t    for (var i = 0; i < els.length; i++) {\n\t      els[i].parentNode.removeChild(els[i]);\n\t    }\n\t  }\n\t}\n\t\n\tfunction addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction clearDomElementChildren(targetSelectorOrElement) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var element = document.querySelector(targetSelectorOrElement);\n\t    while (element.firstChild) {\n\t      element.removeChild(element.firstChild);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    while (targetSelectorOrElement.firstChild) {\n\t      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n\t    }\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction addCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction removeCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction on(targetSelectorOrElement, event, task) {\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  _loglevel2.default.debug('Debug me here.');\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        on(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      on(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.addEventListener(event, task);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction once(targetSelectorOrElement, event, task) {\n\t  var manualDestroy = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        once(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      once(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    var taskWrapper = (function () {\n\t      var internalTaskFunction = function internalTaskFunction(e) {\n\t        var destroyEventListener = function destroyEventListener() {\n\t          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n\t        };\n\t        if (!manualDestroy) {\n\t          destroyEventListener();\n\t        }\n\t        task(e, destroyEventListener);\n\t      };\n\t      return internalTaskFunction;\n\t    })();\n\t    targetSelectorOrElement.addEventListener(event, taskWrapper);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\t/**\n\t * Removes event handler from selector.\n\t * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n\t * @param event The event to target (e.g. 'transitionend')\n\t * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n\t */\n\tfunction off(targetSelectorOrElement, event, task) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        off(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      off(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    if (task) targetSelectorOrElement.removeEventListener(event, task);else targetSelectorOrElement.removeEventListener(event);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n\t* loglevel - https://github.com/pimterry/loglevel\r\n\t*\r\n\t* Copyright (c) 2013 Tim Perry\r\n\t* Licensed under the MIT license.\r\n\t*/\r\n\t(function (root, definition) {\r\n\t    \"use strict\";\r\n\t    if (typeof module === 'object' && module.exports && \"function\" === 'function') {\r\n\t        module.exports = definition();\r\n\t    } else if (true) {\r\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else {\r\n\t        root.log = definition();\r\n\t    }\r\n\t}(this, function () {\r\n\t    \"use strict\";\r\n\t    var noop = function() {};\r\n\t    var undefinedType = \"undefined\";\r\n\t\r\n\t    function realMethod(methodName) {\r\n\t        if (typeof console === undefinedType) {\r\n\t            return false; // We can't build a real method without a console to log to\r\n\t        } else if (console[methodName] !== undefined) {\r\n\t            return bindMethod(console, methodName);\r\n\t        } else if (console.log !== undefined) {\r\n\t            return bindMethod(console, 'log');\r\n\t        } else {\r\n\t            return noop;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function bindMethod(obj, methodName) {\r\n\t        var method = obj[methodName];\r\n\t        if (typeof method.bind === 'function') {\r\n\t            return method.bind(obj);\r\n\t        } else {\r\n\t            try {\r\n\t                return Function.prototype.bind.call(method, obj);\r\n\t            } catch (e) {\r\n\t                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n\t                return function() {\r\n\t                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n\t                };\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    // these private functions always need `this` to be set properly\r\n\t\r\n\t    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n\t        return function () {\r\n\t            if (typeof console !== undefinedType) {\r\n\t                replaceLoggingMethods.call(this, level, loggerName);\r\n\t                this[methodName].apply(this, arguments);\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function replaceLoggingMethods(level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        for (var i = 0; i < logMethods.length; i++) {\r\n\t            var methodName = logMethods[i];\r\n\t            this[methodName] = (i < level) ?\r\n\t                noop :\r\n\t                this.methodFactory(methodName, level, loggerName);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function defaultMethodFactory(methodName, level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        return realMethod(methodName) ||\r\n\t               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n\t    }\r\n\t\r\n\t    var logMethods = [\r\n\t        \"trace\",\r\n\t        \"debug\",\r\n\t        \"info\",\r\n\t        \"warn\",\r\n\t        \"error\"\r\n\t    ];\r\n\t\r\n\t    function Logger(name, defaultLevel, factory) {\r\n\t      var self = this;\r\n\t      var currentLevel;\r\n\t      var storageKey = \"loglevel\";\r\n\t      if (name) {\r\n\t        storageKey += \":\" + name;\r\n\t      }\r\n\t\r\n\t      function persistLevelIfPossible(levelNum) {\r\n\t          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\t\r\n\t          // Use localStorage if available\r\n\t          try {\r\n\t              window.localStorage[storageKey] = levelName;\r\n\t              return;\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          // Use session cookie as fallback\r\n\t          try {\r\n\t              window.document.cookie =\r\n\t                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n\t          } catch (ignore) {}\r\n\t      }\r\n\t\r\n\t      function getPersistedLevel() {\r\n\t          var storedLevel;\r\n\t\r\n\t          try {\r\n\t              storedLevel = window.localStorage[storageKey];\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          if (typeof storedLevel === undefinedType) {\r\n\t              try {\r\n\t                  var cookie = window.document.cookie;\r\n\t                  var location = cookie.indexOf(\r\n\t                      encodeURIComponent(storageKey) + \"=\");\r\n\t                  if (location) {\r\n\t                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n\t                  }\r\n\t              } catch (ignore) {}\r\n\t          }\r\n\t\r\n\t          // If the stored level is not valid, treat it as if nothing was stored.\r\n\t          if (self.levels[storedLevel] === undefined) {\r\n\t              storedLevel = undefined;\r\n\t          }\r\n\t\r\n\t          return storedLevel;\r\n\t      }\r\n\t\r\n\t      /*\r\n\t       *\r\n\t       * Public API\r\n\t       *\r\n\t       */\r\n\t\r\n\t      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n\t          \"ERROR\": 4, \"SILENT\": 5};\r\n\t\r\n\t      self.methodFactory = factory || defaultMethodFactory;\r\n\t\r\n\t      self.getLevel = function () {\r\n\t          return currentLevel;\r\n\t      };\r\n\t\r\n\t      self.setLevel = function (level, persist) {\r\n\t          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n\t              level = self.levels[level.toUpperCase()];\r\n\t          }\r\n\t          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n\t              currentLevel = level;\r\n\t              if (persist !== false) {  // defaults to true\r\n\t                  persistLevelIfPossible(level);\r\n\t              }\r\n\t              replaceLoggingMethods.call(self, level, name);\r\n\t              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n\t                  return \"No console available for logging\";\r\n\t              }\r\n\t          } else {\r\n\t              throw \"log.setLevel() called with invalid level: \" + level;\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.setDefaultLevel = function (level) {\r\n\t          if (!getPersistedLevel()) {\r\n\t              self.setLevel(level, false);\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.enableAll = function(persist) {\r\n\t          self.setLevel(self.levels.TRACE, persist);\r\n\t      };\r\n\t\r\n\t      self.disableAll = function(persist) {\r\n\t          self.setLevel(self.levels.SILENT, persist);\r\n\t      };\r\n\t\r\n\t      // Initialize with the right level\r\n\t      var initialLevel = getPersistedLevel();\r\n\t      if (initialLevel == null) {\r\n\t          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n\t      }\r\n\t      self.setLevel(initialLevel, false);\r\n\t    }\r\n\t\r\n\t    /*\r\n\t     *\r\n\t     * Package-level API\r\n\t     *\r\n\t     */\r\n\t\r\n\t    var defaultLogger = new Logger();\r\n\t\r\n\t    var _loggersByName = {};\r\n\t    defaultLogger.getLogger = function getLogger(name) {\r\n\t        if (typeof name !== \"string\" || name === \"\") {\r\n\t          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n\t        }\r\n\t\r\n\t        var logger = _loggersByName[name];\r\n\t        if (!logger) {\r\n\t          logger = _loggersByName[name] = new Logger(\r\n\t            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n\t        }\r\n\t        return logger;\r\n\t    };\r\n\t\r\n\t    // Grab the current global log variable in case of overwrite\r\n\t    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n\t    defaultLogger.noConflict = function() {\r\n\t        if (typeof window !== undefinedType &&\r\n\t               window.log === defaultLogger) {\r\n\t            window.log = _log;\r\n\t        }\r\n\t\r\n\t        return defaultLogger;\r\n\t    };\r\n\t\r\n\t    return defaultLogger;\r\n\t}));\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.apiCall = apiCall;\n\texports.sendNotification = sendNotification;\n\t\n\tvar _vars = __webpack_require__(4);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction apiCall(action, method, data) {\n\t  var headers = new Headers();\n\t  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\t\n\t  var contents = {\n\t    method: method || 'NO_METHOD_SPECIFIED',\n\t    headers: headers,\n\t    cache: 'no-cache',\n\t    body: JSON.stringify(data)\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    fetch(_vars.HOST_URL + action, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) resolve(response.json());else reject(new Error(response.statusText));\n\t    }).catch(function (e) {\n\t      reject(e);\n\t    });\n\t  });\n\t}\n\t\n\tfunction sendNotification(appId, playerIds, titles, contents) {\n\t  var params = {\n\t    'app_id': appId,\n\t    'headings': titles,\n\t    'contents': contents,\n\t    'include_player_ids': playerIds,\n\t    'isAnyWeb': true,\n\t    'url': 'javascript:void(0);'\n\t  };\n\t  return apiCall('notifications', 'POST', params);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t LimitStore.put('colorado', 'rocky');\n\t [\"rocky\"]\n\t LimitStore.put('colorado', 'mountain');\n\t [\"rocky\", \"mountain\"]\n\t LimitStore.put('colorado', 'national');\n\t [\"mountain\", \"national\"]\n\t LimitStore.put('colorado', 'park');\n\t [\"national\", \"park\"]\n\t */\n\tfunction LimitStore() {}\n\t\n\tLimitStore.store = {};\n\tLimitStore.LIMIT = 2;\n\t\n\tLimitStore.put = function (key, value) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  LimitStore.store[key].push(value);\n\t  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n\t    LimitStore.store[key].shift();\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.get = function (key) {\n\t  return LimitStore.store[key];\n\t};\n\t\n\texports.default = LimitStore;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tif (typeof window !== \"undefined\") {\n\t  (function () {\n\t    function CustomEvent(event, params) {\n\t      params = params || { bubbles: false, cancelable: false, details: undefined };\n\t      var evt = document.createEvent('CustomEvent');\n\t      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.details);\n\t      return evt;\n\t    }\n\t\n\t    CustomEvent.prototype = window.Event.prototype;\n\t\n\t    window.CustomEvent = CustomEvent;\n\t  })();\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.triggerEvent = triggerEvent;\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction triggerEvent(eventName, data) {\n\t  if (typeof window === \"undefined\") {\n\t    _loglevel2.default.debug('Skipping triggering of event:', eventName, 'because we are running in a ServiceWorker context.');\n\t    return;\n\t  }\n\t  var event = new CustomEvent(eventName, {\n\t    bubbles: true, cancelable: true, details: data\n\t  });\n\t  window.dispatchEvent(event);\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _utils = __webpack_require__(5);\n\t\n\tvar _limitStore = __webpack_require__(8);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _loglevel = __webpack_require__(6);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tif ((0, _utils.isBrowserEnv)()) {\n\t  __webpack_require__(12);\n\t  var logoSvg = __webpack_require__(16);\n\t\n\t  /*\n\t    {\n\t      size = ['small', 'medium', 'large'],\n\t      position = 'bottom-left', 'bottom-right'],\n\t      offset = '15px 15px',\n\t      theme = ['red-white', 'white-red'],\n\t      inactiveOpacity: 0.75,\n\t      showLauncherAfter: 1000,\n\t      messages: {\n\t          'unsubscribed': 'Subscribe to notifications',\n\t          'subscribed': 'You're subscribed to notifications'\n\t        }\n\t    }\n\t   */\n\t\n\t  var Bell = (function () {\n\t    function Bell() {\n\t      var _this = this;\n\t\n\t      var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t      var _ref$size = _ref.size;\n\t      var size = _ref$size === undefined ? 'small' : _ref$size;\n\t      var _ref$position = _ref.position;\n\t      var position = _ref$position === undefined ? 'bottom-left' : _ref$position;\n\t      var _ref$theme = _ref.theme;\n\t      var theme = _ref$theme === undefined ? 'red-white' : _ref$theme;\n\t      var _ref$showLauncherAfte = _ref.showLauncherAfter;\n\t      var showLauncherAfter = _ref$showLauncherAfte === undefined ? 10 : _ref$showLauncherAfte;\n\t      var _ref$showBadgeAfter = _ref.showBadgeAfter;\n\t      var showBadgeAfter = _ref$showBadgeAfter === undefined ? 300 : _ref$showBadgeAfter;\n\t      var _ref$messages = _ref.messages;\n\t      var messages = _ref$messages === undefined ? {\n\t        'unsubscribed': 'Subscribe to notifications',\n\t        'subscribed': \"You're subscribed to notifications\"\n\t      } : _ref$messages;\n\t      var _ref$prenotify = _ref.prenotify;\n\t      var prenotify = _ref$prenotify === undefined ? true : _ref$prenotify;\n\t\n\t      _classCallCheck(this, Bell);\n\t\n\t      this.options = {\n\t        size: size,\n\t        position: position,\n\t        theme: theme,\n\t        showLauncherAfter: showLauncherAfter,\n\t        showBadgeAfter: showBadgeAfter,\n\t        messages: messages,\n\t        prenotify: prenotify\n\t      };\n\t      this.size = this.options.size;\n\t      this.position = this.options.position;\n\t      this.messages = this.options.messages;\n\t      this.messages.queued = [];\n\t      if (!this.messages.unsubscribed) {\n\t        this.messages.unsubscribed = 'Subscribe to notifications';\n\t      }\n\t      if (!this.messages.subscribed) {\n\t        this.messages.subscribed = \"You're subscribed to notifications\";\n\t      }\n\t      this.states = {\n\t        uninitialized: 'The bell is loading.',\n\t        subscribed: 'The user is subscribed',\n\t        unsubscribed: 'The user is unsubscribed',\n\t        blocked: 'The user has blocked us.'\n\t      };\n\t      this.state = 'uninitialized';\n\t\n\t      // Install event hooks\n\t      window.addEventListener('onesignal.bell.state.changed', function (state) {\n\t        _loglevel2.default.info('onesignal.bell.state.changed', state.detail);\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.click', function () {\n\t        var originalCall = function originalCall() {\n\t          _loglevel2.default.debug('Bell was clicked.');\n\t          var currentSetSubscriptionState = _this._getCurrentSetSubscriptionState();\n\t          _this.hideMessage();\n\t          if (_this.state === 'unsubscribed') {\n\t\n\t            //&& currentSetSubscriptionState === true\n\t            OneSignal.registerForPushNotifications();\n\t          } else {\n\t            if (!_this.isDialogOpened()) {\n\t              _this.showDialog().then(function (e) {\n\t                var self = _this;\n\t                (0, _utils.once)(document, 'click', function (e, destroyEventListener) {\n\t                  var wasDialogClicked = self.launcherDialog.contains(e.target);\n\t                  if (wasDialogClicked) {} else {\n\t                    destroyEventListener();\n\t                    self.hideDialog().then(function (e) {\n\t                      if (_this.wasInactive) {\n\t                        _this.setInactive(true);\n\t                        _this.wasInactive = undefined;\n\t                      }\n\t                    }).catch(function (e) {\n\t                      _loglevel2.default.error(e);\n\t                    });\n\t                  }\n\t                }, true);\n\t              }).catch(function (e) {\n\t                _loglevel2.default.error(e);\n\t              });\n\t            }\n\t          }\n\t        };\n\t        if (_this.isInactive()) {\n\t          _this.wasInactive = true;\n\t          _this.setInactive(false).then(function () {\n\t            originalCall();\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        } else {\n\t          originalCall();\n\t        }\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.hovering', function () {\n\t        if (_this.isInactive()) {\n\t          _this.wasInactive = true;\n\t          _this.setInactive(false);\n\t        }\n\t        // If there's already a message being force shown, do not override\n\t        if (_this.isMessageOpened() || _this.isDialogOpened()) {\n\t          console.debug('There is already a message being displayed; wait until it is hidden again.');\n\t          return;\n\t        }\n\t        if (messages.queued.length > 0) {\n\t          var dequeuedMessage = _this.dequeueMessage();\n\t          _this.setMessage(dequeuedMessage);\n\t        } else {\n\t          _this.setMessage(_this.messages[_this.state]);\n\t        }\n\t        _this.showMessage();\n\t      });\n\t\n\t      window.addEventListener('onesignal.bell.hovered', function () {\n\t        if (_this.isMessageOpened()) {\n\t          _this.hideMessage().then(function () {\n\t            _this.setMessage(_this.messages[_this.state]);\n\t            if (_this.wasInactive && !_this.isDialogOpened()) {\n\t              _this.setInactive(true);\n\t              _this.wasInactive = undefined;\n\t            }\n\t          });\n\t        }\n\t      });\n\t\n\t      window.addEventListener('onesignal.subscription.changed', function (e) {\n\t        _this.setState(e.detail ? 'subscribed' : 'unsubscribed');\n\t      });\n\t\n\t      window.addEventListener('onesignal.actions.welcomenotificationsent', function (e) {\n\t        _this.displayMessage(\"Thanks for subscribing!\", 2500).then(function () {\n\t          _this.setInactive(true);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      });\n\t\n\t      this.updateState();\n\t    }\n\t\n\t    _createClass(Bell, [{\n\t      key: 'create',\n\t      value: function create() {\n\t        var _this2 = this;\n\t\n\t        if (!(0, _utils.isPushNotificationsSupported)()) return;\n\t\n\t        // Remove any existing bell\n\t        if (this.container) {\n\t          (0, _utils.removeDomElement)('onesignal-bell-container');\n\t        }\n\t\n\t        window.addDomElement = _utils.addDomElement;\n\t        // Insert the bell container\n\t        (0, _utils.addDomElement)('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n\t        // Insert the bell launcher\n\t        (0, _utils.addDomElement)(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n\t        // Insert the bell launcher button\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n\t        // Insert the bell launcher badge\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n\t        // Insert the bell launcher message\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n\t        (0, _utils.addDomElement)(this.launcherMessage, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n\t        // Insert the bell launcher dialog\n\t        (0, _utils.addDomElement)(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n\t        (0, _utils.addDomElement)(this.launcherDialog, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\t\n\t        // Install events\n\t        this.launcherButton.addEventListener('mouseover', function () {\n\t          var isHoveringData = _limitStore2.default.get('bell.launcherButton.mouse', 'over');\n\t          if (isHoveringData === undefined || isHoveringData[isHoveringData.length - 1] === 'out') {\n\t            (0, _events.triggerEvent)('onesignal.bell.hovering');\n\t          }\n\t          _limitStore2.default.put('bell.launcherButton.mouse', 'over');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mouseleave', function () {\n\t          _limitStore2.default.put('bell.launcherButton.mouse', 'out');\n\t          (0, _events.triggerEvent)('onesignal.bell.hovered');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mousedown', function () {\n\t          (0, _utils.removeDomElement)('.pulse-ring');\n\t          (0, _utils.addDomElement)(_this2.launcherButton, 'beforeend', '<div class=\"pulse-ring\"></div>');\n\t          (0, _utils.addCssClass)(_this2.launcherButton, 'onesignal-bell-launcher-button-active');\n\t          (0, _utils.addCssClass)(_this2.launcherBadge, 'onesignal-bell-launcher-badge-active');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('mouseup', function () {\n\t          (0, _utils.removeCssClass)(_this2.launcherButton, 'onesignal-bell-launcher-button-active');\n\t          (0, _utils.removeCssClass)(_this2.launcherBadge, 'onesignal-bell-launcher-badge-active');\n\t        });\n\t\n\t        this.launcherButton.addEventListener('click', function () {\n\t          (0, _events.triggerEvent)('onesignal.bell.button.click');\n\t          (0, _events.triggerEvent)('onesignal.bell.click');\n\t        });\n\t\n\t        // Add visual elements\n\t        (0, _utils.addDomElement)(this.launcherButton, 'beforeEnd', logoSvg);\n\t\n\t        // Add default classes\n\t        this.setSize(this.options.size);\n\t\n\t        if (this.options.position === 'bottom-left') {\n\t          (0, _utils.addCssClass)(this.container, 'onesignal-bell-container-bottom-left');\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-bottom-left');\n\t        } else if (this.options.position === 'bottom-right') {\n\t          (0, _utils.addCssClass)(this.container, 'onesignal-bell-container-bottom-right');\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-bottom-right');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell position ' + this.options.position);\n\t        }\n\t\n\t        if (this.options.theme === 'default') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-theme-default');\n\t        } else if (this.options.theme === 'inverse') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-theme-inverse');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell theme ' + this.options.theme);\n\t        }\n\t\n\t        OneSignal.isPushNotificationsEnabled(function (isPushEnabled) {\n\t          if (isPushEnabled) {\n\t            console.log('isPushEnabled', isPushEnabled);\n\t            var promise = _this2.setInactive(true);\n\t          } else {\n\t            var promise = Promise.resolve(); // Do nothing, returns a promise that executes immediately\n\t          }\n\t\n\t          promise.then(function () {\n\t            _this2._scheduleEvent(_this2.options.showLauncherAfter, function () {\n\t              _this2.showLauncher();\n\t            }).then(function () {\n\t              return _this2._scheduleEvent(_this2.options.showBadgeAfter, function () {\n\t                if (_this2.options.prenotify) {\n\t                  if (!isPushEnabled) {\n\t                    _this2.enqueueMessage('Click to subscribe to notifications');\n\t                    _this2.showBadge();\n\t                  }\n\t                }\n\t                _this2.initialized = true;\n\t              });\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: '_getCurrentSetSubscriptionState',\n\t      value: function _getCurrentSetSubscriptionState() {\n\t        var setSubscriptionState = _limitStore2.default.get('setsubscription.value');\n\t        var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n\t        return currentSetSubscription;\n\t      }\n\t    }, {\n\t      key: 'updateBellLauncherDialogBody',\n\t      value: function updateBellLauncherDialogBody() {\n\t        var _this3 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.clearDomElementChildren)(_this3.launcherDialogBody);\n\t\n\t          var currentSetSubscription = _this3._getCurrentSetSubscriptionState();\n\t          var contents = 'Nothing to show.';\n\t\n\t          if (_this3.state === 'subscribed' && currentSetSubscription === true || _this3.state === 'unsubscribed' && currentSetSubscription === false) {\n\t            contents = '\\n                  <h1>Manage Site Notifications</h1>\\n                  <div class=\"push-notification\">\\n                    <div class=\"push-notification-icon\"></div>\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    <button type=\"button\" id=\"action-button\">' + (_this3.state === 'subscribed' ? 'Unsubscribe' : 'Subscribe') + '</button>\\n                  </div>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by OneSignal</div>\\n                ';\n\t          } else if (_this3.state === 'blocked') {\n\t            contents = '\\n                  <h1>Receiving Notifications</h1>\\n                  <div class=\"blurb\">\\n                    <p>To receive notifications:</p>\\n                  </div>\\n                  <div class=\"push-notification\">\\n                    <div class=\"push-notification-icon\"></div>\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    <button type=\"button\" id=\"action-button\">' + (_this3.state === 'subscribed' ? 'Unsubscribe' : 'Subscribe') + '</button>\\n                  </div>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by OneSignal</div>\\n                ';\n\t          }\n\t\n\t          (0, _utils.addDomElement)(_this3.launcherDialogBody, 'beforeend', contents);\n\t          resolve();\n\t        });\n\t      }\n\t    }, {\n\t      key: '_scheduleEvent',\n\t      value: function _scheduleEvent(msInFuture, task) {\n\t        if (typeof task !== 'function') throw new Error('Task to be scheduled must be a function.');\n\t        if (msInFuture <= 0) {\n\t          task();\n\t          return Promise.resolve();\n\t        }\n\t        return new Promise(function (resolve, reject) {\n\t          setTimeout(function () {\n\t            task();\n\t            resolve();\n\t          }, msInFuture);\n\t        });\n\t      }\n\t\n\t      /**\n\t       * Updates the current state to the correct new current state. Returns a promise.\n\t       */\n\t\n\t    }, {\n\t      key: 'updateState',\n\t      value: function updateState() {\n\t        var _this4 = this;\n\t\n\t        debugger;\n\t        OneSignal.isPushNotificationsEnabled(function (isEnabled) {\n\t          console.info('Finally called this callback back.');\n\t          debugger;\n\t          _this4.setState(isEnabled ? 'subscribed' : 'unsubscribed');\n\t        });\n\t      }\n\t\n\t      /**\n\t       * Updates the current state to the specified new state.\n\t       * @param newState One of ['subscribed', 'unsubscribed'].\n\t       */\n\t\n\t    }, {\n\t      key: 'setState',\n\t      value: function setState(newState) {\n\t        if (this.states.hasOwnProperty(newState)) {\n\t          var lastState = this.state;\n\t          this.state = newState;\n\t          if (lastState !== newState) {\n\t            (0, _events.triggerEvent)('onesignal.bell.state.changed', { from: lastState, to: newState });\n\t            // Update anything that should be changed here in the new state\n\t          }\n\t\n\t          // Update anything that should be reset to the same state\n\t          this.setMessage(this.messages[newState]);\n\t        } else {\n\t          _loglevel2.default.error('Cannot update to invalid new state', newState);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'enqueueMessage',\n\t      value: function enqueueMessage(message) {\n\t        var _this5 = this;\n\t\n\t        var notify = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t        this.messages.queued.push(message);\n\t        if (this.isBadgeOpen()) {\n\t          this.hideBadge().then(function () {\n\t            _this5.incrementBadge();\n\t            _this5.showBadge();\n\t          });\n\t        } else {\n\t          this.incrementBadge();\n\t          // Special case so the badge doesn't immediately render\n\t          if (this.initialized) {\n\t            this.showBadge();\n\t          }\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dequeueMessage',\n\t      value: function dequeueMessage(message) {\n\t        var _this6 = this;\n\t\n\t        var dequeuedMessage = this.messages.queued.pop(message);\n\t        if (this.isBadgeOpen()) {\n\t          this.hideBadge().then(function () {\n\t            _this6.decrementBadge();\n\t            _this6.showBadge();\n\t          });\n\t        } else {\n\t          var newBadgeNumber = this.decrementBadge();\n\t          if (newBadgeNumber <= 0) {\n\t            this.hideBadge();\n\t          }\n\t        }\n\t        return dequeuedMessage;\n\t      }\n\t    }, {\n\t      key: 'showDialog',\n\t      value: function showDialog() {\n\t        var _this7 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          _this7.updateBellLauncherDialogBody().then(function () {\n\t            (0, _utils.addCssClass)(_this7.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n\t            (0, _utils.once)(_this7.launcherDialog, 'transitionend', function (e) {\n\t              if (e.target === _this7.launcherDialog) {\n\t                e.stopPropagation();\n\t                return resolve(e);\n\t              }\n\t            });\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'hideDialog',\n\t      value: function hideDialog() {\n\t        var _this8 = this;\n\t\n\t        (0, _utils.removeCssClass)(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.once)(_this8.launcherDialog, 'transitionend', function (e) {\n\t            if (e.target === _this8.launcherDialog) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isDialogOpened',\n\t      value: function isDialogOpened() {\n\t        return document.querySelector('.onesignal-bell-launcher-dialog-opened');\n\t      }\n\t    }, {\n\t      key: 'showLauncher',\n\t      value: function showLauncher() {\n\t        (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-active');\n\t      }\n\t    }, {\n\t      key: 'hideLauncher',\n\t      value: function hideLauncher() {\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-active');\n\t      }\n\t    }, {\n\t      key: 'setMessage',\n\t      value: function setMessage(message) {\n\t        this.launcherMessageBody.innerHTML = message;\n\t      }\n\t    }, {\n\t      key: 'showMessage',\n\t      value: function showMessage() {\n\t        (0, _utils.addCssClass)(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n\t      }\n\t    }, {\n\t      key: 'hideMessage',\n\t      value: function hideMessage() {\n\t        var _this9 = this;\n\t\n\t        (0, _utils.removeCssClass)(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.once)(_this9.launcherMessage, 'transitionend', function (e) {\n\t            if (e.target === _this9.launcherMessage) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isMessageOpened',\n\t      value: function isMessageOpened() {\n\t        return document.querySelector('.onesignal-bell-launcher-message-opened');\n\t      }\n\t    }, {\n\t      key: 'displayMessage',\n\t      value: function displayMessage(content) {\n\t        var _this10 = this;\n\t\n\t        var hideAfter = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t        _loglevel2.default.info('Displaying message.');\n\t        return new Promise(function (resolve, reject) {\n\t          if (_this10.isMessageOpened()) {\n\t            _this10.hideMessage().then(function () {\n\t              _this10.setMessage(content);\n\t              _this10.showMessage();\n\t              if (hideAfter) {\n\t                setTimeout(function () {\n\t                  _this10.hideMessage();\n\t                  return resolve();\n\t                }, hideAfter);\n\t              } else {\n\t                return resolve();\n\t              }\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            _this10.setMessage(content);\n\t            _this10.showMessage();\n\t            if (hideAfter) {\n\t              setTimeout(function () {\n\t                _this10.hideMessage();\n\t                return resolve();\n\t              }, hideAfter);\n\t            } else {\n\t              return resolve();\n\t            }\n\t          }\n\t        });\n\t      }\n\t    }, {\n\t      key: 'setBadge',\n\t      value: function setBadge(content) {\n\t        this.launcherBadge.innerHTML = content;\n\t      }\n\t    }, {\n\t      key: 'showBadge',\n\t      value: function showBadge() {\n\t        if (this.badgeHasContent()) {\n\t          (0, _utils.addCssClass)(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n\t        }\n\t      }\n\t    }, {\n\t      key: 'isBadgeOpen',\n\t      value: function isBadgeOpen() {\n\t        return document.querySelector('.onesignal-bell-badge-opened');\n\t      }\n\t    }, {\n\t      key: 'badgeHasContent',\n\t      value: function badgeHasContent() {\n\t        return this.launcherBadge.innerHTML.length > 0;\n\t      }\n\t    }, {\n\t      key: 'getBadgeContent',\n\t      value: function getBadgeContent() {\n\t        return this.launcherBadge.innerHTML;\n\t      }\n\t    }, {\n\t      key: 'incrementBadge',\n\t      value: function incrementBadge() {\n\t        var content = this.getBadgeContent();\n\t        // If it IS a number (is not not a number)\n\t        if (!isNaN(content)) {\n\t          var badgeNumber = +content; // Coerce to int\n\t          badgeNumber += 1;\n\t          this.setBadge(badgeNumber);\n\t          return badgeNumber;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'decrementBadge',\n\t      value: function decrementBadge() {\n\t        var content = this.getBadgeContent();\n\t        // If it IS a number (is not not a number)\n\t        if (!isNaN(content)) {\n\t          var badgeNumber = +content; // Coerce to int\n\t          badgeNumber -= 1;\n\t          if (badgeNumber > 0) this.setBadge(badgeNumber);else this.setBadge(\"\");\n\t          return badgeNumber;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'hideBadge',\n\t      value: function hideBadge() {\n\t        var _this11 = this;\n\t\n\t        return new Promise(function (resolve, reject) {\n\t          (0, _utils.removeCssClass)(_this11.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n\t          (0, _utils.once)(_this11.launcherBadge, 'transitionend', function (e) {\n\t            if (e.target === _this11.launcherBadge) {\n\t              e.stopPropagation();\n\t              return resolve(e);\n\t            }\n\t          });\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      }\n\t    }, {\n\t      key: 'isInactive',\n\t      value: function isInactive() {\n\t        return document.querySelector('.onesignal-bell-launcher-inactive');\n\t      }\n\t    }, {\n\t      key: 'setInactive',\n\t      value: function setInactive(isInactive) {\n\t        var _this12 = this;\n\t\n\t        if (isInactive) {\n\t          this.hideMessage();\n\t          if (this.badgeHasContent()) {\n\t            return this.hideBadge().then(function () {\n\t              (0, _utils.addCssClass)(_this12.launcher, 'onesignal-bell-launcher-inactive');\n\t              _this12.setSize('small');;\n\t              var launcher = _this12.launcher;\n\t              return new Promise(function (resolve, reject) {\n\t                // Once the launcher has finished shrinking down\n\t                (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                  if (e.target === _this12.launcher) {\n\t                    e.stopPropagation();\n\t                    return resolve(e);\n\t                  }\n\t                });\n\t              });\n\t            }).then(function () {\n\t              _this12.showBadge();\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-inactive');\n\t            this.setSize('small');\n\t            var launcher = this.launcher;\n\t            return new Promise(function (resolve, reject) {\n\t              // Once the launcher has finished shrinking down\n\t              (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                if (e.target === _this12.launcher) {\n\t                  e.stopPropagation();\n\t                  return resolve(e);\n\t                }\n\t              });\n\t            });\n\t          }\n\t        } else {\n\t          if (this.badgeHasContent()) {\n\t            return this.hideBadge().then(function () {\n\t              (0, _utils.removeCssClass)(_this12.launcher, 'onesignal-bell-launcher-inactive');\n\t              _this12.setSize(_this12.options.size);\n\t              var launcher = _this12.launcher;\n\t              return new Promise(function (resolve, reject) {\n\t                // Once the launcher has finished shrinking down\n\t                (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                  if (e.target === _this12.launcher) {\n\t                    e.stopPropagation();\n\t                    return resolve(e);\n\t                  }\n\t                });\n\t              });\n\t            }).then(function () {\n\t              _this12.showBadge();\n\t            }).catch(function (e) {\n\t              _loglevel2.default.error(e);\n\t            });\n\t          } else {\n\t            (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-inactive');\n\t            this.setSize(this.options.size);\n\t            var launcher = this.launcher;\n\t            return new Promise(function (resolve, reject) {\n\t              // Once the launcher has finished shrinking down\n\t              (0, _utils.once)(_this12.launcher, 'transitionend', function (e) {\n\t                if (e.target === _this12.launcher) {\n\t                  e.stopPropagation();\n\t                  return resolve(e);\n\t                }\n\t              });\n\t            });\n\t          }\n\t        }\n\t      }\n\t    }, {\n\t      key: 'setSize',\n\t      value: function setSize(size) {\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-sm');\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-md');\n\t        (0, _utils.removeCssClass)(this.launcher, 'onesignal-bell-launcher-lg');\n\t        if (size === 'small') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-sm');\n\t        } else if (size === 'medium') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-md');\n\t        } else if (size === 'large') {\n\t          (0, _utils.addCssClass)(this.launcher, 'onesignal-bell-launcher-lg');\n\t        } else {\n\t          throw new Error('Invalid OneSignal bell size ' + size);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'container',\n\t      get: function get() {\n\t        return document.querySelector('#onesignal-bell-container');\n\t      }\n\t    }, {\n\t      key: 'launcher',\n\t      get: function get() {\n\t        return this.container.querySelector('#onesignal-bell-launcher');\n\t      }\n\t    }, {\n\t      key: 'launcherButton',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-button');\n\t      }\n\t    }, {\n\t      key: 'launcherBadge',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-badge');\n\t      }\n\t    }, {\n\t      key: 'launcherMessage',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-message');\n\t      }\n\t    }, {\n\t      key: 'launcherMessageBody',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-message-body');\n\t      }\n\t    }, {\n\t      key: 'launcherDialog',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-dialog');\n\t      }\n\t    }, {\n\t      key: 'launcherDialogBody',\n\t      get: function get() {\n\t        return this.launcher.querySelector('.onesignal-bell-launcher-dialog-body');\n\t      }\n\t    }]);\n\t\n\t    return Bell;\n\t  })();\n\t\n\t  module.exports = Bell;\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(13);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(15)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(14)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:right bottom;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** OneSignalSDK.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c77f77540c9bc91b32ff\n **/","if (typeof OneSignal !== \"undefined\")\n  var predefinedOneSignalPushes = OneSignal;\n\nrequire(\"expose?OneSignal!./sdk.js\");\n\nif (predefinedOneSignalPushes)\n  OneSignal._process_pushes(predefinedOneSignalPushes);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entry.js\n **/","module.exports = global[\"OneSignal\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/sdk.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?OneSignal!./src/sdk.js\n ** module id = 1\n ** module chunks = 0\n **/","import { DEV_HOST, PROD_HOST, HOST_URL } from './vars.js';\nimport { sendNotification } from './api.js';\nimport log from 'loglevel';\nimport LimitStore from './limitStore.js';\nimport \"./events-polyfill.js\";\nimport { triggerEvent } from \"./events.js\";\nimport Bell from \"./bell.js\";\nimport { isBrowserEnv, isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari } from './utils.js';\n\nvar OneSignal = {\n  _VERSION: 109013,\n  _HOST_URL: HOST_URL,\n  _app_id: null,\n  _tagsToSendOnRegister: null,\n  _notificationOpened_callback: null,\n  _idsAvailable_callback: [],\n  _defaultLaunchURL: null,\n  _initOptions: null,\n  _httpRegistration: false,\n  _main_page_port: null,\n  _isNotificationEnabledCallback: null,\n  _subscriptionSet: true,\n  _initOneSignalHttp: null,\n  _sessionIframeAdded: false,\n  _useHttpMode: null,\n  _windowWidth: 550,\n  _windowHeight: 480,\n  _isNewVisitor: false,\n  _isInitialized: false,\n  bell: null,\n  LOGGING: true,\n  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n  SERVICE_WORKER_PARAM: {},\n\n  _ensureDbInstance: function () {\n    return new Promise(function (resolve, reject) {\n      if (OneSignal._oneSignal_db) {\n        resolve(OneSignal._oneSignal_db);\n      }\n      else {\n        var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n        request.onsuccess = function (event) {\n          var database = event.target.result;\n          OneSignal._oneSignal_db = database;\n          resolve(database);\n        };\n        request.onerror = function (event) {\n          log.error('Unable to open IndexedDB.', event);\n          reject(event);\n        };\n\n        request.onupgradeneeded = function (event) {\n          log.debug('Rebuilding schema in IndexedDB...');\n          var db = event.target.result;\n          db.createObjectStore(\"Ids\", {keyPath: \"type\"});\n          db.createObjectStore(\"NotificationOpened\", {keyPath: \"url\"});\n          db.createObjectStore(\"Options\", {keyPath: \"key\"});\n        };\n      }\n    });\n  },\n\n  _getDbValue: function (table, key) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          var request = database.transaction(table).objectStore(table).get(key);\n          request.onsuccess = function (event) {\n            if (request.result)\n              OneSignal._triggerEvent_dbValueRetrieved(request.result);\n            resolve(request.result);\n          };\n          request.onerror = function (event) {\n            reject(request.errorCode);\n          };\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    });\n  },\n\n  _getDbValues: function (table) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          var jsonResult = {};\n          var cursor = database.transaction(table).objectStore(table).openCursor();\n          cursor.onsuccess = function (event) {\n            var cursor = event.target.result;\n            if (cursor) {\n              OneSignal._triggerEvent_dbValueRetrieved(cursor);\n              jsonResult[cursor.key] = cursor.value.value;\n              cursor.continue();\n            }\n            else\n              resolve(jsonResult);\n          };\n          cursor.onerror = function (event) {\n            reject(cursor.errorCode);\n          };\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    });\n  },\n\n  _putDbValue: function (table, value) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          database.transaction([table], \"readwrite\").objectStore(table).put(value);\n          OneSignal._triggerEvent_dbValueSet(value);\n          resolve(value);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    });\n  },\n\n  _deleteDbValue: function (table, key) {\n    return new Promise(function (resolve, reject) {\n      OneSignal._ensureDbInstance()\n        .then(function (database) {\n          database.transaction([table], \"readwrite\").objectStore(table).delete(key);\n          resolve(key);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    });\n  },\n\n  _sendToOneSignalApi: function (url, action, inData, callback, failedCallback) {\n    log.debug(`Calling ${action} ${OneSignal._HOST_URL + url} with data:`, inData);\n    var contents = {\n      method: action,\n      //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n    };\n\n    if (inData) {\n      contents.headers = {\"Content-type\": \"application/json;charset=UTF-8\"};\n      contents.body = JSON.stringify(inData);\n    }\n\n    fetch(OneSignal._HOST_URL + url, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          return Promise.resolve(response);\n        else\n          return Promise.reject(new Error(response.statusText));\n      })\n      .then(function status(response) {\n        return response.json();\n      })\n      .then(function (jsonData) {\n        if (callback != null)\n          callback(jsonData);\n      })\n      .catch(function (e) {\n        log.error('OneSignal._sendToOneSignalApi() failed:', e);\n        if (failedCallback != null)\n          failedCallback();\n      });\n  },\n\n  _getLanguage: function () {\n    return navigator.language ? (navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language) : 'en';\n  },\n\n  _getPlayerId: function (value, callback) {\n    if (value)\n      callback(value)\n    else {\n      OneSignal._getDbValue('Ids', 'userId')\n        .then(function _getPlayerId_gotUserId(result) {\n          if (result)\n            callback(result.id);\n          else\n            callback(null);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  _getBrowserName: function () {\n    if (navigator.appVersion.match(/Chrome\\/(.*?) /))\n      return \"Chrome\";\n    if (navigator.appVersion.match(\"Version/(.*) (Safari)\"))\n      return \"Safari\";\n    if (navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))\n      return \"Firefox\";\n\n    return \"\";\n  },\n\n  _registerWithOneSignal: function (appId, registrationId, deviceType) {\n\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function _registerWithOneSignal_GotUserId(userIdResult) {\n        OneSignal._getNotificationTypes(function (notif_types) {\n          var requestUrl = 'players';\n\n          var jsonData = {\n            app_id: appId,\n            device_type: deviceType,\n            language: OneSignal._getLanguage(),\n            timezone: new Date().getTimezoneOffset() * -60,\n            device_model: navigator.platform + \" \" + OneSignal._getBrowserName(),\n            device_os: (navigator.appVersion.match(/Chrome\\/(.*?) /) || navigator.appVersion.match(\"Version/(.*) Safari\") || navigator.userAgent.match(/Firefox\\/([0-9]{2,}\\.[0-9]{1,})/))[1],\n            sdk: OneSignal._VERSION\n          };\n\n          if (userIdResult) {\n            requestUrl = 'players/' + userIdResult.id + '/on_session';\n            jsonData.notification_types = notif_types\n          }\n          else if (notif_types != 1)\n            jsonData.notification_types = notif_types\n\n          if (registrationId) {\n            jsonData.identifier = registrationId;\n            OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: registrationId});\n          }\n\n          OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData,\n            function registeredCallback(responseJSON) {\n              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\n              if (responseJSON.id) {\n                OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: responseJSON.id});\n                OneSignal._sendUnsentTags();\n              }\n\n              OneSignal._getPlayerId(responseJSON.id, function (userId) {\n                if (OneSignal._idsAvailable_callback.length > 0) {\n                  while (OneSignal._idsAvailable_callback.length > 0) {\n                    var curr_callback = OneSignal._idsAvailable_callback.pop();\n                    curr_callback({userId: userId, registrationId: registrationId});\n                  }\n                }\n\n                if (OneSignal._httpRegistration) {\n                  log.debug(\"Sending player Id and registrationId back to host page\");\n                  log.debug(OneSignal._initOptions);\n                  var creator = opener || parent;\n                  OneSignal._safePostMessage(creator, {\n                    idsAvailable: {\n                      userId: userId,\n                      registrationId: registrationId\n                    }\n                  }, OneSignal._initOptions.origin, null);\n\n                  if (opener)\n                    window.close();\n                }\n              });\n            }\n          );\n\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _sendUnsentTags: function () {\n    if (OneSignal._tagsToSendOnRegister) {\n      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n      OneSignal._tagsToSendOnRegister = null;\n    }\n  },\n\n  setDefaultNotificationUrl: function (url) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultUrl\", value: url});\n  },\n\n  setDefaultIcon: function (icon) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultIcon\", value: icon});\n  },\n\n  setDefaultTitle: function (title) {\n    OneSignal._putDbValue(\"Options\", {key: \"defaultTitle\", value: title});\n  },\n\n  _visibilitychange: function () {\n    if (document.visibilityState == \"visible\") {\n      document.removeEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n      OneSignal._sessionInit({});\n    }\n  },\n\n  onCustomPromptClicked: function (event) {\n    log.debug('Event onesignal.prompt.custom.clicked:', event.detail);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  onNativePromptChanged: function (event) {\n    log.debug('Event onesignal.prompt.native.permissionchanged:', event.detail);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _onSubscriptionChanged: function (event) {\n    log.debug('Event onesignal.subscription.changed:', event.detail);\n    if (OneSignal._isNewVisitor && event.detail === true) {\n      OneSignal._getDbValue('Ids', 'userId')\n        .then(function (result) {\n          let welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n          let welcome_notification_disabled = (welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true);\n          let title = (welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null) ? welcome_notification_opts['title'] : '';\n          let message = (welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0) ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n          if (!welcome_notification_disabled) {\n            log.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n            sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message})\n            triggerEvent('onesignal.actions.welcomenotificationsent', {title: title, message: message});\n            OneSignal._isNewVisitor = false;\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    LimitStore.put('subscription.value', event.detail);\n  },\n\n  _onDbValueRetrieved: function (event) {\n    log.debug('Event onesignal.db.retrieved:', event.detail);\n  },\n\n  _onDbValueSet: function (event) {\n    log.debug('Event onesignal.db.valueset:', event.detail);\n    var info = event.detail;\n    if (info.type === 'userId') {\n      LimitStore.put('db.ids.userId', info.id);\n      OneSignal._checkTrigger_eventSubscriptionChanged();\n    }\n  },\n\n  _onInternalSubscriptionSet: function (event) {\n    log.debug('Event onesignal.internal.subscriptionset:', event.detail);\n    var newSubscriptionValue = event.detail;\n    LimitStore.put('setsubscription.value', newSubscriptionValue);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _onSdkInitialized: function() {\n    if (isBrowserEnv()) {\n      log.info('Showing bell.');\n      OneSignal.bell = new Bell({\n        size: 'large',\n        position: 'bottom-right',\n        theme: 'default'\n      });\n      OneSignal.bell.create();\n    }\n\n    OneSignal._isInitialized = true;\n    log.trace('OneSignal SDK has been fully initialized.');\n  },\n\n  _checkTrigger_eventSubscriptionChanged: function () {\n    log.debug('Called _checkTrigger_eventSubscriptionChanged().');\n    var permissions = LimitStore.get('notification.permission');\n    var lastPermission = permissions[permissions.length - 2];\n    var currentPermission = permissions[permissions.length - 1];\n\n    var ids = LimitStore.get('db.ids.userId');\n    var lastId = ids[ids.length - 2];\n    var currentId = ids[ids.length - 1];\n\n    var subscriptionStates = LimitStore.get('setsubscription.value');\n    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\n\n    var newSubscriptionState = 'unchanged';\n\n    if (((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' &&\n        currentId !== null &&\n        currentSubscriptionState === true\n      ) ||\n      (\n        (lastSubscriptionState === false && currentSubscriptionState === true) &&\n        currentId != null &&\n        currentPermission === 'granted'\n      )) {\n      newSubscriptionState = true;\n    }\n\n    if ((lastPermission !== 'denied' && currentPermission === 'denied') ||\n      (lastPermission === 'granted' && currentPermission !== 'granted') ||\n      (lastId !== null && currentId === null) ||\n      (lastSubscriptionState !== false && currentSubscriptionState === false)) {\n      newSubscriptionState = false;\n    }\n\n    if (newSubscriptionState !== \"unchanged\") {\n      var lastTriggerTimes = LimitStore.put('event.subscriptionchanged.lastriggered', Date.now());\n      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\n      var lastEventStates = LimitStore.put('event.subscriptionchanged.laststates', newSubscriptionState);\n      var currentState = lastEventStates[lastEventStates.length - 1];\n      var lastState = lastEventStates[lastEventStates.length - 2];\n\n      // If event already triggered within the last second, don't re-trigger.\n      var shouldNotTriggerEvent = (lastTriggerTime != null && (elapsedTimeSeconds <= 1)) || (currentState === lastState);\n      if (shouldNotTriggerEvent === false) {\n        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)\n      }\n    }\n  },\n\n  isPushNotificationsSupported: function() {\n    return isPushNotificationsSupported();\n  },\n\n  init: function (options) {\n    if (OneSignal._isInitialized) {\n      log.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n      return;\n    }\n    OneSignal._initOptions = options;\n\n    if (OneSignal.LOGGING)\n      log.enableAll();\n    else\n      log.setDefaultLevel('error');\n\n    log.info(`OneSignal Web SDK loaded (version ${OneSignal._VERSION}).`);\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    if (navigator.permissions && !(isBrowserFirefox() && getFirefoxVersion() <= 45)) {\n      OneSignal._usingNativePermissionHook = true;\n      var currentNotificationPermission = OneSignal._getNotificationPermission();\n      LimitStore.put('notification.permission', currentNotificationPermission);\n      // If the browser natively supports hooking the subscription prompt permission change event\n      //     use it instead of our SDK method\n      navigator.permissions.query({name: 'notifications'}).then(function (permissionStatus) {\n        permissionStatus.onchange = function () {\n          var recentPermissions = LimitStore.get('notification.permission');\n          var permissionBeforePrompt = recentPermissions[0];\n          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n        };\n      })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    else {\n      var currentNotificationPermission = OneSignal._getNotificationPermission();\n      LimitStore.put('notification.permission', currentNotificationPermission);\n    }\n\n    // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function (result) {\n        if (result === undefined) {\n          OneSignal._isNewVisitor = true;\n        }\n        var storeValue = result ? result.id : null;\n        LimitStore.put('db.ids.userId', storeValue);\n      });\n\n    // Store the current value of subscription, so that we can see if the value changes in the future\n    OneSignal._getSubscription(function (currentSubscription) {\n      LimitStore.put('setsubscription.value', currentSubscription);\n    });\n\n\n    window.addEventListener('onesignal.prompt.custom.clicked', OneSignal.onCustomPromptClicked);\n    window.addEventListener('onesignal.prompt.native.permissionchanged', OneSignal.onNativePromptChanged);\n    window.addEventListener('onesignal.subscription.changed', OneSignal._onSubscriptionChanged);\n    window.addEventListener('onesignal.db.valueretrieved', OneSignal._onDbValueRetrieved);\n    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n    window.addEventListener('onesignal.db.valueset', OneSignal._onDbValueSet);\n    window.addEventListener('onesignal.internal.subscriptionset', OneSignal._onInternalSubscriptionSet);\n    window.addEventListener('onesignal.sdk.initialized', OneSignal._onSdkInitialized);\n\n    OneSignal._useHttpMode = !isSupportedSafari() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\n    if (OneSignal._useHttpMode)\n      OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';\n    else\n      OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\n    if (__DEV__)\n      OneSignal._initOneSignalHttp = DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\n    // If Safari - add 'fetch' pollyfill if it isn't already added.\n    if (isSupportedSafari() && typeof window.fetch == \"undefined\") {\n      var s = document.createElement('script');\n      s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n      document.head.appendChild(s);\n    }\n\n    if (document.readyState === \"complete\")\n      OneSignal._internalInit();\n    else\n      window.addEventListener('load', OneSignal._internalInit);\n  },\n\n  _internalInit: function () {\n    log.trace('Called _internalInit()');\n    Promise.all([OneSignal._getDbValue('Ids', 'appId'),\n      OneSignal._getDbValue('Ids', 'registrationId'),\n      OneSignal._getDbValue('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var appIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        // If AppId changed delete playerId and continue.\n        if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n          OneSignal._deleteDbValue(\"Ids\", \"userId\");\n          sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n        }\n\n        // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n        if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")\n          && !OneSignal._initOptions.subdomainName\n          && (Notification.permission == \"denied\"\n          || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission))\n          return;\n\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        if (OneSignal._initOptions.autoRegister == false && !registrationIdResult && OneSignal._initOptions.subdomainName == null)\n          return;\n\n        if (document.visibilityState != \"visible\") {\n          document.addEventListener(\"visibilitychange\", OneSignal._visibilitychange);\n          return;\n        }\n\n        OneSignal._sessionInit({});\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  registerForPushNotifications: function (options) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n    if (!options)\n      options = {};\n    options.fromRegisterFor = true;\n    OneSignal._sessionInit(options);\n  },\n\n  // Http only - Only called from iframe's init.js\n  _initHttp: function (options) {\n    OneSignal._initOptions = options;\n\n    if (options.continuePressed) {\n      OneSignal.setSubscription(true);\n    }\n\n    var isIframe = (parent != null && parent != window);\n    var creator = opener || parent;\n\n    if (!creator) {\n      log.debug(\"ERROR:_initHttp: No opener or parent found!\");\n      return;\n    }\n    // Setting up message channel to receive message from host page.\n    var messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function (event) {\n      log.debug(\"_initHttp.messageChannel.port1.onmessage\", event);\n\n      if (event.data.initOptions) {\n        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n        if (event.data.initOptions.defaultIcon)\n          OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\n        log.debug(\"document.URL\", event.data.initOptions.parent_url);\n        OneSignal._getDbValue(\"NotificationOpened\", event.data.initOptions.parent_url)\n          .then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n            log.debug(\"_initHttp NotificationOpened db\", notificationOpenedResult);\n            if (notificationOpenedResult) {\n              OneSignal._deleteDbValue(\"NotificationOpened\", event.data.initOptions.parent_url);\n              log.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\n              debugger;\n              OneSignal._safePostMessage(creator, {openedNotification: notificationOpenedResult.data}, OneSignal._initOptions.origin, null);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n        ;\n      }\n      else if (event.data.getNotificationPermission) {\n        debugger;\n        log.warn(\"I FINALLY GOT HERE OMGGGGG\");\n        OneSignal._getSubdomainState(function (curState) {\n          debugger;\n          OneSignal._safePostMessage(creator, {currentNotificationPermission: curState}, OneSignal._initOptions.origin, null);\n        });\n      }\n      else if (event.data.setSubdomainState)\n        OneSignal.setSubscription(event.data.setSubdomainState.setSubscription);\n    };\n\n    OneSignal._getSubdomainState(function (curState) {\n      curState[\"isIframe\"] = isIframe;\n      OneSignal._safePostMessage(creator, {oneSignalInitPageReady: curState}, OneSignal._initOptions.origin, [messageChannel.port2]);\n    });\n\n    OneSignal._initSaveState();\n    OneSignal._httpRegistration = true;\n    if (location.search.indexOf(\"?session=true\") == 0)\n      return;\n\n    OneSignal._getPlayerId(null, function (player_id) {\n      if (!isIframe || player_id) {\n        log.debug(\"Before navigator.serviceWorker.register\");\n        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n        log.debug(\"After navigator.serviceWorker.register\");\n      }\n    });\n  },\n\n  _getSubdomainState: function (callback) {\n    var state = {};\n\n    Promise.all([OneSignal._getDbValue('Ids', 'userId'),\n      OneSignal._getDbValue('Ids', 'registrationId'),\n      OneSignal._getDbValue('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var userIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        callback({\n          userId: userIdResult ? userIdResult.id : null,\n          registrationId: registrationIdResult ? registrationIdResult.id : null,\n          notifPermssion: Notification.permission,\n          subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n          isPushEnabled: ( Notification.permission == \"granted\"\n          && userIdResult\n          && registrationIdResult\n          && ((subscriptionResult && subscriptionResult.value) || subscriptionResult == null))\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _initSaveState: function () {\n    OneSignal._app_id = OneSignal._initOptions.appId;\n    OneSignal._putDbValue(\"Ids\", {type: \"appId\", id: OneSignal._app_id});\n    OneSignal._putDbValue(\"Options\", {key: \"pageTitle\", value: document.title});\n  },\n\n  _supportsDirectPermission: function () {\n    return isSupportedSafari()\n      || location.protocol == 'https:'\n      || location.host.indexOf(\"localhost\") == 0\n      || location.host.indexOf(\"127.0.0.1\") == 0;\n  },\n\n\n  _sessionInit: function (options) {\n    log.trace(\"Called OneSignal._sessionInit():\", options);\n    OneSignal._initSaveState();\n\n    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\n    // If HTTP or using subdomain mode\n    if (OneSignal._useHttpMode) {\n      if (options.fromRegisterFor) {\n        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\n        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n        var childWidth = OneSignal._windowWidth;\n        var childHeight = OneSignal._windowHeight;\n\n        var left = ((thisWidth / 2) - (childWidth / 2)) + dualScreenLeft;\n        var top = ((thisHeight / 2) - (childHeight / 2)) + dualScreenTop;\n\n        log.debug('Opening popup window.');\n        var message_localization_opts = OneSignal._initOptions['promptOptions'];\n        var message_localization_opts_str = '';\n        if (message_localization_opts) {\n          var message_localization_params = ['actionMessage',\n            'exampleNotificationTitleDesktop',\n            'exampleNotificationMessageDesktop',\n            'exampleNotificationTitleMobile',\n            'exampleNotificationMessageMobile',\n            'exampleNotificationCaption',\n            'acceptButtonText',\n            'cancelButtonText'];\n          for (var i = 0; i < message_localization_params.length; i++) {\n            var key = message_localization_params[i];\n            var value = message_localization_opts[key];\n            var encoded_value = encodeURIComponent(value);\n            if (value || value === '') {\n              message_localization_opts_str += '&' + key + '=' + encoded_value;\n            }\n          }\n        }\n        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\n        if (childWindow)\n          childWindow.focus();\n      }\n      else {\n        log.debug('Opening iFrame.');\n        OneSignal._addSessionIframe(hostPageProtocol);\n      }\n\n    }\n    else {\n      if (isSupportedSafari()) {\n        if (OneSignal._initOptions.safari_web_id) {\n          var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n          window.safari.pushNotification.requestPermission(\n            OneSignal._HOST_URL + 'safari',\n            OneSignal._initOptions.safari_web_id,\n            {app_id: OneSignal._app_id},\n            function (data) {\n              log.debug(data);\n              var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n              if (data.deviceToken) {\n                OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n              }\n              else {\n                sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n              }\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          );\n        }\n      }\n      else if (options.modalPrompt && options.fromRegisterFor) { // If HTTPS - Show modal\n        if (!isPushNotificationsSupported()) {\n          log.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n          return;\n        }\n        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n          var element = document.createElement('div');\n          element.setAttribute('id', 'OneSignal-iframe-modal');\n          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9000; display: block\"></div>';\n          document.body.appendChild(element);\n\n          var iframeStyle = document.createElement('style');\n          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\"\n            + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\n          var iframeNode = document.createElement(\"iframe\");\n          iframeNode.className = \"OneSignal-permission-iframe\"\n          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n          iframeNode.src = OneSignal._initOneSignalHttp\n            + '?id=' + OneSignal._app_id\n            + '&httpsPrompt=true'\n            + '&pushEnabled=' + pushEnabled\n            + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\")\n            + '&hostPageProtocol=' + hostPageProtocol;\n          iframeNode.setAttribute('frameborder', '0');\n          iframeNode.width = OneSignal._windowWidth.toString();\n          iframeNode.height = OneSignal._windowHeight.toString();\n\n          log.debug('Opening HTTPS modal prompt.');\n          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n        });\n      }\n      else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n        OneSignal._registerForW3CPush(options);\n      else\n        log.debug('Service workers are not supported in this browser.');\n\n      triggerEvent('onesignal.sdk.initialized');\n    }\n  },\n\n  _registerForW3CPush: function (options) {\n\n    OneSignal._getDbValue('Ids', 'registrationId')\n      .then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n        if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n          navigator.serviceWorker.getRegistration().then(function (event) {\n            var sw_path = \"\";\n\n            if (OneSignal._initOptions.path)\n              sw_path = OneSignal._initOptions.path;\n\n            if (typeof event === \"undefined\") // Nothing registered, very first run\n              navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n            else {\n              if (event.active) {\n                if (event.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\n                  OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION) {\n                          event.unregister().then(function () {\n                            navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n                          })\n                            .catch(function (e) {\n                              log.error(e);\n                            });\n                          ;\n                        }\n                        else\n                          navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n                      }\n                      else\n                        navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                  ;\n                }\n                else if (event.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\n                  OneSignal._getDbValue('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION) {\n                          event.unregister().then(function () {\n                            navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n                          });\n                        }\n                        else\n                          navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n                      }\n                      else\n                        navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                  ;\n                }\n              }\n              else if (event.installing == null)\n                navigator.serviceWorker.register(sw_path + OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n            }\n          })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _addSessionIframe: function (hostPageProtocol) {\n\n    var node = document.createElement(\"iframe\");\n    node.style.display = \"none\";\n    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\"))\n      node.src += \"?session=true\"\n        + \"&hostPageProtocol=\" + hostPageProtocol;\n    else\n      node.src += \"?hostPageProtocol=\" + hostPageProtocol\n    document.body.appendChild(node);\n    log.trace('Adding session iFrame.');\n\n    OneSignal._sessionIframeAdded = true;\n  },\n\n  _registerError: function (err) {\n    log.error(\"ServiceWorker registration\", err);\n  },\n\n  _enableNotifications: function (existingServiceWorkerRegistration) { // is ServiceWorkerRegistration type\n    if (existingServiceWorkerRegistration)\n      log.debug('There is an older ServiceWorker:', existingServiceWorkerRegistration);\n    if (!('PushManager' in window)) {\n      log.debug(\"Push messaging is not supported. No PushManager.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n      log.debug(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (Notification.permission === 'denied') {\n      log.warn(\"The user has disabled notifications.\");\n      return;\n    }\n\n    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n      log.info('Service worker active:', serviceWorkerRegistration);\n\n      OneSignal._subscribeForPush(serviceWorkerRegistration);\n    })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  /*\n   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n   */\n  _getNotificationPermission: function (safariWebId) {\n    if (window.safari) {\n      // The user is on Safari\n      // A web ID is required to determine the current notificiation permission\n      if (safariWebId) {\n        return window.safari.pushNotification.permission(safariWebId).permission;\n      }\n      else {\n        // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n        return \"default\";\n      }\n    }\n    else {\n      // Identical API on Firefox and Chrome\n      return Notification.permission;\n    }\n  },\n\n  _triggerEvent_customPromptClicked: function (clickResult) {\n    var recentPermissions = LimitStore.put('notification.permission', clickResult);\n    triggerEvent('onesignal.prompt.custom.clicked', {\n      result: clickResult\n    });\n  },\n\n  _triggerEvent_nativePromptPermissionChanged: function (from, to) {\n    if (to === undefined) {\n      to = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n    }\n    if (from !== to) {\n      var recentPermissions = LimitStore.put('notification.permission', to);\n      triggerEvent('onesignal.prompt.native.permissionchanged', {\n        from: from,\n        to: to\n      });\n    }\n  },\n\n  _triggerEvent_subscriptionChanged: function (to) {\n    triggerEvent('onesignal.subscription.changed', to);\n  },\n\n  _triggerEvent_dbValueRetrieved: function (value) {\n    triggerEvent('onesignal.db.valueretrieved', value);\n  },\n\n  _triggerEvent_dbValueSet: function (value) {\n    triggerEvent('onesignal.db.valueset', value);\n  },\n\n  _triggerEvent_internalSubscriptionSet: function (value) {\n    triggerEvent('onesignal.internal.subscriptionset', value);\n  },\n\n  _subscribeForPush: function (serviceWorkerRegistration) {\n    var notificationPermissionBeforeRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n    serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly: true})\n      .then(function (subscription) {\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        OneSignal._getDbValue('Ids', 'appId')\n          .then(function _subscribeForPush_GotAppId(appIdResult) {\n            var appId = appIdResult.id;\n            log.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\n            var registrationId = null;\n            if (subscription) {\n              if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n                registrationId = subscription.subscriptionId;\n              else  // Chrome 44+ and FireFox\n                registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n            }\n            else\n              log.warn('Could not subscribe your browser for push notifications.');\n\n            OneSignal._registerWithOneSignal(appId, registrationId, isSupportedFireFox() ? 8 : 5);\n\n            if (!OneSignal._usingNativePermissionHook) {\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n      })\n      .catch(function (e) {\n        log.error('Error while subscribing for push:', e);\n\n        if (!OneSignal._usingNativePermissionHook)\n          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\n        if (e.code == 20 && opener && OneSignal._httpRegistration)\n          window.close();\n      });\n  },\n\n  sendTag: function (key, value) {\n    var jsonKeyValue = {};\n    jsonKeyValue[key] = value;\n    OneSignal.sendTags(jsonKeyValue);\n  },\n\n  sendTags: function (jsonPair) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function sendTags_GotUserId(userIdResult) {\n        if (userIdResult)\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n            app_id: OneSignal._app_id,\n            tags: jsonPair\n          });\n        else {\n          if (OneSignal._tagsToSendOnRegister == null)\n            OneSignal._tagsToSendOnRegister = jsonPair;\n          else {\n            var resultObj = {};\n            for (var _obj in OneSignal._tagsToSendOnRegister) resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n            for (var _obj in jsonPair) resultObj[_obj] = jsonPair[_obj];\n            OneSignal._tagsToSendOnRegister = resultObj;\n          }\n        }\n      })\n      .catch(function (e) {\n        log.error('sendTags:', e);\n      });\n  },\n\n  deleteTag: function (key) {\n    OneSignal.deleteTags([key]);\n  },\n\n  deleteTags: function (keyArray) {\n    var jsonPair = {};\n    var length = keyArray.length;\n    for (var i = 0; i < length; i++)\n      jsonPair[keyArray[i]] = \"\";\n\n    OneSignal.sendTags(jsonPair);\n  },\n\n  _handleNotificationOpened: function (event) {\n    var notificationData = JSON.parse(event.notification.tag);\n    event.notification.close();\n\n    Promise.all([OneSignal._getDbValue('Ids', 'appId'), OneSignal._getDbValue('Ids', 'userId')])\n      .then(function _handleNotificationOpened_GotAppUserIds(results) {\n        var appIdResult = results[0];\n        var userIdResult = results[1];\n        if (appIdResult && userIdResult) {\n          OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n            app_id: appIdResult.id,\n            player_id: userIdResult.id,\n            opened: true\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n\n    event.waitUntil(\n      clients.matchAll({type: \"window\"})\n        .then(function (clientList) {\n          var launchURL = registration.scope;\n          if (OneSignal._defaultLaunchURL)\n            launchURL = OneSignal._defaultLaunchURL;\n          if (notificationData.launchURL)\n            launchURL = notificationData.launchURL;\n\n          for (var i = 0; i < clientList.length; i++) {\n            var client = clientList[i];\n            if ('focus' in client && client.url == launchURL) {\n              client.focus();\n\n              // targetOrigin not valid here as the service worker owns the page.\n              client.postMessage(notificationData);\n              return;\n            }\n          }\n\n          if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n            OneSignal._putDbValue(\"NotificationOpened\", {url: launchURL, data: notificationData});\n            clients.openWindow(launchURL).catch(function (error) {\n              // Should only fall into here if going to an external URL on Chrome older than 43.\n              clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n            });\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        })\n    );\n  },\n\n  _getTitle: function (incomingTitle, callback) {\n    if (incomingTitle != null) {\n      callback(incomingTitle);\n      return;\n    }\n\n    Promise.all([OneSignal._getDbValue('Options', 'defaultTitle'), OneSignal._getDbValue('Options', 'pageTitle')])\n      .then(function _getTitle_GotDefaultPageTitles(results) {\n        var defaultTitleResult = results[0];\n        var pageTitleResult = results[1];\n\n        if (defaultTitleResult) {\n          callback(defaultTitleResult.value);\n          return;\n        }\n        else if (pageTitleResult && pageTitleResult.value != null) {\n          callback(pageTitleResult.value);\n          return;\n        }\n        else {\n          callback('');\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  // Displays notification from content received from OneSignal.\n  // This method is only called by ServiceWorker\n  _handleGCMMessage: function (serviceWorker, event) {\n    // TODO: Read data from the GCM payload when Chrome no longer requires the below command line parameter.\n    // --enable-push-message-payload\n    // The command line param is required even on Chrome 43 nightly build 2015/03/17.\n    if (event.data && event.data.text()[0] == \"{\") {\n      log.debug('Received data.text: ', event.data.text());\n      log.debug('Received data.json: ', event.data.json());\n    }\n\n    event.waitUntil(new Promise(\n      function (resolve, reject) {\n        OneSignal._getTitle(null, function (title) {\n          OneSignal._getDbValue('Options', 'defaultIcon')\n            .then(function _handleGCMMessage_GotDefaultIcon(defaultIconResult) {\n              OneSignal._getLastNotifications(function (response, appId) {\n                var notificationData = {\n                  id: response.custom.i,\n                  message: response.alert,\n                  additionalData: response.custom.a\n                };\n\n                if (response.title)\n                  notificationData.title = response.title;\n                else\n                  notificationData.title = title;\n\n                if (response.custom.u)\n                  notificationData.launchURL = response.custom.u;\n\n                if (response.icon)\n                  notificationData.icon = response.icon;\n                else if (defaultIconResult)\n                  notificationData.icon = defaultIconResult.value;\n\n                // Never nest the following line in a callback from the point of entering from _getLastNotifications\n                serviceWorker.registration.showNotification(notificationData.title, {\n                  body: response.alert,\n                  icon: notificationData.icon,\n                  tag: JSON.stringify(notificationData)\n                }).then(resolve)\n                  .catch(function (e) {\n                    log.error(e);\n                  });\n\n                OneSignal._getDbValue('Options', 'defaultUrl')\n                  .then(function (defaultUrlResult) {\n                    if (defaultUrlResult)\n                      OneSignal._defaultLaunchURL = defaultUrlResult.value;\n                  })\n                  .catch(function (e) {\n                    log.error(e);\n                  });\n                ;\n              }, resolve);\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        });\n      }))\n  },\n\n  _getLastNotifications: function (itemCallback, completeCallback) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function _getLastNotifications_GotUserId(userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\", null, function (response) {\n            for (var i = 0; i < response.length; i++)\n              itemCallback(JSON.parse(response[i]));\n          }, function () {\n            completeCallback();\n          });  // Failed callback\n        }\n        else {\n          log.debug(\"Error: could not get notificationId\");\n          completeCallback();\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n  _listener_receiveMessage: function receiveMessage(event) {\n    log.debug(\"_listener_receiveMessage: \", event);\n\n    if (OneSignal._initOptions == undefined)\n      return;\n\n    if (!__DEV__ && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\")\n      return;\n\n    if (event.data.oneSignalInitPageReady) { // Only called on HTTP pages.\n      var eventData = event.data.oneSignalInitPageReady;\n\n      if (eventData.isIframe) {\n        OneSignal._iframePort = event.ports[0];\n      }\n\n      if (eventData.userId)\n        OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: eventData.userId});\n      if (eventData.registrationId)\n        OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: eventData.registrationId});\n\n      debugger;\n      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n      OneSignal._sendUnsentTags();\n\n      OneSignal._getDbValues(\"Options\")\n        .then(function _listener_receiveMessage(options) {\n          log.debug(\"current options\", options);\n          if (!options.defaultUrl)\n            options.defaultUrl = document.URL;\n          if (!options.defaultTitle)\n            options.defaultTitle = document.title;\n\n          options.parent_url = document.URL;\n          log.debug(\"Posting message to port[0]\", event.ports[0]);\n          event.ports[0].postMessage({initOptions: options});\n\n          // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n          triggerEvent('onesignal.sdk.initialized');\n        })\n        .catch(function (e) {\n          log.error('_listener_receiveMessage:', e);\n        });\n    }\n    else if (event.data.currentNotificationPermission) // Subdomain Only\n      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n    else if (event.data.idsAvailable) { // Only called on HTTP pages.\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      OneSignal._putDbValue(\"Ids\", {type: \"userId\", id: event.data.idsAvailable.userId});\n      OneSignal._putDbValue(\"Ids\", {type: \"registrationId\", id: event.data.idsAvailable.registrationId});\n\n      if (OneSignal._idsAvailable_callback.length > 0) {\n        while (OneSignal._idsAvailable_callback.length > 0) {\n          var curr_callback = OneSignal._idsAvailable_callback.pop()\n          curr_callback({\n            userId: event.data.idsAvailable.userId,\n            registrationId: event.data.idsAvailable.registrationId\n          });\n        }\n      }\n      OneSignal._sendUnsentTags();\n    }\n    else if (event.data.httpsPromptAccepted) { // HTTPS Only\n      OneSignal.registerForPushNotifications();\n      OneSignal.setSubscription(true);\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpsPromptCanceled) { // HTTPS Only\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpPromptAccepted) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpPromptCanceled) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (OneSignal._notificationOpened_callback) // HTTP and HTTPS\n      OneSignal._notificationOpened_callback(event.data);\n  },\n\n  addListenerForNotificationOpened: function (callback) {\n    OneSignal._notificationOpened_callback = callback;\n    if (window) {\n      OneSignal._getDbValue(\"NotificationOpened\", document.URL)\n        .then(function (notificationOpenedResult) {\n          if (notificationOpenedResult) {\n            OneSignal._deleteDbValue(\"NotificationOpened\", document.URL);\n            OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  // Subdomain - Fired from message received from iframe.\n  _fireNotificationEnabledCallback: function (notifPermssion) {\n    if (OneSignal._isNotificationEnabledCallback) {\n      OneSignal._isNotificationEnabledCallback(notifPermssion);\n      OneSignal._isNotificationEnabledCallback = null;\n    }\n  },\n\n  getIdsAvailable: function (callback) {\n    if (callback === undefined)\n      return;\n\n    OneSignal._idsAvailable_callback.push(callback);\n\n    Promise.all([OneSignal._getDbValue('Ids', 'userId'), OneSignal._getDbValue('Ids', 'registrationId')])\n      .then(function getIdsAvailable_GotUserRegistrationIds(results) {\n        var userIdResult = results[0];\n        var registrationIdResult = results[1];\n\n        if (userIdResult) {\n          if (registrationIdResult) {\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({\n                userId: userIdResult.id,\n                registrationId: registrationIdResult.id\n              });\n            }\n          }\n          else\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({userId: userIdResult.id, registrationId: null});\n            }\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  getTags: function (callback) {\n    OneSignal._getDbValue('Ids', 'userId')\n      .then(function (userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n            callback(response.tags);\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  isPushNotificationsEnabled: function (callback) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    // If Subdomain\n    if (OneSignal._initOptions.subdomainName && !isBrowserSafari()) {\n      OneSignal._isNotificationEnabledCallback = callback;\n      if (OneSignal._iframePort) {\n        debugger;\n        OneSignal._iframePort.postMessage({getNotificationPermission: true});\n      }\n      return;\n    }\n\n    // If HTTPS\n\n    Promise.all([OneSignal._getDbValue('Ids', 'registrationId'), OneSignal._getDbValue('Options', 'subscription')])\n      .then(function (results) {\n        var registrationIdResult = results[0];\n        var subscriptionResult = results[1];\n\n        if (registrationIdResult) {\n          if (subscriptionResult && !subscriptionResult.value)\n            return callback(false);\n\n          callback(Notification.permission == \"granted\");\n        }\n        else\n          callback(false);\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  _getNotificationTypes: function (callback) {\n    OneSignal._getSubscription(function (db_subscriptionSet) {\n      callback(db_subscriptionSet ? 1 : -2);\n    });\n  },\n\n  setSubscription: function (newSubscription) {\n    if (OneSignal._iframePort)\n      OneSignal._iframePort.postMessage({setSubdomainState: {setSubscription: newSubscription}});\n    else {\n      OneSignal._getSubscription(function (currentSubscription) {\n        if (currentSubscription != newSubscription) {\n          OneSignal._putDbValue(\"Options\", {key: \"subscription\", value: newSubscription});\n          OneSignal._getDbValue('Ids', 'userId')\n            .then(function (userIdResult) {\n              if (userIdResult)\n                OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n                  app_id: OneSignal._app_id,\n                  notification_types: newSubscription ? 1 : -2\n                }, function setSubscriptionSetCallback() {\n                  OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n                });\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      });\n    }\n  },\n\n  _getSubscription: function (callback) {\n    OneSignal._getDbValue('Options', 'subscription')\n      .then(function (subscriptionResult) {\n        callback(!(subscriptionResult && subscriptionResult.value == false));\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _safePostMessage: function (creator, data, targetOrigin, receiver) {\n    var tOrigin = targetOrigin.toLowerCase();\n\n    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n    if (tOrigin.startsWith(\"http://\")) {\n      var queryDict = {};\n      location.search.substr(1).split(\"&\").forEach(function (item) {\n        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]\n      });\n      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n    }\n\n    if (receiver)\n      creator.postMessage(data, tOrigin, receiver);\n    else\n      creator.postMessage(data, tOrigin);\n  },\n\n  _process_pushes: function (array) {\n    for (var i = 0; i < array.length; i++)\n      OneSignal.push(array[i]);\n  },\n\n  push: function (item) {\n    if (typeof(item) == \"function\")\n      item();\n    else {\n      var functionName = item.shift();\n      OneSignal[functionName].apply(null, item);\n    }\n  }\n};\n\n// If imported on your page.\nif (typeof window !== \"undefined\")\n  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\nelse { // if imported from the service worker.\n  importScripts('https://cdn.onesignal.com/sdks/serviceworker-cache-polyfill.js');\n\n  self.addEventListener('push', function (event) {\n    OneSignal._handleGCMMessage(self, event); // Can handle messages from any browser (except Safari), rename method\n  });\n  self.addEventListener('notificationclick', function (event) {\n    // Also only by SW\n    OneSignal._handleNotificationOpened(event);\n  });\n\n  var isSWonSubdomain = location.href.match(/https\\:\\/\\/.*\\.onesignal.com\\/sdks\\//) != null;\n  if (__DEV__)\n    isSWonSubdomain = true;\n\n  self.addEventListener('install', function (event) {\n    log.debug(\"OneSignal Installed service worker: \" + OneSignal._VERSION);\n    if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1)\n      OneSignal._putDbValue(\"Ids\", {type: \"WORKER1_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION});\n    else\n      OneSignal._putDbValue(\"Ids\", {type: \"WORKER2_ONE_SIGNAL_SW_VERSION\", id: OneSignal._VERSION});\n\n    if (isSWonSubdomain) {\n      event.waitUntil(\n        caches.open(\"OneSignal_\" + OneSignal._VERSION).then(function (cache) {\n          return cache.addAll([\n            '/sdks/initOneSignalHttpIframe',\n            '/sdks/initOneSignalHttpIframe?session=*',\n            '/sdks/manifest_json']);\n        })\n          .catch(function (e) {\n            log.error(e);\n          })\n      );\n    }\n  });\n\n  if (isSWonSubdomain) {\n    self.addEventListener('fetch', function (event) {\n      event.respondWith(\n        caches.match(event.request)\n          .then(function (response) {\n            // Cache hit - return response\n            if (response)\n              return response;\n\n            return fetch(event.request);\n          }\n        )\n          .catch(function (e) {\n            log.error(e);\n          })\n      );\n    });\n  }\n}\n\nmodule.exports = OneSignal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/sdk.js\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = global.fetch\n}.call(global));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>global!./~/exports-loader?global.fetch!./~/whatwg-fetch/fetch.js\n ** module id = 3\n ** module chunks = 0\n **/","import { isDev } from './utils.js';\n\nexport const DEV_HOST = 'http://192.168.1.206:3000';\nexport const PROD_HOST = 'https://onesignal.com';\nexport const HOST_URL = (isDev() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n\n/** WEBPACK FOOTER **\n ** ./src/vars.js\n **/","import log from 'loglevel';\n\nexport function isArray(variable) {\n  return Object.prototype.toString.call( variable ) === '[object Array]';\n}\n\nexport function getHumanizedTimeDuration(timeDurationInMilliseconds) {\n  function addPluralSuffix(number) {\n    return (number > 1) ? 's' : '';\n  }\n  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\n  var years = Math.floor(duration / 31536000);\n  if (years)\n    return years + ' year' + addPluralSuffix(years);\n\n  var days = Math.floor((duration %= 31536000) / 86400);\n  if (days)\n    return days + ' day' + addPluralSuffix(days);\n\n  var hours = Math.floor((duration %= 86400) / 3600);\n  if (hours)\n    return hours + ' hour' + addPluralSuffix(hours);\n\n  var minutes = Math.floor((duration %= 3600) / 60);\n  if (minutes)\n    return minutes + ' minute' + addPluralSuffix(minutes);\n\n  var seconds = duration % 60;\n  if (seconds)\n    return seconds + ' second' + addPluralSuffix(seconds);\n\n  return 'just now';\n}\n\nexport function isBrowserEnv() {\n  return typeof window !== \"undefined\";\n}\n\nexport function isDev() {\n  return __DEV__;\n}\n\nexport function isPushNotificationsSupported () {\n  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\n  if (isSupportedFireFox())\n    return true;\n\n  if (isSupportedSafari())\n    return true;\n\n  // Chrome is not found in appVersion.\n  if (!chromeVersion)\n    return false;\n\n  // Microsoft Edge\n  if (navigator.appVersion.match(/Edge/))\n    return false;\n\n  // Android Chrome WebView\n  if (navigator.appVersion.match(/ wv/))\n    return false;\n\n  // Opera\n  if (navigator.appVersion.match(/OPR\\//))\n    return false;\n\n  // The user is on iOS\n  if (/iPad|iPhone|iPod/.test(navigator.platform))\n    return false;\n\n  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n}\n\nexport function isBrowserSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  return safariVersion != null ;\n}\n\nexport function isSupportedFireFox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n  return false;\n}\n\nexport function isBrowserFirefox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  return fireFoxVersion != null ;\n}\n\nexport function getFirefoxVersion() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2));\n  else return -1;\n}\n\nexport function isSupportedSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  if (safariVersion == null)\n    return false;\n  if (/iPhone|iPad|iPod/i.test(navigator.userAgent))\n    return false;\n  return (parseInt(safariVersion[1]) > 6);\n}\n\nexport function removeDomElement(selector) {\n  var els = document.querySelectorAll(selector);\n  if (els.length > 0) {\n    for (let i = 0; i < els.length; i++)\n      els[i].parentNode.removeChild(els[i]);\n  }\n}\n\nexport function addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function clearDomElementChildren(targetSelectorOrElement) {\n  if (typeof targetSelectorOrElement === 'string') {\n    var element = document.querySelector(targetSelectorOrElement);\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    while (targetSelectorOrElement.firstChild) {\n      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n    }\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function addCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.add(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.add(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function removeCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.remove(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.remove(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function on(targetSelectorOrElement, event, task) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  log.debug('Debug me here.');\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        on(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      on(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.addEventListener(event, task);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function once(targetSelectorOrElement, event, task, manualDestroy=false) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        once(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      once(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    var taskWrapper = (function () {\n      var internalTaskFunction = function (e) {\n        var destroyEventListener = function() {\n          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n        };\n        if (!manualDestroy) {\n          destroyEventListener();\n        }\n        task(e, destroyEventListener);\n      };\n      return internalTaskFunction;\n    })();\n    targetSelectorOrElement.addEventListener(event, taskWrapper);\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n/**\n * Removes event handler from selector.\n * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n * @param event The event to target (e.g. 'transitionend')\n * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n */\nexport function off(targetSelectorOrElement, event, task) {\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        off(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      off(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    if (task)\n      targetSelectorOrElement.removeEventListener(event, task);\n    else\n      targetSelectorOrElement.removeEventListener(event);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/loglevel/lib/loglevel.js\n ** module id = 6\n ** module chunks = 0\n **/","import { HOST_URL } from './vars.js'\nimport log from 'loglevel';\n\nexport function apiCall(action, method, data) {\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\n  let contents = {\n    method: method || 'NO_METHOD_SPECIFIED',\n    headers: headers,\n    cache: 'no-cache',\n    body: JSON.stringify(data)\n  };\n\n  return new Promise((resolve, reject) => {\n    fetch(HOST_URL + action, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          resolve(response.json());\n        else\n          reject(new Error(response.statusText));\n      })\n      .catch(function (e) {\n        reject(e);\n      });\n  });\n}\n\nexport function sendNotification(appId, playerIds, titles, contents) {\n  var params = {\n    'app_id': appId,\n    'headings': titles,\n    'contents': contents,\n    'include_player_ids': playerIds,\n    'isAnyWeb': true,\n    'url': 'javascript:void(0);'\n  };\n  return apiCall('notifications', 'POST', params);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/api.js\n **/","/*\n LimitStore.put('colorado', 'rocky');\n [\"rocky\"]\n LimitStore.put('colorado', 'mountain');\n [\"rocky\", \"mountain\"]\n LimitStore.put('colorado', 'national');\n [\"mountain\", \"national\"]\n LimitStore.put('colorado', 'park');\n [\"national\", \"park\"]\n */\nfunction LimitStore() {\n}\n\nLimitStore.store = {};\nLimitStore.LIMIT = 2;\n\nLimitStore.put = function (key, value) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  LimitStore.store[key].push(value);\n  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n    LimitStore.store[key].shift();\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.get = function (key) {\n  return LimitStore.store[key];\n};\n\nexport default LimitStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/limitStore.js\n **/","if (typeof window !== \"undefined\") {\n  (function () {\n    function CustomEvent(event, params) {\n      params = params || {bubbles: false, cancelable: false, details: undefined};\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.details);\n      return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n  })();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events-polyfill.js\n **/","import log from 'loglevel';\n\nexport function triggerEvent (eventName, data) {\n  if (typeof window === \"undefined\") {\n    log.debug('Skipping triggering of event:', eventName, 'because we are running in a ServiceWorker context.');\n    return;\n  }\n  var event = new CustomEvent(eventName, {\n    bubbles: true, cancelable: true, details: data\n  });\n  window.dispatchEvent(event);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events.js\n **/","import { isBrowserEnv, isPushNotificationsSupported, removeDomElement, addDomElement, clearDomElementChildren, addCssClass, removeCssClass, once, on, off } from './utils.js';\nimport LimitStore from './limitStore.js';\nimport log from 'loglevel';\nimport { triggerEvent } from './events.js'\n\nif (isBrowserEnv()) {\n  require(\"./bell.scss\");\n  var logoSvg = require('raw!./bell.svg');\n\n  /*\n    {\n      size = ['small', 'medium', 'large'],\n      position = 'bottom-left', 'bottom-right'],\n      offset = '15px 15px',\n      theme = ['red-white', 'white-red'],\n      inactiveOpacity: 0.75,\n      showLauncherAfter: 1000,\n      messages: {\n          'unsubscribed': 'Subscribe to notifications',\n          'subscribed': 'You're subscribed to notifications'\n        }\n    }\n   */\n  class Bell {\n    constructor({\n        size = 'small',\n        position = 'bottom-left',\n        theme = 'red-white',\n        showLauncherAfter = 10,\n        showBadgeAfter = 300,\n        messages = {\n            'unsubscribed': 'Subscribe to notifications',\n            'subscribed': \"You're subscribed to notifications\"\n          },\n        prenotify = true\n      } = {}) {\n      this.options = {\n        size: size,\n        position: position,\n        theme: theme,\n        showLauncherAfter: showLauncherAfter,\n        showBadgeAfter: showBadgeAfter,\n        messages: messages,\n        prenotify: prenotify\n      };\n      this.size = this.options.size;\n      this.position = this.options.position;\n      this.messages = this.options.messages;\n      this.messages.queued = [];\n      if (!this.messages.unsubscribed) {\n        this.messages.unsubscribed = 'Subscribe to notifications'\n      }\n      if (!this.messages.subscribed) {\n        this.messages.subscribed = \"You're subscribed to notifications\"\n      }\n      this.states = {\n        uninitialized: 'The bell is loading.',\n        subscribed: 'The user is subscribed',\n        unsubscribed: 'The user is unsubscribed',\n        blocked: 'The user has blocked us.'\n      };\n      this.state = 'uninitialized';\n\n      // Install event hooks\n      window.addEventListener('onesignal.bell.state.changed', (state) => {\n        log.info('onesignal.bell.state.changed', state.detail);\n      });\n\n      window.addEventListener('onesignal.bell.click', () => {\n        var originalCall = () => {\n          log.debug('Bell was clicked.');\n          let currentSetSubscriptionState = this._getCurrentSetSubscriptionState();\n          this.hideMessage();\n          if (this.state === 'unsubscribed') {\n\n            //&& currentSetSubscriptionState === true\n            OneSignal.registerForPushNotifications();\n          } else {\n            if (!this.isDialogOpened()) {\n              this.showDialog()\n                .then((e) => {\n                  var self = this;\n                  once(document, 'click', (e, destroyEventListener) => {\n                    let wasDialogClicked = self.launcherDialog.contains(e.target);\n                    if (wasDialogClicked) {\n                    } else {\n                      destroyEventListener();\n                      self.hideDialog()\n                        .then((e) => {\n                          if (this.wasInactive) {\n                            this.setInactive(true);\n                            this.wasInactive = undefined;\n                          }\n                        })\n                        .catch((e) => {\n                          log.error(e);\n                        });\n                    }\n                  }, true);\n                })\n                .catch((e) => {\n                  log.error(e);\n                });\n            }\n          }\n        };\n        if (this.isInactive()) {\n          this.wasInactive = true;\n          this.setInactive(false)\n            .then(function () {\n              originalCall();\n            })\n            .catch(function (e) {\n              log.error(e);\n            })\n        } else {\n          originalCall();\n        }\n      });\n\n      window.addEventListener('onesignal.bell.hovering', () => {\n        if (this.isInactive()) {\n          this.wasInactive = true;\n          this.setInactive(false);\n        }\n        // If there's already a message being force shown, do not override\n        if (this.isMessageOpened() || this.isDialogOpened()) {\n          console.debug('There is already a message being displayed; wait until it is hidden again.');\n          return;\n        }\n        if (messages.queued.length > 0) {\n          let dequeuedMessage = this.dequeueMessage();\n          this.setMessage(dequeuedMessage);\n        } else {\n          this.setMessage(this.messages[this.state]);\n        }\n        this.showMessage();\n      });\n\n      window.addEventListener('onesignal.bell.hovered', () => {\n        if (this.isMessageOpened()) {\n          this.hideMessage()\n            .then(() => {\n              this.setMessage(this.messages[this.state]);\n              if (this.wasInactive && !this.isDialogOpened()) {\n                this.setInactive(true);\n                this.wasInactive = undefined;\n              }\n            });\n        }\n      });\n\n      window.addEventListener('onesignal.subscription.changed', (e) => {\n        this.setState(e.detail ? 'subscribed' : 'unsubscribed');\n      });\n\n      window.addEventListener('onesignal.actions.welcomenotificationsent', (e) => {\n        this.displayMessage(\"Thanks for subscribing!\", 2500)\n        .then(() => {\n            this.setInactive(true);\n          })\n        .catch((e) => {\n            log.error(e);\n          });\n      });\n\n      this.updateState();\n    }\n\n    create() {\n      if (!isPushNotificationsSupported())\n        return;\n\n      // Remove any existing bell\n      if (this.container) {\n        removeDomElement('onesignal-bell-container');\n      }\n\n      window.addDomElement = addDomElement;\n      // Insert the bell container\n      addDomElement('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n      // Insert the bell launcher\n      addDomElement(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n      // Insert the bell launcher button\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n      // Insert the bell launcher badge\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n      // Insert the bell launcher message\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n      addDomElement(this.launcherMessage, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n      // Insert the bell launcher dialog\n      addDomElement(this.launcher, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n      addDomElement(this.launcherDialog, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\n      // Install events\n      this.launcherButton.addEventListener('mouseover', () => {\n        var isHoveringData = LimitStore.get('bell.launcherButton.mouse', 'over');\n        if (isHoveringData === undefined || isHoveringData[isHoveringData.length - 1] === 'out') {\n          triggerEvent('onesignal.bell.hovering');\n        }\n        LimitStore.put('bell.launcherButton.mouse', 'over');\n      });\n\n      this.launcherButton.addEventListener('mouseleave', () => {\n        LimitStore.put('bell.launcherButton.mouse', 'out');\n        triggerEvent('onesignal.bell.hovered');\n      });\n\n      this.launcherButton.addEventListener('mousedown', () => {\n        removeDomElement('.pulse-ring');\n        addDomElement(this.launcherButton, 'beforeend', '<div class=\"pulse-ring\"></div>');\n        addCssClass(this.launcherButton, 'onesignal-bell-launcher-button-active');\n        addCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-active');\n      });\n\n      this.launcherButton.addEventListener('mouseup', () => {\n        removeCssClass(this.launcherButton, 'onesignal-bell-launcher-button-active');\n        removeCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-active');\n      });\n\n      this.launcherButton.addEventListener('click', () => {\n        triggerEvent('onesignal.bell.button.click');\n        triggerEvent('onesignal.bell.click');\n      });\n\n      // Add visual elements\n      addDomElement(this.launcherButton, 'beforeEnd', logoSvg);\n\n      // Add default classes\n      this.setSize(this.options.size);\n\n      if (this.options.position === 'bottom-left') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-left')\n        addCssClass(this.launcher, 'onesignal-bell-launcher-bottom-left')\n      }\n      else if (this.options.position === 'bottom-right') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-right')\n        addCssClass(this.launcher, 'onesignal-bell-launcher-bottom-right')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell position ' + this.options.position);\n      }\n\n      if (this.options.theme === 'default') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-theme-default')\n      }\n      else if (this.options.theme === 'inverse') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-theme-inverse')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell theme ' + this.options.theme);\n      }\n\n      OneSignal.isPushNotificationsEnabled((isPushEnabled) => {\n        if (isPushEnabled) {\n          console.log('isPushEnabled', isPushEnabled);\n          var promise = this.setInactive(true);\n        } else {\n          var promise = Promise.resolve(); // Do nothing, returns a promise that executes immediately\n        }\n\n        promise.then(() => {\n          this._scheduleEvent(this.options.showLauncherAfter, () => {\n            this.showLauncher();\n          })\n            .then(() => {\n              return this._scheduleEvent(this.options.showBadgeAfter, () => {\n                if (this.options.prenotify) {\n                  if (!isPushEnabled) {\n                    this.enqueueMessage('Click to subscribe to notifications');\n                    this.showBadge();\n                  }\n                }\n                this.initialized = true;\n              });\n            })\n            .catch((e) => {\n              log.error(e);\n            });\n        });\n      });\n    }\n\n    _getCurrentSetSubscriptionState() {\n      let setSubscriptionState = LimitStore.get('setsubscription.value');\n      var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n      return currentSetSubscription;\n    }\n\n    updateBellLauncherDialogBody() {\n      return new Promise((resolve, reject) => {\n        clearDomElementChildren(this.launcherDialogBody);\n\n        let currentSetSubscription = this._getCurrentSetSubscriptionState();\n        let contents = 'Nothing to show.';\n\n        if (this.state === 'subscribed' && currentSetSubscription === true ||\n            this.state === 'unsubscribed' && currentSetSubscription === false) {\n          contents = `\n                  <h1>Manage Site Notifications</h1>\n                  <div class=\"push-notification\">\n                    <div class=\"push-notification-icon\"></div>\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    <button type=\"button\" id=\"action-button\">${(this.state === 'subscribed') ? 'Unsubscribe' : 'Subscribe'}</button>\n                  </div>\n                  <div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by OneSignal</div>\n                `;\n        }\n        else if (this.state === 'blocked') {\n          contents = `\n                  <h1>Receiving Notifications</h1>\n                  <div class=\"blurb\">\n                    <p>To receive notifications:</p>\n                  </div>\n                  <div class=\"push-notification\">\n                    <div class=\"push-notification-icon\"></div>\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    <button type=\"button\" id=\"action-button\">${(this.state === 'subscribed') ? 'Unsubscribe' : 'Subscribe'}</button>\n                  </div>\n                  <div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by OneSignal</div>\n                `;\n        }\n\n\n        addDomElement(this.launcherDialogBody, 'beforeend', contents);\n        resolve();\n      });\n    }\n\n    _scheduleEvent(msInFuture, task) {\n      if (typeof task !== 'function')\n        throw new Error('Task to be scheduled must be a function.');\n      if (msInFuture <= 0) {\n        task();\n        return Promise.resolve();\n      }\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          task();\n          resolve();\n        }, msInFuture);\n      });\n    }\n\n    /**\n     * Updates the current state to the correct new current state. Returns a promise.\n     */\n    updateState() {\n      debugger;\n      OneSignal.isPushNotificationsEnabled((isEnabled) => {\n        console.info('Finally called this callback back.');\n        debugger;\n        this.setState(isEnabled ? 'subscribed' : 'unsubscribed');\n      });\n    }\n\n    /**\n     * Updates the current state to the specified new state.\n     * @param newState One of ['subscribed', 'unsubscribed'].\n     */\n    setState(newState) {\n      if (this.states.hasOwnProperty(newState)) {\n        let lastState = this.state;\n        this.state = newState;\n        if (lastState !== newState) {\n          triggerEvent('onesignal.bell.state.changed', {from: lastState, to: newState});\n          // Update anything that should be changed here in the new state\n        }\n\n        // Update anything that should be reset to the same state\n        this.setMessage(this.messages[newState]);\n      }\n      else {\n        log.error('Cannot update to invalid new state', newState);\n      }\n    }\n\n    enqueueMessage(message, notify = false) {\n      this.messages.queued.push(message);\n      if (this.isBadgeOpen()) {\n        this.hideBadge()\n        .then(() => {\n            this.incrementBadge();\n            this.showBadge();\n          });\n      } else {\n        this.incrementBadge();\n        // Special case so the badge doesn't immediately render\n        if (this.initialized) {\n          this.showBadge();\n        }\n      }\n    }\n\n    dequeueMessage(message) {\n      let dequeuedMessage = this.messages.queued.pop(message);\n      if (this.isBadgeOpen()) {\n        this.hideBadge()\n          .then(() => {\n            this.decrementBadge();\n            this.showBadge();\n          });\n      } else {\n        let newBadgeNumber = this.decrementBadge();\n        if (newBadgeNumber <= 0) {\n          this.hideBadge();\n        }\n      }\n      return dequeuedMessage;\n    }\n\n    showDialog() {\n      return new Promise((resolve, reject) => {\n        this.updateBellLauncherDialogBody().then(() => {\n          addCssClass(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n          once(this.launcherDialog, 'transitionend', (e) => {\n            if (e.target === this.launcherDialog) {\n              e.stopPropagation();\n              return resolve(e);\n            }\n          })\n        })\n        .catch((e) => {\n            log.error(e);\n          });\n      });\n    }\n\n    hideDialog() {\n      removeCssClass(this.launcherDialog, 'onesignal-bell-launcher-dialog-opened');\n      return new Promise((resolve, reject) => {\n        once(this.launcherDialog, 'transitionend', (e) => {\n          if (e.target === this.launcherDialog) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      });\n    }\n\n    isDialogOpened() {\n      return document.querySelector('.onesignal-bell-launcher-dialog-opened');\n    }\n\n    showLauncher() {\n      addCssClass(this.launcher, 'onesignal-bell-launcher-active');\n    }\n\n    hideLauncher() {\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-active');\n    }\n\n    setMessage(message) {\n      this.launcherMessageBody.innerHTML = message;\n    }\n\n    showMessage() {\n      addCssClass(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n    }\n\n    hideMessage() {\n      removeCssClass(this.launcherMessage, 'onesignal-bell-launcher-message-opened');\n      return new Promise((resolve, reject) => {\n        once(this.launcherMessage, 'transitionend', (e) => {\n          if (e.target === this.launcherMessage) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      });\n    }\n\n    isMessageOpened() {\n      return document.querySelector('.onesignal-bell-launcher-message-opened');\n    }\n\n    displayMessage(content, hideAfter = 0) {\n      log.info('Displaying message.');\n      return new Promise((resolve, reject) => {\n        if (this.isMessageOpened()) {\n          this.hideMessage()\n            .then(() => {\n              this.setMessage(content);\n              this.showMessage();\n              if (hideAfter) {\n                setTimeout(() => {\n                  this.hideMessage();\n                  return resolve();\n                }, hideAfter);\n              } else {\n                return resolve();\n              }\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        } else {\n          this.setMessage(content);\n          this.showMessage();\n          if (hideAfter) {\n            setTimeout(() => {\n              this.hideMessage();\n              return resolve();\n            }, hideAfter);\n          } else {\n            return resolve();\n          }\n        }\n      });\n    }\n\n    setBadge(content) {\n      this.launcherBadge.innerHTML = content;\n    }\n\n    showBadge() {\n      if (this.badgeHasContent()) {\n        addCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n      }\n    }\n\n    isBadgeOpen() {\n      return document.querySelector('.onesignal-bell-badge-opened');\n    }\n\n    badgeHasContent() {\n      return this.launcherBadge.innerHTML.length > 0;\n    }\n\n    getBadgeContent() {\n      return this.launcherBadge.innerHTML;\n    }\n\n    incrementBadge() {\n      let content = this.getBadgeContent();\n      // If it IS a number (is not not a number)\n      if (!isNaN(content)) {\n        let badgeNumber = +content; // Coerce to int\n        badgeNumber += 1;\n        this.setBadge(badgeNumber)\n        return badgeNumber;\n      }\n    }\n\n    decrementBadge() {\n      let content = this.getBadgeContent();\n      // If it IS a number (is not not a number)\n      if (!isNaN(content)) {\n        let badgeNumber = +content; // Coerce to int\n        badgeNumber -= 1;\n        if (badgeNumber > 0)\n          this.setBadge(badgeNumber)\n        else\n          this.setBadge(\"\");\n        return badgeNumber;\n      }\n    }\n\n    hideBadge() {\n      return new Promise((resolve, reject) => {\n        removeCssClass(this.launcherBadge, 'onesignal-bell-launcher-badge-opened');\n        once(this.launcherBadge, 'transitionend', (e) => {\n          if (e.target === this.launcherBadge) {\n            e.stopPropagation();\n            return resolve(e);\n          }\n        })\n      })\n      .catch(function (e) {\n          log.error(e);\n          reject(e);\n      });\n    }\n\n    isInactive() {\n      return document.querySelector('.onesignal-bell-launcher-inactive');\n    }\n\n    setInactive(isInactive) {\n      if (isInactive) {\n        this.hideMessage();\n        if (this.badgeHasContent()) {\n          return this.hideBadge()\n            .then(() => {\n              addCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n              this.setSize('small');;\n              var launcher = this.launcher;\n              return new Promise((resolve, reject) => {\n                // Once the launcher has finished shrinking down\n                once(this.launcher, 'transitionend', (e) => {\n                  if (e.target === this.launcher) {\n                    e.stopPropagation();\n                    return resolve(e);\n                  }\n                })\n              });\n            })\n            .then(() => {\n              this.showBadge();\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n        else {\n          addCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n          this.setSize('small');\n          var launcher = this.launcher;\n          return new Promise((resolve, reject) => {\n            // Once the launcher has finished shrinking down\n            once(this.launcher, 'transitionend', (e) => {\n              if (e.target === this.launcher) {\n                e.stopPropagation();\n                return resolve(e);\n              }\n            })\n          });\n        }\n      }\n      else {\n        if (this.badgeHasContent()) {\n          return this.hideBadge()\n            .then(() => {\n              removeCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n              this.setSize(this.options.size);\n              var launcher = this.launcher;\n              return new Promise((resolve, reject) => {\n                // Once the launcher has finished shrinking down\n                once(this.launcher, 'transitionend', (e) => {\n                  if (e.target === this.launcher) {\n                    e.stopPropagation();\n                    return resolve(e);\n                  }\n                })\n              });\n            })\n            .then(() => {\n              this.showBadge();\n            })\n            .catch(function (e) {\n              log.error(e);\n            });\n        } else {\n          removeCssClass(this.launcher, 'onesignal-bell-launcher-inactive');\n          this.setSize(this.options.size);\n          var launcher = this.launcher;\n          return new Promise((resolve, reject) => {\n            // Once the launcher has finished shrinking down\n            once(this.launcher, 'transitionend', (e) => {\n              if (e.target === this.launcher) {\n                e.stopPropagation();\n                return resolve(e);\n              }\n            })\n          });\n        }\n      }\n    }\n\n    setSize(size) {\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-sm');\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-md');\n      removeCssClass(this.launcher, 'onesignal-bell-launcher-lg');\n      if (size === 'small') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-sm')\n      }\n      else if (size === 'medium') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-md')\n      }\n      else if (size === 'large') {\n        addCssClass(this.launcher, 'onesignal-bell-launcher-lg')\n      }\n      else {\n        throw new Error('Invalid OneSignal bell size ' + size);\n      }\n    }\n\n    get container() {\n      return document.querySelector('#onesignal-bell-container');\n    }\n\n    get launcher() {\n      return this.container.querySelector('#onesignal-bell-launcher');\n    }\n\n    get launcherButton() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-button');\n    }\n\n    get launcherBadge() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-badge');\n    }\n\n    get launcherMessage() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-message');\n    }\n\n    get launcherMessageBody() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-message-body');\n    }\n\n    get launcherDialog() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-dialog');\n    }\n\n    get launcherDialogBody() {\n      return this.launcher.querySelector('.onesignal-bell-launcher-dialog-body');\n    }\n  }\n\n  module.exports = Bell;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bell.scss\n ** module id = 12\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;transform:scale(.01) translateZ(0);opacity:0;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;z-index:2147483400;opacity:0;transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;right:0;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;transform:scale(0) translateZ(0);transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transform-origin:right bottom;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:3.2px 9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:4.8px 14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:6.4px 19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:rgba(0,0,0,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:16.1px;font-weight:500}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border:7px solid hsla(0,0%,100%,.4);border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/bell.scss\n ** module id = 13\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 14\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/raw-loader!./src/bell.svg\n ** module id = 16\n ** module chunks = 0\n **/"],"sourceRoot":""}
>>>>>>> eb6c5cd... Log now uses setDefaultLevel, working on message dialog body
